function x8(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Bd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function w8(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var iA={exports:{}},O1={},sA={exports:{}},Yt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fp=Symbol.for("react.element"),_8=Symbol.for("react.portal"),b8=Symbol.for("react.fragment"),S8=Symbol.for("react.strict_mode"),T8=Symbol.for("react.profiler"),E8=Symbol.for("react.provider"),A8=Symbol.for("react.context"),N8=Symbol.for("react.forward_ref"),k8=Symbol.for("react.suspense"),C8=Symbol.for("react.memo"),P8=Symbol.for("react.lazy"),J4=Symbol.iterator;function I8(t){return t===null||typeof t!="object"?null:(t=J4&&t[J4]||t["@@iterator"],typeof t=="function"?t:null)}var aA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oA=Object.assign,lA={};function Ih(t,e,r){this.props=t,this.context=e,this.refs=lA,this.updater=r||aA}Ih.prototype.isReactComponent={};Ih.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ih.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function uA(){}uA.prototype=Ih.prototype;function Nw(t,e,r){this.props=t,this.context=e,this.refs=lA,this.updater=r||aA}var kw=Nw.prototype=new uA;kw.constructor=Nw;oA(kw,Ih.prototype);kw.isPureReactComponent=!0;var Z4=Array.isArray,cA=Object.prototype.hasOwnProperty,Cw={current:null},fA={key:!0,ref:!0,__self:!0,__source:!0};function hA(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)cA.call(e,n)&&!fA.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:fp,type:t,key:s,ref:a,props:i,_owner:Cw.current}}function R8(t,e){return{$$typeof:fp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Pw(t){return typeof t=="object"&&t!==null&&t.$$typeof===fp}function L8(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var eb=/\/+/g;function i2(t,e){return typeof t=="object"&&t!==null&&t.key!=null?L8(""+t.key):e.toString(36)}function Jm(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case fp:case _8:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+i2(a,0):n,Z4(i)?(r="",t!=null&&(r=t.replace(eb,"$&/")+"/"),Jm(i,e,r,"",function(u){return u})):i!=null&&(Pw(i)&&(i=R8(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(eb,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",Z4(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+i2(s,o);a+=Jm(s,e,r,l,i)}else if(l=I8(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+i2(s,o++),a+=Jm(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function cm(t,e,r){if(t==null)return t;var n=[],i=0;return Jm(t,n,"","",function(s){return e.call(r,s,i++)}),n}function F8(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var $i={current:null},Zm={transition:null},D8={ReactCurrentDispatcher:$i,ReactCurrentBatchConfig:Zm,ReactCurrentOwner:Cw};function dA(){throw Error("act(...) is not supported in production builds of React.")}Yt.Children={map:cm,forEach:function(t,e,r){cm(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return cm(t,function(){e++}),e},toArray:function(t){return cm(t,function(e){return e})||[]},only:function(t){if(!Pw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Yt.Component=Ih;Yt.Fragment=b8;Yt.Profiler=T8;Yt.PureComponent=Nw;Yt.StrictMode=S8;Yt.Suspense=k8;Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D8;Yt.act=dA;Yt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=oA({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Cw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)cA.call(e,l)&&!fA.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:fp,type:t.type,key:i,ref:s,props:n,_owner:a}};Yt.createContext=function(t){return t={$$typeof:A8,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:E8,_context:t},t.Consumer=t};Yt.createElement=hA;Yt.createFactory=function(t){var e=hA.bind(null,t);return e.type=t,e};Yt.createRef=function(){return{current:null}};Yt.forwardRef=function(t){return{$$typeof:N8,render:t}};Yt.isValidElement=Pw;Yt.lazy=function(t){return{$$typeof:P8,_payload:{_status:-1,_result:t},_init:F8}};Yt.memo=function(t,e){return{$$typeof:C8,type:t,compare:e===void 0?null:e}};Yt.startTransition=function(t){var e=Zm.transition;Zm.transition={};try{t()}finally{Zm.transition=e}};Yt.unstable_act=dA;Yt.useCallback=function(t,e){return $i.current.useCallback(t,e)};Yt.useContext=function(t){return $i.current.useContext(t)};Yt.useDebugValue=function(){};Yt.useDeferredValue=function(t){return $i.current.useDeferredValue(t)};Yt.useEffect=function(t,e){return $i.current.useEffect(t,e)};Yt.useId=function(){return $i.current.useId()};Yt.useImperativeHandle=function(t,e,r){return $i.current.useImperativeHandle(t,e,r)};Yt.useInsertionEffect=function(t,e){return $i.current.useInsertionEffect(t,e)};Yt.useLayoutEffect=function(t,e){return $i.current.useLayoutEffect(t,e)};Yt.useMemo=function(t,e){return $i.current.useMemo(t,e)};Yt.useReducer=function(t,e,r){return $i.current.useReducer(t,e,r)};Yt.useRef=function(t){return $i.current.useRef(t)};Yt.useState=function(t){return $i.current.useState(t)};Yt.useSyncExternalStore=function(t,e,r){return $i.current.useSyncExternalStore(t,e,r)};Yt.useTransition=function(){return $i.current.useTransition()};Yt.version="18.3.1";sA.exports=Yt;var ye=sA.exports;const O8=nA(ye),M8=x8({__proto__:null,default:O8},[ye]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j8=ye,B8=Symbol.for("react.element"),V8=Symbol.for("react.fragment"),U8=Object.prototype.hasOwnProperty,z8=j8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,W8={key:!0,ref:!0,__self:!0,__source:!0};function pA(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)U8.call(e,n)&&!W8.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:B8,type:t,key:s,ref:a,props:i,_owner:z8.current}}O1.Fragment=V8;O1.jsx=pA;O1.jsxs=pA;iA.exports=O1;var w=iA.exports,_y={},mA={exports:{}},Ds={},gA={exports:{}},vA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Q,te){var pe=Q.length;Q.push(te);e:for(;0<pe;){var be=pe-1>>>1,I=Q[be];if(0<i(I,te))Q[be]=te,Q[pe]=I,pe=be;else break e}}function r(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var te=Q[0],pe=Q.pop();if(pe!==te){Q[0]=pe;e:for(var be=0,I=Q.length,O=I>>>1;be<O;){var U=2*(be+1)-1,z=Q[U],q=U+1,fe=Q[q];if(0>i(z,pe))q<I&&0>i(fe,z)?(Q[be]=fe,Q[q]=pe,be=q):(Q[be]=z,Q[U]=pe,be=U);else if(q<I&&0>i(fe,pe))Q[be]=fe,Q[q]=pe,be=q;else break e}}return te}function i(Q,te){var pe=Q.sortIndex-te.sortIndex;return pe!==0?pe:Q.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,f=null,d=3,h=!1,v=!1,g=!1,S=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(Q){for(var te=r(u);te!==null;){if(te.callback===null)n(u);else if(te.startTime<=Q)n(u),te.sortIndex=te.expirationTime,e(l,te);else break;te=r(u)}}function L(Q){if(g=!1,T(Q),!v)if(r(l)!==null)v=!0,ie(j);else{var te=r(u);te!==null&&ee(L,te.startTime-Q)}}function j(Q,te){v=!1,g&&(g=!1,_(y),y=-1),h=!0;var pe=d;try{for(T(te),f=r(l);f!==null&&(!(f.expirationTime>te)||Q&&!E());){var be=f.callback;if(typeof be=="function"){f.callback=null,d=f.priorityLevel;var I=be(f.expirationTime<=te);te=t.unstable_now(),typeof I=="function"?f.callback=I:f===r(l)&&n(l),T(te)}else n(l);f=r(l)}if(f!==null)var O=!0;else{var U=r(u);U!==null&&ee(L,U.startTime-te),O=!1}return O}finally{f=null,d=pe,h=!1}}var B=!1,k=null,y=-1,C=5,F=-1;function E(){return!(t.unstable_now()-F<C)}function N(){if(k!==null){var Q=t.unstable_now();F=Q;var te=!0;try{te=k(!0,Q)}finally{te?D():(B=!1,k=null)}}else B=!1}var D;if(typeof b=="function")D=function(){b(N)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,de=G.port2;G.port1.onmessage=N,D=function(){de.postMessage(null)}}else D=function(){S(N,0)};function ie(Q){k=Q,B||(B=!0,D())}function ee(Q,te){y=S(function(){Q(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){v||h||(v=!0,ie(j))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(Q){switch(d){case 1:case 2:case 3:var te=3;break;default:te=d}var pe=d;d=te;try{return Q()}finally{d=pe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,te){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var pe=d;d=Q;try{return te()}finally{d=pe}},t.unstable_scheduleCallback=function(Q,te,pe){var be=t.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?be+pe:be):pe=be,Q){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=pe+I,Q={id:c++,callback:te,priorityLevel:Q,startTime:pe,expirationTime:I,sortIndex:-1},pe>be?(Q.sortIndex=pe,e(u,Q),r(l)===null&&Q===r(u)&&(g?(_(y),y=-1):g=!0,ee(L,pe-be))):(Q.sortIndex=I,e(l,Q),v||h||(v=!0,ie(j))),Q},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(Q){var te=d;return function(){var pe=d;d=te;try{return Q.apply(this,arguments)}finally{d=pe}}}})(vA);gA.exports=vA;var H8=gA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q8=ye,Ls=H8;function rt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yA=new Set,y0={};function Uc(t,e){dh(t,e),dh(t+"Capture",e)}function dh(t,e){for(y0[t]=e,t=0;t<e.length;t++)yA.add(e[t])}var zo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),by=Object.prototype.hasOwnProperty,$8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tb={},rb={};function G8(t){return by.call(rb,t)?!0:by.call(tb,t)?!1:$8.test(t)?rb[t]=!0:(tb[t]=!0,!1)}function K8(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Y8(t,e,r,n){if(e===null||typeof e>"u"||K8(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Gi(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var ui={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ui[t]=new Gi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ui[e]=new Gi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ui[t]=new Gi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ui[t]=new Gi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ui[t]=new Gi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ui[t]=new Gi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ui[t]=new Gi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ui[t]=new Gi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ui[t]=new Gi(t,5,!1,t.toLowerCase(),null,!1,!1)});var Iw=/[\-:]([a-z])/g;function Rw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Iw,Rw);ui[e]=new Gi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Iw,Rw);ui[e]=new Gi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Iw,Rw);ui[e]=new Gi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ui[t]=new Gi(t,1,!1,t.toLowerCase(),null,!1,!1)});ui.xlinkHref=new Gi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ui[t]=new Gi(t,1,!1,t.toLowerCase(),null,!0,!0)});function Lw(t,e,r,n){var i=ui.hasOwnProperty(e)?ui[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Y8(e,r,i,n)&&(r=null),n||i===null?G8(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var tl=q8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fm=Symbol.for("react.element"),If=Symbol.for("react.portal"),Rf=Symbol.for("react.fragment"),Fw=Symbol.for("react.strict_mode"),Sy=Symbol.for("react.profiler"),xA=Symbol.for("react.provider"),wA=Symbol.for("react.context"),Dw=Symbol.for("react.forward_ref"),Ty=Symbol.for("react.suspense"),Ey=Symbol.for("react.suspense_list"),Ow=Symbol.for("react.memo"),Vl=Symbol.for("react.lazy"),_A=Symbol.for("react.offscreen"),nb=Symbol.iterator;function dd(t){return t===null||typeof t!="object"?null:(t=nb&&t[nb]||t["@@iterator"],typeof t=="function"?t:null)}var Xr=Object.assign,s2;function Nd(t){if(s2===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);s2=e&&e[1]||""}return`
`+s2+t}var a2=!1;function o2(t,e){if(!t||a2)return"";a2=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{a2=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Nd(t):""}function X8(t){switch(t.tag){case 5:return Nd(t.type);case 16:return Nd("Lazy");case 13:return Nd("Suspense");case 19:return Nd("SuspenseList");case 0:case 2:case 15:return t=o2(t.type,!1),t;case 11:return t=o2(t.type.render,!1),t;case 1:return t=o2(t.type,!0),t;default:return""}}function Ay(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Rf:return"Fragment";case If:return"Portal";case Sy:return"Profiler";case Fw:return"StrictMode";case Ty:return"Suspense";case Ey:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case wA:return(t.displayName||"Context")+".Consumer";case xA:return(t._context.displayName||"Context")+".Provider";case Dw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ow:return e=t.displayName||null,e!==null?e:Ay(t.type)||"Memo";case Vl:e=t._payload,t=t._init;try{return Ay(t(e))}catch{}}return null}function Q8(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ay(e);case 8:return e===Fw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function vu(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function J8(t){var e=bA(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function hm(t){t._valueTracker||(t._valueTracker=J8(t))}function SA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=bA(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Tg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ny(t,e){var r=e.checked;return Xr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function ib(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=vu(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function TA(t,e){e=e.checked,e!=null&&Lw(t,"checked",e,!1)}function ky(t,e){TA(t,e);var r=vu(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Cy(t,e.type,r):e.hasOwnProperty("defaultValue")&&Cy(t,e.type,vu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function sb(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Cy(t,e,r){(e!=="number"||Tg(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var kd=Array.isArray;function Qf(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+vu(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Py(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(rt(91));return Xr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ab(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(rt(92));if(kd(r)){if(1<r.length)throw Error(rt(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:vu(r)}}function EA(t,e){var r=vu(e.value),n=vu(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function ob(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function AA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Iy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?AA(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var dm,NA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(dm=dm||document.createElement("div"),dm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=dm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function x0(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Vd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Z8=["Webkit","ms","Moz","O"];Object.keys(Vd).forEach(function(t){Z8.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Vd[e]=Vd[t]})});function kA(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Vd.hasOwnProperty(t)&&Vd[t]?(""+e).trim():e+"px"}function CA(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=kA(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var eF=Xr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ry(t,e){if(e){if(eF[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(rt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(rt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(rt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(rt(62))}}function Ly(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fy=null;function Mw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Dy=null,Jf=null,Zf=null;function lb(t){if(t=pp(t)){if(typeof Dy!="function")throw Error(rt(280));var e=t.stateNode;e&&(e=U1(e),Dy(t.stateNode,t.type,e))}}function PA(t){Jf?Zf?Zf.push(t):Zf=[t]:Jf=t}function IA(){if(Jf){var t=Jf,e=Zf;if(Zf=Jf=null,lb(t),e)for(t=0;t<e.length;t++)lb(e[t])}}function RA(t,e){return t(e)}function LA(){}var l2=!1;function FA(t,e,r){if(l2)return t(e,r);l2=!0;try{return RA(t,e,r)}finally{l2=!1,(Jf!==null||Zf!==null)&&(LA(),IA())}}function w0(t,e){var r=t.stateNode;if(r===null)return null;var n=U1(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(rt(231,e,typeof r));return r}var Oy=!1;if(zo)try{var pd={};Object.defineProperty(pd,"passive",{get:function(){Oy=!0}}),window.addEventListener("test",pd,pd),window.removeEventListener("test",pd,pd)}catch{Oy=!1}function tF(t,e,r,n,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var Ud=!1,Eg=null,Ag=!1,My=null,rF={onError:function(t){Ud=!0,Eg=t}};function nF(t,e,r,n,i,s,a,o,l){Ud=!1,Eg=null,tF.apply(rF,arguments)}function iF(t,e,r,n,i,s,a,o,l){if(nF.apply(this,arguments),Ud){if(Ud){var u=Eg;Ud=!1,Eg=null}else throw Error(rt(198));Ag||(Ag=!0,My=u)}}function zc(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function DA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ub(t){if(zc(t)!==t)throw Error(rt(188))}function sF(t){var e=t.alternate;if(!e){if(e=zc(t),e===null)throw Error(rt(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return ub(i),t;if(s===n)return ub(i),e;s=s.sibling}throw Error(rt(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(rt(189))}}if(r.alternate!==n)throw Error(rt(190))}if(r.tag!==3)throw Error(rt(188));return r.stateNode.current===r?t:e}function OA(t){return t=sF(t),t!==null?MA(t):null}function MA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=MA(t);if(e!==null)return e;t=t.sibling}return null}var jA=Ls.unstable_scheduleCallback,cb=Ls.unstable_cancelCallback,aF=Ls.unstable_shouldYield,oF=Ls.unstable_requestPaint,hn=Ls.unstable_now,lF=Ls.unstable_getCurrentPriorityLevel,jw=Ls.unstable_ImmediatePriority,BA=Ls.unstable_UserBlockingPriority,Ng=Ls.unstable_NormalPriority,uF=Ls.unstable_LowPriority,VA=Ls.unstable_IdlePriority,M1=null,Za=null;function cF(t){if(Za&&typeof Za.onCommitFiberRoot=="function")try{Za.onCommitFiberRoot(M1,t,void 0,(t.current.flags&128)===128)}catch{}}var Ca=Math.clz32?Math.clz32:dF,fF=Math.log,hF=Math.LN2;function dF(t){return t>>>=0,t===0?32:31-(fF(t)/hF|0)|0}var pm=64,mm=4194304;function Cd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function kg(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=Cd(o):(s&=a,s!==0&&(n=Cd(s)))}else a=r&~i,a!==0?n=Cd(a):s!==0&&(n=Cd(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Ca(e),i=1<<r,n|=t[r],e&=~i;return n}function pF(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mF(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Ca(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=pF(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function jy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function UA(){var t=pm;return pm<<=1,!(pm&4194240)&&(pm=64),t}function u2(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function hp(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ca(e),t[e]=r}function gF(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Ca(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function Bw(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ca(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var _r=0;function zA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var WA,Vw,HA,qA,$A,By=!1,gm=[],nu=null,iu=null,su=null,_0=new Map,b0=new Map,zl=[],vF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fb(t,e){switch(t){case"focusin":case"focusout":nu=null;break;case"dragenter":case"dragleave":iu=null;break;case"mouseover":case"mouseout":su=null;break;case"pointerover":case"pointerout":_0.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":b0.delete(e.pointerId)}}function md(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=pp(e),e!==null&&Vw(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function yF(t,e,r,n,i){switch(e){case"focusin":return nu=md(nu,t,e,r,n,i),!0;case"dragenter":return iu=md(iu,t,e,r,n,i),!0;case"mouseover":return su=md(su,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return _0.set(s,md(_0.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,b0.set(s,md(b0.get(s)||null,t,e,r,n,i)),!0}return!1}function GA(t){var e=cc(t.target);if(e!==null){var r=zc(e);if(r!==null){if(e=r.tag,e===13){if(e=DA(r),e!==null){t.blockedOn=e,$A(t.priority,function(){HA(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function eg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Vy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Fy=n,r.target.dispatchEvent(n),Fy=null}else return e=pp(r),e!==null&&Vw(e),t.blockedOn=r,!1;e.shift()}return!0}function hb(t,e,r){eg(t)&&r.delete(e)}function xF(){By=!1,nu!==null&&eg(nu)&&(nu=null),iu!==null&&eg(iu)&&(iu=null),su!==null&&eg(su)&&(su=null),_0.forEach(hb),b0.forEach(hb)}function gd(t,e){t.blockedOn===e&&(t.blockedOn=null,By||(By=!0,Ls.unstable_scheduleCallback(Ls.unstable_NormalPriority,xF)))}function S0(t){function e(i){return gd(i,t)}if(0<gm.length){gd(gm[0],t);for(var r=1;r<gm.length;r++){var n=gm[r];n.blockedOn===t&&(n.blockedOn=null)}}for(nu!==null&&gd(nu,t),iu!==null&&gd(iu,t),su!==null&&gd(su,t),_0.forEach(e),b0.forEach(e),r=0;r<zl.length;r++)n=zl[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<zl.length&&(r=zl[0],r.blockedOn===null);)GA(r),r.blockedOn===null&&zl.shift()}var eh=tl.ReactCurrentBatchConfig,Cg=!0;function wF(t,e,r,n){var i=_r,s=eh.transition;eh.transition=null;try{_r=1,Uw(t,e,r,n)}finally{_r=i,eh.transition=s}}function _F(t,e,r,n){var i=_r,s=eh.transition;eh.transition=null;try{_r=4,Uw(t,e,r,n)}finally{_r=i,eh.transition=s}}function Uw(t,e,r,n){if(Cg){var i=Vy(t,e,r,n);if(i===null)x2(t,e,n,Pg,r),fb(t,n);else if(yF(i,t,e,r,n))n.stopPropagation();else if(fb(t,n),e&4&&-1<vF.indexOf(t)){for(;i!==null;){var s=pp(i);if(s!==null&&WA(s),s=Vy(t,e,r,n),s===null&&x2(t,e,n,Pg,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else x2(t,e,n,null,r)}}var Pg=null;function Vy(t,e,r,n){if(Pg=null,t=Mw(n),t=cc(t),t!==null)if(e=zc(t),e===null)t=null;else if(r=e.tag,r===13){if(t=DA(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Pg=t,null}function KA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lF()){case jw:return 1;case BA:return 4;case Ng:case uF:return 16;case VA:return 536870912;default:return 16}default:return 16}}var Yl=null,zw=null,tg=null;function YA(){if(tg)return tg;var t,e=zw,r=e.length,n,i="value"in Yl?Yl.value:Yl.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return tg=i.slice(t,1<n?1-n:void 0)}function rg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vm(){return!0}function db(){return!1}function Os(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?vm:db,this.isPropagationStopped=db,this}return Xr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=vm)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=vm)},persist:function(){},isPersistent:vm}),e}var Rh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ww=Os(Rh),dp=Xr({},Rh,{view:0,detail:0}),bF=Os(dp),c2,f2,vd,j1=Xr({},dp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vd&&(vd&&t.type==="mousemove"?(c2=t.screenX-vd.screenX,f2=t.screenY-vd.screenY):f2=c2=0,vd=t),c2)},movementY:function(t){return"movementY"in t?t.movementY:f2}}),pb=Os(j1),SF=Xr({},j1,{dataTransfer:0}),TF=Os(SF),EF=Xr({},dp,{relatedTarget:0}),h2=Os(EF),AF=Xr({},Rh,{animationName:0,elapsedTime:0,pseudoElement:0}),NF=Os(AF),kF=Xr({},Rh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),CF=Os(kF),PF=Xr({},Rh,{data:0}),mb=Os(PF),IF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=LF[t])?!!e[t]:!1}function Hw(){return FF}var DF=Xr({},dp,{key:function(t){if(t.key){var e=IF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=rg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?RF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hw,charCode:function(t){return t.type==="keypress"?rg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),OF=Os(DF),MF=Xr({},j1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gb=Os(MF),jF=Xr({},dp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hw}),BF=Os(jF),VF=Xr({},Rh,{propertyName:0,elapsedTime:0,pseudoElement:0}),UF=Os(VF),zF=Xr({},j1,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),WF=Os(zF),HF=[9,13,27,32],qw=zo&&"CompositionEvent"in window,zd=null;zo&&"documentMode"in document&&(zd=document.documentMode);var qF=zo&&"TextEvent"in window&&!zd,XA=zo&&(!qw||zd&&8<zd&&11>=zd),vb=" ",yb=!1;function QA(t,e){switch(t){case"keyup":return HF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function JA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Lf=!1;function $F(t,e){switch(t){case"compositionend":return JA(e);case"keypress":return e.which!==32?null:(yb=!0,vb);case"textInput":return t=e.data,t===vb&&yb?null:t;default:return null}}function GF(t,e){if(Lf)return t==="compositionend"||!qw&&QA(t,e)?(t=YA(),tg=zw=Yl=null,Lf=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return XA&&e.locale!=="ko"?null:e.data;default:return null}}var KF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!KF[t.type]:e==="textarea"}function ZA(t,e,r,n){PA(n),e=Ig(e,"onChange"),0<e.length&&(r=new Ww("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Wd=null,T0=null;function YF(t){cN(t,0)}function B1(t){var e=Of(t);if(SA(e))return t}function XF(t,e){if(t==="change")return e}var eN=!1;if(zo){var d2;if(zo){var p2="oninput"in document;if(!p2){var wb=document.createElement("div");wb.setAttribute("oninput","return;"),p2=typeof wb.oninput=="function"}d2=p2}else d2=!1;eN=d2&&(!document.documentMode||9<document.documentMode)}function _b(){Wd&&(Wd.detachEvent("onpropertychange",tN),T0=Wd=null)}function tN(t){if(t.propertyName==="value"&&B1(T0)){var e=[];ZA(e,T0,t,Mw(t)),FA(YF,e)}}function QF(t,e,r){t==="focusin"?(_b(),Wd=e,T0=r,Wd.attachEvent("onpropertychange",tN)):t==="focusout"&&_b()}function JF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return B1(T0)}function ZF(t,e){if(t==="click")return B1(e)}function eD(t,e){if(t==="input"||t==="change")return B1(e)}function tD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ra=typeof Object.is=="function"?Object.is:tD;function E0(t,e){if(Ra(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!by.call(e,i)||!Ra(t[i],e[i]))return!1}return!0}function bb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sb(t,e){var r=bb(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=bb(r)}}function rN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?rN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function nN(){for(var t=window,e=Tg();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Tg(t.document)}return e}function $w(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function rD(t){var e=nN(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&rN(r.ownerDocument.documentElement,r)){if(n!==null&&$w(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=Sb(r,s);var a=Sb(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var nD=zo&&"documentMode"in document&&11>=document.documentMode,Ff=null,Uy=null,Hd=null,zy=!1;function Tb(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;zy||Ff==null||Ff!==Tg(n)||(n=Ff,"selectionStart"in n&&$w(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Hd&&E0(Hd,n)||(Hd=n,n=Ig(Uy,"onSelect"),0<n.length&&(e=new Ww("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ff)))}function ym(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Df={animationend:ym("Animation","AnimationEnd"),animationiteration:ym("Animation","AnimationIteration"),animationstart:ym("Animation","AnimationStart"),transitionend:ym("Transition","TransitionEnd")},m2={},iN={};zo&&(iN=document.createElement("div").style,"AnimationEvent"in window||(delete Df.animationend.animation,delete Df.animationiteration.animation,delete Df.animationstart.animation),"TransitionEvent"in window||delete Df.transitionend.transition);function V1(t){if(m2[t])return m2[t];if(!Df[t])return t;var e=Df[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in iN)return m2[t]=e[r];return t}var sN=V1("animationend"),aN=V1("animationiteration"),oN=V1("animationstart"),lN=V1("transitionend"),uN=new Map,Eb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cu(t,e){uN.set(t,e),Uc(e,[t])}for(var g2=0;g2<Eb.length;g2++){var v2=Eb[g2],iD=v2.toLowerCase(),sD=v2[0].toUpperCase()+v2.slice(1);Cu(iD,"on"+sD)}Cu(sN,"onAnimationEnd");Cu(aN,"onAnimationIteration");Cu(oN,"onAnimationStart");Cu("dblclick","onDoubleClick");Cu("focusin","onFocus");Cu("focusout","onBlur");Cu(lN,"onTransitionEnd");dh("onMouseEnter",["mouseout","mouseover"]);dh("onMouseLeave",["mouseout","mouseover"]);dh("onPointerEnter",["pointerout","pointerover"]);dh("onPointerLeave",["pointerout","pointerover"]);Uc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Uc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Uc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Uc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Uc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Uc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pd));function Ab(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,iF(n,e,void 0,t),t.currentTarget=null}function cN(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Ab(i,o,u),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Ab(i,o,u),s=l}}}if(Ag)throw t=My,Ag=!1,My=null,t}function jr(t,e){var r=e[Gy];r===void 0&&(r=e[Gy]=new Set);var n=t+"__bubble";r.has(n)||(fN(e,t,2,!1),r.add(n))}function y2(t,e,r){var n=0;e&&(n|=4),fN(r,t,n,e)}var xm="_reactListening"+Math.random().toString(36).slice(2);function A0(t){if(!t[xm]){t[xm]=!0,yA.forEach(function(r){r!=="selectionchange"&&(aD.has(r)||y2(r,!1,t),y2(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[xm]||(e[xm]=!0,y2("selectionchange",!1,e))}}function fN(t,e,r,n){switch(KA(e)){case 1:var i=wF;break;case 4:i=_F;break;default:i=Uw}r=i.bind(null,e,r,t),i=void 0,!Oy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function x2(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=cc(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}FA(function(){var u=s,c=Mw(r),f=[];e:{var d=uN.get(t);if(d!==void 0){var h=Ww,v=t;switch(t){case"keypress":if(rg(r)===0)break e;case"keydown":case"keyup":h=OF;break;case"focusin":v="focus",h=h2;break;case"focusout":v="blur",h=h2;break;case"beforeblur":case"afterblur":h=h2;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=pb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=TF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=BF;break;case sN:case aN:case oN:h=NF;break;case lN:h=UF;break;case"scroll":h=bF;break;case"wheel":h=WF;break;case"copy":case"cut":case"paste":h=CF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=gb}var g=(e&4)!==0,S=!g&&t==="scroll",_=g?d!==null?d+"Capture":null:d;g=[];for(var b=u,T;b!==null;){T=b;var L=T.stateNode;if(T.tag===5&&L!==null&&(T=L,_!==null&&(L=w0(b,_),L!=null&&g.push(N0(b,L,T)))),S)break;b=b.return}0<g.length&&(d=new h(d,v,null,r,c),f.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&r!==Fy&&(v=r.relatedTarget||r.fromElement)&&(cc(v)||v[Wo]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(v=r.relatedTarget||r.toElement,h=u,v=v?cc(v):null,v!==null&&(S=zc(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(h=null,v=u),h!==v)){if(g=pb,L="onMouseLeave",_="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(g=gb,L="onPointerLeave",_="onPointerEnter",b="pointer"),S=h==null?d:Of(h),T=v==null?d:Of(v),d=new g(L,b+"leave",h,r,c),d.target=S,d.relatedTarget=T,L=null,cc(c)===u&&(g=new g(_,b+"enter",v,r,c),g.target=T,g.relatedTarget=S,L=g),S=L,h&&v)t:{for(g=h,_=v,b=0,T=g;T;T=xf(T))b++;for(T=0,L=_;L;L=xf(L))T++;for(;0<b-T;)g=xf(g),b--;for(;0<T-b;)_=xf(_),T--;for(;b--;){if(g===_||_!==null&&g===_.alternate)break t;g=xf(g),_=xf(_)}g=null}else g=null;h!==null&&Nb(f,d,h,g,!1),v!==null&&S!==null&&Nb(f,S,v,g,!0)}}e:{if(d=u?Of(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var j=XF;else if(xb(d))if(eN)j=eD;else{j=JF;var B=QF}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(j=ZF);if(j&&(j=j(t,u))){ZA(f,j,r,c);break e}B&&B(t,d,u),t==="focusout"&&(B=d._wrapperState)&&B.controlled&&d.type==="number"&&Cy(d,"number",d.value)}switch(B=u?Of(u):window,t){case"focusin":(xb(B)||B.contentEditable==="true")&&(Ff=B,Uy=u,Hd=null);break;case"focusout":Hd=Uy=Ff=null;break;case"mousedown":zy=!0;break;case"contextmenu":case"mouseup":case"dragend":zy=!1,Tb(f,r,c);break;case"selectionchange":if(nD)break;case"keydown":case"keyup":Tb(f,r,c)}var k;if(qw)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Lf?QA(t,r)&&(y="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(y="onCompositionStart");y&&(XA&&r.locale!=="ko"&&(Lf||y!=="onCompositionStart"?y==="onCompositionEnd"&&Lf&&(k=YA()):(Yl=c,zw="value"in Yl?Yl.value:Yl.textContent,Lf=!0)),B=Ig(u,y),0<B.length&&(y=new mb(y,t,null,r,c),f.push({event:y,listeners:B}),k?y.data=k:(k=JA(r),k!==null&&(y.data=k)))),(k=qF?$F(t,r):GF(t,r))&&(u=Ig(u,"onBeforeInput"),0<u.length&&(c=new mb("onBeforeInput","beforeinput",null,r,c),f.push({event:c,listeners:u}),c.data=k))}cN(f,e)})}function N0(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ig(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=w0(t,r),s!=null&&n.unshift(N0(t,s,i)),s=w0(t,e),s!=null&&n.push(N0(t,s,i))),t=t.return}return n}function xf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Nb(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=w0(r,s),l!=null&&a.unshift(N0(r,l,o))):i||(l=w0(r,s),l!=null&&a.push(N0(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var oD=/\r\n?/g,lD=/\u0000|\uFFFD/g;function kb(t){return(typeof t=="string"?t:""+t).replace(oD,`
`).replace(lD,"")}function wm(t,e,r){if(e=kb(e),kb(t)!==e&&r)throw Error(rt(425))}function Rg(){}var Wy=null,Hy=null;function qy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $y=typeof setTimeout=="function"?setTimeout:void 0,uD=typeof clearTimeout=="function"?clearTimeout:void 0,Cb=typeof Promise=="function"?Promise:void 0,cD=typeof queueMicrotask=="function"?queueMicrotask:typeof Cb<"u"?function(t){return Cb.resolve(null).then(t).catch(fD)}:$y;function fD(t){setTimeout(function(){throw t})}function w2(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),S0(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);S0(e)}function au(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Pb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Lh=Math.random().toString(36).slice(2),Xa="__reactFiber$"+Lh,k0="__reactProps$"+Lh,Wo="__reactContainer$"+Lh,Gy="__reactEvents$"+Lh,hD="__reactListeners$"+Lh,dD="__reactHandles$"+Lh;function cc(t){var e=t[Xa];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Wo]||r[Xa]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Pb(t);t!==null;){if(r=t[Xa])return r;t=Pb(t)}return e}t=r,r=t.parentNode}return null}function pp(t){return t=t[Xa]||t[Wo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Of(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(rt(33))}function U1(t){return t[k0]||null}var Ky=[],Mf=-1;function Pu(t){return{current:t}}function Ur(t){0>Mf||(t.current=Ky[Mf],Ky[Mf]=null,Mf--)}function Fr(t,e){Mf++,Ky[Mf]=t.current,t.current=e}var yu={},Pi=Pu(yu),os=Pu(!1),Nc=yu;function ph(t,e){var r=t.type.contextTypes;if(!r)return yu;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ls(t){return t=t.childContextTypes,t!=null}function Lg(){Ur(os),Ur(Pi)}function Ib(t,e,r){if(Pi.current!==yu)throw Error(rt(168));Fr(Pi,e),Fr(os,r)}function hN(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(rt(108,Q8(t)||"Unknown",i));return Xr({},r,n)}function Fg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||yu,Nc=Pi.current,Fr(Pi,t),Fr(os,os.current),!0}function Rb(t,e,r){var n=t.stateNode;if(!n)throw Error(rt(169));r?(t=hN(t,e,Nc),n.__reactInternalMemoizedMergedChildContext=t,Ur(os),Ur(Pi),Fr(Pi,t)):Ur(os),Fr(os,r)}var Co=null,z1=!1,_2=!1;function dN(t){Co===null?Co=[t]:Co.push(t)}function pD(t){z1=!0,dN(t)}function Iu(){if(!_2&&Co!==null){_2=!0;var t=0,e=_r;try{var r=Co;for(_r=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Co=null,z1=!1}catch(i){throw Co!==null&&(Co=Co.slice(t+1)),jA(jw,Iu),i}finally{_r=e,_2=!1}}return null}var jf=[],Bf=0,Dg=null,Og=0,Ys=[],Xs=0,kc=null,Io=1,Ro="";function ic(t,e){jf[Bf++]=Og,jf[Bf++]=Dg,Dg=t,Og=e}function pN(t,e,r){Ys[Xs++]=Io,Ys[Xs++]=Ro,Ys[Xs++]=kc,kc=t;var n=Io;t=Ro;var i=32-Ca(n)-1;n&=~(1<<i),r+=1;var s=32-Ca(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Io=1<<32-Ca(e)+i|r<<i|n,Ro=s+t}else Io=1<<s|r<<i|n,Ro=t}function Gw(t){t.return!==null&&(ic(t,1),pN(t,1,0))}function Kw(t){for(;t===Dg;)Dg=jf[--Bf],jf[Bf]=null,Og=jf[--Bf],jf[Bf]=null;for(;t===kc;)kc=Ys[--Xs],Ys[Xs]=null,Ro=Ys[--Xs],Ys[Xs]=null,Io=Ys[--Xs],Ys[Xs]=null}var Rs=null,Cs=null,Hr=!1,Aa=null;function mN(t,e){var r=Qs(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Lb(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Rs=t,Cs=au(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Rs=t,Cs=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=kc!==null?{id:Io,overflow:Ro}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Qs(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Rs=t,Cs=null,!0):!1;default:return!1}}function Yy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xy(t){if(Hr){var e=Cs;if(e){var r=e;if(!Lb(t,e)){if(Yy(t))throw Error(rt(418));e=au(r.nextSibling);var n=Rs;e&&Lb(t,e)?mN(n,r):(t.flags=t.flags&-4097|2,Hr=!1,Rs=t)}}else{if(Yy(t))throw Error(rt(418));t.flags=t.flags&-4097|2,Hr=!1,Rs=t}}}function Fb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Rs=t}function _m(t){if(t!==Rs)return!1;if(!Hr)return Fb(t),Hr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qy(t.type,t.memoizedProps)),e&&(e=Cs)){if(Yy(t))throw gN(),Error(rt(418));for(;e;)mN(t,e),e=au(e.nextSibling)}if(Fb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(rt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Cs=au(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Cs=null}}else Cs=Rs?au(t.stateNode.nextSibling):null;return!0}function gN(){for(var t=Cs;t;)t=au(t.nextSibling)}function mh(){Cs=Rs=null,Hr=!1}function Yw(t){Aa===null?Aa=[t]:Aa.push(t)}var mD=tl.ReactCurrentBatchConfig;function yd(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(rt(309));var n=r.stateNode}if(!n)throw Error(rt(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(rt(284));if(!r._owner)throw Error(rt(290,t))}return t}function bm(t,e){throw t=Object.prototype.toString.call(e),Error(rt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Db(t){var e=t._init;return e(t._payload)}function vN(t){function e(_,b){if(t){var T=_.deletions;T===null?(_.deletions=[b],_.flags|=16):T.push(b)}}function r(_,b){if(!t)return null;for(;b!==null;)e(_,b),b=b.sibling;return null}function n(_,b){for(_=new Map;b!==null;)b.key!==null?_.set(b.key,b):_.set(b.index,b),b=b.sibling;return _}function i(_,b){return _=cu(_,b),_.index=0,_.sibling=null,_}function s(_,b,T){return _.index=T,t?(T=_.alternate,T!==null?(T=T.index,T<b?(_.flags|=2,b):T):(_.flags|=2,b)):(_.flags|=1048576,b)}function a(_){return t&&_.alternate===null&&(_.flags|=2),_}function o(_,b,T,L){return b===null||b.tag!==6?(b=k2(T,_.mode,L),b.return=_,b):(b=i(b,T),b.return=_,b)}function l(_,b,T,L){var j=T.type;return j===Rf?c(_,b,T.props.children,L,T.key):b!==null&&(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Vl&&Db(j)===b.type)?(L=i(b,T.props),L.ref=yd(_,b,T),L.return=_,L):(L=ug(T.type,T.key,T.props,null,_.mode,L),L.ref=yd(_,b,T),L.return=_,L)}function u(_,b,T,L){return b===null||b.tag!==4||b.stateNode.containerInfo!==T.containerInfo||b.stateNode.implementation!==T.implementation?(b=C2(T,_.mode,L),b.return=_,b):(b=i(b,T.children||[]),b.return=_,b)}function c(_,b,T,L,j){return b===null||b.tag!==7?(b=yc(T,_.mode,L,j),b.return=_,b):(b=i(b,T),b.return=_,b)}function f(_,b,T){if(typeof b=="string"&&b!==""||typeof b=="number")return b=k2(""+b,_.mode,T),b.return=_,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case fm:return T=ug(b.type,b.key,b.props,null,_.mode,T),T.ref=yd(_,null,b),T.return=_,T;case If:return b=C2(b,_.mode,T),b.return=_,b;case Vl:var L=b._init;return f(_,L(b._payload),T)}if(kd(b)||dd(b))return b=yc(b,_.mode,T,null),b.return=_,b;bm(_,b)}return null}function d(_,b,T,L){var j=b!==null?b.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return j!==null?null:o(_,b,""+T,L);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case fm:return T.key===j?l(_,b,T,L):null;case If:return T.key===j?u(_,b,T,L):null;case Vl:return j=T._init,d(_,b,j(T._payload),L)}if(kd(T)||dd(T))return j!==null?null:c(_,b,T,L,null);bm(_,T)}return null}function h(_,b,T,L,j){if(typeof L=="string"&&L!==""||typeof L=="number")return _=_.get(T)||null,o(b,_,""+L,j);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case fm:return _=_.get(L.key===null?T:L.key)||null,l(b,_,L,j);case If:return _=_.get(L.key===null?T:L.key)||null,u(b,_,L,j);case Vl:var B=L._init;return h(_,b,T,B(L._payload),j)}if(kd(L)||dd(L))return _=_.get(T)||null,c(b,_,L,j,null);bm(b,L)}return null}function v(_,b,T,L){for(var j=null,B=null,k=b,y=b=0,C=null;k!==null&&y<T.length;y++){k.index>y?(C=k,k=null):C=k.sibling;var F=d(_,k,T[y],L);if(F===null){k===null&&(k=C);break}t&&k&&F.alternate===null&&e(_,k),b=s(F,b,y),B===null?j=F:B.sibling=F,B=F,k=C}if(y===T.length)return r(_,k),Hr&&ic(_,y),j;if(k===null){for(;y<T.length;y++)k=f(_,T[y],L),k!==null&&(b=s(k,b,y),B===null?j=k:B.sibling=k,B=k);return Hr&&ic(_,y),j}for(k=n(_,k);y<T.length;y++)C=h(k,_,y,T[y],L),C!==null&&(t&&C.alternate!==null&&k.delete(C.key===null?y:C.key),b=s(C,b,y),B===null?j=C:B.sibling=C,B=C);return t&&k.forEach(function(E){return e(_,E)}),Hr&&ic(_,y),j}function g(_,b,T,L){var j=dd(T);if(typeof j!="function")throw Error(rt(150));if(T=j.call(T),T==null)throw Error(rt(151));for(var B=j=null,k=b,y=b=0,C=null,F=T.next();k!==null&&!F.done;y++,F=T.next()){k.index>y?(C=k,k=null):C=k.sibling;var E=d(_,k,F.value,L);if(E===null){k===null&&(k=C);break}t&&k&&E.alternate===null&&e(_,k),b=s(E,b,y),B===null?j=E:B.sibling=E,B=E,k=C}if(F.done)return r(_,k),Hr&&ic(_,y),j;if(k===null){for(;!F.done;y++,F=T.next())F=f(_,F.value,L),F!==null&&(b=s(F,b,y),B===null?j=F:B.sibling=F,B=F);return Hr&&ic(_,y),j}for(k=n(_,k);!F.done;y++,F=T.next())F=h(k,_,y,F.value,L),F!==null&&(t&&F.alternate!==null&&k.delete(F.key===null?y:F.key),b=s(F,b,y),B===null?j=F:B.sibling=F,B=F);return t&&k.forEach(function(N){return e(_,N)}),Hr&&ic(_,y),j}function S(_,b,T,L){if(typeof T=="object"&&T!==null&&T.type===Rf&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case fm:e:{for(var j=T.key,B=b;B!==null;){if(B.key===j){if(j=T.type,j===Rf){if(B.tag===7){r(_,B.sibling),b=i(B,T.props.children),b.return=_,_=b;break e}}else if(B.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Vl&&Db(j)===B.type){r(_,B.sibling),b=i(B,T.props),b.ref=yd(_,B,T),b.return=_,_=b;break e}r(_,B);break}else e(_,B);B=B.sibling}T.type===Rf?(b=yc(T.props.children,_.mode,L,T.key),b.return=_,_=b):(L=ug(T.type,T.key,T.props,null,_.mode,L),L.ref=yd(_,b,T),L.return=_,_=L)}return a(_);case If:e:{for(B=T.key;b!==null;){if(b.key===B)if(b.tag===4&&b.stateNode.containerInfo===T.containerInfo&&b.stateNode.implementation===T.implementation){r(_,b.sibling),b=i(b,T.children||[]),b.return=_,_=b;break e}else{r(_,b);break}else e(_,b);b=b.sibling}b=C2(T,_.mode,L),b.return=_,_=b}return a(_);case Vl:return B=T._init,S(_,b,B(T._payload),L)}if(kd(T))return v(_,b,T,L);if(dd(T))return g(_,b,T,L);bm(_,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,b!==null&&b.tag===6?(r(_,b.sibling),b=i(b,T),b.return=_,_=b):(r(_,b),b=k2(T,_.mode,L),b.return=_,_=b),a(_)):r(_,b)}return S}var gh=vN(!0),yN=vN(!1),Mg=Pu(null),jg=null,Vf=null,Xw=null;function Qw(){Xw=Vf=jg=null}function Jw(t){var e=Mg.current;Ur(Mg),t._currentValue=e}function Qy(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function th(t,e){jg=t,Xw=Vf=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ss=!0),t.firstContext=null)}function ra(t){var e=t._currentValue;if(Xw!==t)if(t={context:t,memoizedValue:e,next:null},Vf===null){if(jg===null)throw Error(rt(308));Vf=t,jg.dependencies={lanes:0,firstContext:t}}else Vf=Vf.next=t;return e}var fc=null;function Zw(t){fc===null?fc=[t]:fc.push(t)}function xN(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Zw(e)):(r.next=i.next,i.next=r),e.interleaved=r,Ho(t,n)}function Ho(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ul=!1;function e5(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Oo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ou(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,ar&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Ho(t,r)}return i=n.interleaved,i===null?(e.next=e,Zw(n)):(e.next=i.next,i.next=e),n.interleaved=e,Ho(t,r)}function ng(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Bw(t,r)}}function Ob(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Bg(t,e,r,n){var i=t.updateQueue;Ul=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;a=0,c=u=l=null,o=s;do{var d=o.lane,h=o.eventTime;if((n&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=t,g=o;switch(d=e,h=r,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(h,f,d);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,d=typeof v=="function"?v.call(h,f,d):v,d==null)break e;f=Xr({},f,d);break e;case 2:Ul=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[o]:d.push(o))}else h={eventTime:h,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,a|=d;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;d=o,o=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Pc|=a,t.lanes=a,t.memoizedState=f}}function Mb(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(rt(191,i));i.call(n)}}}var mp={},eo=Pu(mp),C0=Pu(mp),P0=Pu(mp);function hc(t){if(t===mp)throw Error(rt(174));return t}function t5(t,e){switch(Fr(P0,e),Fr(C0,t),Fr(eo,mp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Iy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Iy(e,t)}Ur(eo),Fr(eo,e)}function vh(){Ur(eo),Ur(C0),Ur(P0)}function _N(t){hc(P0.current);var e=hc(eo.current),r=Iy(e,t.type);e!==r&&(Fr(C0,t),Fr(eo,r))}function r5(t){C0.current===t&&(Ur(eo),Ur(C0))}var Gr=Pu(0);function Vg(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var b2=[];function n5(){for(var t=0;t<b2.length;t++)b2[t]._workInProgressVersionPrimary=null;b2.length=0}var ig=tl.ReactCurrentDispatcher,S2=tl.ReactCurrentBatchConfig,Cc=0,Yr=null,In=null,Vn=null,Ug=!1,qd=!1,I0=0,gD=0;function pi(){throw Error(rt(321))}function i5(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ra(t[r],e[r]))return!1;return!0}function s5(t,e,r,n,i,s){if(Cc=s,Yr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ig.current=t===null||t.memoizedState===null?wD:_D,t=r(n,i),qd){s=0;do{if(qd=!1,I0=0,25<=s)throw Error(rt(301));s+=1,Vn=In=null,e.updateQueue=null,ig.current=bD,t=r(n,i)}while(qd)}if(ig.current=zg,e=In!==null&&In.next!==null,Cc=0,Vn=In=Yr=null,Ug=!1,e)throw Error(rt(300));return t}function a5(){var t=I0!==0;return I0=0,t}function Ya(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vn===null?Yr.memoizedState=Vn=t:Vn=Vn.next=t,Vn}function na(){if(In===null){var t=Yr.alternate;t=t!==null?t.memoizedState:null}else t=In.next;var e=Vn===null?Yr.memoizedState:Vn.next;if(e!==null)Vn=e,In=t;else{if(t===null)throw Error(rt(310));In=t,t={memoizedState:In.memoizedState,baseState:In.baseState,baseQueue:In.baseQueue,queue:In.queue,next:null},Vn===null?Yr.memoizedState=Vn=t:Vn=Vn.next=t}return Vn}function R0(t,e){return typeof e=="function"?e(t):e}function T2(t){var e=na(),r=e.queue;if(r===null)throw Error(rt(311));r.lastRenderedReducer=t;var n=In,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,u=s;do{var c=u.lane;if((Cc&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,a=n):l=l.next=f,Yr.lanes|=c,Pc|=c}u=u.next}while(u!==null&&u!==s);l===null?a=n:l.next=o,Ra(n,e.memoizedState)||(ss=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Yr.lanes|=s,Pc|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function E2(t){var e=na(),r=e.queue;if(r===null)throw Error(rt(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Ra(s,e.memoizedState)||(ss=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function bN(){}function SN(t,e){var r=Yr,n=na(),i=e(),s=!Ra(n.memoizedState,i);if(s&&(n.memoizedState=i,ss=!0),n=n.queue,o5(AN.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Vn!==null&&Vn.memoizedState.tag&1){if(r.flags|=2048,L0(9,EN.bind(null,r,n,i,e),void 0,null),qn===null)throw Error(rt(349));Cc&30||TN(r,e,i)}return i}function TN(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Yr.updateQueue,e===null?(e={lastEffect:null,stores:null},Yr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function EN(t,e,r,n){e.value=r,e.getSnapshot=n,NN(e)&&kN(t)}function AN(t,e,r){return r(function(){NN(e)&&kN(t)})}function NN(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ra(t,r)}catch{return!0}}function kN(t){var e=Ho(t,1);e!==null&&Pa(e,t,1,-1)}function jb(t){var e=Ya();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:R0,lastRenderedState:t},e.queue=t,t=t.dispatch=xD.bind(null,Yr,t),[e.memoizedState,t]}function L0(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Yr.updateQueue,e===null?(e={lastEffect:null,stores:null},Yr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function CN(){return na().memoizedState}function sg(t,e,r,n){var i=Ya();Yr.flags|=t,i.memoizedState=L0(1|e,r,void 0,n===void 0?null:n)}function W1(t,e,r,n){var i=na();n=n===void 0?null:n;var s=void 0;if(In!==null){var a=In.memoizedState;if(s=a.destroy,n!==null&&i5(n,a.deps)){i.memoizedState=L0(e,r,s,n);return}}Yr.flags|=t,i.memoizedState=L0(1|e,r,s,n)}function Bb(t,e){return sg(8390656,8,t,e)}function o5(t,e){return W1(2048,8,t,e)}function PN(t,e){return W1(4,2,t,e)}function IN(t,e){return W1(4,4,t,e)}function RN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function LN(t,e,r){return r=r!=null?r.concat([t]):null,W1(4,4,RN.bind(null,e,t),r)}function l5(){}function FN(t,e){var r=na();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&i5(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function DN(t,e){var r=na();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&i5(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function ON(t,e,r){return Cc&21?(Ra(r,e)||(r=UA(),Yr.lanes|=r,Pc|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ss=!0),t.memoizedState=r)}function vD(t,e){var r=_r;_r=r!==0&&4>r?r:4,t(!0);var n=S2.transition;S2.transition={};try{t(!1),e()}finally{_r=r,S2.transition=n}}function MN(){return na().memoizedState}function yD(t,e,r){var n=uu(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},jN(t))BN(e,r);else if(r=xN(t,e,r,n),r!==null){var i=Hi();Pa(r,t,n,i),VN(r,e,n)}}function xD(t,e,r){var n=uu(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(jN(t))BN(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,Ra(o,a)){var l=e.interleaved;l===null?(i.next=i,Zw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=xN(t,e,i,n),r!==null&&(i=Hi(),Pa(r,t,n,i),VN(r,e,n))}}function jN(t){var e=t.alternate;return t===Yr||e!==null&&e===Yr}function BN(t,e){qd=Ug=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function VN(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Bw(t,r)}}var zg={readContext:ra,useCallback:pi,useContext:pi,useEffect:pi,useImperativeHandle:pi,useInsertionEffect:pi,useLayoutEffect:pi,useMemo:pi,useReducer:pi,useRef:pi,useState:pi,useDebugValue:pi,useDeferredValue:pi,useTransition:pi,useMutableSource:pi,useSyncExternalStore:pi,useId:pi,unstable_isNewReconciler:!1},wD={readContext:ra,useCallback:function(t,e){return Ya().memoizedState=[t,e===void 0?null:e],t},useContext:ra,useEffect:Bb,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,sg(4194308,4,RN.bind(null,e,t),r)},useLayoutEffect:function(t,e){return sg(4194308,4,t,e)},useInsertionEffect:function(t,e){return sg(4,2,t,e)},useMemo:function(t,e){var r=Ya();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Ya();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=yD.bind(null,Yr,t),[n.memoizedState,t]},useRef:function(t){var e=Ya();return t={current:t},e.memoizedState=t},useState:jb,useDebugValue:l5,useDeferredValue:function(t){return Ya().memoizedState=t},useTransition:function(){var t=jb(!1),e=t[0];return t=vD.bind(null,t[1]),Ya().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Yr,i=Ya();if(Hr){if(r===void 0)throw Error(rt(407));r=r()}else{if(r=e(),qn===null)throw Error(rt(349));Cc&30||TN(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,Bb(AN.bind(null,n,s,t),[t]),n.flags|=2048,L0(9,EN.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Ya(),e=qn.identifierPrefix;if(Hr){var r=Ro,n=Io;r=(n&~(1<<32-Ca(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=I0++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=gD++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_D={readContext:ra,useCallback:FN,useContext:ra,useEffect:o5,useImperativeHandle:LN,useInsertionEffect:PN,useLayoutEffect:IN,useMemo:DN,useReducer:T2,useRef:CN,useState:function(){return T2(R0)},useDebugValue:l5,useDeferredValue:function(t){var e=na();return ON(e,In.memoizedState,t)},useTransition:function(){var t=T2(R0)[0],e=na().memoizedState;return[t,e]},useMutableSource:bN,useSyncExternalStore:SN,useId:MN,unstable_isNewReconciler:!1},bD={readContext:ra,useCallback:FN,useContext:ra,useEffect:o5,useImperativeHandle:LN,useInsertionEffect:PN,useLayoutEffect:IN,useMemo:DN,useReducer:E2,useRef:CN,useState:function(){return E2(R0)},useDebugValue:l5,useDeferredValue:function(t){var e=na();return In===null?e.memoizedState=t:ON(e,In.memoizedState,t)},useTransition:function(){var t=E2(R0)[0],e=na().memoizedState;return[t,e]},useMutableSource:bN,useSyncExternalStore:SN,useId:MN,unstable_isNewReconciler:!1};function ba(t,e){if(t&&t.defaultProps){e=Xr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Jy(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Xr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var H1={isMounted:function(t){return(t=t._reactInternals)?zc(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Hi(),i=uu(t),s=Oo(n,i);s.payload=e,r!=null&&(s.callback=r),e=ou(t,s,i),e!==null&&(Pa(e,t,i,n),ng(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Hi(),i=uu(t),s=Oo(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=ou(t,s,i),e!==null&&(Pa(e,t,i,n),ng(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Hi(),n=uu(t),i=Oo(r,n);i.tag=2,e!=null&&(i.callback=e),e=ou(t,i,n),e!==null&&(Pa(e,t,n,r),ng(e,t,n))}};function Vb(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!E0(r,n)||!E0(i,s):!0}function UN(t,e,r){var n=!1,i=yu,s=e.contextType;return typeof s=="object"&&s!==null?s=ra(s):(i=ls(e)?Nc:Pi.current,n=e.contextTypes,s=(n=n!=null)?ph(t,i):yu),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=H1,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Ub(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&H1.enqueueReplaceState(e,e.state,null)}function Zy(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},e5(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ra(s):(s=ls(e)?Nc:Pi.current,i.context=ph(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Jy(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&H1.enqueueReplaceState(i,i.state,null),Bg(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function yh(t,e){try{var r="",n=e;do r+=X8(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function A2(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function ex(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var SD=typeof WeakMap=="function"?WeakMap:Map;function zN(t,e,r){r=Oo(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Hg||(Hg=!0,cx=n),ex(t,e)},r}function WN(t,e,r){r=Oo(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){ex(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){ex(t,e),typeof n!="function"&&(lu===null?lu=new Set([this]):lu.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function zb(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new SD;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=MD.bind(null,t,e,r),e.then(t,t))}function Wb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Hb(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Oo(-1,1),e.tag=2,ou(r,e,1))),r.lanes|=1),t)}var TD=tl.ReactCurrentOwner,ss=!1;function Vi(t,e,r,n){e.child=t===null?yN(e,null,r,n):gh(e,t.child,r,n)}function qb(t,e,r,n,i){r=r.render;var s=e.ref;return th(e,i),n=s5(t,e,r,n,s,i),r=a5(),t!==null&&!ss?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qo(t,e,i)):(Hr&&r&&Gw(e),e.flags|=1,Vi(t,e,n,i),e.child)}function $b(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!g5(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,HN(t,e,s,n,i)):(t=ug(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:E0,r(a,n)&&t.ref===e.ref)return qo(t,e,i)}return e.flags|=1,t=cu(s,n),t.ref=e.ref,t.return=e,e.child=t}function HN(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(E0(s,n)&&t.ref===e.ref)if(ss=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(ss=!0);else return e.lanes=t.lanes,qo(t,e,i)}return tx(t,e,r,n,i)}function qN(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fr(zf,Es),Es|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Fr(zf,Es),Es|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Fr(zf,Es),Es|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Fr(zf,Es),Es|=n;return Vi(t,e,i,r),e.child}function $N(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function tx(t,e,r,n,i){var s=ls(r)?Nc:Pi.current;return s=ph(e,s),th(e,i),r=s5(t,e,r,n,s,i),n=a5(),t!==null&&!ss?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qo(t,e,i)):(Hr&&n&&Gw(e),e.flags|=1,Vi(t,e,r,i),e.child)}function Gb(t,e,r,n,i){if(ls(r)){var s=!0;Fg(e)}else s=!1;if(th(e,i),e.stateNode===null)ag(t,e),UN(e,r,n),Zy(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=ra(u):(u=ls(r)?Nc:Pi.current,u=ph(e,u));var c=r.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==u)&&Ub(e,a,n,u),Ul=!1;var d=e.memoizedState;a.state=d,Bg(e,n,a,i),l=e.memoizedState,o!==n||d!==l||os.current||Ul?(typeof c=="function"&&(Jy(e,r,c,n),l=e.memoizedState),(o=Ul||Vb(e,r,o,n,d,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,wN(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:ba(e.type,o),a.props=u,f=e.pendingProps,d=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=ra(l):(l=ls(r)?Nc:Pi.current,l=ph(e,l));var h=r.getDerivedStateFromProps;(c=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||d!==l)&&Ub(e,a,n,l),Ul=!1,d=e.memoizedState,a.state=d,Bg(e,n,a,i);var v=e.memoizedState;o!==f||d!==v||os.current||Ul?(typeof h=="function"&&(Jy(e,r,h,n),v=e.memoizedState),(u=Ul||Vb(e,r,u,n,d,v,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,v,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),a.props=n,a.state=v,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return rx(t,e,r,n,s,i)}function rx(t,e,r,n,i,s){$N(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&Rb(e,r,!1),qo(t,e,s);n=e.stateNode,TD.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=gh(e,t.child,null,s),e.child=gh(e,null,o,s)):Vi(t,e,o,s),e.memoizedState=n.state,i&&Rb(e,r,!0),e.child}function GN(t){var e=t.stateNode;e.pendingContext?Ib(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ib(t,e.context,!1),t5(t,e.containerInfo)}function Kb(t,e,r,n,i){return mh(),Yw(i),e.flags|=256,Vi(t,e,r,n),e.child}var nx={dehydrated:null,treeContext:null,retryLane:0};function ix(t){return{baseLanes:t,cachePool:null,transitions:null}}function KN(t,e,r){var n=e.pendingProps,i=Gr.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Fr(Gr,i&1),t===null)return Xy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=G1(a,n,0,null),t=yc(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ix(r),e.memoizedState=nx,t):u5(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return ED(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=cu(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=cu(o,s):(s=yc(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?ix(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=nx,n}return s=t.child,t=s.sibling,n=cu(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function u5(t,e){return e=G1({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Sm(t,e,r,n){return n!==null&&Yw(n),gh(e,t.child,null,r),t=u5(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ED(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=A2(Error(rt(422))),Sm(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=G1({mode:"visible",children:n.children},i,0,null),s=yc(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&gh(e,t.child,null,a),e.child.memoizedState=ix(a),e.memoizedState=nx,s);if(!(e.mode&1))return Sm(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(rt(419)),n=A2(s,n,void 0),Sm(t,e,a,n)}if(o=(a&t.childLanes)!==0,ss||o){if(n=qn,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ho(t,i),Pa(n,t,i,-1))}return m5(),n=A2(Error(rt(421))),Sm(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=jD.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Cs=au(i.nextSibling),Rs=e,Hr=!0,Aa=null,t!==null&&(Ys[Xs++]=Io,Ys[Xs++]=Ro,Ys[Xs++]=kc,Io=t.id,Ro=t.overflow,kc=e),e=u5(e,n.children),e.flags|=4096,e)}function Yb(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Qy(t.return,e,r)}function N2(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function YN(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Vi(t,e,n.children,r),n=Gr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yb(t,r,e);else if(t.tag===19)Yb(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Fr(Gr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Vg(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),N2(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Vg(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}N2(e,!0,r,null,s);break;case"together":N2(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ag(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qo(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Pc|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(rt(153));if(e.child!==null){for(t=e.child,r=cu(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=cu(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function AD(t,e,r){switch(e.tag){case 3:GN(e),mh();break;case 5:_N(e);break;case 1:ls(e.type)&&Fg(e);break;case 4:t5(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Fr(Mg,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Fr(Gr,Gr.current&1),e.flags|=128,null):r&e.child.childLanes?KN(t,e,r):(Fr(Gr,Gr.current&1),t=qo(t,e,r),t!==null?t.sibling:null);Fr(Gr,Gr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return YN(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Fr(Gr,Gr.current),n)break;return null;case 22:case 23:return e.lanes=0,qN(t,e,r)}return qo(t,e,r)}var XN,sx,QN,JN;XN=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};sx=function(){};QN=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,hc(eo.current);var s=null;switch(r){case"input":i=Ny(t,i),n=Ny(t,n),s=[];break;case"select":i=Xr({},i,{value:void 0}),n=Xr({},n,{value:void 0}),s=[];break;case"textarea":i=Py(t,i),n=Py(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Rg)}Ry(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(y0.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(y0.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&jr("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};JN=function(t,e,r,n){r!==n&&(e.flags|=4)};function xd(t,e){if(!Hr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function mi(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function ND(t,e,r){var n=e.pendingProps;switch(Kw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mi(e),null;case 1:return ls(e.type)&&Lg(),mi(e),null;case 3:return n=e.stateNode,vh(),Ur(os),Ur(Pi),n5(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(_m(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Aa!==null&&(dx(Aa),Aa=null))),sx(t,e),mi(e),null;case 5:r5(e);var i=hc(P0.current);if(r=e.type,t!==null&&e.stateNode!=null)QN(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(rt(166));return mi(e),null}if(t=hc(eo.current),_m(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Xa]=e,n[k0]=s,t=(e.mode&1)!==0,r){case"dialog":jr("cancel",n),jr("close",n);break;case"iframe":case"object":case"embed":jr("load",n);break;case"video":case"audio":for(i=0;i<Pd.length;i++)jr(Pd[i],n);break;case"source":jr("error",n);break;case"img":case"image":case"link":jr("error",n),jr("load",n);break;case"details":jr("toggle",n);break;case"input":ib(n,s),jr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},jr("invalid",n);break;case"textarea":ab(n,s),jr("invalid",n)}Ry(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&wm(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&wm(n.textContent,o,t),i=["children",""+o]):y0.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&jr("scroll",n)}switch(r){case"input":hm(n),sb(n,s,!0);break;case"textarea":hm(n),ob(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Rg)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=AA(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Xa]=e,t[k0]=n,XN(t,e,!1,!1),e.stateNode=t;e:{switch(a=Ly(r,n),r){case"dialog":jr("cancel",t),jr("close",t),i=n;break;case"iframe":case"object":case"embed":jr("load",t),i=n;break;case"video":case"audio":for(i=0;i<Pd.length;i++)jr(Pd[i],t);i=n;break;case"source":jr("error",t),i=n;break;case"img":case"image":case"link":jr("error",t),jr("load",t),i=n;break;case"details":jr("toggle",t),i=n;break;case"input":ib(t,n),i=Ny(t,n),jr("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Xr({},n,{value:void 0}),jr("invalid",t);break;case"textarea":ab(t,n),i=Py(t,n),jr("invalid",t);break;default:i=n}Ry(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?CA(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&NA(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&x0(t,l):typeof l=="number"&&x0(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(y0.hasOwnProperty(s)?l!=null&&s==="onScroll"&&jr("scroll",t):l!=null&&Lw(t,s,l,a))}switch(r){case"input":hm(t),sb(t,n,!1);break;case"textarea":hm(t),ob(t);break;case"option":n.value!=null&&t.setAttribute("value",""+vu(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Qf(t,!!n.multiple,s,!1):n.defaultValue!=null&&Qf(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Rg)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return mi(e),null;case 6:if(t&&e.stateNode!=null)JN(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(rt(166));if(r=hc(P0.current),hc(eo.current),_m(e)){if(n=e.stateNode,r=e.memoizedProps,n[Xa]=e,(s=n.nodeValue!==r)&&(t=Rs,t!==null))switch(t.tag){case 3:wm(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wm(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Xa]=e,e.stateNode=n}return mi(e),null;case 13:if(Ur(Gr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Hr&&Cs!==null&&e.mode&1&&!(e.flags&128))gN(),mh(),e.flags|=98560,s=!1;else if(s=_m(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(rt(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(rt(317));s[Xa]=e}else mh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;mi(e),s=!1}else Aa!==null&&(dx(Aa),Aa=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Gr.current&1?Ln===0&&(Ln=3):m5())),e.updateQueue!==null&&(e.flags|=4),mi(e),null);case 4:return vh(),sx(t,e),t===null&&A0(e.stateNode.containerInfo),mi(e),null;case 10:return Jw(e.type._context),mi(e),null;case 17:return ls(e.type)&&Lg(),mi(e),null;case 19:if(Ur(Gr),s=e.memoizedState,s===null)return mi(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)xd(s,!1);else{if(Ln!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Vg(t),a!==null){for(e.flags|=128,xd(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Fr(Gr,Gr.current&1|2),e.child}t=t.sibling}s.tail!==null&&hn()>xh&&(e.flags|=128,n=!0,xd(s,!1),e.lanes=4194304)}else{if(!n)if(t=Vg(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),xd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Hr)return mi(e),null}else 2*hn()-s.renderingStartTime>xh&&r!==1073741824&&(e.flags|=128,n=!0,xd(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=hn(),e.sibling=null,r=Gr.current,Fr(Gr,n?r&1|2:r&1),e):(mi(e),null);case 22:case 23:return p5(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Es&1073741824&&(mi(e),e.subtreeFlags&6&&(e.flags|=8192)):mi(e),null;case 24:return null;case 25:return null}throw Error(rt(156,e.tag))}function kD(t,e){switch(Kw(e),e.tag){case 1:return ls(e.type)&&Lg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return vh(),Ur(os),Ur(Pi),n5(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return r5(e),null;case 13:if(Ur(Gr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(rt(340));mh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ur(Gr),null;case 4:return vh(),null;case 10:return Jw(e.type._context),null;case 22:case 23:return p5(),null;case 24:return null;default:return null}}var Tm=!1,bi=!1,CD=typeof WeakSet=="function"?WeakSet:Set,xt=null;function Uf(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){sn(t,e,n)}else r.current=null}function ax(t,e,r){try{r()}catch(n){sn(t,e,n)}}var Xb=!1;function PD(t,e){if(Wy=Cg,t=nN(),$w(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var h;f!==r||i!==0&&f.nodeType!==3||(o=a+i),f!==s||n!==0&&f.nodeType!==3||(l=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===t)break t;if(d===r&&++u===i&&(o=a),d===s&&++c===n&&(l=a),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Hy={focusedElem:t,selectionRange:r},Cg=!1,xt=e;xt!==null;)if(e=xt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,xt=t;else for(;xt!==null;){e=xt;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,S=v.memoizedState,_=e.stateNode,b=_.getSnapshotBeforeUpdate(e.elementType===e.type?g:ba(e.type,g),S);_.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(rt(163))}}catch(L){sn(e,e.return,L)}if(t=e.sibling,t!==null){t.return=e.return,xt=t;break}xt=e.return}return v=Xb,Xb=!1,v}function $d(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ax(e,r,s)}i=i.next}while(i!==n)}}function q1(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function ox(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function ZN(t){var e=t.alternate;e!==null&&(t.alternate=null,ZN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Xa],delete e[k0],delete e[Gy],delete e[hD],delete e[dD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ek(t){return t.tag===5||t.tag===3||t.tag===4}function Qb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ek(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lx(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Rg));else if(n!==4&&(t=t.child,t!==null))for(lx(t,e,r),t=t.sibling;t!==null;)lx(t,e,r),t=t.sibling}function ux(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(ux(t,e,r),t=t.sibling;t!==null;)ux(t,e,r),t=t.sibling}var Zn=null,Ea=!1;function Fl(t,e,r){for(r=r.child;r!==null;)tk(t,e,r),r=r.sibling}function tk(t,e,r){if(Za&&typeof Za.onCommitFiberUnmount=="function")try{Za.onCommitFiberUnmount(M1,r)}catch{}switch(r.tag){case 5:bi||Uf(r,e);case 6:var n=Zn,i=Ea;Zn=null,Fl(t,e,r),Zn=n,Ea=i,Zn!==null&&(Ea?(t=Zn,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Zn.removeChild(r.stateNode));break;case 18:Zn!==null&&(Ea?(t=Zn,r=r.stateNode,t.nodeType===8?w2(t.parentNode,r):t.nodeType===1&&w2(t,r),S0(t)):w2(Zn,r.stateNode));break;case 4:n=Zn,i=Ea,Zn=r.stateNode.containerInfo,Ea=!0,Fl(t,e,r),Zn=n,Ea=i;break;case 0:case 11:case 14:case 15:if(!bi&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&ax(r,e,a),i=i.next}while(i!==n)}Fl(t,e,r);break;case 1:if(!bi&&(Uf(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){sn(r,e,o)}Fl(t,e,r);break;case 21:Fl(t,e,r);break;case 22:r.mode&1?(bi=(n=bi)||r.memoizedState!==null,Fl(t,e,r),bi=n):Fl(t,e,r);break;default:Fl(t,e,r)}}function Jb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new CD),e.forEach(function(n){var i=BD.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function ma(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Zn=o.stateNode,Ea=!1;break e;case 3:Zn=o.stateNode.containerInfo,Ea=!0;break e;case 4:Zn=o.stateNode.containerInfo,Ea=!0;break e}o=o.return}if(Zn===null)throw Error(rt(160));tk(s,a,i),Zn=null,Ea=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){sn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)rk(e,t),e=e.sibling}function rk(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ma(e,t),qa(t),n&4){try{$d(3,t,t.return),q1(3,t)}catch(g){sn(t,t.return,g)}try{$d(5,t,t.return)}catch(g){sn(t,t.return,g)}}break;case 1:ma(e,t),qa(t),n&512&&r!==null&&Uf(r,r.return);break;case 5:if(ma(e,t),qa(t),n&512&&r!==null&&Uf(r,r.return),t.flags&32){var i=t.stateNode;try{x0(i,"")}catch(g){sn(t,t.return,g)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&TA(i,s),Ly(o,a);var u=Ly(o,s);for(a=0;a<l.length;a+=2){var c=l[a],f=l[a+1];c==="style"?CA(i,f):c==="dangerouslySetInnerHTML"?NA(i,f):c==="children"?x0(i,f):Lw(i,c,f,u)}switch(o){case"input":ky(i,s);break;case"textarea":EA(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Qf(i,!!s.multiple,h,!1):d!==!!s.multiple&&(s.defaultValue!=null?Qf(i,!!s.multiple,s.defaultValue,!0):Qf(i,!!s.multiple,s.multiple?[]:"",!1))}i[k0]=s}catch(g){sn(t,t.return,g)}}break;case 6:if(ma(e,t),qa(t),n&4){if(t.stateNode===null)throw Error(rt(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){sn(t,t.return,g)}}break;case 3:if(ma(e,t),qa(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{S0(e.containerInfo)}catch(g){sn(t,t.return,g)}break;case 4:ma(e,t),qa(t);break;case 13:ma(e,t),qa(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(h5=hn())),n&4&&Jb(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(bi=(u=bi)||c,ma(e,t),bi=u):ma(e,t),qa(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(xt=t,c=t.child;c!==null;){for(f=xt=c;xt!==null;){switch(d=xt,h=d.child,d.tag){case 0:case 11:case 14:case 15:$d(4,d,d.return);break;case 1:Uf(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){n=d,r=d.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(g){sn(n,r,g)}}break;case 5:Uf(d,d.return);break;case 22:if(d.memoizedState!==null){eS(f);continue}}h!==null?(h.return=d,xt=h):eS(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=kA("display",a))}catch(g){sn(t,t.return,g)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){sn(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ma(e,t),qa(t),n&4&&Jb(t);break;case 21:break;default:ma(e,t),qa(t)}}function qa(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(ek(r)){var n=r;break e}r=r.return}throw Error(rt(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(x0(i,""),n.flags&=-33);var s=Qb(t);ux(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=Qb(t);lx(t,o,a);break;default:throw Error(rt(161))}}catch(l){sn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ID(t,e,r){xt=t,nk(t)}function nk(t,e,r){for(var n=(t.mode&1)!==0;xt!==null;){var i=xt,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Tm;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||bi;o=Tm;var u=bi;if(Tm=a,(bi=l)&&!u)for(xt=i;xt!==null;)a=xt,l=a.child,a.tag===22&&a.memoizedState!==null?tS(i):l!==null?(l.return=a,xt=l):tS(i);for(;s!==null;)xt=s,nk(s),s=s.sibling;xt=i,Tm=o,bi=u}Zb(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,xt=s):Zb(t)}}function Zb(t){for(;xt!==null;){var e=xt;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:bi||q1(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!bi)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:ba(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Mb(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Mb(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&S0(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(rt(163))}bi||e.flags&512&&ox(e)}catch(d){sn(e,e.return,d)}}if(e===t){xt=null;break}if(r=e.sibling,r!==null){r.return=e.return,xt=r;break}xt=e.return}}function eS(t){for(;xt!==null;){var e=xt;if(e===t){xt=null;break}var r=e.sibling;if(r!==null){r.return=e.return,xt=r;break}xt=e.return}}function tS(t){for(;xt!==null;){var e=xt;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{q1(4,e)}catch(l){sn(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){sn(e,i,l)}}var s=e.return;try{ox(e)}catch(l){sn(e,s,l)}break;case 5:var a=e.return;try{ox(e)}catch(l){sn(e,a,l)}}}catch(l){sn(e,e.return,l)}if(e===t){xt=null;break}var o=e.sibling;if(o!==null){o.return=e.return,xt=o;break}xt=e.return}}var RD=Math.ceil,Wg=tl.ReactCurrentDispatcher,c5=tl.ReactCurrentOwner,Js=tl.ReactCurrentBatchConfig,ar=0,qn=null,Sn=null,ai=0,Es=0,zf=Pu(0),Ln=0,F0=null,Pc=0,$1=0,f5=0,Gd=null,rs=null,h5=0,xh=1/0,ko=null,Hg=!1,cx=null,lu=null,Em=!1,Xl=null,qg=0,Kd=0,fx=null,og=-1,lg=0;function Hi(){return ar&6?hn():og!==-1?og:og=hn()}function uu(t){return t.mode&1?ar&2&&ai!==0?ai&-ai:mD.transition!==null?(lg===0&&(lg=UA()),lg):(t=_r,t!==0||(t=window.event,t=t===void 0?16:KA(t.type)),t):1}function Pa(t,e,r,n){if(50<Kd)throw Kd=0,fx=null,Error(rt(185));hp(t,r,n),(!(ar&2)||t!==qn)&&(t===qn&&(!(ar&2)&&($1|=r),Ln===4&&Wl(t,ai)),us(t,n),r===1&&ar===0&&!(e.mode&1)&&(xh=hn()+500,z1&&Iu()))}function us(t,e){var r=t.callbackNode;mF(t,e);var n=kg(t,t===qn?ai:0);if(n===0)r!==null&&cb(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&cb(r),e===1)t.tag===0?pD(rS.bind(null,t)):dN(rS.bind(null,t)),cD(function(){!(ar&6)&&Iu()}),r=null;else{switch(zA(n)){case 1:r=jw;break;case 4:r=BA;break;case 16:r=Ng;break;case 536870912:r=VA;break;default:r=Ng}r=fk(r,ik.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function ik(t,e){if(og=-1,lg=0,ar&6)throw Error(rt(327));var r=t.callbackNode;if(rh()&&t.callbackNode!==r)return null;var n=kg(t,t===qn?ai:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=$g(t,n);else{e=n;var i=ar;ar|=2;var s=ak();(qn!==t||ai!==e)&&(ko=null,xh=hn()+500,vc(t,e));do try{DD();break}catch(o){sk(t,o)}while(!0);Qw(),Wg.current=s,ar=i,Sn!==null?e=0:(qn=null,ai=0,e=Ln)}if(e!==0){if(e===2&&(i=jy(t),i!==0&&(n=i,e=hx(t,i))),e===1)throw r=F0,vc(t,0),Wl(t,n),us(t,hn()),r;if(e===6)Wl(t,n);else{if(i=t.current.alternate,!(n&30)&&!LD(i)&&(e=$g(t,n),e===2&&(s=jy(t),s!==0&&(n=s,e=hx(t,s))),e===1))throw r=F0,vc(t,0),Wl(t,n),us(t,hn()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(rt(345));case 2:sc(t,rs,ko);break;case 3:if(Wl(t,n),(n&130023424)===n&&(e=h5+500-hn(),10<e)){if(kg(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Hi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=$y(sc.bind(null,t,rs,ko),e);break}sc(t,rs,ko);break;case 4:if(Wl(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-Ca(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=hn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*RD(n/1960))-n,10<n){t.timeoutHandle=$y(sc.bind(null,t,rs,ko),n);break}sc(t,rs,ko);break;case 5:sc(t,rs,ko);break;default:throw Error(rt(329))}}}return us(t,hn()),t.callbackNode===r?ik.bind(null,t):null}function hx(t,e){var r=Gd;return t.current.memoizedState.isDehydrated&&(vc(t,e).flags|=256),t=$g(t,e),t!==2&&(e=rs,rs=r,e!==null&&dx(e)),t}function dx(t){rs===null?rs=t:rs.push.apply(rs,t)}function LD(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Ra(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wl(t,e){for(e&=~f5,e&=~$1,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ca(e),n=1<<r;t[r]=-1,e&=~n}}function rS(t){if(ar&6)throw Error(rt(327));rh();var e=kg(t,0);if(!(e&1))return us(t,hn()),null;var r=$g(t,e);if(t.tag!==0&&r===2){var n=jy(t);n!==0&&(e=n,r=hx(t,n))}if(r===1)throw r=F0,vc(t,0),Wl(t,e),us(t,hn()),r;if(r===6)throw Error(rt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,sc(t,rs,ko),us(t,hn()),null}function d5(t,e){var r=ar;ar|=1;try{return t(e)}finally{ar=r,ar===0&&(xh=hn()+500,z1&&Iu())}}function Ic(t){Xl!==null&&Xl.tag===0&&!(ar&6)&&rh();var e=ar;ar|=1;var r=Js.transition,n=_r;try{if(Js.transition=null,_r=1,t)return t()}finally{_r=n,Js.transition=r,ar=e,!(ar&6)&&Iu()}}function p5(){Es=zf.current,Ur(zf)}function vc(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,uD(r)),Sn!==null)for(r=Sn.return;r!==null;){var n=r;switch(Kw(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Lg();break;case 3:vh(),Ur(os),Ur(Pi),n5();break;case 5:r5(n);break;case 4:vh();break;case 13:Ur(Gr);break;case 19:Ur(Gr);break;case 10:Jw(n.type._context);break;case 22:case 23:p5()}r=r.return}if(qn=t,Sn=t=cu(t.current,null),ai=Es=e,Ln=0,F0=null,f5=$1=Pc=0,rs=Gd=null,fc!==null){for(e=0;e<fc.length;e++)if(r=fc[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}fc=null}return t}function sk(t,e){do{var r=Sn;try{if(Qw(),ig.current=zg,Ug){for(var n=Yr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ug=!1}if(Cc=0,Vn=In=Yr=null,qd=!1,I0=0,c5.current=null,r===null||r.return===null){Ln=1,F0=e,Sn=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=ai,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=Wb(a);if(h!==null){h.flags&=-257,Hb(h,a,o,s,e),h.mode&1&&zb(s,u,e),e=h,l=u;var v=e.updateQueue;if(v===null){var g=new Set;g.add(l),e.updateQueue=g}else v.add(l);break e}else{if(!(e&1)){zb(s,u,e),m5();break e}l=Error(rt(426))}}else if(Hr&&o.mode&1){var S=Wb(a);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Hb(S,a,o,s,e),Yw(yh(l,o));break e}}s=l=yh(l,o),Ln!==4&&(Ln=2),Gd===null?Gd=[s]:Gd.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=zN(s,l,e);Ob(s,_);break e;case 1:o=l;var b=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(lu===null||!lu.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var L=WN(s,o,e);Ob(s,L);break e}}s=s.return}while(s!==null)}lk(r)}catch(j){e=j,Sn===r&&r!==null&&(Sn=r=r.return);continue}break}while(!0)}function ak(){var t=Wg.current;return Wg.current=zg,t===null?zg:t}function m5(){(Ln===0||Ln===3||Ln===2)&&(Ln=4),qn===null||!(Pc&268435455)&&!($1&268435455)||Wl(qn,ai)}function $g(t,e){var r=ar;ar|=2;var n=ak();(qn!==t||ai!==e)&&(ko=null,vc(t,e));do try{FD();break}catch(i){sk(t,i)}while(!0);if(Qw(),ar=r,Wg.current=n,Sn!==null)throw Error(rt(261));return qn=null,ai=0,Ln}function FD(){for(;Sn!==null;)ok(Sn)}function DD(){for(;Sn!==null&&!aF();)ok(Sn)}function ok(t){var e=ck(t.alternate,t,Es);t.memoizedProps=t.pendingProps,e===null?lk(t):Sn=e,c5.current=null}function lk(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=kD(r,e),r!==null){r.flags&=32767,Sn=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ln=6,Sn=null;return}}else if(r=ND(r,e,Es),r!==null){Sn=r;return}if(e=e.sibling,e!==null){Sn=e;return}Sn=e=t}while(e!==null);Ln===0&&(Ln=5)}function sc(t,e,r){var n=_r,i=Js.transition;try{Js.transition=null,_r=1,OD(t,e,r,n)}finally{Js.transition=i,_r=n}return null}function OD(t,e,r,n){do rh();while(Xl!==null);if(ar&6)throw Error(rt(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(rt(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(gF(t,s),t===qn&&(Sn=qn=null,ai=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Em||(Em=!0,fk(Ng,function(){return rh(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Js.transition,Js.transition=null;var a=_r;_r=1;var o=ar;ar|=4,c5.current=null,PD(t,r),rk(r,t),rD(Hy),Cg=!!Wy,Hy=Wy=null,t.current=r,ID(r),oF(),ar=o,_r=a,Js.transition=s}else t.current=r;if(Em&&(Em=!1,Xl=t,qg=i),s=t.pendingLanes,s===0&&(lu=null),cF(r.stateNode),us(t,hn()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Hg)throw Hg=!1,t=cx,cx=null,t;return qg&1&&t.tag!==0&&rh(),s=t.pendingLanes,s&1?t===fx?Kd++:(Kd=0,fx=t):Kd=0,Iu(),null}function rh(){if(Xl!==null){var t=zA(qg),e=Js.transition,r=_r;try{if(Js.transition=null,_r=16>t?16:t,Xl===null)var n=!1;else{if(t=Xl,Xl=null,qg=0,ar&6)throw Error(rt(331));var i=ar;for(ar|=4,xt=t.current;xt!==null;){var s=xt,a=s.child;if(xt.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(xt=u;xt!==null;){var c=xt;switch(c.tag){case 0:case 11:case 15:$d(8,c,s)}var f=c.child;if(f!==null)f.return=c,xt=f;else for(;xt!==null;){c=xt;var d=c.sibling,h=c.return;if(ZN(c),c===u){xt=null;break}if(d!==null){d.return=h,xt=d;break}xt=h}}}var v=s.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var S=g.sibling;g.sibling=null,g=S}while(g!==null)}}xt=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,xt=a;else e:for(;xt!==null;){if(s=xt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:$d(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,xt=_;break e}xt=s.return}}var b=t.current;for(xt=b;xt!==null;){a=xt;var T=a.child;if(a.subtreeFlags&2064&&T!==null)T.return=a,xt=T;else e:for(a=b;xt!==null;){if(o=xt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:q1(9,o)}}catch(j){sn(o,o.return,j)}if(o===a){xt=null;break e}var L=o.sibling;if(L!==null){L.return=o.return,xt=L;break e}xt=o.return}}if(ar=i,Iu(),Za&&typeof Za.onPostCommitFiberRoot=="function")try{Za.onPostCommitFiberRoot(M1,t)}catch{}n=!0}return n}finally{_r=r,Js.transition=e}}return!1}function nS(t,e,r){e=yh(r,e),e=zN(t,e,1),t=ou(t,e,1),e=Hi(),t!==null&&(hp(t,1,e),us(t,e))}function sn(t,e,r){if(t.tag===3)nS(t,t,r);else for(;e!==null;){if(e.tag===3){nS(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(lu===null||!lu.has(n))){t=yh(r,t),t=WN(e,t,1),e=ou(e,t,1),t=Hi(),e!==null&&(hp(e,1,t),us(e,t));break}}e=e.return}}function MD(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Hi(),t.pingedLanes|=t.suspendedLanes&r,qn===t&&(ai&r)===r&&(Ln===4||Ln===3&&(ai&130023424)===ai&&500>hn()-h5?vc(t,0):f5|=r),us(t,e)}function uk(t,e){e===0&&(t.mode&1?(e=mm,mm<<=1,!(mm&130023424)&&(mm=4194304)):e=1);var r=Hi();t=Ho(t,e),t!==null&&(hp(t,e,r),us(t,r))}function jD(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),uk(t,r)}function BD(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(rt(314))}n!==null&&n.delete(e),uk(t,r)}var ck;ck=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||os.current)ss=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return ss=!1,AD(t,e,r);ss=!!(t.flags&131072)}else ss=!1,Hr&&e.flags&1048576&&pN(e,Og,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;ag(t,e),t=e.pendingProps;var i=ph(e,Pi.current);th(e,r),i=s5(null,e,n,t,i,r);var s=a5();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ls(n)?(s=!0,Fg(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,e5(e),i.updater=H1,e.stateNode=i,i._reactInternals=e,Zy(e,n,t,r),e=rx(null,e,n,!0,s,r)):(e.tag=0,Hr&&s&&Gw(e),Vi(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(ag(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=UD(n),t=ba(n,t),i){case 0:e=tx(null,e,n,t,r);break e;case 1:e=Gb(null,e,n,t,r);break e;case 11:e=qb(null,e,n,t,r);break e;case 14:e=$b(null,e,n,ba(n.type,t),r);break e}throw Error(rt(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ba(n,i),tx(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ba(n,i),Gb(t,e,n,i,r);case 3:e:{if(GN(e),t===null)throw Error(rt(387));n=e.pendingProps,s=e.memoizedState,i=s.element,wN(t,e),Bg(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=yh(Error(rt(423)),e),e=Kb(t,e,n,r,i);break e}else if(n!==i){i=yh(Error(rt(424)),e),e=Kb(t,e,n,r,i);break e}else for(Cs=au(e.stateNode.containerInfo.firstChild),Rs=e,Hr=!0,Aa=null,r=yN(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(mh(),n===i){e=qo(t,e,r);break e}Vi(t,e,n,r)}e=e.child}return e;case 5:return _N(e),t===null&&Xy(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,qy(n,i)?a=null:s!==null&&qy(n,s)&&(e.flags|=32),$N(t,e),Vi(t,e,a,r),e.child;case 6:return t===null&&Xy(e),null;case 13:return KN(t,e,r);case 4:return t5(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=gh(e,null,n,r):Vi(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ba(n,i),qb(t,e,n,i,r);case 7:return Vi(t,e,e.pendingProps,r),e.child;case 8:return Vi(t,e,e.pendingProps.children,r),e.child;case 12:return Vi(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Fr(Mg,n._currentValue),n._currentValue=a,s!==null)if(Ra(s.value,a)){if(s.children===i.children&&!os.current){e=qo(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Oo(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),Qy(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(rt(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),Qy(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Vi(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,th(e,r),i=ra(i),n=n(i),e.flags|=1,Vi(t,e,n,r),e.child;case 14:return n=e.type,i=ba(n,e.pendingProps),i=ba(n.type,i),$b(t,e,n,i,r);case 15:return HN(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ba(n,i),ag(t,e),e.tag=1,ls(n)?(t=!0,Fg(e)):t=!1,th(e,r),UN(e,n,i),Zy(e,n,i,r),rx(null,e,n,!0,t,r);case 19:return YN(t,e,r);case 22:return qN(t,e,r)}throw Error(rt(156,e.tag))};function fk(t,e){return jA(t,e)}function VD(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qs(t,e,r,n){return new VD(t,e,r,n)}function g5(t){return t=t.prototype,!(!t||!t.isReactComponent)}function UD(t){if(typeof t=="function")return g5(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Dw)return 11;if(t===Ow)return 14}return 2}function cu(t,e){var r=t.alternate;return r===null?(r=Qs(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function ug(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")g5(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Rf:return yc(r.children,i,s,e);case Fw:a=8,i|=8;break;case Sy:return t=Qs(12,r,e,i|2),t.elementType=Sy,t.lanes=s,t;case Ty:return t=Qs(13,r,e,i),t.elementType=Ty,t.lanes=s,t;case Ey:return t=Qs(19,r,e,i),t.elementType=Ey,t.lanes=s,t;case _A:return G1(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xA:a=10;break e;case wA:a=9;break e;case Dw:a=11;break e;case Ow:a=14;break e;case Vl:a=16,n=null;break e}throw Error(rt(130,t==null?t:typeof t,""))}return e=Qs(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function yc(t,e,r,n){return t=Qs(7,t,n,e),t.lanes=r,t}function G1(t,e,r,n){return t=Qs(22,t,n,e),t.elementType=_A,t.lanes=r,t.stateNode={isHidden:!1},t}function k2(t,e,r){return t=Qs(6,t,null,e),t.lanes=r,t}function C2(t,e,r){return e=Qs(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function zD(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=u2(0),this.expirationTimes=u2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=u2(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function v5(t,e,r,n,i,s,a,o,l){return t=new zD(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Qs(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},e5(s),t}function WD(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:If,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function hk(t){if(!t)return yu;t=t._reactInternals;e:{if(zc(t)!==t||t.tag!==1)throw Error(rt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ls(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(rt(171))}if(t.tag===1){var r=t.type;if(ls(r))return hN(t,r,e)}return e}function dk(t,e,r,n,i,s,a,o,l){return t=v5(r,n,!0,t,i,s,a,o,l),t.context=hk(null),r=t.current,n=Hi(),i=uu(r),s=Oo(n,i),s.callback=e??null,ou(r,s,i),t.current.lanes=i,hp(t,i,n),us(t,n),t}function K1(t,e,r,n){var i=e.current,s=Hi(),a=uu(i);return r=hk(r),e.context===null?e.context=r:e.pendingContext=r,e=Oo(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=ou(i,e,a),t!==null&&(Pa(t,i,a,s),ng(t,i,a)),a}function Gg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function iS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function y5(t,e){iS(t,e),(t=t.alternate)&&iS(t,e)}function HD(){return null}var pk=typeof reportError=="function"?reportError:function(t){console.error(t)};function x5(t){this._internalRoot=t}Y1.prototype.render=x5.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(rt(409));K1(t,e,null,null)};Y1.prototype.unmount=x5.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ic(function(){K1(null,t,null,null)}),e[Wo]=null}};function Y1(t){this._internalRoot=t}Y1.prototype.unstable_scheduleHydration=function(t){if(t){var e=qA();t={blockedOn:null,target:t,priority:e};for(var r=0;r<zl.length&&e!==0&&e<zl[r].priority;r++);zl.splice(r,0,t),r===0&&GA(t)}};function w5(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function X1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function sS(){}function qD(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=Gg(a);s.call(u)}}var a=dk(e,n,t,0,null,!1,!1,"",sS);return t._reactRootContainer=a,t[Wo]=a.current,A0(t.nodeType===8?t.parentNode:t),Ic(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=Gg(l);o.call(u)}}var l=v5(t,0,!1,null,null,!1,!1,"",sS);return t._reactRootContainer=l,t[Wo]=l.current,A0(t.nodeType===8?t.parentNode:t),Ic(function(){K1(e,l,r,n)}),l}function Q1(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=Gg(a);o.call(l)}}K1(e,a,t,i)}else a=qD(r,e,t,i,n);return Gg(a)}WA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Cd(e.pendingLanes);r!==0&&(Bw(e,r|1),us(e,hn()),!(ar&6)&&(xh=hn()+500,Iu()))}break;case 13:Ic(function(){var n=Ho(t,1);if(n!==null){var i=Hi();Pa(n,t,1,i)}}),y5(t,1)}};Vw=function(t){if(t.tag===13){var e=Ho(t,134217728);if(e!==null){var r=Hi();Pa(e,t,134217728,r)}y5(t,134217728)}};HA=function(t){if(t.tag===13){var e=uu(t),r=Ho(t,e);if(r!==null){var n=Hi();Pa(r,t,e,n)}y5(t,e)}};qA=function(){return _r};$A=function(t,e){var r=_r;try{return _r=t,e()}finally{_r=r}};Dy=function(t,e,r){switch(e){case"input":if(ky(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=U1(n);if(!i)throw Error(rt(90));SA(n),ky(n,i)}}}break;case"textarea":EA(t,r);break;case"select":e=r.value,e!=null&&Qf(t,!!r.multiple,e,!1)}};RA=d5;LA=Ic;var $D={usingClientEntryPoint:!1,Events:[pp,Of,U1,PA,IA,d5]},wd={findFiberByHostInstance:cc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GD={bundleType:wd.bundleType,version:wd.version,rendererPackageName:wd.rendererPackageName,rendererConfig:wd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=OA(t),t===null?null:t.stateNode},findFiberByHostInstance:wd.findFiberByHostInstance||HD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Am=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Am.isDisabled&&Am.supportsFiber)try{M1=Am.inject(GD),Za=Am}catch{}}Ds.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$D;Ds.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w5(e))throw Error(rt(200));return WD(t,e,null,r)};Ds.createRoot=function(t,e){if(!w5(t))throw Error(rt(299));var r=!1,n="",i=pk;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=v5(t,1,!1,null,null,r,!1,n,i),t[Wo]=e.current,A0(t.nodeType===8?t.parentNode:t),new x5(e)};Ds.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(rt(188)):(t=Object.keys(t).join(","),Error(rt(268,t)));return t=OA(e),t=t===null?null:t.stateNode,t};Ds.flushSync=function(t){return Ic(t)};Ds.hydrate=function(t,e,r){if(!X1(e))throw Error(rt(200));return Q1(null,t,e,!0,r)};Ds.hydrateRoot=function(t,e,r){if(!w5(t))throw Error(rt(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=pk;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=dk(e,null,t,1,r??null,i,!1,s,a),t[Wo]=e.current,A0(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Y1(e)};Ds.render=function(t,e,r){if(!X1(e))throw Error(rt(200));return Q1(null,t,e,!1,r)};Ds.unmountComponentAtNode=function(t){if(!X1(t))throw Error(rt(40));return t._reactRootContainer?(Ic(function(){Q1(null,null,t,!1,function(){t._reactRootContainer=null,t[Wo]=null})}),!0):!1};Ds.unstable_batchedUpdates=d5;Ds.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!X1(r))throw Error(rt(200));if(t==null||t._reactInternals===void 0)throw Error(rt(38));return Q1(t,e,r,!1,n)};Ds.version="18.3.1-next-f1338f8080-20240426";function mk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mk)}catch(t){console.error(t)}}mk(),mA.exports=Ds;var KD=mA.exports,aS=KD;_y.createRoot=aS.createRoot,_y.hydrateRoot=aS.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function D0(){return D0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},D0.apply(this,arguments)}var Ql;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ql||(Ql={}));const oS="popstate";function YD(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return px("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Kg(i)}return QD(e,r,null,t)}function gn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gk(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function XD(){return Math.random().toString(36).substr(2,8)}function lS(t,e){return{usr:t.state,key:t.key,idx:e}}function px(t,e,r,n){return r===void 0&&(r=null),D0({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Fh(e):e,{state:r,key:e&&e.key||n||XD()})}function Kg(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Fh(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function QD(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=Ql.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(D0({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function f(){o=Ql.Pop;let S=c(),_=S==null?null:S-u;u=S,l&&l({action:o,location:g.location,delta:_})}function d(S,_){o=Ql.Push;let b=px(g.location,S,_);u=c()+1;let T=lS(b,u),L=g.createHref(b);try{a.pushState(T,"",L)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(L)}s&&l&&l({action:o,location:g.location,delta:1})}function h(S,_){o=Ql.Replace;let b=px(g.location,S,_);u=c();let T=lS(b,u),L=g.createHref(b);a.replaceState(T,"",L),s&&l&&l({action:o,location:g.location,delta:0})}function v(S){let _=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof S=="string"?S:Kg(S);return b=b.replace(/ $/,"%20"),gn(_,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,_)}let g={get action(){return o},get location(){return t(i,a)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(oS,f),l=S,()=>{i.removeEventListener(oS,f),l=null}},createHref(S){return e(i,S)},createURL:v,encodeLocation(S){let _=v(S);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:d,replace:h,go(S){return a.go(S)}};return g}var uS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(uS||(uS={}));function JD(t,e,r){return r===void 0&&(r="/"),ZD(t,e,r)}function ZD(t,e,r,n){let i=typeof e=="string"?Fh(e):e,s=_5(i.pathname||"/",r);if(s==null)return null;let a=vk(t);e7(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=h7(s);o=u7(a[l],u)}return o}function vk(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(gn(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=fu([n,l.relativePath]),c=r.concat(l);s.children&&s.children.length>0&&(gn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),vk(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:o7(u,s.index),routesMeta:c})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of yk(s.path))i(s,a,l)}),e}function yk(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=yk(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function e7(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:l7(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const t7=/^:[\w-]+$/,r7=3,n7=2,i7=1,s7=10,a7=-2,cS=t=>t==="*";function o7(t,e){let r=t.split("/"),n=r.length;return r.some(cS)&&(n+=a7),e&&(n+=n7),r.filter(i=>!cS(i)).reduce((i,s)=>i+(t7.test(s)?r7:s===""?i7:s7),n)}function l7(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function u7(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",f=c7({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:fu([s,f.pathname]),pathnameBase:g7(fu([s,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(s=fu([s,f.pathnameBase]))}return a}function c7(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=f7(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,c,f)=>{let{paramName:d,isOptional:h}=c;if(d==="*"){let g=o[f]||"";a=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const v=o[f];return h&&!v?u[d]=void 0:u[d]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function f7(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),gk(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function h7(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gk(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function _5(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function d7(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Fh(t):t;return{pathname:r?r.startsWith("/")?r:p7(r,e):e,search:v7(n),hash:y7(i)}}function p7(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function P2(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function m7(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function b5(t,e){let r=m7(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function S5(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Fh(t):(i=D0({},t),gn(!i.pathname||!i.pathname.includes("?"),P2("?","pathname","search",i)),gn(!i.pathname||!i.pathname.includes("#"),P2("#","pathname","hash",i)),gn(!i.search||!i.search.includes("#"),P2("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let f=e.length-1;if(!n&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}o=f>=0?e[f]:"/"}let l=d7(i,o),u=a&&a!=="/"&&a.endsWith("/"),c=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const fu=t=>t.join("/").replace(/\/\/+/g,"/"),g7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),v7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,y7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function x7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const xk=["post","put","patch","delete"];new Set(xk);const w7=["get",...xk];new Set(w7);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function O0(){return O0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},O0.apply(this,arguments)}const T5=ye.createContext(null),_7=ye.createContext(null),Ru=ye.createContext(null),J1=ye.createContext(null),Lu=ye.createContext({outlet:null,matches:[],isDataRoute:!1}),wk=ye.createContext(null);function b7(t,e){let{relative:r}=e===void 0?{}:e;Dh()||gn(!1);let{basename:n,navigator:i}=ye.useContext(Ru),{hash:s,pathname:a,search:o}=bk(t,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:fu([n,a])),i.createHref({pathname:l,search:o,hash:s})}function Dh(){return ye.useContext(J1)!=null}function rl(){return Dh()||gn(!1),ye.useContext(J1).location}function _k(t){ye.useContext(Ru).static||ye.useLayoutEffect(t)}function Oh(){let{isDataRoute:t}=ye.useContext(Lu);return t?D7():S7()}function S7(){Dh()||gn(!1);let t=ye.useContext(T5),{basename:e,future:r,navigator:n}=ye.useContext(Ru),{matches:i}=ye.useContext(Lu),{pathname:s}=rl(),a=JSON.stringify(b5(i,r.v7_relativeSplatPath)),o=ye.useRef(!1);return _k(()=>{o.current=!0}),ye.useCallback(function(u,c){if(c===void 0&&(c={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=S5(u,JSON.parse(a),s,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:fu([e,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[e,n,a,s,t])}function bk(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=ye.useContext(Ru),{matches:i}=ye.useContext(Lu),{pathname:s}=rl(),a=JSON.stringify(b5(i,n.v7_relativeSplatPath));return ye.useMemo(()=>S5(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function T7(t,e){return E7(t,e)}function E7(t,e,r,n){Dh()||gn(!1);let{navigator:i}=ye.useContext(Ru),{matches:s}=ye.useContext(Lu),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=rl(),c;if(e){var f;let S=typeof e=="string"?Fh(e):e;l==="/"||(f=S.pathname)!=null&&f.startsWith(l)||gn(!1),c=S}else c=u;let d=c.pathname||"/",h=d;if(l!=="/"){let S=l.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(S.length).join("/")}let v=JD(t,{pathname:h}),g=P7(v&&v.map(S=>Object.assign({},S,{params:Object.assign({},o,S.params),pathname:fu([l,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:fu([l,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,r,n);return e&&g?ye.createElement(J1.Provider,{value:{location:O0({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Ql.Pop}},g):g}function A7(){let t=F7(),e=x7(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ye.createElement(ye.Fragment,null,ye.createElement("h2",null,"Unexpected Application Error!"),ye.createElement("h3",{style:{fontStyle:"italic"}},e),r?ye.createElement("pre",{style:i},r):null,null)}const N7=ye.createElement(A7,null);class k7 extends ye.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?ye.createElement(Lu.Provider,{value:this.props.routeContext},ye.createElement(wk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function C7(t){let{routeContext:e,match:r,children:n}=t,i=ye.useContext(T5);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),ye.createElement(Lu.Provider,{value:e},n)}function P7(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let c=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);c>=0||gn(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<a.length;c++){let f=a[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:d,errors:h}=r,v=f.route.loader&&d[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||v){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,f,d)=>{let h,v=!1,g=null,S=null;r&&(h=o&&f.route.id?o[f.route.id]:void 0,g=f.route.errorElement||N7,l&&(u<0&&d===0?(O7("route-fallback"),v=!0,S=null):u===d&&(v=!0,S=f.route.hydrateFallbackElement||null)));let _=e.concat(a.slice(0,d+1)),b=()=>{let T;return h?T=g:v?T=S:f.route.Component?T=ye.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=c,ye.createElement(C7,{match:f,routeContext:{outlet:c,matches:_,isDataRoute:r!=null},children:T})};return r&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?ye.createElement(k7,{location:r.location,revalidation:r.revalidation,component:g,error:h,children:b(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):b()},null)}var Sk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Sk||{}),Tk=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Tk||{});function I7(t){let e=ye.useContext(T5);return e||gn(!1),e}function R7(t){let e=ye.useContext(_7);return e||gn(!1),e}function L7(t){let e=ye.useContext(Lu);return e||gn(!1),e}function Ek(t){let e=L7(),r=e.matches[e.matches.length-1];return r.route.id||gn(!1),r.route.id}function F7(){var t;let e=ye.useContext(wk),r=R7(),n=Ek();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function D7(){let{router:t}=I7(Sk.UseNavigateStable),e=Ek(Tk.UseNavigateStable),r=ye.useRef(!1);return _k(()=>{r.current=!0}),ye.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,O0({fromRouteId:e},s)))},[t,e])}const fS={};function O7(t,e,r){fS[t]||(fS[t]=!0)}function M7(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ak(t){let{to:e,replace:r,state:n,relative:i}=t;Dh()||gn(!1);let{future:s,static:a}=ye.useContext(Ru),{matches:o}=ye.useContext(Lu),{pathname:l}=rl(),u=Oh(),c=S5(e,b5(o,s.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(c);return ye.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:i}),[u,f,i,r,n]),null}function wa(t){gn(!1)}function j7(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Ql.Pop,navigator:s,static:a=!1,future:o}=t;Dh()&&gn(!1);let l=e.replace(/^\/*/,"/"),u=ye.useMemo(()=>({basename:l,navigator:s,static:a,future:O0({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=Fh(n));let{pathname:c="/",search:f="",hash:d="",state:h=null,key:v="default"}=n,g=ye.useMemo(()=>{let S=_5(c,l);return S==null?null:{location:{pathname:S,search:f,hash:d,state:h,key:v},navigationType:i}},[l,c,f,d,h,v,i]);return g==null?null:ye.createElement(Ru.Provider,{value:u},ye.createElement(J1.Provider,{children:r,value:g}))}function B7(t){let{children:e,location:r}=t;return T7(mx(e),r)}new Promise(()=>{});function mx(t,e){e===void 0&&(e=[]);let r=[];return ye.Children.forEach(t,(n,i)=>{if(!ye.isValidElement(n))return;let s=[...e,i];if(n.type===ye.Fragment){r.push.apply(r,mx(n.props.children,s));return}n.type!==wa&&gn(!1),!n.props.index||!n.props.children||gn(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=mx(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gx(){return gx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gx.apply(this,arguments)}function V7(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function U7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function z7(t,e){return t.button===0&&(!e||e==="_self")&&!U7(t)}const W7=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],H7="6";try{window.__reactRouterVersion=H7}catch{}const q7="startTransition",hS=M8[q7];function $7(t){let{basename:e,children:r,future:n,window:i}=t,s=ye.useRef();s.current==null&&(s.current=YD({window:i,v5Compat:!0}));let a=s.current,[o,l]=ye.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},c=ye.useCallback(f=>{u&&hS?hS(()=>l(f)):l(f)},[l,u]);return ye.useLayoutEffect(()=>a.listen(c),[a,c]),ye.useEffect(()=>M7(n),[n]),ye.createElement(j7,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const G7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",K7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Po=ye.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:c,viewTransition:f}=e,d=V7(e,W7),{basename:h}=ye.useContext(Ru),v,g=!1;if(typeof u=="string"&&K7.test(u)&&(v=u,G7))try{let T=new URL(window.location.href),L=u.startsWith("//")?new URL(T.protocol+u):new URL(u),j=_5(L.pathname,h);L.origin===T.origin&&j!=null?u=j+L.search+L.hash:g=!0}catch{}let S=b7(u,{relative:i}),_=Y7(u,{replace:a,state:o,target:l,preventScrollReset:c,relative:i,viewTransition:f});function b(T){n&&n(T),T.defaultPrevented||_(T)}return ye.createElement("a",gx({},d,{href:v||S,onClick:g||s?n:b,ref:r,target:l}))});var dS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(dS||(dS={}));var pS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(pS||(pS={}));function Y7(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=Oh(),u=rl(),c=bk(t,{relative:a});return ye.useCallback(f=>{if(z7(f,r)){f.preventDefault();let d=n!==void 0?n:Kg(u)===Kg(c);l(t,{replace:d,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[u,l,c,n,i,r,t,s,a,o])}var mS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},X7=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],a=t[r++],o=t[r++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const s=t[r++],a=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},kk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,f=(s&3)<<4|o>>4;let d=(o&15)<<2|u>>6,h=u&63;l||(h=64,a||(d=64)),n.push(r[c],r[f],r[d],r[h])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Nk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):X7(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],o=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const f=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||o==null||u==null||f==null)throw new Q7;const d=s<<2|o>>4;if(n.push(d),u!==64){const h=o<<4&240|u>>2;if(n.push(h),f!==64){const v=u<<6&192|f;n.push(v)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Q7 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const J7=function(t){const e=Nk(t);return kk.encodeByteArray(e,!0)},Yg=function(t){return J7(t).replace(/\./g,"")},Ck=function(t){try{return kk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z7(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO=()=>Z7().__FIREBASE_DEFAULTS__,tO=()=>{if(typeof process>"u"||typeof mS>"u")return;const t=mS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},rO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ck(t[1]);return e&&JSON.parse(e)},Z1=()=>{try{return eO()||tO()||rO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Pk=t=>{var e,r;return(r=(e=Z1())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},nO=t=>{const e=Pk(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},Ik=()=>{var t;return(t=Z1())===null||t===void 0?void 0:t.config},Rk=t=>{var e;return(e=Z1())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Yg(JSON.stringify(r)),Yg(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ii())}function oO(){var t;const e=(t=Z1())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function cO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fO(){const t=Ii();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function hO(){return!oO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dO(){try{return typeof indexedDB=="object"}catch{return!1}}function pO(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO="FirebaseError";class nl extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=mO,Object.setPrototypeOf(this,nl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gp.prototype.create)}}class gp{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?gO(s,n):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new nl(i,o,n)}}function gO(t,e){return t.replace(vO,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const vO=/\{\$([^}]+)}/g;function yO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xg(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],a=e[i];if(gS(s)&&gS(a)){if(!Xg(s,a))return!1}else if(s!==a)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function gS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Id(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Rd(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function xO(t,e){const r=new wO(t,e);return r.subscribe.bind(r)}class wO{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");_O(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=I2),i.error===void 0&&(i.error=I2),i.complete===void 0&&(i.complete=I2);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _O(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function I2(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(t){return t&&t._delegate?t._delegate:t}class Rc{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new iO;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TO(e))try{this.getOrInitializeService({instanceIdentifier:ac})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=ac){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ac){return this.instances.has(e)}getOptions(e=ac){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);n===o&&a.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:SO(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=ac){return this.component?this.component.multipleInstances?e:ac:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SO(t){return t===ac?void 0:t}function TO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new bO(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var er;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(er||(er={}));const AO={debug:er.DEBUG,verbose:er.VERBOSE,info:er.INFO,warn:er.WARN,error:er.ERROR,silent:er.SILENT},NO=er.INFO,kO={[er.DEBUG]:"log",[er.VERBOSE]:"log",[er.INFO]:"info",[er.WARN]:"warn",[er.ERROR]:"error"},CO=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=kO[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class E5{constructor(e){this.name=e,this._logLevel=NO,this._logHandler=CO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in er))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,er.DEBUG,...e),this._logHandler(this,er.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,er.VERBOSE,...e),this._logHandler(this,er.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,er.INFO,...e),this._logHandler(this,er.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,er.WARN,...e),this._logHandler(this,er.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,er.ERROR,...e),this._logHandler(this,er.ERROR,...e)}}const PO=(t,e)=>e.some(r=>t instanceof r);let vS,yS;function IO(){return vS||(vS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RO(){return yS||(yS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Lk=new WeakMap,vx=new WeakMap,Fk=new WeakMap,R2=new WeakMap,A5=new WeakMap;function LO(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{r(hu(t.result)),i()},a=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(r=>{r instanceof IDBCursor&&Lk.set(r,t)}).catch(()=>{}),A5.set(e,t),e}function FO(t){if(vx.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{r(),i()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});vx.set(t,e)}let yx={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return vx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Fk.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return hu(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function DO(t){yx=t(yx)}function OO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(L2(this),e,...r);return Fk.set(n,e.sort?e.sort():[e]),hu(n)}:RO().includes(t)?function(...e){return t.apply(L2(this),e),hu(Lk.get(this))}:function(...e){return hu(t.apply(L2(this),e))}}function MO(t){return typeof t=="function"?OO(t):(t instanceof IDBTransaction&&FO(t),PO(t,IO())?new Proxy(t,yx):t)}function hu(t){if(t instanceof IDBRequest)return LO(t);if(R2.has(t))return R2.get(t);const e=MO(t);return e!==t&&(R2.set(t,e),A5.set(e,t)),e}const L2=t=>A5.get(t);function jO(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=hu(a);return n&&a.addEventListener("upgradeneeded",l=>{n(hu(a.result),l.oldVersion,l.newVersion,hu(a.transaction),l)}),r&&a.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const BO=["get","getKey","getAll","getAllKeys","count"],VO=["put","add","delete","clear"],F2=new Map;function xS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(F2.get(e))return F2.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=VO.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||BO.includes(r)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[r](...o),i&&l.done]))[0]};return F2.set(e,s),s}DO(t=>({...t,get:(e,r,n)=>xS(e,r)||t.get(e,r,n),has:(e,r)=>!!xS(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(zO(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function zO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xx="@firebase/app",wS="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=new E5("@firebase/app"),WO="@firebase/app-compat",HO="@firebase/analytics-compat",qO="@firebase/analytics",$O="@firebase/app-check-compat",GO="@firebase/app-check",KO="@firebase/auth",YO="@firebase/auth-compat",XO="@firebase/database",QO="@firebase/data-connect",JO="@firebase/database-compat",ZO="@firebase/functions",eM="@firebase/functions-compat",tM="@firebase/installations",rM="@firebase/installations-compat",nM="@firebase/messaging",iM="@firebase/messaging-compat",sM="@firebase/performance",aM="@firebase/performance-compat",oM="@firebase/remote-config",lM="@firebase/remote-config-compat",uM="@firebase/storage",cM="@firebase/storage-compat",fM="@firebase/firestore",hM="@firebase/vertexai-preview",dM="@firebase/firestore-compat",pM="firebase",mM="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx="[DEFAULT]",gM={[xx]:"fire-core",[WO]:"fire-core-compat",[qO]:"fire-analytics",[HO]:"fire-analytics-compat",[GO]:"fire-app-check",[$O]:"fire-app-check-compat",[KO]:"fire-auth",[YO]:"fire-auth-compat",[XO]:"fire-rtdb",[QO]:"fire-data-connect",[JO]:"fire-rtdb-compat",[ZO]:"fire-fn",[eM]:"fire-fn-compat",[tM]:"fire-iid",[rM]:"fire-iid-compat",[nM]:"fire-fcm",[iM]:"fire-fcm-compat",[sM]:"fire-perf",[aM]:"fire-perf-compat",[oM]:"fire-rc",[lM]:"fire-rc-compat",[uM]:"fire-gcs",[cM]:"fire-gcs-compat",[fM]:"fire-fst",[dM]:"fire-fst-compat",[hM]:"fire-vertex","fire-js":"fire-js",[pM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg=new Map,vM=new Map,_x=new Map;function _S(t,e){try{t.container.addComponent(e)}catch(r){$o.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function wh(t){const e=t.name;if(_x.has(e))return $o.debug(`There were multiple attempts to register component ${e}.`),!1;_x.set(e,t);for(const r of Qg.values())_S(r,t);for(const r of vM.values())_S(r,t);return!0}function N5(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Qa(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},du=new gp("app","Firebase",yM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Rc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw du.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=mM;function Dk(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:wx,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw du.create("bad-app-name",{appName:String(i)});if(r||(r=Ik()),!r)throw du.create("no-options");const s=Qg.get(i);if(s){if(Xg(r,s.options)&&Xg(n,s.config))return s;throw du.create("duplicate-app",{appName:i})}const a=new EO(i);for(const l of _x.values())a.addComponent(l);const o=new xM(r,n,a);return Qg.set(i,o),o}function Ok(t=wx){const e=Qg.get(t);if(!e&&t===wx&&Ik())return Dk();if(!e)throw du.create("no-app",{appName:t});return e}function pu(t,e,r){var n;let i=(n=gM[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$o.warn(o.join(" "));return}wh(new Rc(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM="firebase-heartbeat-database",_M=1,M0="firebase-heartbeat-store";let D2=null;function Mk(){return D2||(D2=jO(wM,_M,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(M0)}catch(r){console.warn(r)}}}}).catch(t=>{throw du.create("idb-open",{originalErrorMessage:t.message})})),D2}async function bM(t){try{const r=(await Mk()).transaction(M0),n=await r.objectStore(M0).get(jk(t));return await r.done,n}catch(e){if(e instanceof nl)$o.warn(e.message);else{const r=du.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$o.warn(r.message)}}}async function bS(t,e){try{const n=(await Mk()).transaction(M0,"readwrite");await n.objectStore(M0).put(e,jk(t)),await n.done}catch(r){if(r instanceof nl)$o.warn(r.message);else{const n=du.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});$o.warn(n.message)}}}function jk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM=1024,TM=30*24*60*60*1e3;class EM{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new NM(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=SS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=TM}),this._storage.overwrite(this._heartbeatsCache))}catch(n){$o.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=SS(),{heartbeatsToSend:n,unsentEntries:i}=AM(this._heartbeatsCache.heartbeats),s=Yg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return $o.warn(r),""}}}function SS(){return new Date().toISOString().substring(0,10)}function AM(t,e=SM){const r=[];let n=t.slice();for(const i of t){const s=r.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),TS(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),TS(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class NM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dO()?pO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await bM(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return bS(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return bS(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function TS(t){return Yg(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(t){wh(new Rc("platform-logger",e=>new UO(e),"PRIVATE")),wh(new Rc("heartbeat",e=>new EM(e),"PRIVATE")),pu(xx,wS,t),pu(xx,wS,"esm2017"),pu("fire-js","")}kM("");function k5(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Bk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CM=Bk,Vk=new gp("auth","Firebase",Bk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg=new E5("@firebase/auth");function PM(t,...e){Jg.logLevel<=er.WARN&&Jg.warn(`Auth (${Mh}): ${t}`,...e)}function cg(t,...e){Jg.logLevel<=er.ERROR&&Jg.error(`Auth (${Mh}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function La(t,...e){throw C5(t,...e)}function to(t,...e){return C5(t,...e)}function Uk(t,e,r){const n=Object.assign(Object.assign({},CM()),{[e]:r});return new gp("auth","Firebase",n).create(e,{appName:t.name})}function Mo(t){return Uk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function C5(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return Vk.create(t,...e)}function Ot(t,e,...r){if(!t)throw C5(e,...r)}function Lo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw cg(e),new Error(e)}function Go(t,e){t||Lo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function IM(){return ES()==="http:"||ES()==="https:"}function ES(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IM()||uO()||"connection"in navigator)?navigator.onLine:!0}function LM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,r){this.shortDelay=e,this.longDelay=r,Go(r>e,"Short delay should be less than long delay!"),this.isMobile=aO()||cO()}get(){return RM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P5(t,e){Go(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Lo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Lo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Lo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM=new yp(3e4,6e4);function il(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function sl(t,e,r,n,i={}){return Wk(t,i,async()=>{let s={},a={};n&&(e==="GET"?a=n:s={body:JSON.stringify(n)});const o=vp(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return lO()||(u.referrerPolicy="no-referrer"),zk.fetch()(Hk(t,t.config.apiHost,r,o),u)})}async function Wk(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},FM),e);try{const i=new MM(t),s=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Nm(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nm(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Nm(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Nm(t,"user-disabled",a);const c=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Uk(t,c,u);La(t,c)}}catch(i){if(i instanceof nl)throw i;La(t,"network-request-failed",{message:String(i)})}}async function xp(t,e,r,n,i={}){const s=await sl(t,e,r,n,i);return"mfaPendingCredential"in s&&La(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Hk(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?P5(t.config,i):`${t.config.apiScheme}://${i}`}function OM(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class MM{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(to(this.auth,"network-request-failed")),DM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Nm(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=to(t,e,n);return i.customData._tokenResponse=r,i}function AS(t){return t!==void 0&&t.enterprise!==void 0}class jM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return OM(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function BM(t,e){return sl(t,"GET","/v2/recaptchaConfig",il(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VM(t,e){return sl(t,"POST","/v1/accounts:delete",e)}async function qk(t,e){return sl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function UM(t,e=!1){const r=Dn(t),n=await r.getIdToken(e),i=I5(n);Ot(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:Yd(O2(i.auth_time)),issuedAtTime:Yd(O2(i.iat)),expirationTime:Yd(O2(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function O2(t){return Number(t)*1e3}function I5(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return cg("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ck(r);return i?JSON.parse(i):(cg("Failed to decode base64 JWT payload"),null)}catch(i){return cg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function NS(t){const e=I5(t);return Ot(e,"internal-error"),Ot(typeof e.exp<"u","internal-error"),Ot(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j0(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof nl&&zM(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function zM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yd(this.lastLoginAt),this.creationTime=Yd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zg(t){var e;const r=t.auth,n=await t.getIdToken(),i=await j0(t,qk(r,{idToken:n}));Ot(i==null?void 0:i.users.length,r,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?$k(s.providerUserInfo):[],o=qM(t.providerData,a),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),c=l?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Sx(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function HM(t){const e=Dn(t);await Zg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qM(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function $k(t){return t.map(e=>{var{providerId:r}=e,n=k5(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $M(t,e){const r=await Wk(t,{},async()=>{const n=vp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=Hk(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",zk.fetch()(a,{method:"POST",headers:o,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function GM(t,e){return sl(t,"POST","/v2/accounts:revokeToken",il(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ot(e.idToken,"internal-error"),Ot(typeof e.idToken<"u","internal-error"),Ot(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):NS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Ot(e.length!==0,"internal-error");const r=NS(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Ot(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:s}=await $M(e,r);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:s}=r,a=new nh;return n&&(Ot(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),i&&(Ot(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Ot(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new nh,this.toJSON())}_performRefresh(){return Lo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(t,e){Ot(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fo{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,s=k5(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Sx(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const r=await j0(this,this.stsTokenManager.getToken(this.auth,e));return Ot(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return UM(this,e)}reload(){return HM(this)}_assign(e){this!==e&&(Ot(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Fo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Ot(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Zg(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qa(this.auth.app))return Promise.reject(Mo(this.auth));const e=await this.getIdToken();return await j0(this,VM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,s,a,o,l,u,c;const f=(n=r.displayName)!==null&&n!==void 0?n:void 0,d=(i=r.email)!==null&&i!==void 0?i:void 0,h=(s=r.phoneNumber)!==null&&s!==void 0?s:void 0,v=(a=r.photoURL)!==null&&a!==void 0?a:void 0,g=(o=r.tenantId)!==null&&o!==void 0?o:void 0,S=(l=r._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=r.createdAt)!==null&&u!==void 0?u:void 0,b=(c=r.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:T,emailVerified:L,isAnonymous:j,providerData:B,stsTokenManager:k}=r;Ot(T&&k,e,"internal-error");const y=nh.fromJSON(this.name,k);Ot(typeof T=="string",e,"internal-error"),Dl(f,e.name),Dl(d,e.name),Ot(typeof L=="boolean",e,"internal-error"),Ot(typeof j=="boolean",e,"internal-error"),Dl(h,e.name),Dl(v,e.name),Dl(g,e.name),Dl(S,e.name),Dl(_,e.name),Dl(b,e.name);const C=new Fo({uid:T,auth:e,email:d,emailVerified:L,displayName:f,isAnonymous:j,photoURL:v,phoneNumber:h,tenantId:g,stsTokenManager:y,createdAt:_,lastLoginAt:b});return B&&Array.isArray(B)&&(C.providerData=B.map(F=>Object.assign({},F))),S&&(C._redirectEventId=S),C}static async _fromIdTokenResponse(e,r,n=!1){const i=new nh;i.updateFromServerResponse(r);const s=new Fo({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Zg(s),s}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Ot(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?$k(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new nh;o.updateFromIdToken(n);const l=new Fo({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Sx(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=new Map;function Do(t){Go(t instanceof Function,"Expected a class definition");let e=kS.get(t);return e?(Go(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,kS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}Gk.type="NONE";const CS=Gk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(t,e,r){return`firebase:${t}:${e}:${r}`}class ih{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=fg(this.userKey,i.apiKey,s),this.fullPersistenceKey=fg("persistence",i.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Fo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new ih(Do(CS),e,n);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Do(CS);const a=fg(n,e.config.apiKey,e.name);let o=null;for(const u of r)try{const c=await u._get(a);if(c){const f=Fo._fromJSON(e,c);u!==s&&(o=f),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ih(s,e,n):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(r.map(async u=>{if(u!==s)try{await u._remove(a)}catch{}})),new ih(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Qk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Kk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Zk(e))return"Blackberry";if(e6(e))return"Webos";if(Yk(e))return"Safari";if((e.includes("chrome/")||Xk(e))&&!e.includes("edge/"))return"Chrome";if(Jk(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function Kk(t=Ii()){return/firefox\//i.test(t)}function Yk(t=Ii()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Xk(t=Ii()){return/crios\//i.test(t)}function Qk(t=Ii()){return/iemobile/i.test(t)}function Jk(t=Ii()){return/android/i.test(t)}function Zk(t=Ii()){return/blackberry/i.test(t)}function e6(t=Ii()){return/webos/i.test(t)}function R5(t=Ii()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function KM(t=Ii()){var e;return R5(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function YM(){return fO()&&document.documentMode===10}function t6(t=Ii()){return R5(t)||Jk(t)||e6(t)||Zk(t)||/windows phone/i.test(t)||Qk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r6(t,e=[]){let r;switch(t){case"Browser":r=PS(Ii());break;case"Worker":r=`${PS(Ii())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Mh}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QM(t,e={}){return sl(t,"GET","/v2/passwordPolicy",il(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=6;class ZM{constructor(e){var r,n,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=a.minPasswordLength)!==null&&r!==void 0?r:JM,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,s,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(r=l.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new IS(this),this.idTokenSubscription=new IS(this),this.beforeStateQueue=new XM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Vk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Do(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await ih.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await qk(this,{idToken:e}),n=await Fo._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(Qa(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ot(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Zg(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qa(this.app))return Promise.reject(Mo(this));const r=e?Dn(e):null;return r&&Ot(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Ot(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qa(this.app)?Promise.reject(Mo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qa(this.app)?Promise.reject(Mo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Do(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QM(this),r=new ZM(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new gp("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await GM(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Do(e)||this._popupRedirectResolver;Ot(r,this,"argument-error"),this.redirectPersistenceManager=await ih.create(this,[Do(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ot(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{a=!0,l()}}else{const l=e.addObserver(r);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ot(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=r6(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&PM(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Fu(t){return Dn(t)}class IS{constructor(e){this.auth=e,this.observer=null,this.addObserver=xO(r=>this.observer=r)}get next(){return Ot(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ev={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tj(t){ev=t}function n6(t){return ev.loadJS(t)}function rj(){return ev.recaptchaEnterpriseScript}function nj(){return ev.gapiScript}function ij(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const sj="recaptcha-enterprise",aj="NO_RECAPTCHA";class oj{constructor(e){this.type=sj,this.auth=Fu(e)}async verify(e="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{BM(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new jM(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,a(u.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;AS(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{a(u)}).catch(()=>{a(aj)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{n(this.auth).then(o=>{if(!r&&AS(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=rj();l.length!==0&&(l+=o),n6(l).then(()=>{i(o,s,a)}).catch(u=>{a(u)})}}).catch(o=>{a(o)})})}}async function RS(t,e,r,n=!1){const i=new oj(t);let s;try{s=await i.verify(r)}catch{s=await i.verify(r,!0)}const a=Object.assign({},e);return n?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function e1(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await RS(t,e,r,r==="getOobCode");return n(t,s)}else return n(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await RS(t,e,r,r==="getOobCode");return n(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(t,e){const r=N5(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),s=r.getOptions();if(Xg(s,e??{}))return i;La(i,"already-initialized")}return r.initialize({options:e})}function uj(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Do);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function cj(t,e,r){const n=Fu(t);Ot(n._canInitEmulator,n,"emulator-config-failed"),Ot(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=i6(e),{host:a,port:o}=fj(e),l=o===null?"":`:${o}`;n.config.emulator={url:`${s}//${a}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),hj()}function i6(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function fj(t){const e=i6(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:LS(n.substr(s.length+1))}}else{const[s,a]=n.split(":");return{host:s,port:LS(a)}}}function LS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function hj(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Lo("not implemented")}_getIdTokenResponse(e){return Lo("not implemented")}_linkToIdToken(e,r){return Lo("not implemented")}_getReauthenticationResolver(e){return Lo("not implemented")}}async function dj(t,e){return sl(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pj(t,e){return xp(t,"POST","/v1/accounts:signInWithPassword",il(t,e))}async function mj(t,e){return sl(t,"POST","/v1/accounts:sendOobCode",il(t,e))}async function gj(t,e){return mj(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vj(t,e){return xp(t,"POST","/v1/accounts:signInWithEmailLink",il(t,e))}async function yj(t,e){return xp(t,"POST","/v1/accounts:signInWithEmailLink",il(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0 extends L5{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new B0(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new B0(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return e1(e,r,"signInWithPassword",pj);case"emailLink":return vj(e,{email:this._email,oobCode:this._password});default:La(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return e1(e,n,"signUpPassword",dj);case"emailLink":return yj(e,{idToken:r,email:this._email,oobCode:this._password});default:La(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sh(t,e){return xp(t,"POST","/v1/accounts:signInWithIdp",il(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj="http://localhost";class Lc extends L5{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Lc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):La("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,s=k5(r,["providerId","signInMethod"]);if(!n||!i)return null;const a=new Lc(n,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const r=this.buildRequest();return sh(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,sh(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,sh(e,r)}buildRequest(){const e={requestUri:xj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=vp(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _j(t){const e=Id(Rd(t)).link,r=e?Id(Rd(e)).deep_link_id:null,n=Id(Rd(t)).deep_link_id;return(n?Id(Rd(n)).link:null)||n||r||e||t}class F5{constructor(e){var r,n,i,s,a,o;const l=Id(Rd(e)),u=(r=l.apiKey)!==null&&r!==void 0?r:null,c=(n=l.oobCode)!==null&&n!==void 0?n:null,f=wj((i=l.mode)!==null&&i!==void 0?i:null);Ot(u&&c&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const r=_j(e);try{return new F5(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(){this.providerId=jh.PROVIDER_ID}static credential(e,r){return B0._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=F5.parseLink(r);return Ot(n,"argument-error"),B0._fromEmailAndCode(e,n.code,n.tenantId)}}jh.PROVIDER_ID="password";jh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp extends s6{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl extends wp{constructor(){super("facebook.com")}static credential(e){return Lc._fromParams({providerId:Hl.PROVIDER_ID,signInMethod:Hl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hl.credentialFromTaggedObject(e)}static credentialFromError(e){return Hl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hl.credential(e.oauthAccessToken)}catch{return null}}}Hl.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql extends wp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Lc._fromParams({providerId:ql.PROVIDER_ID,signInMethod:ql.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return ql.credentialFromTaggedObject(e)}static credentialFromError(e){return ql.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return ql.credential(r,n)}catch{return null}}}ql.GOOGLE_SIGN_IN_METHOD="google.com";ql.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l extends wp{constructor(){super("github.com")}static credential(e){return Lc._fromParams({providerId:$l.PROVIDER_ID,signInMethod:$l.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $l.credentialFromTaggedObject(e)}static credentialFromError(e){return $l.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $l.credential(e.oauthAccessToken)}catch{return null}}}$l.GITHUB_SIGN_IN_METHOD="github.com";$l.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl extends wp{constructor(){super("twitter.com")}static credential(e,r){return Lc._fromParams({providerId:Gl.PROVIDER_ID,signInMethod:Gl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Gl.credentialFromTaggedObject(e)}static credentialFromError(e){return Gl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Gl.credential(r,n)}catch{return null}}}Gl.TWITTER_SIGN_IN_METHOD="twitter.com";Gl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bj(t,e){return xp(t,"POST","/v1/accounts:signUp",il(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const s=await Fo._fromIdTokenResponse(e,n,i),a=FS(n);return new Fc({user:s,providerId:a,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=FS(n);return new Fc({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function FS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1 extends nl{constructor(e,r,n,i){var s;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,t1.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new t1(e,r,n,i)}}function a6(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?t1._fromErrorAndOperation(t,s,e,n):s})}async function Sj(t,e,r=!1){const n=await j0(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Fc._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tj(t,e,r=!1){const{auth:n}=t;if(Qa(n.app))return Promise.reject(Mo(n));const i="reauthenticate";try{const s=await j0(t,a6(n,i,e,t),r);Ot(s.idToken,n,"internal-error");const a=I5(s.idToken);Ot(a,n,"internal-error");const{sub:o}=a;return Ot(t.uid===o,n,"user-mismatch"),Fc._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&La(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o6(t,e,r=!1){if(Qa(t.app))return Promise.reject(Mo(t));const n="signIn",i=await a6(t,n,e),s=await Fc._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(s.user),s}async function Ej(t,e){return o6(Fu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l6(t){const e=Fu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Aj(t,e,r){const n=Fu(t);await e1(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",gj)}async function u6(t,e,r){if(Qa(t.app))return Promise.reject(Mo(t));const n=Fu(t),a=await e1(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bj).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&l6(t),l}),o=await Fc._fromIdTokenResponse(n,"signIn",a);return await n._updateCurrentUser(o.user),o}function c6(t,e,r){return Qa(t.app)?Promise.reject(Mo(t)):Ej(Dn(t),jh.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&l6(t),n})}function Nj(t,e,r,n){return Dn(t).onIdTokenChanged(e,r,n)}function kj(t,e,r){return Dn(t).beforeAuthStateChanged(e,r)}function Cj(t,e,r,n){return Dn(t).onAuthStateChanged(e,r,n)}function Pj(t){return Dn(t).signOut()}const r1="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(r1,"1"),this.storage.removeItem(r1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij=1e3,Rj=10;class h6 extends f6{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=t6(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(n);!r&&this.localCache[n]===a||this.notifyListeners(n,a)},s=this.storage.getItem(n);YM()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Rj):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},Ij)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}h6.type="LOCAL";const Lj=h6;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6 extends f6{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}d6.type="SESSION";const p6=d6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new tv(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:s}=r.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(a).map(async u=>u(r.origin,s)),l=await Fj(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D5(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const u=D5("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},n);a={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(d.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(){return window}function Oj(t){ro().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m6(){return typeof ro().WorkerGlobalScope<"u"&&typeof ro().importScripts=="function"}async function Mj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Bj(){return m6()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6="firebaseLocalStorageDb",Vj=1,n1="firebaseLocalStorage",v6="fbase_key";class _p{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function rv(t,e){return t.transaction([n1],e?"readwrite":"readonly").objectStore(n1)}function Uj(){const t=indexedDB.deleteDatabase(g6);return new _p(t).toPromise()}function Tx(){const t=indexedDB.open(g6,Vj);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(n1,{keyPath:v6})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(n1)?e(n):(n.close(),await Uj(),e(await Tx()))})})}async function DS(t,e,r){const n=rv(t,!0).put({[v6]:e,value:r});return new _p(n).toPromise()}async function zj(t,e){const r=rv(t,!1).get(e),n=await new _p(r).toPromise();return n===void 0?null:n.value}function OS(t,e){const r=rv(t,!0).delete(e);return new _p(r).toPromise()}const Wj=800,Hj=3;class y6{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tx(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>Hj)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return m6()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tv._getInstance(Bj()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await Mj(),!this.activeServiceWorker)return;this.sender=new Dj(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tx();return await DS(e,r1,"1"),await OS(e,r1),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>DS(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>zj(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>OS(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=rv(i,!1).getAll();return new _p(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Wj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}y6.type="LOCAL";const qj=y6;new yp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(t,e){return e?Do(e):(Ot(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5 extends L5{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return sh(e,this._buildIdpRequest())}_linkToIdToken(e,r){return sh(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return sh(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function Gj(t){return o6(t.auth,new O5(t),t.bypassAuthState)}function Kj(t){const{auth:e,user:r}=t;return Ot(r,e,"internal-error"),Tj(r,new O5(t),t.bypassAuthState)}async function Yj(t){const{auth:e,user:r}=t;return Ot(r,e,"internal-error"),Sj(r,new O5(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e,r,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Gj;case"linkViaPopup":case"linkViaRedirect":return Yj;case"reauthViaPopup":case"reauthViaRedirect":return Kj;default:La(this.auth,"internal-error")}}resolve(e){Go(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Go(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj=new yp(2e3,1e4);class Wf extends x6{constructor(e,r,n,i,s){super(e,r,i,s),this.provider=n,this.authWindow=null,this.pollId=null,Wf.currentPopupAction&&Wf.currentPopupAction.cancel(),Wf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ot(e,this.auth,"internal-error"),e}async onExecution(){Go(this.filter.length===1,"Popup operations only handle one event");const e=D5();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(to(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(to(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wf.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(to(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Xj.get())};e()}}Wf.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj="pendingRedirect",hg=new Map;class Jj extends x6{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=hg.get(this.auth._key());if(!e){try{const n=await Zj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}hg.set(this.auth._key(),e)}return this.bypassAuthState||hg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Zj(t,e){const r=r9(e),n=t9(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function e9(t,e){hg.set(t._key(),e)}function t9(t){return Do(t._redirectPersistence)}function r9(t){return fg(Qj,t.config.apiKey,t.name)}async function n9(t,e,r=!1){if(Qa(t.app))return Promise.reject(Mo(t));const n=Fu(t),i=$j(n,e),a=await new Jj(n,i,r).execute();return a&&!r&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i9=10*60*1e3;class s9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!a9(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!w6(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(to(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=i9&&this.cachedEventUids.clear(),this.cachedEventUids.has(MS(e))}saveEventToCache(e){this.cachedEventUids.add(MS(e)),this.lastProcessedEventTime=Date.now()}}function MS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function w6({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function a9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return w6(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o9(t,e={}){return sl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,u9=/^https?/;async function c9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await o9(t);for(const r of e)try{if(f9(r))return}catch{}La(t,"unauthorized-domain")}function f9(t){const e=bx(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&a.hostname===n}if(!u9.test(r))return!1;if(l9.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9=new yp(3e4,6e4);function jS(){const t=ro().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function d9(t){return new Promise((e,r)=>{var n,i,s;function a(){jS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jS(),r(to(t,"network-request-failed"))},timeout:h9.get()})}if(!((i=(n=ro().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ro().gapi)===null||s===void 0)&&s.load)a();else{const o=ij("iframefcb");return ro()[o]=()=>{gapi.load?a():r(to(t,"network-request-failed"))},n6(`${nj()}?onload=${o}`).catch(l=>r(l))}}).catch(e=>{throw dg=null,e})}let dg=null;function p9(t){return dg=dg||d9(t),dg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9=new yp(5e3,15e3),g9="__/auth/iframe",v9="emulator/auth/iframe",y9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},x9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function w9(t){const e=t.config;Ot(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?P5(e,v9):`https://${t.config.authDomain}/${g9}`,n={apiKey:e.apiKey,appName:t.name,v:Mh},i=x9.get(t.config.apiHost);i&&(n.eid=i);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${vp(n).slice(1)}`}async function _9(t){const e=await p9(t),r=ro().gapi;return Ot(r,t,"internal-error"),e.open({where:document.body,url:w9(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:y9,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const a=to(t,"network-request-failed"),o=ro().setTimeout(()=>{s(a)},m9.get());function l(){ro().clearTimeout(o),i(n)}n.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},S9=500,T9=600,E9="_blank",A9="http://localhost";class BS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function N9(t,e,r,n=S9,i=T9){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l=Object.assign(Object.assign({},b9),{width:n.toString(),height:i.toString(),top:s,left:a}),u=Ii().toLowerCase();r&&(o=Xk(u)?E9:r),Kk(u)&&(e=e||A9,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[h,v])=>`${d}${h}=${v},`,"");if(KM(u)&&o!=="_self")return k9(e||"",o),new BS(null);const f=window.open(e||"",o,c);Ot(f,t,"popup-blocked");try{f.focus()}catch{}return new BS(f)}function k9(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9="__/auth/handler",P9="emulator/auth/handler",I9=encodeURIComponent("fac");async function VS(t,e,r,n,i,s){Ot(t.config.authDomain,t,"auth-domain-config-required"),Ot(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Mh,eventId:i};if(e instanceof s6){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",yO(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))a[c]=f}if(e instanceof wp){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(a.scopes=c.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const c of Object.keys(o))o[c]===void 0&&delete o[c];const l=await t._getAppCheckToken(),u=l?`#${I9}=${encodeURIComponent(l)}`:"";return`${R9(t)}?${vp(o).slice(1)}${u}`}function R9({config:t}){return t.emulator?P5(t,P9):`https://${t.authDomain}/${C9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2="webStorageSupport";class L9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=p6,this._completeRedirectFn=n9,this._overrideRedirectResult=e9}async _openPopup(e,r,n,i){var s;Go((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await VS(e,r,n,bx(),i);return N9(e,a,D5())}async _openRedirect(e,r,n,i){await this._originValidation(e);const s=await VS(e,r,n,bx(),i);return Oj(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:s}=this.eventManagers[r];return i?Promise.resolve(i):(Go(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await _9(e),n=new s9(e);return r.register("authEvent",i=>(Ot(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(M2,{type:M2},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[M2];a!==void 0&&r(!!a),La(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=c9(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return t6()||Yk()||R5()}}const F9=L9;var US="@firebase/auth",zS="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Ot(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function M9(t){wh(new Rc("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=n.options;Ot(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:r6(t)},u=new ej(n,i,s,l);return uj(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),wh(new Rc("auth-internal",e=>{const r=Fu(e.getProvider("auth").getImmediate());return(n=>new D9(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),pu(US,zS,O9(t)),pu(US,zS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9=5*60,B9=Rk("authIdTokenMaxAge")||j9;let WS=null;const V9=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>B9)return;const i=r==null?void 0:r.token;WS!==i&&(WS=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function _6(t=Ok()){const e=N5(t,"auth");if(e.isInitialized())return e.getImmediate();const r=lj(t,{popupRedirectResolver:F9,persistence:[qj,Lj,p6]}),n=Rk("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const a=V9(s.toString());kj(r,a,()=>a(r.currentUser)),Nj(r,o=>a(o))}}const i=Pk("auth");return i&&cj(r,`http://${i}`),r}function U9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}tj({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const s=to("internal-error");s.customData=i,r(s)},n.type="text/javascript",n.charset="UTF-8",U9().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});M9("Browser");var HS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xc,b6;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,y){function C(){}C.prototype=y.prototype,k.D=y.prototype,k.prototype=new C,k.prototype.constructor=k,k.C=function(F,E,N){for(var D=Array(arguments.length-2),G=2;G<arguments.length;G++)D[G-2]=arguments[G];return y.prototype[E].apply(F,D)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,y,C){C||(C=0);var F=Array(16);if(typeof y=="string")for(var E=0;16>E;++E)F[E]=y.charCodeAt(C++)|y.charCodeAt(C++)<<8|y.charCodeAt(C++)<<16|y.charCodeAt(C++)<<24;else for(E=0;16>E;++E)F[E]=y[C++]|y[C++]<<8|y[C++]<<16|y[C++]<<24;y=k.g[0],C=k.g[1],E=k.g[2];var N=k.g[3],D=y+(N^C&(E^N))+F[0]+3614090360&4294967295;y=C+(D<<7&4294967295|D>>>25),D=N+(E^y&(C^E))+F[1]+3905402710&4294967295,N=y+(D<<12&4294967295|D>>>20),D=E+(C^N&(y^C))+F[2]+606105819&4294967295,E=N+(D<<17&4294967295|D>>>15),D=C+(y^E&(N^y))+F[3]+3250441966&4294967295,C=E+(D<<22&4294967295|D>>>10),D=y+(N^C&(E^N))+F[4]+4118548399&4294967295,y=C+(D<<7&4294967295|D>>>25),D=N+(E^y&(C^E))+F[5]+1200080426&4294967295,N=y+(D<<12&4294967295|D>>>20),D=E+(C^N&(y^C))+F[6]+2821735955&4294967295,E=N+(D<<17&4294967295|D>>>15),D=C+(y^E&(N^y))+F[7]+4249261313&4294967295,C=E+(D<<22&4294967295|D>>>10),D=y+(N^C&(E^N))+F[8]+1770035416&4294967295,y=C+(D<<7&4294967295|D>>>25),D=N+(E^y&(C^E))+F[9]+2336552879&4294967295,N=y+(D<<12&4294967295|D>>>20),D=E+(C^N&(y^C))+F[10]+4294925233&4294967295,E=N+(D<<17&4294967295|D>>>15),D=C+(y^E&(N^y))+F[11]+2304563134&4294967295,C=E+(D<<22&4294967295|D>>>10),D=y+(N^C&(E^N))+F[12]+1804603682&4294967295,y=C+(D<<7&4294967295|D>>>25),D=N+(E^y&(C^E))+F[13]+4254626195&4294967295,N=y+(D<<12&4294967295|D>>>20),D=E+(C^N&(y^C))+F[14]+2792965006&4294967295,E=N+(D<<17&4294967295|D>>>15),D=C+(y^E&(N^y))+F[15]+1236535329&4294967295,C=E+(D<<22&4294967295|D>>>10),D=y+(E^N&(C^E))+F[1]+4129170786&4294967295,y=C+(D<<5&4294967295|D>>>27),D=N+(C^E&(y^C))+F[6]+3225465664&4294967295,N=y+(D<<9&4294967295|D>>>23),D=E+(y^C&(N^y))+F[11]+643717713&4294967295,E=N+(D<<14&4294967295|D>>>18),D=C+(N^y&(E^N))+F[0]+3921069994&4294967295,C=E+(D<<20&4294967295|D>>>12),D=y+(E^N&(C^E))+F[5]+3593408605&4294967295,y=C+(D<<5&4294967295|D>>>27),D=N+(C^E&(y^C))+F[10]+38016083&4294967295,N=y+(D<<9&4294967295|D>>>23),D=E+(y^C&(N^y))+F[15]+3634488961&4294967295,E=N+(D<<14&4294967295|D>>>18),D=C+(N^y&(E^N))+F[4]+3889429448&4294967295,C=E+(D<<20&4294967295|D>>>12),D=y+(E^N&(C^E))+F[9]+568446438&4294967295,y=C+(D<<5&4294967295|D>>>27),D=N+(C^E&(y^C))+F[14]+3275163606&4294967295,N=y+(D<<9&4294967295|D>>>23),D=E+(y^C&(N^y))+F[3]+4107603335&4294967295,E=N+(D<<14&4294967295|D>>>18),D=C+(N^y&(E^N))+F[8]+1163531501&4294967295,C=E+(D<<20&4294967295|D>>>12),D=y+(E^N&(C^E))+F[13]+2850285829&4294967295,y=C+(D<<5&4294967295|D>>>27),D=N+(C^E&(y^C))+F[2]+4243563512&4294967295,N=y+(D<<9&4294967295|D>>>23),D=E+(y^C&(N^y))+F[7]+1735328473&4294967295,E=N+(D<<14&4294967295|D>>>18),D=C+(N^y&(E^N))+F[12]+2368359562&4294967295,C=E+(D<<20&4294967295|D>>>12),D=y+(C^E^N)+F[5]+4294588738&4294967295,y=C+(D<<4&4294967295|D>>>28),D=N+(y^C^E)+F[8]+2272392833&4294967295,N=y+(D<<11&4294967295|D>>>21),D=E+(N^y^C)+F[11]+1839030562&4294967295,E=N+(D<<16&4294967295|D>>>16),D=C+(E^N^y)+F[14]+4259657740&4294967295,C=E+(D<<23&4294967295|D>>>9),D=y+(C^E^N)+F[1]+2763975236&4294967295,y=C+(D<<4&4294967295|D>>>28),D=N+(y^C^E)+F[4]+1272893353&4294967295,N=y+(D<<11&4294967295|D>>>21),D=E+(N^y^C)+F[7]+4139469664&4294967295,E=N+(D<<16&4294967295|D>>>16),D=C+(E^N^y)+F[10]+3200236656&4294967295,C=E+(D<<23&4294967295|D>>>9),D=y+(C^E^N)+F[13]+681279174&4294967295,y=C+(D<<4&4294967295|D>>>28),D=N+(y^C^E)+F[0]+3936430074&4294967295,N=y+(D<<11&4294967295|D>>>21),D=E+(N^y^C)+F[3]+3572445317&4294967295,E=N+(D<<16&4294967295|D>>>16),D=C+(E^N^y)+F[6]+76029189&4294967295,C=E+(D<<23&4294967295|D>>>9),D=y+(C^E^N)+F[9]+3654602809&4294967295,y=C+(D<<4&4294967295|D>>>28),D=N+(y^C^E)+F[12]+3873151461&4294967295,N=y+(D<<11&4294967295|D>>>21),D=E+(N^y^C)+F[15]+530742520&4294967295,E=N+(D<<16&4294967295|D>>>16),D=C+(E^N^y)+F[2]+3299628645&4294967295,C=E+(D<<23&4294967295|D>>>9),D=y+(E^(C|~N))+F[0]+4096336452&4294967295,y=C+(D<<6&4294967295|D>>>26),D=N+(C^(y|~E))+F[7]+1126891415&4294967295,N=y+(D<<10&4294967295|D>>>22),D=E+(y^(N|~C))+F[14]+2878612391&4294967295,E=N+(D<<15&4294967295|D>>>17),D=C+(N^(E|~y))+F[5]+4237533241&4294967295,C=E+(D<<21&4294967295|D>>>11),D=y+(E^(C|~N))+F[12]+1700485571&4294967295,y=C+(D<<6&4294967295|D>>>26),D=N+(C^(y|~E))+F[3]+2399980690&4294967295,N=y+(D<<10&4294967295|D>>>22),D=E+(y^(N|~C))+F[10]+4293915773&4294967295,E=N+(D<<15&4294967295|D>>>17),D=C+(N^(E|~y))+F[1]+2240044497&4294967295,C=E+(D<<21&4294967295|D>>>11),D=y+(E^(C|~N))+F[8]+1873313359&4294967295,y=C+(D<<6&4294967295|D>>>26),D=N+(C^(y|~E))+F[15]+4264355552&4294967295,N=y+(D<<10&4294967295|D>>>22),D=E+(y^(N|~C))+F[6]+2734768916&4294967295,E=N+(D<<15&4294967295|D>>>17),D=C+(N^(E|~y))+F[13]+1309151649&4294967295,C=E+(D<<21&4294967295|D>>>11),D=y+(E^(C|~N))+F[4]+4149444226&4294967295,y=C+(D<<6&4294967295|D>>>26),D=N+(C^(y|~E))+F[11]+3174756917&4294967295,N=y+(D<<10&4294967295|D>>>22),D=E+(y^(N|~C))+F[2]+718787259&4294967295,E=N+(D<<15&4294967295|D>>>17),D=C+(N^(E|~y))+F[9]+3951481745&4294967295,k.g[0]=k.g[0]+y&4294967295,k.g[1]=k.g[1]+(E+(D<<21&4294967295|D>>>11))&4294967295,k.g[2]=k.g[2]+E&4294967295,k.g[3]=k.g[3]+N&4294967295}n.prototype.u=function(k,y){y===void 0&&(y=k.length);for(var C=y-this.blockSize,F=this.B,E=this.h,N=0;N<y;){if(E==0)for(;N<=C;)i(this,k,N),N+=this.blockSize;if(typeof k=="string"){for(;N<y;)if(F[E++]=k.charCodeAt(N++),E==this.blockSize){i(this,F),E=0;break}}else for(;N<y;)if(F[E++]=k[N++],E==this.blockSize){i(this,F),E=0;break}}this.h=E,this.o+=y},n.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var y=1;y<k.length-8;++y)k[y]=0;var C=8*this.o;for(y=k.length-8;y<k.length;++y)k[y]=C&255,C/=256;for(this.u(k),k=Array(16),y=C=0;4>y;++y)for(var F=0;32>F;F+=8)k[C++]=this.g[y]>>>F&255;return k};function s(k,y){var C=o;return Object.prototype.hasOwnProperty.call(C,k)?C[k]:C[k]=y(k)}function a(k,y){this.h=y;for(var C=[],F=!0,E=k.length-1;0<=E;E--){var N=k[E]|0;F&&N==y||(C[E]=N,F=!1)}this.g=C}var o={};function l(k){return-128<=k&&128>k?s(k,function(y){return new a([y|0],0>y?-1:0)}):new a([k|0],0>k?-1:0)}function u(k){if(isNaN(k)||!isFinite(k))return f;if(0>k)return S(u(-k));for(var y=[],C=1,F=0;k>=C;F++)y[F]=k/C|0,C*=4294967296;return new a(y,0)}function c(k,y){if(k.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(k.charAt(0)=="-")return S(c(k.substring(1),y));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=u(Math.pow(y,8)),F=f,E=0;E<k.length;E+=8){var N=Math.min(8,k.length-E),D=parseInt(k.substring(E,E+N),y);8>N?(N=u(Math.pow(y,N)),F=F.j(N).add(u(D))):(F=F.j(C),F=F.add(u(D)))}return F}var f=l(0),d=l(1),h=l(16777216);t=a.prototype,t.m=function(){if(g(this))return-S(this).m();for(var k=0,y=1,C=0;C<this.g.length;C++){var F=this.i(C);k+=(0<=F?F:4294967296+F)*y,y*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(v(this))return"0";if(g(this))return"-"+S(this).toString(k);for(var y=u(Math.pow(k,6)),C=this,F="";;){var E=L(C,y).g;C=_(C,E.j(y));var N=((0<C.g.length?C.g[0]:C.h)>>>0).toString(k);if(C=E,v(C))return N+F;for(;6>N.length;)N="0"+N;F=N+F}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function v(k){if(k.h!=0)return!1;for(var y=0;y<k.g.length;y++)if(k.g[y]!=0)return!1;return!0}function g(k){return k.h==-1}t.l=function(k){return k=_(this,k),g(k)?-1:v(k)?0:1};function S(k){for(var y=k.g.length,C=[],F=0;F<y;F++)C[F]=~k.g[F];return new a(C,~k.h).add(d)}t.abs=function(){return g(this)?S(this):this},t.add=function(k){for(var y=Math.max(this.g.length,k.g.length),C=[],F=0,E=0;E<=y;E++){var N=F+(this.i(E)&65535)+(k.i(E)&65535),D=(N>>>16)+(this.i(E)>>>16)+(k.i(E)>>>16);F=D>>>16,N&=65535,D&=65535,C[E]=D<<16|N}return new a(C,C[C.length-1]&-2147483648?-1:0)};function _(k,y){return k.add(S(y))}t.j=function(k){if(v(this)||v(k))return f;if(g(this))return g(k)?S(this).j(S(k)):S(S(this).j(k));if(g(k))return S(this.j(S(k)));if(0>this.l(h)&&0>k.l(h))return u(this.m()*k.m());for(var y=this.g.length+k.g.length,C=[],F=0;F<2*y;F++)C[F]=0;for(F=0;F<this.g.length;F++)for(var E=0;E<k.g.length;E++){var N=this.i(F)>>>16,D=this.i(F)&65535,G=k.i(E)>>>16,de=k.i(E)&65535;C[2*F+2*E]+=D*de,b(C,2*F+2*E),C[2*F+2*E+1]+=N*de,b(C,2*F+2*E+1),C[2*F+2*E+1]+=D*G,b(C,2*F+2*E+1),C[2*F+2*E+2]+=N*G,b(C,2*F+2*E+2)}for(F=0;F<y;F++)C[F]=C[2*F+1]<<16|C[2*F];for(F=y;F<2*y;F++)C[F]=0;return new a(C,0)};function b(k,y){for(;(k[y]&65535)!=k[y];)k[y+1]+=k[y]>>>16,k[y]&=65535,y++}function T(k,y){this.g=k,this.h=y}function L(k,y){if(v(y))throw Error("division by zero");if(v(k))return new T(f,f);if(g(k))return y=L(S(k),y),new T(S(y.g),S(y.h));if(g(y))return y=L(k,S(y)),new T(S(y.g),y.h);if(30<k.g.length){if(g(k)||g(y))throw Error("slowDivide_ only works with positive integers.");for(var C=d,F=y;0>=F.l(k);)C=j(C),F=j(F);var E=B(C,1),N=B(F,1);for(F=B(F,2),C=B(C,2);!v(F);){var D=N.add(F);0>=D.l(k)&&(E=E.add(C),N=D),F=B(F,1),C=B(C,1)}return y=_(k,E.j(y)),new T(E,y)}for(E=f;0<=k.l(y);){for(C=Math.max(1,Math.floor(k.m()/y.m())),F=Math.ceil(Math.log(C)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),N=u(C),D=N.j(y);g(D)||0<D.l(k);)C-=F,N=u(C),D=N.j(y);v(N)&&(N=d),E=E.add(N),k=_(k,D)}return new T(E,k)}t.A=function(k){return L(this,k).h},t.and=function(k){for(var y=Math.max(this.g.length,k.g.length),C=[],F=0;F<y;F++)C[F]=this.i(F)&k.i(F);return new a(C,this.h&k.h)},t.or=function(k){for(var y=Math.max(this.g.length,k.g.length),C=[],F=0;F<y;F++)C[F]=this.i(F)|k.i(F);return new a(C,this.h|k.h)},t.xor=function(k){for(var y=Math.max(this.g.length,k.g.length),C=[],F=0;F<y;F++)C[F]=this.i(F)^k.i(F);return new a(C,this.h^k.h)};function j(k){for(var y=k.g.length+1,C=[],F=0;F<y;F++)C[F]=k.i(F)<<1|k.i(F-1)>>>31;return new a(C,k.h)}function B(k,y){var C=y>>5;y%=32;for(var F=k.g.length-C,E=[],N=0;N<F;N++)E[N]=0<y?k.i(N+C)>>>y|k.i(N+C+1)<<32-y:k.i(N+C);return new a(E,k.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,b6=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=c,xc=a}).apply(typeof HS<"u"?HS:typeof self<"u"?self:typeof window<"u"?window:{});var km=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var S6,Ld,T6,pg,Ex,E6,A6,N6;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,R,V){return m==Array.prototype||m==Object.prototype||(m[R]=V.value),m};function r(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof km=="object"&&km];for(var R=0;R<m.length;++R){var V=m[R];if(V&&V.Math==Math)return V}throw Error("Cannot find global object")}var n=r(this);function i(m,R){if(R)e:{var V=n;m=m.split(".");for(var J=0;J<m.length-1;J++){var Se=m[J];if(!(Se in V))break e;V=V[Se]}m=m[m.length-1],J=V[m],R=R(J),R!=J&&R!=null&&e(V,m,{configurable:!0,writable:!0,value:R})}}function s(m,R){m instanceof String&&(m+="");var V=0,J=!1,Se={next:function(){if(!J&&V<m.length){var Re=V++;return{value:R(Re,m[Re]),done:!1}}return J=!0,{done:!0,value:void 0}}};return Se[Symbol.iterator]=function(){return Se},Se}i("Array.prototype.values",function(m){return m||function(){return s(this,function(R,V){return V})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(m){var R=typeof m;return R=R!="object"?R:m?Array.isArray(m)?"array":R:"null",R=="array"||R=="object"&&typeof m.length=="number"}function u(m){var R=typeof m;return R=="object"&&m!=null||R=="function"}function c(m,R,V){return m.call.apply(m.bind,arguments)}function f(m,R,V){if(!m)throw Error();if(2<arguments.length){var J=Array.prototype.slice.call(arguments,2);return function(){var Se=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Se,J),m.apply(R,Se)}}return function(){return m.apply(R,arguments)}}function d(m,R,V){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,d.apply(null,arguments)}function h(m,R){var V=Array.prototype.slice.call(arguments,1);return function(){var J=V.slice();return J.push.apply(J,arguments),m.apply(this,J)}}function v(m,R){function V(){}V.prototype=R.prototype,m.aa=R.prototype,m.prototype=new V,m.prototype.constructor=m,m.Qb=function(J,Se,Re){for(var Ze=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)Ze[jt-2]=arguments[jt];return R.prototype[Se].apply(J,Ze)}}function g(m){const R=m.length;if(0<R){const V=Array(R);for(let J=0;J<R;J++)V[J]=m[J];return V}return[]}function S(m,R){for(let V=1;V<arguments.length;V++){const J=arguments[V];if(l(J)){const Se=m.length||0,Re=J.length||0;m.length=Se+Re;for(let Ze=0;Ze<Re;Ze++)m[Se+Ze]=J[Ze]}else m.push(J)}}class _{constructor(R,V){this.i=R,this.j=V,this.h=0,this.g=null}get(){let R;return 0<this.h?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function b(m){return/^[\s\xa0]*$/.test(m)}function T(){var m=o.navigator;return m&&(m=m.userAgent)?m:""}function L(m){return L[" "](m),m}L[" "]=function(){};var j=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function B(m,R,V){for(const J in m)R.call(V,m[J],J,m)}function k(m,R){for(const V in m)R.call(void 0,m[V],V,m)}function y(m){const R={};for(const V in m)R[V]=m[V];return R}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(m,R){let V,J;for(let Se=1;Se<arguments.length;Se++){J=arguments[Se];for(V in J)m[V]=J[V];for(let Re=0;Re<C.length;Re++)V=C[Re],Object.prototype.hasOwnProperty.call(J,V)&&(m[V]=J[V])}}function E(m){var R=1;m=m.split(":");const V=[];for(;0<R&&m.length;)V.push(m.shift()),R--;return m.length&&V.push(m.join(":")),V}function N(m){o.setTimeout(()=>{throw m},0)}function D(){var m=te;let R=null;return m.g&&(R=m.g,m.g=m.g.next,m.g||(m.h=null),R.next=null),R}class G{constructor(){this.h=this.g=null}add(R,V){const J=de.get();J.set(R,V),this.h?this.h.next=J:this.g=J,this.h=J}}var de=new _(()=>new ie,m=>m.reset());class ie{constructor(){this.next=this.g=this.h=null}set(R,V){this.h=R,this.g=V,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,Q=!1,te=new G,pe=()=>{const m=o.Promise.resolve(void 0);ee=()=>{m.then(be)}};var be=()=>{for(var m;m=D();){try{m.h.call(m.g)}catch(V){N(V)}var R=de;R.j(m),100>R.h&&(R.h++,m.next=R.g,R.g=m)}Q=!1};function I(){this.s=this.s,this.C=this.C}I.prototype.s=!1,I.prototype.ma=function(){this.s||(this.s=!0,this.N())},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(m,R){this.type=m,this.g=this.target=R,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var U=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var m=!1,R=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const V=()=>{};o.addEventListener("test",V,R),o.removeEventListener("test",V,R)}catch{}return m}();function z(m,R){if(O.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var V=this.type=m.type,J=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=R,R=m.relatedTarget){if(j){e:{try{L(R.nodeName);var Se=!0;break e}catch{}Se=!1}Se||(R=null)}}else V=="mouseover"?R=m.fromElement:V=="mouseout"&&(R=m.toElement);this.relatedTarget=R,J?(this.clientX=J.clientX!==void 0?J.clientX:J.pageX,this.clientY=J.clientY!==void 0?J.clientY:J.pageY,this.screenX=J.screenX||0,this.screenY=J.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:q[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&z.aa.h.call(this)}}v(z,O);var q={2:"touch",3:"pen",4:"mouse"};z.prototype.h=function(){z.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),me=0;function ge(m,R,V,J,Se){this.listener=m,this.proxy=null,this.src=R,this.type=V,this.capture=!!J,this.ha=Se,this.key=++me,this.da=this.fa=!1}function Te(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Oe(m){this.src=m,this.g={},this.h=0}Oe.prototype.add=function(m,R,V,J,Se){var Re=m.toString();m=this.g[Re],m||(m=this.g[Re]=[],this.h++);var Ze=Ue(m,R,J,Se);return-1<Ze?(R=m[Ze],V||(R.fa=!1)):(R=new ge(R,this.src,Re,!!J,Se),R.fa=V,m.push(R)),R};function Be(m,R){var V=R.type;if(V in m.g){var J=m.g[V],Se=Array.prototype.indexOf.call(J,R,void 0),Re;(Re=0<=Se)&&Array.prototype.splice.call(J,Se,1),Re&&(Te(R),m.g[V].length==0&&(delete m.g[V],m.h--))}}function Ue(m,R,V,J){for(var Se=0;Se<m.length;++Se){var Re=m[Se];if(!Re.da&&Re.listener==R&&Re.capture==!!V&&Re.ha==J)return Se}return-1}var He="closure_lm_"+(1e6*Math.random()|0),Fe={};function ue(m,R,V,J,Se){if(Array.isArray(R)){for(var Re=0;Re<R.length;Re++)ue(m,R[Re],V,J,Se);return null}return V=Rt(V),m&&m[fe]?m.K(R,V,u(J)?!!J.capture:!1,Se):$e(m,R,V,!1,J,Se)}function $e(m,R,V,J,Se,Re){if(!R)throw Error("Invalid event type");var Ze=u(Se)?!!Se.capture:!!Se,jt=_t(m);if(jt||(m[He]=jt=new Oe(m)),V=jt.add(R,V,J,Ze,Re),V.proxy)return V;if(J=mt(),V.proxy=J,J.src=m,J.listener=V,m.addEventListener)U||(Se=Ze),Se===void 0&&(Se=!1),m.addEventListener(R.toString(),J,Se);else if(m.attachEvent)m.attachEvent(ot(R.toString()),J);else if(m.addListener&&m.removeListener)m.addListener(J);else throw Error("addEventListener and attachEvent are unavailable.");return V}function mt(){function m(V){return R.call(m.src,m.listener,V)}const R=lt;return m}function Ye(m,R,V,J,Se){if(Array.isArray(R))for(var Re=0;Re<R.length;Re++)Ye(m,R[Re],V,J,Se);else J=u(J)?!!J.capture:!!J,V=Rt(V),m&&m[fe]?(m=m.i,R=String(R).toString(),R in m.g&&(Re=m.g[R],V=Ue(Re,V,J,Se),-1<V&&(Te(Re[V]),Array.prototype.splice.call(Re,V,1),Re.length==0&&(delete m.g[R],m.h--)))):m&&(m=_t(m))&&(R=m.g[R.toString()],m=-1,R&&(m=Ue(R,V,J,Se)),(V=-1<m?R[m]:null)&&nt(V))}function nt(m){if(typeof m!="number"&&m&&!m.da){var R=m.src;if(R&&R[fe])Be(R.i,m);else{var V=m.type,J=m.proxy;R.removeEventListener?R.removeEventListener(V,J,m.capture):R.detachEvent?R.detachEvent(ot(V),J):R.addListener&&R.removeListener&&R.removeListener(J),(V=_t(R))?(Be(V,m),V.h==0&&(V.src=null,R[He]=null)):Te(m)}}}function ot(m){return m in Fe?Fe[m]:Fe[m]="on"+m}function lt(m,R){if(m.da)m=!0;else{R=new z(R,this);var V=m.listener,J=m.ha||m.src;m.fa&&nt(m),m=V.call(J,R)}return m}function _t(m){return m=m[He],m instanceof Oe?m:null}var St="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rt(m){return typeof m=="function"?m:(m[St]||(m[St]=function(R){return m.handleEvent(R)}),m[St])}function Tt(){I.call(this),this.i=new Oe(this),this.M=this,this.F=null}v(Tt,I),Tt.prototype[fe]=!0,Tt.prototype.removeEventListener=function(m,R,V,J){Ye(this,m,R,V,J)};function kt(m,R){var V,J=m.F;if(J)for(V=[];J;J=J.F)V.push(J);if(m=m.M,J=R.type||R,typeof R=="string")R=new O(R,m);else if(R instanceof O)R.target=R.target||m;else{var Se=R;R=new O(J,m),F(R,Se)}if(Se=!0,V)for(var Re=V.length-1;0<=Re;Re--){var Ze=R.g=V[Re];Se=qt(Ze,J,!0,R)&&Se}if(Ze=R.g=m,Se=qt(Ze,J,!0,R)&&Se,Se=qt(Ze,J,!1,R)&&Se,V)for(Re=0;Re<V.length;Re++)Ze=R.g=V[Re],Se=qt(Ze,J,!1,R)&&Se}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var m=this.i,R;for(R in m.g){for(var V=m.g[R],J=0;J<V.length;J++)Te(V[J]);delete m.g[R],m.h--}}this.F=null},Tt.prototype.K=function(m,R,V,J){return this.i.add(String(m),R,!1,V,J)},Tt.prototype.L=function(m,R,V,J){return this.i.add(String(m),R,!0,V,J)};function qt(m,R,V,J){if(R=m.i.g[String(R)],!R)return!0;R=R.concat();for(var Se=!0,Re=0;Re<R.length;++Re){var Ze=R[Re];if(Ze&&!Ze.da&&Ze.capture==V){var jt=Ze.listener,Xt=Ze.ha||Ze.src;Ze.fa&&Be(m.i,Ze),Se=jt.call(Xt,J)!==!1&&Se}}return Se&&!J.defaultPrevented}function Ct(m,R,V){if(typeof m=="function")V&&(m=d(m,V));else if(m&&typeof m.handleEvent=="function")m=d(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(R)?-1:o.setTimeout(m,R||0)}function Wt(m){m.g=Ct(()=>{m.g=null,m.i&&(m.i=!1,Wt(m))},m.l);const R=m.h;m.h=null,m.m.apply(null,R)}class ht extends I{constructor(R,V){super(),this.m=R,this.l=V,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:Wt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dr(m){I.call(this),this.h=m,this.g={}}v(Dr,I);var Gt=[];function $n(m){B(m.g,function(R,V){this.g.hasOwnProperty(V)&&nt(R)},m),m.g={}}Dr.prototype.N=function(){Dr.aa.N.call(this),$n(this)},Dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tr=o.JSON.stringify,Tr=o.JSON.parse,Ki=class{stringify(m){return o.JSON.stringify(m,void 0)}parse(m){return o.JSON.parse(m,void 0)}};function Kt(){}Kt.prototype.h=null;function ms(m){return m.h||(m.h=m.i())}function Er(){}var Nn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Li(){O.call(this,"d")}v(Li,O);function ur(){O.call(this,"c")}v(ur,O);var Et={},Zt=null;function Yi(){return Zt=Zt||new Tt}Et.La="serverreachability";function Jr(m){O.call(this,Et.La,m)}v(Jr,O);function On(m){const R=Yi();kt(R,new Jr(R))}Et.STAT_EVENT="statevent";function Fi(m,R){O.call(this,Et.STAT_EVENT,m),this.stat=R}v(Fi,O);function vt(m){const R=Yi();kt(R,new Fi(R,m))}Et.Ma="timingevent";function hi(m,R){O.call(this,Et.Ma,m),this.size=R}v(hi,O);function vn(m,R){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){m()},R)}function Zr(){this.g=!0}Zr.prototype.xa=function(){this.g=!1};function $r(m,R,V,J,Se,Re){m.info(function(){if(m.g)if(Re)for(var Ze="",jt=Re.split("&"),Xt=0;Xt<jt.length;Xt++){var Bt=jt[Xt].split("=");if(1<Bt.length){var dr=Bt[0];Bt=Bt[1];var Cr=dr.split("_");Ze=2<=Cr.length&&Cr[1]=="type"?Ze+(dr+"="+Bt+"&"):Ze+(dr+"=redacted&")}}else Ze=null;else Ze=Re;return"XMLHTTP REQ ("+J+") [attempt "+Se+"]: "+R+`
`+V+`
`+Ze})}function Wr(m,R,V,J,Se,Re,Ze){m.info(function(){return"XMLHTTP RESP ("+J+") [ attempt "+Se+"]: "+R+`
`+V+`
`+Re+" "+Ze})}function K(m,R,V,J){m.info(function(){return"XMLHTTP TEXT ("+R+"): "+ne(m,V)+(J?" "+J:"")})}function le(m,R){m.info(function(){return"TIMEOUT: "+R})}Zr.prototype.info=function(){};function ne(m,R){if(!m.g)return R;if(!R)return null;try{var V=JSON.parse(R);if(V){for(m=0;m<V.length;m++)if(Array.isArray(V[m])){var J=V[m];if(!(2>J.length)){var Se=J[1];if(Array.isArray(Se)&&!(1>Se.length)){var Re=Se[0];if(Re!="noop"&&Re!="stop"&&Re!="close")for(var Ze=1;Ze<Se.length;Ze++)Se[Ze]=""}}}}return tr(V)}catch{return R}}var se={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ce;function Ne(){}v(Ne,Kt),Ne.prototype.g=function(){return new XMLHttpRequest},Ne.prototype.i=function(){return{}},ce=new Ne;function De(m,R,V,J){this.j=m,this.i=R,this.l=V,this.R=J||1,this.U=new Dr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ke}function ke(){this.i=null,this.g="",this.h=!1}var Ce={},Le={};function Qe(m,R,V){m.L=1,m.v=po(Oi(R)),m.m=V,m.P=!0,it(m,null)}function it(m,R){m.F=Date.now(),ut(m),m.A=Oi(m.v);var V=m.A,J=m.R;Array.isArray(J)||(J=[String(J)]),Ft(V.i,"t",J),m.C=0,V=m.j.J,m.h=new ke,m.g=W(m.j,V?R:null,!m.m),0<m.O&&(m.M=new ht(d(m.Y,m,m.g),m.O)),R=m.U,V=m.g,J=m.ca;var Se="readystatechange";Array.isArray(Se)||(Se&&(Gt[0]=Se.toString()),Se=Gt);for(var Re=0;Re<Se.length;Re++){var Ze=ue(V,Se[Re],J||R.handleEvent,!1,R.h||R);if(!Ze)break;R.g[Ze.key]=Ze}R=m.H?y(m.H):{},m.m?(m.u||(m.u="POST"),R["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,R)):(m.u="GET",m.g.ea(m.A,m.u,null,R)),On(),$r(m.i,m.u,m.A,m.l,m.R,m.m)}De.prototype.ca=function(m){m=m.target;const R=this.M;R&&kn(m)==3?R.j():this.Y(m)},De.prototype.Y=function(m){try{if(m==this.g)e:{const Cr=kn(this.g);var R=this.g.Ba();const ha=this.g.Z();if(!(3>Cr)&&(Cr!=3||this.g&&(this.h.h||this.g.oa()||nf(this.g)))){this.J||Cr!=4||R==7||(R==8||0>=ha?On(3):On(2)),rr(this);var V=this.g.Z();this.X=V;t:if(dt(this)){var J=nf(this.g);m="";var Se=J.length,Re=kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ar(this),nr(this);var Ze="";break t}this.h.i=new o.TextDecoder}for(R=0;R<Se;R++)this.h.h=!0,m+=this.h.i.decode(J[R],{stream:!(Re&&R==Se-1)});J.length=0,this.h.g+=m,this.C=0,Ze=this.h.g}else Ze=this.g.oa();if(this.o=V==200,Wr(this.i,this.u,this.A,this.l,this.R,Cr,V),this.o){if(this.T&&!this.K){t:{if(this.g){var jt,Xt=this.g;if((jt=Xt.g?Xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(jt)){var Bt=jt;break t}}Bt=null}if(V=Bt)K(this.i,this.l,V,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Di(this,V);else{this.o=!1,this.s=3,vt(12),Ar(this),nr(this);break e}}if(this.P){V=!0;let Yn;for(;!this.J&&this.C<Ze.length;)if(Yn=tt(this,Ze),Yn==Le){Cr==4&&(this.s=4,vt(14),V=!1),K(this.i,this.l,null,"[Incomplete Response]");break}else if(Yn==Ce){this.s=4,vt(15),K(this.i,this.l,Ze,"[Invalid Chunk]"),V=!1;break}else K(this.i,this.l,Yn,null),Di(this,Yn);if(dt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Cr!=4||Ze.length!=0||this.h.h||(this.s=1,vt(16),V=!1),this.o=this.o&&V,!V)K(this.i,this.l,Ze,"[Invalid Chunked Response]"),Ar(this),nr(this);else if(0<Ze.length&&!this.W){this.W=!0;var dr=this.j;dr.g==this&&dr.ba&&!dr.M&&(dr.j.info("Great, no buffering proxy detected. Bytes received: "+Ze.length),wl(dr),dr.M=!0,vt(11))}}else K(this.i,this.l,Ze,null),Di(this,Ze);Cr==4&&Ar(this),this.o&&!this.J&&(Cr==4?Ua(this.j,this):(this.o=!1,ut(this)))}else Ba(this.g),V==400&&0<Ze.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),Ar(this),nr(this)}}}catch{}finally{}};function dt(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function tt(m,R){var V=m.C,J=R.indexOf(`
`,V);return J==-1?Le:(V=Number(R.substring(V,J)),isNaN(V)?Ce:(J+=1,J+V>R.length?Le:(R=R.slice(J,J+V),m.C=J+V,R)))}De.prototype.cancel=function(){this.J=!0,Ar(this)};function ut(m){m.S=Date.now()+m.I,It(m,m.I)}function It(m,R){if(m.B!=null)throw Error("WatchDog timer not null");m.B=vn(d(m.ba,m),R)}function rr(m){m.B&&(o.clearTimeout(m.B),m.B=null)}De.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(le(this.i,this.A),this.L!=2&&(On(),vt(17)),Ar(this),this.s=2,nr(this)):It(this,this.S-m)};function nr(m){m.j.G==0||m.J||Ua(m.j,m)}function Ar(m){rr(m);var R=m.M;R&&typeof R.ma=="function"&&R.ma(),m.M=null,$n(m.U),m.g&&(R=m.g,m.g=null,R.abort(),R.ma())}function Di(m,R){try{var V=m.j;if(V.G!=0&&(V.g==m||Gn(V.h,m))){if(!m.K&&Gn(V.h,m)&&V.G==3){try{var J=V.Da.g.parse(R)}catch{J=null}if(Array.isArray(J)&&J.length==3){var Se=J;if(Se[0]==0){e:if(!V.u){if(V.g)if(V.g.F+3e3<m.F)fa(V),gl(V);else break e;xo(V),vt(18)}}else V.za=Se[1],0<V.za-V.T&&37500>Se[2]&&V.F&&V.v==0&&!V.C&&(V.C=vn(d(V.Za,V),6e3));if(1>=vs(V.h)&&V.ca){try{V.ca()}catch{}V.ca=void 0}}else di(V,11)}else if((m.K||V.g==m)&&fa(V),!b(R))for(Se=V.Da.g.parse(R),R=0;R<Se.length;R++){let Bt=Se[R];if(V.T=Bt[0],Bt=Bt[1],V.G==2)if(Bt[0]=="c"){V.K=Bt[1],V.ia=Bt[2];const dr=Bt[3];dr!=null&&(V.la=dr,V.j.info("VER="+V.la));const Cr=Bt[4];Cr!=null&&(V.Aa=Cr,V.j.info("SVER="+V.Aa));const ha=Bt[5];ha!=null&&typeof ha=="number"&&0<ha&&(J=1.5*ha,V.L=J,V.j.info("backChannelRequestTimeoutMs_="+J)),J=V;const Yn=m.g;if(Yn){const za=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(za){var Re=J.h;Re.g||za.indexOf("spdy")==-1&&za.indexOf("quic")==-1&&za.indexOf("h2")==-1||(Re.j=Re.l,Re.g=new Set,Re.h&&(Or(Re,Re.h),Re.h=null))}if(J.D){const Wa=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;Wa&&(J.ya=Wa,pr(J.I,J.D,Wa))}}V.G=3,V.l&&V.l.ua(),V.ba&&(V.R=Date.now()-m.F,V.j.info("Handshake RTT: "+V.R+"ms")),J=V;var Ze=m;if(J.qa=A(J,J.J?J.ia:null,J.W),Ze.K){Bu(J.h,Ze);var jt=Ze,Xt=J.L;Xt&&(jt.I=Xt),jt.B&&(rr(jt),ut(jt)),J.g=Ze}else xl(J);0<V.i.length&&vl(V)}else Bt[0]!="stop"&&Bt[0]!="close"||di(V,7);else V.G==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?di(V,7):ca(V):Bt[0]!="noop"&&V.l&&V.l.ta(Bt),V.v=0)}}On(4)}catch{}}var sa=class{constructor(m,R){this.g=m,this.map=R}};function gs(m){this.l=m||10,o.PerformanceNavigationTiming?(m=o.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xi(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function vs(m){return m.h?1:m.g?m.g.size:0}function Gn(m,R){return m.h?m.h==R:m.g?m.g.has(R):!1}function Or(m,R){m.g?m.g.add(R):m.h=R}function Bu(m,R){m.h&&m.h==R?m.h=null:m.g&&m.g.has(R)&&m.g.delete(R)}gs.prototype.cancel=function(){if(this.i=Vu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Vu(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let R=m.i;for(const V of m.g.values())R=R.concat(V.D);return R}return g(m.i)}function Qc(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(l(m)){for(var R=[],V=m.length,J=0;J<V;J++)R.push(m[J]);return R}R=[],V=0;for(J in m)R[V++]=m[J];return R}function Uu(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(l(m)||typeof m=="string"){var R=[];m=m.length;for(var V=0;V<m;V++)R.push(V);return R}R=[],V=0;for(const J in m)R[V++]=J;return R}}}function Jc(m,R){if(m.forEach&&typeof m.forEach=="function")m.forEach(R,void 0);else if(l(m)||typeof m=="string")Array.prototype.forEach.call(m,R,void 0);else for(var V=Uu(m),J=Qc(m),Se=J.length,Re=0;Re<Se;Re++)R.call(void 0,J[Re],V&&V[Re],m)}var Qi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ol(m,R){if(m){m=m.split("&");for(var V=0;V<m.length;V++){var J=m[V].indexOf("="),Se=null;if(0<=J){var Re=m[V].substring(0,J);Se=m[V].substring(J+1)}else Re=m[V];R(Re,Se?decodeURIComponent(Se.replace(/\+/g," ")):"")}}}function en(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof en){this.h=m.h,ho(this,m.j),this.o=m.o,this.g=m.g,ll(this,m.s),this.l=m.l;var R=m.i,V=new Ma;V.i=R.i,R.g&&(V.g=new Map(R.g),V.h=R.h),zu(this,V),this.m=m.m}else m&&(R=String(m).match(Qi))?(this.h=!1,ho(this,R[1]||"",!0),this.o=mo(R[2]||""),this.g=mo(R[3]||"",!0),ll(this,R[4]),this.l=mo(R[5]||"",!0),zu(this,R[6]||"",!0),this.m=mo(R[7]||"")):(this.h=!1,this.i=new Ma(null,this.h))}en.prototype.toString=function(){var m=[],R=this.j;R&&m.push(aa(R,Zc,!0),":");var V=this.g;return(V||R=="file")&&(m.push("//"),(R=this.o)&&m.push(aa(R,Zc,!0),"@"),m.push(encodeURIComponent(String(V)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),V=this.s,V!=null&&m.push(":",String(V))),(V=this.l)&&(this.g&&V.charAt(0)!="/"&&m.push("/"),m.push(aa(V,V.charAt(0)=="/"?oa:Qh,!0))),(V=this.i.toString())&&m.push("?",V),(V=this.m)&&m.push("#",aa(V,cl)),m.join("")};function Oi(m){return new en(m)}function ho(m,R,V){m.j=V?mo(R,!0):R,m.j&&(m.j=m.j.replace(/:$/,""))}function ll(m,R){if(R){if(R=Number(R),isNaN(R)||0>R)throw Error("Bad port number "+R);m.s=R}else m.s=null}function zu(m,R,V){R instanceof Ma?(m.i=R,Jh(m.i,m.h)):(V||(R=aa(R,ul)),m.i=new Ma(R,m.h))}function pr(m,R,V){m.i.set(R,V)}function po(m){return pr(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function mo(m,R){return m?R?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function aa(m,R,V){return typeof m=="string"?(m=encodeURI(m).replace(R,Xh),V&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Xh(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Zc=/[#\/\?@]/g,Qh=/[#\?:]/g,oa=/[#\?]/g,ul=/[#\?@]/g,cl=/#/g;function Ma(m,R){this.h=this.g=null,this.i=m||null,this.j=!!R}function Mr(m){m.g||(m.g=new Map,m.h=0,m.i&&ol(m.i,function(R,V){m.add(decodeURIComponent(R.replace(/\+/g," ")),V)}))}t=Ma.prototype,t.add=function(m,R){Mr(this),this.i=null,m=ja(this,m);var V=this.g.get(m);return V||this.g.set(m,V=[]),V.push(R),this.h+=1,this};function ef(m,R){Mr(m),R=ja(m,R),m.g.has(R)&&(m.i=null,m.h-=m.g.get(R).length,m.g.delete(R))}function Wu(m,R){return Mr(m),R=ja(m,R),m.g.has(R)}t.forEach=function(m,R){Mr(this),this.g.forEach(function(V,J){V.forEach(function(Se){m.call(R,Se,J,this)},this)},this)},t.na=function(){Mr(this);const m=Array.from(this.g.values()),R=Array.from(this.g.keys()),V=[];for(let J=0;J<R.length;J++){const Se=m[J];for(let Re=0;Re<Se.length;Re++)V.push(R[J])}return V},t.V=function(m){Mr(this);let R=[];if(typeof m=="string")Wu(this,m)&&(R=R.concat(this.g.get(ja(this,m))));else{m=Array.from(this.g.values());for(let V=0;V<m.length;V++)R=R.concat(m[V])}return R},t.set=function(m,R){return Mr(this),this.i=null,m=ja(this,m),Wu(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[R]),this.h+=1,this},t.get=function(m,R){return m?(m=this.V(m),0<m.length?String(m[0]):R):R};function Ft(m,R,V){ef(m,R),0<V.length&&(m.i=null,m.g.set(ja(m,R),g(V)),m.h+=V.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],R=Array.from(this.g.keys());for(var V=0;V<R.length;V++){var J=R[V];const Re=encodeURIComponent(String(J)),Ze=this.V(J);for(J=0;J<Ze.length;J++){var Se=Re;Ze[J]!==""&&(Se+="="+encodeURIComponent(String(Ze[J]))),m.push(Se)}}return this.i=m.join("&")};function ja(m,R){return R=String(R),m.j&&(R=R.toLowerCase()),R}function Jh(m,R){R&&!m.j&&(Mr(m),m.i=null,m.g.forEach(function(V,J){var Se=J.toLowerCase();J!=Se&&(ef(this,J),Ft(this,Se,V))},m)),m.j=R}function Ms(m,R){const V=new Zr;if(o.Image){const J=new Image;J.onload=h(ys,V,"TestLoadImage: loaded",!0,R,J),J.onerror=h(ys,V,"TestLoadImage: error",!1,R,J),J.onabort=h(ys,V,"TestLoadImage: abort",!1,R,J),J.ontimeout=h(ys,V,"TestLoadImage: timeout",!1,R,J),o.setTimeout(function(){J.ontimeout&&J.ontimeout()},1e4),J.src=m}else R(!1)}function tf(m,R){const V=new Zr,J=new AbortController,Se=setTimeout(()=>{J.abort(),ys(V,"TestPingServer: timeout",!1,R)},1e4);fetch(m,{signal:J.signal}).then(Re=>{clearTimeout(Se),Re.ok?ys(V,"TestPingServer: ok",!0,R):ys(V,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(Se),ys(V,"TestPingServer: error",!1,R)})}function ys(m,R,V,J,Se){try{Se&&(Se.onload=null,Se.onerror=null,Se.onabort=null,Se.ontimeout=null),J(V)}catch{}}function fl(){this.g=new Ki}function Hu(m,R,V){const J=V||"";try{Jc(m,function(Se,Re){let Ze=Se;u(Se)&&(Ze=tr(Se)),R.push(J+Re+"="+encodeURIComponent(Ze))})}catch(Se){throw R.push(J+"type="+encodeURIComponent("_badmap")),Se}}function hl(m){this.l=m.Ub||null,this.j=m.eb||!1}v(hl,Kt),hl.prototype.g=function(){return new dl(this.l,this.j)},hl.prototype.i=function(m){return function(){return m}}({});function dl(m,R){Tt.call(this),this.D=m,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(dl,Tt),t=dl.prototype,t.open=function(m,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=R,this.readyState=1,xs(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const R={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(R.body=m),(this.D||o).fetch(new Request(this.A,R)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,la(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,xs(this)),this.g&&(this.readyState=3,xs(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;rf(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function rf(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var R=m.value?m.value:new Uint8Array(0);(R=this.v.decode(R,{stream:!m.done}))&&(this.response=this.responseText+=R)}m.done?la(this):xs(this),this.readyState==3&&rf(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,la(this))},t.Qa=function(m){this.g&&(this.response=m,la(this))},t.ga=function(){this.g&&la(this)};function la(m){m.readyState=4,m.l=null,m.j=null,m.v=null,xs(m)}t.setRequestHeader=function(m,R){this.u.append(m,R)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],R=this.h.entries();for(var V=R.next();!V.done;)V=V.value,m.push(V[0]+": "+V[1]),V=R.next();return m.join(`\r
`)};function xs(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(dl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function ua(m){let R="";return B(m,function(V,J){R+=J,R+=":",R+=V,R+=`\r
`}),R}function qu(m,R,V){e:{for(J in V){var J=!1;break e}J=!0}J||(V=ua(V),typeof m=="string"?V!=null&&encodeURIComponent(String(V)):pr(m,R,V))}function hr(m){Tt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(hr,Tt);var $u=/^https?$/i,pl=["POST","PUT"];t=hr.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,R,V,J){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);R=R?R.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ce.g(),this.v=this.o?ms(this.o):ms(ce),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(R,String(m),!0),this.B=!1}catch(Re){Gu(this,Re);return}if(m=V||"",V=new Map(this.headers),J)if(Object.getPrototypeOf(J)===Object.prototype)for(var Se in J)V.set(Se,J[Se]);else if(typeof J.keys=="function"&&typeof J.get=="function")for(const Re of J.keys())V.set(Re,J.get(Re));else throw Error("Unknown input type for opt_headers: "+String(J));J=Array.from(V.keys()).find(Re=>Re.toLowerCase()=="content-type"),Se=o.FormData&&m instanceof o.FormData,!(0<=Array.prototype.indexOf.call(pl,R,void 0))||J||Se||V.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Re,Ze]of V)this.g.setRequestHeader(Re,Ze);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ws(this),this.u=!0,this.g.send(m),this.u=!1}catch(Re){Gu(this,Re)}};function Gu(m,R){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=R,m.m=5,Ku(m),go(m)}function Ku(m){m.A||(m.A=!0,kt(m,"complete"),kt(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,kt(this,"complete"),kt(this,"abort"),go(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),go(this,!0)),hr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Yu(this):this.bb())},t.bb=function(){Yu(this)};function Yu(m){if(m.h&&typeof a<"u"&&(!m.v[1]||kn(m)!=4||m.Z()!=2)){if(m.u&&kn(m)==4)Ct(m.Ea,0,m);else if(kt(m,"readystatechange"),kn(m)==4){m.h=!1;try{const Ze=m.Z();e:switch(Ze){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var V;if(!(V=R)){var J;if(J=Ze===0){var Se=String(m.D).match(Qi)[1]||null;!Se&&o.self&&o.self.location&&(Se=o.self.location.protocol.slice(0,-1)),J=!$u.test(Se?Se.toLowerCase():"")}V=J}if(V)kt(m,"complete"),kt(m,"success");else{m.m=6;try{var Re=2<kn(m)?m.g.statusText:""}catch{Re=""}m.l=Re+" ["+m.Z()+"]",Ku(m)}}finally{go(m)}}}}function go(m,R){if(m.g){ws(m);const V=m.g,J=m.v[0]?()=>{}:null;m.g=null,m.v=null,R||kt(m,"ready");try{V.onreadystatechange=J}catch{}}}function ws(m){m.I&&(o.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function kn(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<kn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var R=this.g.responseText;return m&&R.indexOf(m)==0&&(R=R.substring(m.length)),Tr(R)}};function nf(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Ba(m){const R={};m=(m.g&&2<=kn(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let J=0;J<m.length;J++){if(b(m[J]))continue;var V=E(m[J]);const Se=V[0];if(V=V[1],typeof V!="string")continue;V=V.trim();const Re=R[Se]||[];R[Se]=Re,Re.push(V)}k(R,function(J){return J.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Kn(m,R,V){return V&&V.internalChannelParams&&V.internalChannelParams[m]||R}function ml(m){this.Aa=0,this.i=[],this.j=new Zr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kn("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kn("baseRetryDelayMs",5e3,m),this.cb=Kn("retryDelaySeedMs",1e4,m),this.Wa=Kn("forwardChannelMaxRetries",2,m),this.wa=Kn("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new gs(m&&m.concurrentRequestLimit),this.Da=new fl,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ml.prototype,t.la=8,t.G=1,t.connect=function(m,R,V,J){vt(0),this.W=m,this.H=R||{},V&&J!==void 0&&(this.H.OSID=V,this.H.OAID=J),this.F=this.X,this.I=A(this,null,this.W),vl(this)};function ca(m){if(vo(m),m.G==3){var R=m.U++,V=Oi(m.I);if(pr(V,"SID",m.K),pr(V,"RID",R),pr(V,"TYPE","terminate"),Va(m,V),R=new De(m,m.j,R),R.L=2,R.v=po(Oi(V)),V=!1,o.navigator&&o.navigator.sendBeacon)try{V=o.navigator.sendBeacon(R.v.toString(),"")}catch{}!V&&o.Image&&(new Image().src=R.v,V=!0),V||(R.g=W(R.j,null),R.g.ea(R.v)),R.F=Date.now(),ut(R)}bl(m)}function gl(m){m.g&&(wl(m),m.g.cancel(),m.g=null)}function vo(m){gl(m),m.u&&(o.clearTimeout(m.u),m.u=null),fa(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&o.clearTimeout(m.s),m.s=null)}function vl(m){if(!Xi(m.h)&&!m.s){m.s=!0;var R=m.Ga;ee||pe(),Q||(ee(),Q=!0),te.add(R,m),m.B=0}}function Xu(m,R){return vs(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=R.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=vn(d(m.Ga,m,R),_l(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const Se=new De(this,this.j,m);let Re=this.o;if(this.S&&(Re?(Re=y(Re),F(Re,this.S)):Re=this.S),this.m!==null||this.O||(Se.H=Re,Re=null),this.P)e:{for(var R=0,V=0;V<this.i.length;V++){t:{var J=this.i[V];if("__data__"in J.map&&(J=J.map.__data__,typeof J=="string")){J=J.length;break t}J=void 0}if(J===void 0)break;if(R+=J,4096<R){R=V;break e}if(R===4096||V===this.i.length-1){R=V+1;break e}}R=1e3}else R=1e3;R=yo(this,Se,R),V=Oi(this.I),pr(V,"RID",m),pr(V,"CVER",22),this.D&&pr(V,"X-HTTP-Session-Id",this.D),Va(this,V),Re&&(this.O?R="headers="+encodeURIComponent(String(ua(Re)))+"&"+R:this.m&&qu(V,this.m,Re)),Or(this.h,Se),this.Ua&&pr(V,"TYPE","init"),this.P?(pr(V,"$req",R),pr(V,"SID","null"),Se.T=!0,Qe(Se,V,null)):Qe(Se,V,R),this.G=2}}else this.G==3&&(m?yl(this,m):this.i.length==0||Xi(this.h)||yl(this))};function yl(m,R){var V;R?V=R.l:V=m.U++;const J=Oi(m.I);pr(J,"SID",m.K),pr(J,"RID",V),pr(J,"AID",m.T),Va(m,J),m.m&&m.o&&qu(J,m.m,m.o),V=new De(m,m.j,V,m.B+1),m.m===null&&(V.H=m.o),R&&(m.i=R.D.concat(m.i)),R=yo(m,V,1e3),V.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Or(m.h,V),Qe(V,J,R)}function Va(m,R){m.H&&B(m.H,function(V,J){pr(R,J,V)}),m.l&&Jc({},function(V,J){pr(R,J,V)})}function yo(m,R,V){V=Math.min(m.i.length,V);var J=m.l?d(m.l.Na,m.l,m):null;e:{var Se=m.i;let Re=-1;for(;;){const Ze=["count="+V];Re==-1?0<V?(Re=Se[0].g,Ze.push("ofs="+Re)):Re=0:Ze.push("ofs="+Re);let jt=!0;for(let Xt=0;Xt<V;Xt++){let Bt=Se[Xt].g;const dr=Se[Xt].map;if(Bt-=Re,0>Bt)Re=Math.max(0,Se[Xt].g-100),jt=!1;else try{Hu(dr,Ze,"req"+Bt+"_")}catch{J&&J(dr)}}if(jt){J=Ze.join("&");break e}}}return m=m.i.splice(0,V),R.D=m,J}function xl(m){if(!m.g&&!m.u){m.Y=1;var R=m.Fa;ee||pe(),Q||(ee(),Q=!0),te.add(R,m),m.v=0}}function xo(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=vn(d(m.Fa,m),_l(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,sf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=vn(d(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),gl(this),sf(this))};function wl(m){m.A!=null&&(o.clearTimeout(m.A),m.A=null)}function sf(m){m.g=new De(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var R=Oi(m.qa);pr(R,"RID","rpc"),pr(R,"SID",m.K),pr(R,"AID",m.T),pr(R,"CI",m.F?"0":"1"),!m.F&&m.ja&&pr(R,"TO",m.ja),pr(R,"TYPE","xmlhttp"),Va(m,R),m.m&&m.o&&qu(R,m.m,m.o),m.L&&(m.g.I=m.L);var V=m.g;m=m.ia,V.L=1,V.v=po(Oi(R)),V.m=null,V.P=!0,it(V,m)}t.Za=function(){this.C!=null&&(this.C=null,gl(this),xo(this),vt(19))};function fa(m){m.C!=null&&(o.clearTimeout(m.C),m.C=null)}function Ua(m,R){var V=null;if(m.g==R){fa(m),wl(m),m.g=null;var J=2}else if(Gn(m.h,R))V=R.D,Bu(m.h,R),J=1;else return;if(m.G!=0){if(R.o)if(J==1){V=R.m?R.m.length:0,R=Date.now()-R.F;var Se=m.B;J=Yi(),kt(J,new hi(J,V)),vl(m)}else xl(m);else if(Se=R.s,Se==3||Se==0&&0<R.X||!(J==1&&Xu(m,R)||J==2&&xo(m)))switch(V&&0<V.length&&(R=m.h,R.i=R.i.concat(V)),Se){case 1:di(m,5);break;case 4:di(m,10);break;case 3:di(m,6);break;default:di(m,2)}}}function _l(m,R){let V=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(V*=2),V*R}function di(m,R){if(m.j.info("Error code "+R),R==2){var V=d(m.fb,m),J=m.Xa;const Se=!J;J=new en(J||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||ho(J,"https"),po(J),Se?Ms(J.toString(),V):tf(J.toString(),V)}else vt(2);m.G=0,m.l&&m.l.sa(R),bl(m),vo(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function bl(m){if(m.G=0,m.ka=[],m.l){const R=Vu(m.h);(R.length!=0||m.i.length!=0)&&(S(m.ka,R),S(m.ka,m.i),m.h.i.length=0,g(m.i),m.i.length=0),m.l.ra()}}function A(m,R,V){var J=V instanceof en?Oi(V):new en(V);if(J.g!="")R&&(J.g=R+"."+J.g),ll(J,J.s);else{var Se=o.location;J=Se.protocol,R=R?R+"."+Se.hostname:Se.hostname,Se=+Se.port;var Re=new en(null);J&&ho(Re,J),R&&(Re.g=R),Se&&ll(Re,Se),V&&(Re.l=V),J=Re}return V=m.D,R=m.ya,V&&R&&pr(J,V,R),pr(J,"VER",m.la),Va(m,J),J}function W(m,R,V){if(R&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return R=m.Ca&&!m.pa?new hr(new hl({eb:V})):new hr(m.pa),R.Ha(m.J),R}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function he(){}t=he.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ve(){}ve.prototype.g=function(m,R){return new Ee(m,R)};function Ee(m,R){Tt.call(this),this.g=new ml(R),this.l=m,this.h=R&&R.messageUrlParams||null,m=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(m?m["X-WebChannel-Content-Type"]=R.messageContentType:m={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.va&&(m?m["X-WebChannel-Client-Profile"]=R.va:m={"X-WebChannel-Client-Profile":R.va}),this.g.S=m,(m=R&&R.Sb)&&!b(m)&&(this.g.m=m),this.v=R&&R.supportsCrossDomainXhr||!1,this.u=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!b(R)&&(this.g.D=R,m=this.h,m!==null&&R in m&&(m=this.h,R in m&&delete m[R])),this.j=new ft(this)}v(Ee,Tt),Ee.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ee.prototype.close=function(){ca(this.g)},Ee.prototype.o=function(m){var R=this.g;if(typeof m=="string"){var V={};V.__data__=m,m=V}else this.u&&(V={},V.__data__=tr(m),m=V);R.i.push(new sa(R.Ya++,m)),R.G==3&&vl(R)},Ee.prototype.N=function(){this.g.l=null,delete this.j,ca(this.g),delete this.g,Ee.aa.N.call(this)};function je(m){Li.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var R=m.__sm__;if(R){e:{for(const V in R){m=V;break e}m=void 0}(this.i=m)&&(m=this.i,R=R!==null&&m in R?R[m]:void 0),this.data=R}else this.data=m}v(je,Li);function Je(){ur.call(this),this.status=1}v(Je,ur);function ft(m){this.g=m}v(ft,he),ft.prototype.ua=function(){kt(this.g,"a")},ft.prototype.ta=function(m){kt(this.g,new je(m))},ft.prototype.sa=function(m){kt(this.g,new Je)},ft.prototype.ra=function(){kt(this.g,"b")},ve.prototype.createWebChannel=ve.prototype.g,Ee.prototype.send=Ee.prototype.o,Ee.prototype.open=Ee.prototype.m,Ee.prototype.close=Ee.prototype.close,N6=function(){return new ve},A6=function(){return Yi()},E6=Et,Ex={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},se.NO_ERROR=0,se.TIMEOUT=8,se.HTTP_ERROR=6,pg=se,oe.COMPLETE="complete",T6=oe,Er.EventType=Nn,Nn.OPEN="a",Nn.CLOSE="b",Nn.ERROR="c",Nn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,Ld=Er,hr.prototype.listenOnce=hr.prototype.L,hr.prototype.getLastError=hr.prototype.Ka,hr.prototype.getLastErrorCode=hr.prototype.Ba,hr.prototype.getStatus=hr.prototype.Z,hr.prototype.getResponseJson=hr.prototype.Oa,hr.prototype.getResponseText=hr.prototype.oa,hr.prototype.send=hr.prototype.ea,hr.prototype.setWithCredentials=hr.prototype.Ha,S6=hr}).apply(typeof km<"u"?km:typeof self<"u"?self:typeof window<"u"?window:{});const qS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_i.UNAUTHENTICATED=new _i(null),_i.GOOGLE_CREDENTIALS=new _i("google-credentials-uid"),_i.FIRST_PARTY=new _i("first-party-uid"),_i.MOCK_USER=new _i("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bh="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc=new E5("@firebase/firestore");function _d(){return Dc.logLevel}function bt(t,...e){if(Dc.logLevel<=er.DEBUG){const r=e.map(M5);Dc.debug(`Firestore (${Bh}): ${t}`,...r)}}function Ko(t,...e){if(Dc.logLevel<=er.ERROR){const r=e.map(M5);Dc.error(`Firestore (${Bh}): ${t}`,...r)}}function _h(t,...e){if(Dc.logLevel<=er.WARN){const r=e.map(M5);Dc.warn(`Firestore (${Bh}): ${t}`,...r)}}function M5(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(t="Unexpected state"){const e=`FIRESTORE (${Bh}) INTERNAL ASSERTION FAILED: `+t;throw Ko(e),new Error(e)}function br(t,e){t||Mt()}function zt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends nl{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class z9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(_i.UNAUTHENTICATED))}shutdown(){}}class W9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class H9{constructor(e){this.t=e,this.currentUser=_i.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){br(this.o===void 0);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let s=new jo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new jo,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{bt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(bt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new jo)}},0),a()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(bt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(br(typeof n.accessToken=="string"),new k6(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return br(e===null||typeof e=="string"),new _i(e)}}class q9{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=_i.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class $9{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new q9(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(_i.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class G9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K9{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){br(this.o===void 0);const n=s=>{s.error!=null&&bt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,bt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const i=s=>{bt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):bt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(br(typeof r.token=="string"),this.R=r.token,new G9(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=Y9(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%e.length))}return n}}function lr(t,e){return t<e?-1:t>e?1:0}function bh(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new yt(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new yt(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new yt(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new yt(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Fn.fromMillis(Date.now())}static fromDate(e){return Fn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new Fn(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?lr(this.nanoseconds,e.nanoseconds):lr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ut(e)}static min(){return new Ut(new Fn(0,0))}static max(){return new Ut(new Fn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,r,n){r===void 0?r=0:r>e.length&&Mt(),n===void 0?n=e.length-r:n>e.length-r&&Mt(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return V0.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof V0?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=e.get(i),a=r.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Br extends V0{construct(e,r,n){return new Br(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new yt(Ge.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Br(r)}static emptyPath(){return new Br([])}}const X9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ni extends V0{construct(e,r,n){return new ni(e,r,n)}static isValidIdentifier(e){return X9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ni.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ni(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new yt(Ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new yt(Ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new yt(Ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(n+=o,i++):(s(),i++)}if(s(),a)throw new yt(Ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ni(r)}static emptyPath(){return new ni([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.path=e}static fromPath(e){return new Nt(Br.fromString(e))}static fromName(e){return new Nt(Br.fromString(e).popFirst(5))}static empty(){return new Nt(Br.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Br.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Br.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Nt(new Br(e.slice()))}}function Q9(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Ut.fromTimestamp(n===1e9?new Fn(r+1,0):new Fn(r,n));return new xu(i,Nt.empty(),e)}function J9(t){return new xu(t.readTime,t.key,-1)}class xu{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new xu(Ut.min(),Nt.empty(),-1)}static max(){return new xu(Ut.max(),Nt.empty(),-1)}}function Z9(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Nt.comparator(t.documentKey,e.documentKey),r!==0?r:lr(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bp(t){if(t.code!==Ge.FAILED_PRECONDITION||t.message!==eB)throw t;bt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new et((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof et?r:et.resolve(r)}catch(r){return et.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):et.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):et.reject(r)}static resolve(e){return new et((r,n)=>{r(e)})}static reject(e){return new et((r,n)=>{n(e)})}static waitFor(e){return new et((r,n)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&r()},l=>n(l))}),a=!0,s===i&&r()})}static or(e){let r=et.resolve(!1);for(const n of e)r=r.next(i=>i?et.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,s)=>{n.push(r.call(this,i,s))}),this.waitFor(n)}static mapArray(e,r){return new et((n,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const u=l;r(e[u]).next(c=>{a[u]=c,++o,o===s&&n(a)},c=>i(c))}})}static doWhile(e,r){return new et((n,i)=>{const s=()=>{e()===!0?r().next(()=>{s()},i):n()};s()})}}function rB(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Sp(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}j5.oe=-1;function nv(t){return t==null}function i1(t){return t===0&&1/t==-1/0}function nB(t){return typeof t=="number"&&Number.isInteger(t)&&!i1(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Wc(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function P6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,r){this.comparator=e,this.root=r||ri.EMPTY}insert(e,r){return new Qr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,ri.BLACK,null,null))}remove(e){return new Qr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ri.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cm(this.root,e,this.comparator,!0)}}class Cm{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ri{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??ri.RED,this.left=i??ri.EMPTY,this.right=s??ri.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new ri(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ri.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return ri.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ri.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ri.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Mt();const e=this.left.check();if(e!==this.right.check())throw Mt();return e+(this.isRed()?0:1)}}ri.EMPTY=null,ri.RED=!0,ri.BLACK=!1;ri.EMPTY=new class{constructor(){this.size=0}get key(){throw Mt()}get value(){throw Mt()}get color(){throw Mt()}get left(){throw Mt()}get right(){throw Mt()}copy(e,r,n,i,s){return this}insert(e,r,n){return new ri(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this.comparator=e,this.data=new Qr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new GS(this.data.getIterator())}getIteratorFrom(e){return new GS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof oi)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new oi(this.comparator);return r.data=e,r}}class GS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this.fields=e,e.sort(ni.comparator)}static empty(){return new Ps([])}unionWith(e){let r=new oi(ni.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Ps(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return bh(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new I6("Invalid base64 string: "+s):s}}(e);return new ci(r)}static fromUint8Array(e){const r=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new ci(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return lr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ci.EMPTY_BYTE_STRING=new ci("");const iB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wu(t){if(br(!!t),typeof t=="string"){let e=0;const r=iB.exec(t);if(br(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:fn(t.seconds),nanos:fn(t.nanos)}}function fn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Oc(t){return typeof t=="string"?ci.fromBase64String(t):ci.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B5(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function V5(t){const e=t.mapValue.fields.__previous_value__;return B5(e)?V5(e):e}function U0(t){const e=wu(t.mapValue.fields.__local_write_time__.timestampValue);return new Fn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(e,r,n,i,s,a,o,l,u){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u}}class z0{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new z0("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof z0&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm={mapValue:{}};function Mc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?B5(t)?4:oB(t)?9007199254740991:aB(t)?10:11:Mt()}function uo(t,e){if(t===e)return!0;const r=Mc(t);if(r!==Mc(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return U0(t).isEqual(U0(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=wu(i.timestampValue),o=wu(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Oc(i.bytesValue).isEqual(Oc(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return fn(i.geoPointValue.latitude)===fn(s.geoPointValue.latitude)&&fn(i.geoPointValue.longitude)===fn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return fn(i.integerValue)===fn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=fn(i.doubleValue),o=fn(s.doubleValue);return a===o?i1(a)===i1(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return bh(t.arrayValue.values||[],e.arrayValue.values||[],uo);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if($S(a)!==$S(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!uo(a[l],o[l])))return!1;return!0}(t,e);default:return Mt()}}function W0(t,e){return(t.values||[]).find(r=>uo(r,e))!==void 0}function Sh(t,e){if(t===e)return 0;const r=Mc(t),n=Mc(e);if(r!==n)return lr(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return lr(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=fn(s.integerValue||s.doubleValue),l=fn(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return KS(t.timestampValue,e.timestampValue);case 4:return KS(U0(t),U0(e));case 5:return lr(t.stringValue,e.stringValue);case 6:return function(s,a){const o=Oc(s),l=Oc(a);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),l=a.split("/");for(let u=0;u<o.length&&u<l.length;u++){const c=lr(o[u],l[u]);if(c!==0)return c}return lr(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=lr(fn(s.latitude),fn(a.latitude));return o!==0?o:lr(fn(s.longitude),fn(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return YS(t.arrayValue,e.arrayValue);case 10:return function(s,a){var o,l,u,c;const f=s.fields||{},d=a.fields||{},h=(o=f.value)===null||o===void 0?void 0:o.arrayValue,v=(l=d.value)===null||l===void 0?void 0:l.arrayValue,g=lr(((u=h==null?void 0:h.values)===null||u===void 0?void 0:u.length)||0,((c=v==null?void 0:v.values)===null||c===void 0?void 0:c.length)||0);return g!==0?g:YS(h,v)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===Pm.mapValue&&a===Pm.mapValue)return 0;if(s===Pm.mapValue)return 1;if(a===Pm.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),u=a.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const d=lr(l[f],c[f]);if(d!==0)return d;const h=Sh(o[l[f]],u[c[f]]);if(h!==0)return h}return lr(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Mt()}}function KS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return lr(t,e);const r=wu(t),n=wu(e),i=lr(r.seconds,n.seconds);return i!==0?i:lr(r.nanos,n.nanos)}function YS(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=Sh(r[i],n[i]);if(s)return s}return lr(r.length,n.length)}function Th(t){return Ax(t)}function Ax(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=wu(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Oc(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Nt.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=Ax(s);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const a of n)s?s=!1:i+=",",i+=`${a}:${Ax(r.fields[a])}`;return i+"}"}(t.mapValue):Mt()}function XS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Nx(t){return!!t&&"integerValue"in t}function U5(t){return!!t&&"arrayValue"in t}function QS(t){return!!t&&"nullValue"in t}function JS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function mg(t){return!!t&&"mapValue"in t}function aB(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function Xd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Wc(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Xd(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Xd(t.arrayValue.values[r]);return e}return Object.assign({},t)}function oB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e){this.value=e}static empty(){return new ns({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!mg(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xd(r)}setAll(e){let r=ni.emptyPath(),n={},i=[];e.forEach((a,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=o.popLast()}a?n[o.lastSegment()]=Xd(a):i.push(o.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());mg(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return uo(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];mg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Wc(r,(i,s)=>e[i]=s);for(const i of n)delete e[i]}clone(){return new ns(Xd(this.value))}}function R6(t){const e=[];return Wc(t.fields,(r,n)=>{const i=new ni([r]);if(mg(n)){const s=R6(n.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Ps(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,r,n,i,s,a,o){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Si(e,0,Ut.min(),Ut.min(),Ut.min(),ns.empty(),0)}static newFoundDocument(e,r,n,i){return new Si(e,1,r,Ut.min(),n,i,0)}static newNoDocument(e,r){return new Si(e,2,r,Ut.min(),Ut.min(),ns.empty(),0)}static newUnknownDocument(e,r){return new Si(e,3,r,Ut.min(),Ut.min(),ns.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ut.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ns.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ns.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ut.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Si&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Si(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,r){this.position=e,this.inclusive=r}}function ZS(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?n=Nt.comparator(Nt.fromName(a.referenceValue),r.key):n=Sh(a,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function eT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!uo(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,r="asc"){this.field=e,this.dir=r}}function lB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{}class Tn extends L6{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new cB(e,r,n):r==="array-contains"?new dB(e,n):r==="in"?new pB(e,n):r==="not-in"?new mB(e,n):r==="array-contains-any"?new gB(e,n):new Tn(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new fB(e,n):new hB(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Sh(r,this.value)):r!==null&&Mc(this.value)===Mc(r)&&this.matchesComparison(Sh(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Mt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fa extends L6{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Fa(e,r)}matches(e){return F6(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function F6(t){return t.op==="and"}function D6(t){return uB(t)&&F6(t)}function uB(t){for(const e of t.filters)if(e instanceof Fa)return!1;return!0}function kx(t){if(t instanceof Tn)return t.field.canonicalString()+t.op.toString()+Th(t.value);if(D6(t))return t.filters.map(e=>kx(e)).join(",");{const e=t.filters.map(r=>kx(r)).join(",");return`${t.op}(${e})`}}function O6(t,e){return t instanceof Tn?function(n,i){return i instanceof Tn&&n.op===i.op&&n.field.isEqual(i.field)&&uo(n.value,i.value)}(t,e):t instanceof Fa?function(n,i){return i instanceof Fa&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,a,o)=>s&&O6(a,i.filters[o]),!0):!1}(t,e):void Mt()}function M6(t){return t instanceof Tn?function(r){return`${r.field.canonicalString()} ${r.op} ${Th(r.value)}`}(t):t instanceof Fa?function(r){return r.op.toString()+" {"+r.getFilters().map(M6).join(" ,")+"}"}(t):"Filter"}class cB extends Tn{constructor(e,r,n){super(e,r,n),this.key=Nt.fromName(n.referenceValue)}matches(e){const r=Nt.comparator(e.key,this.key);return this.matchesComparison(r)}}class fB extends Tn{constructor(e,r){super(e,"in",r),this.keys=j6("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class hB extends Tn{constructor(e,r){super(e,"not-in",r),this.keys=j6("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function j6(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Nt.fromName(n.referenceValue))}class dB extends Tn{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return U5(r)&&W0(r.arrayValue,this.value)}}class pB extends Tn{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&W0(this.value.arrayValue,r)}}class mB extends Tn{constructor(e,r){super(e,"not-in",r)}matches(e){if(W0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!W0(this.value.arrayValue,r)}}class gB extends Tn{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!U5(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>W0(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(e,r=null,n=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.ue=null}}function tT(t,e=null,r=[],n=[],i=null,s=null,a=null){return new vB(t,e,r,n,i,s,a)}function z5(t){const e=zt(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>kx(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),nv(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Th(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Th(n)).join(",")),e.ue=r}return e.ue}function W5(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!lB(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!O6(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!eT(t.startAt,e.startAt)&&eT(t.endAt,e.endAt)}function Cx(t){return Nt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,r=null,n=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function yB(t,e,r,n,i,s,a,o){return new Vh(t,e,r,n,i,s,a,o)}function iv(t){return new Vh(t)}function rT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function B6(t){return t.collectionGroup!==null}function Qd(t){const e=zt(t);if(e.ce===null){e.ce=[];const r=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new oi(ni.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(s=>{r.has(s.canonicalString())||s.isKeyField()||e.ce.push(new H0(s,n))}),r.has(ni.keyField().canonicalString())||e.ce.push(new H0(ni.keyField(),n))}return e.ce}function no(t){const e=zt(t);return e.le||(e.le=xB(e,Qd(t))),e.le}function xB(t,e){if(t.limitType==="F")return tT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new H0(i.field,s)});const r=t.endAt?new s1(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new s1(t.startAt.position,t.startAt.inclusive):null;return tT(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function Px(t,e){const r=t.filters.concat([e]);return new Vh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function Ix(t,e,r){return new Vh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function sv(t,e){return W5(no(t),no(e))&&t.limitType===e.limitType}function V6(t){return`${z5(no(t))}|lt:${t.limitType}`}function Ef(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>M6(i)).join(", ")}]`),nv(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>Th(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>Th(i)).join(",")),`Target(${n})`}(no(t))}; limitType=${t.limitType})`}function av(t,e){return e.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):Nt.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,i){for(const s of Qd(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(a,o,l){const u=ZS(a,o,l);return a.inclusive?u<=0:u<0}(n.startAt,Qd(n),i)||n.endAt&&!function(a,o,l){const u=ZS(a,o,l);return a.inclusive?u>=0:u>0}(n.endAt,Qd(n),i))}(t,e)}function wB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function U6(t){return(e,r)=>{let n=!1;for(const i of Qd(t)){const s=_B(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function _B(t,e,r){const n=t.field.isKeyField()?Nt.comparator(e.key,r.key):function(s,a,o){const l=a.data.field(s),u=o.data.field(s);return l!==null&&u!==null?Sh(l,u):Mt()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Mt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Wc(this.inner,(r,n)=>{for(const[i,s]of n)e(i,s)})}isEmpty(){return P6(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bB=new Qr(Nt.comparator);function Yo(){return bB}const z6=new Qr(Nt.comparator);function Fd(...t){let e=z6;for(const r of t)e=e.insert(r.key,r);return e}function W6(t){let e=z6;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function dc(){return Jd()}function H6(){return Jd()}function Jd(){return new Uh(t=>t.toString(),(t,e)=>t.isEqual(e))}const SB=new Qr(Nt.comparator),TB=new oi(Nt.comparator);function Jt(...t){let e=TB;for(const r of t)e=e.add(r);return e}const EB=new oi(lr);function AB(){return EB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H5(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:i1(e)?"-0":e}}function q6(t){return{integerValue:""+t}}function NB(t,e){return nB(e)?q6(e):H5(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(){this._=void 0}}function kB(t,e,r){return t instanceof q0?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&B5(s)&&(s=V5(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(r,e):t instanceof $0?G6(t,e):t instanceof G0?K6(t,e):function(i,s){const a=$6(i,s),o=nT(a)+nT(i.Pe);return Nx(a)&&Nx(i.Pe)?q6(o):H5(i.serializer,o)}(t,e)}function CB(t,e,r){return t instanceof $0?G6(t,e):t instanceof G0?K6(t,e):r}function $6(t,e){return t instanceof a1?function(n){return Nx(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class q0 extends ov{}class $0 extends ov{constructor(e){super(),this.elements=e}}function G6(t,e){const r=Y6(e);for(const n of t.elements)r.some(i=>uo(i,n))||r.push(n);return{arrayValue:{values:r}}}class G0 extends ov{constructor(e){super(),this.elements=e}}function K6(t,e){let r=Y6(e);for(const n of t.elements)r=r.filter(i=>!uo(i,n));return{arrayValue:{values:r}}}class a1 extends ov{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function nT(t){return fn(t.integerValue||t.doubleValue)}function Y6(t){return U5(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(e,r){this.field=e,this.transform=r}}function IB(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof $0&&i instanceof $0||n instanceof G0&&i instanceof G0?bh(n.elements,i.elements,uo):n instanceof a1&&i instanceof a1?uo(n.Pe,i.Pe):n instanceof q0&&i instanceof q0}(t.transform,e.transform)}class RB{constructor(e,r){this.version=e,this.transformResults=r}}class Zs{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Zs}static exists(e){return new Zs(void 0,e)}static updateTime(e){return new Zs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class lv{}function X6(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new q5(t.key,Zs.none()):new Tp(t.key,t.data,Zs.none());{const r=t.data,n=ns.empty();let i=new oi(ni.comparator);for(let s of e.fields)if(!i.has(s)){let a=r.field(s);a===null&&s.length>1&&(s=s.popLast(),a=r.field(s)),a===null?n.delete(s):n.set(s,a),i=i.add(s)}return new Du(t.key,n,new Ps(i.toArray()),Zs.none())}}function LB(t,e,r){t instanceof Tp?function(i,s,a){const o=i.value.clone(),l=sT(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,r):t instanceof Du?function(i,s,a){if(!gg(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=sT(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(Q6(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,r):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,r)}function Zd(t,e,r,n){return t instanceof Tp?function(s,a,o,l){if(!gg(s.precondition,a))return o;const u=s.value.clone(),c=aT(s.fieldTransforms,l,a);return u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof Du?function(s,a,o,l){if(!gg(s.precondition,a))return o;const u=aT(s.fieldTransforms,l,a),c=a.data;return c.setAll(Q6(s)),c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,r,n):function(s,a,o){return gg(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,r)}function FB(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=$6(n.transform,i||null);s!=null&&(r===null&&(r=ns.empty()),r.set(n.field,s))}return r||null}function iT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&bh(n,i,(s,a)=>IB(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Tp extends lv{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Du extends lv{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Q6(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function sT(t,e,r){const n=new Map;br(t.length===r.length);for(let i=0;i<r.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);n.set(s.field,CB(a,o,r[i]))}return n}function aT(t,e,r){const n=new Map;for(const i of t){const s=i.transform,a=r.data.field(i.field);n.set(i.field,kB(s,a,e))}return n}class q5 extends lv{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DB extends lv{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&LB(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Zd(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Zd(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=H6();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=r.has(i.key)?null:o;const l=X6(a,o);l!==null&&n.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(Ut.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Jt())}isEqual(e){return this.batchId===e.batchId&&bh(this.mutations,e.mutations,(r,n)=>iT(r,n))&&bh(this.baseMutations,e.baseMutations,(r,n)=>iT(r,n))}}class $5{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){br(e.mutations.length===n.length);let i=function(){return SB}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,n[a].version);return new $5(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _n,ir;function BB(t){switch(t){default:return Mt();case Ge.CANCELLED:case Ge.UNKNOWN:case Ge.DEADLINE_EXCEEDED:case Ge.RESOURCE_EXHAUSTED:case Ge.INTERNAL:case Ge.UNAVAILABLE:case Ge.UNAUTHENTICATED:return!1;case Ge.INVALID_ARGUMENT:case Ge.NOT_FOUND:case Ge.ALREADY_EXISTS:case Ge.PERMISSION_DENIED:case Ge.FAILED_PRECONDITION:case Ge.ABORTED:case Ge.OUT_OF_RANGE:case Ge.UNIMPLEMENTED:case Ge.DATA_LOSS:return!0}}function J6(t){if(t===void 0)return Ko("GRPC error has no .code"),Ge.UNKNOWN;switch(t){case _n.OK:return Ge.OK;case _n.CANCELLED:return Ge.CANCELLED;case _n.UNKNOWN:return Ge.UNKNOWN;case _n.DEADLINE_EXCEEDED:return Ge.DEADLINE_EXCEEDED;case _n.RESOURCE_EXHAUSTED:return Ge.RESOURCE_EXHAUSTED;case _n.INTERNAL:return Ge.INTERNAL;case _n.UNAVAILABLE:return Ge.UNAVAILABLE;case _n.UNAUTHENTICATED:return Ge.UNAUTHENTICATED;case _n.INVALID_ARGUMENT:return Ge.INVALID_ARGUMENT;case _n.NOT_FOUND:return Ge.NOT_FOUND;case _n.ALREADY_EXISTS:return Ge.ALREADY_EXISTS;case _n.PERMISSION_DENIED:return Ge.PERMISSION_DENIED;case _n.FAILED_PRECONDITION:return Ge.FAILED_PRECONDITION;case _n.ABORTED:return Ge.ABORTED;case _n.OUT_OF_RANGE:return Ge.OUT_OF_RANGE;case _n.UNIMPLEMENTED:return Ge.UNIMPLEMENTED;case _n.DATA_LOSS:return Ge.DATA_LOSS;default:return Mt()}}(ir=_n||(_n={}))[ir.OK=0]="OK",ir[ir.CANCELLED=1]="CANCELLED",ir[ir.UNKNOWN=2]="UNKNOWN",ir[ir.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ir[ir.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ir[ir.NOT_FOUND=5]="NOT_FOUND",ir[ir.ALREADY_EXISTS=6]="ALREADY_EXISTS",ir[ir.PERMISSION_DENIED=7]="PERMISSION_DENIED",ir[ir.UNAUTHENTICATED=16]="UNAUTHENTICATED",ir[ir.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ir[ir.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ir[ir.ABORTED=10]="ABORTED",ir[ir.OUT_OF_RANGE=11]="OUT_OF_RANGE",ir[ir.UNIMPLEMENTED=12]="UNIMPLEMENTED",ir[ir.INTERNAL=13]="INTERNAL",ir[ir.UNAVAILABLE=14]="UNAVAILABLE",ir[ir.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UB=new xc([4294967295,4294967295],0);function oT(t){const e=VB().encode(t),r=new b6;return r.update(e),new Uint8Array(r.digest())}function lT(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new xc([r,n],0),new xc([i,s],0)]}class G5{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Dd(`Invalid padding: ${r}`);if(n<0)throw new Dd(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Dd(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Dd(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=xc.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(xc.fromNumber(n)));return i.compare(UB)===1&&(i=new xc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=oT(e),[n,i]=lT(r);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);if(!this.de(a))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new G5(s,i,r);return n.forEach(o=>a.insert(o)),a}insert(e){if(this.Ie===0)return;const r=oT(e),[n,i]=lT(r);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);this.Ae(a)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Dd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Ep.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new uv(Ut.min(),i,new Qr(lr),Yo(),Jt())}}class Ep{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Ep(n,r,Jt(),Jt(),Jt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class Z6{constructor(e,r){this.targetId=e,this.me=r}}class eC{constructor(e,r,n=ci.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class uT{constructor(){this.fe=0,this.ge=fT(),this.pe=ci.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Jt(),r=Jt(),n=Jt();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Mt()}}),new Ep(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=fT()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,br(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class zB{constructor(e){this.Le=e,this.Be=new Map,this.ke=Yo(),this.qe=cT(),this.Qe=new Qr(lr)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:Mt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const s=i.target;if(Cx(s))if(n===0){const a=new Nt(s.path);this.Ue(r,a,Si.newNoDocument(a,Ut.min()))}else br(n===1);else{const a=this.Ye(r);if(a!==n){const o=this.Ze(e),l=o?this.Xe(o,e,a):1;if(l!==0){this.je(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,u)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let a,o;try{a=Oc(n).toUint8Array()}catch(l){if(l instanceof I6)return _h("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new G5(a,i,s)}catch(l){return _h(l instanceof Dd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Ie===0?null:o}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(s=>{const a=this.Le.tt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.Ue(r,s,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((s,a)=>{const o=this.Je(a);if(o){if(s.current&&Cx(o.target)){const l=new Nt(o.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,Si.newNoDocument(l,e))}s.be&&(r.set(a,s.ve()),s.Ce())}});let n=Jt();this.qe.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));const i=new uv(e,r,this.Qe,this.ke,n);return this.ke=Yo(),this.qe=cT(),this.Qe=new Qr(lr),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new uT,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new oi(lr),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||bt("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new uT),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function cT(){return new Qr(Nt.comparator)}function fT(){return new Qr(Nt.comparator)}const WB={asc:"ASCENDING",desc:"DESCENDING"},HB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qB={and:"AND",or:"OR"};class $B{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Rx(t,e){return t.useProto3Json||nv(e)?e:{value:e}}function o1(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function GB(t,e){return o1(t,e.toTimestamp())}function io(t){return br(!!t),Ut.fromTimestamp(function(r){const n=wu(r);return new Fn(n.seconds,n.nanos)}(t))}function K5(t,e){return Lx(t,e).canonicalString()}function Lx(t,e){const r=function(i){return new Br(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function rC(t){const e=Br.fromString(t);return br(oC(e)),e}function Fx(t,e){return K5(t.databaseId,e.path)}function j2(t,e){const r=rC(e);if(r.get(1)!==t.databaseId.projectId)throw new yt(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new yt(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Nt(iC(r))}function nC(t,e){return K5(t.databaseId,e)}function KB(t){const e=rC(t);return e.length===4?Br.emptyPath():iC(e)}function Dx(t){return new Br(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function iC(t){return br(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function hT(t,e,r){return{name:Fx(t,e),fields:r.value.mapValue.fields}}function YB(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Mt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(br(c===void 0||typeof c=="string"),ci.fromBase64String(c||"")):(br(c===void 0||c instanceof Buffer||c instanceof Uint8Array),ci.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(u){const c=u.code===void 0?Ge.UNKNOWN:J6(u.code);return new yt(c,u.message||"")}(a);r=new eC(n,i,s,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=j2(t,n.document.name),s=io(n.document.updateTime),a=n.document.createTime?io(n.document.createTime):Ut.min(),o=new ns({mapValue:{fields:n.document.fields}}),l=Si.newFoundDocument(i,s,a,o),u=n.targetIds||[],c=n.removedTargetIds||[];r=new vg(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=j2(t,n.document),s=n.readTime?io(n.readTime):Ut.min(),a=Si.newNoDocument(i,s),o=n.removedTargetIds||[];r=new vg([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=j2(t,n.document),s=n.removedTargetIds||[];r=new vg([],s,i,null)}else{if(!("filter"in e))return Mt();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,a=new jB(i,s),o=n.targetId;r=new Z6(o,a)}}return r}function XB(t,e){let r;if(e instanceof Tp)r={update:hT(t,e.key,e.value)};else if(e instanceof q5)r={delete:Fx(t,e.key)};else if(e instanceof Du)r={update:hT(t,e.key,e.data),updateMask:sV(e.fieldMask)};else{if(!(e instanceof DB))return Mt();r={verify:Fx(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(s,a){const o=a.transform;if(o instanceof q0)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof $0)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof G0)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof a1)return{fieldPath:a.field.canonicalString(),increment:o.Pe};throw Mt()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:GB(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Mt()}(t,e.precondition)),r}function QB(t,e){return t&&t.length>0?(br(e!==void 0),t.map(r=>function(i,s){let a=i.updateTime?io(i.updateTime):io(s);return a.isEqual(Ut.min())&&(a=io(s)),new RB(a,i.transformResults||[])}(r,e))):[]}function JB(t,e){return{documents:[nC(t,e.path)]}}function ZB(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=nC(t,i);const s=function(u){if(u.length!==0)return aC(Fa.create(u,"and"))}(e.filters);s&&(r.structuredQuery.where=s);const a=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:Af(d.field),direction:rV(d.dir)}}(c))}(e.orderBy);a&&(r.structuredQuery.orderBy=a);const o=Rx(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:r,parent:i}}function eV(t){let e=KB(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){br(n===1);const c=r.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];r.where&&(s=function(f){const d=sC(f);return d instanceof Fa&&D6(d)?d.getFilters():[d]}(r.where));let a=[];r.orderBy&&(a=function(f){return f.map(d=>function(v){return new H0(Nf(v.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(d))}(r.orderBy));let o=null;r.limit&&(o=function(f){let d;return d=typeof f=="object"?f.value:f,nv(d)?null:d}(r.limit));let l=null;r.startAt&&(l=function(f){const d=!!f.before,h=f.values||[];return new s1(h,d)}(r.startAt));let u=null;return r.endAt&&(u=function(f){const d=!f.before,h=f.values||[];return new s1(h,d)}(r.endAt)),yB(e,i,a,s,o,"F",l,u)}function tV(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Mt()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function sC(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Nf(r.unaryFilter.field);return Tn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Nf(r.unaryFilter.field);return Tn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Nf(r.unaryFilter.field);return Tn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Nf(r.unaryFilter.field);return Tn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Mt()}}(t):t.fieldFilter!==void 0?function(r){return Tn.create(Nf(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Mt()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Fa.create(r.compositeFilter.filters.map(n=>sC(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Mt()}}(r.compositeFilter.op))}(t):Mt()}function rV(t){return WB[t]}function nV(t){return HB[t]}function iV(t){return qB[t]}function Af(t){return{fieldPath:t.canonicalString()}}function Nf(t){return ni.fromServerFormat(t.fieldPath)}function aC(t){return t instanceof Tn?function(r){if(r.op==="=="){if(JS(r.value))return{unaryFilter:{field:Af(r.field),op:"IS_NAN"}};if(QS(r.value))return{unaryFilter:{field:Af(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(JS(r.value))return{unaryFilter:{field:Af(r.field),op:"IS_NOT_NAN"}};if(QS(r.value))return{unaryFilter:{field:Af(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Af(r.field),op:nV(r.op),value:r.value}}}(t):t instanceof Fa?function(r){const n=r.getFilters().map(i=>aC(i));return n.length===1?n[0]:{compositeFilter:{op:iV(r.op),filters:n}}}(t):Mt()}function sV(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function oC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,r,n,i,s=Ut.min(),a=Ut.min(),o=ci.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Jl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Jl(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e){this.ct=e}}function oV(t){const e=eV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ix(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(){this.un=new uV}addToCollectionParentIndex(e,r){return this.un.add(r),et.resolve()}getCollectionParents(e,r){return et.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return et.resolve()}deleteFieldIndex(e,r){return et.resolve()}deleteAllFieldIndexes(e){return et.resolve()}createTargetIndexes(e,r){return et.resolve()}getDocumentsMatchingTarget(e,r){return et.resolve(null)}getIndexType(e,r){return et.resolve(0)}getFieldIndexes(e,r){return et.resolve([])}getNextCollectionGroupToUpdate(e){return et.resolve(null)}getMinOffset(e,r){return et.resolve(xu.min())}getMinOffsetFromCollectionGroup(e,r){return et.resolve(xu.min())}updateCollectionGroup(e,r,n){return et.resolve()}updateIndexEntries(e,r){return et.resolve()}}class uV{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new oi(Br.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new oi(Br.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Eh(0)}static kn(){return new Eh(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(){this.changes=new Uh(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Si.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?et.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&Zd(n.mutation,i,Ps.empty(),Fn.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Jt()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Jt()){const i=dc();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(s=>{let a=Fd();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,r){const n=dc();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Jt()))}populateOverlays(e,r,n){const i=[];return n.forEach(s=>{r.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{r.set(a,o)})})}computeViews(e,r,n,i){let s=Yo();const a=Jd(),o=function(){return Jd()}();return r.forEach((l,u)=>{const c=n.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Du)?s=s.insert(u.key,u):c!==void 0?(a.set(u.key,c.mutation.getFieldMask()),Zd(c.mutation,u,c.mutation.getFieldMask(),Fn.now())):a.set(u.key,Ps.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>a.set(u,c)),r.forEach((u,c)=>{var f;return o.set(u,new fV(c,(f=a.get(u))!==null&&f!==void 0?f:null))}),o))}recalculateAndSaveOverlays(e,r){const n=Jd();let i=new Qr((a,o)=>a-o),s=Jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(a=>{for(const o of a)o.keys().forEach(l=>{const u=r.get(l);if(u===null)return;let c=n.get(l)||Ps.empty();c=o.applyToLocalView(u,c),n.set(l,c);const f=(i.get(o.batchId)||Jt()).add(l);i=i.insert(o.batchId,f)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,c=l.value,f=H6();c.forEach(d=>{if(!s.has(d)){const h=X6(r.get(d),n.get(d));h!==null&&f.set(d,h),s=s.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,f))}return et.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(a){return Nt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):B6(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):et.resolve(dc());let o=-1,l=s;return a.next(u=>et.forEach(u,(c,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),s.get(c)?et.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Jt())).next(c=>({batchId:o,changes:W6(c)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Nt(r)).next(n=>{let i=Fd();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let a=Fd();return this.indexManager.getCollectionParents(e,s).next(o=>et.forEach(o,l=>{const u=function(f,d){return new Vh(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next(c=>{c.forEach((f,d)=>{a=a.insert(f,d)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i))).next(a=>{s.forEach((l,u)=>{const c=u.getKey();a.get(c)===null&&(a=a.insert(c,Si.newInvalidDocument(c)))});let o=Fd();return a.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Zd(c.mutation,u,Ps.empty(),Fn.now()),av(r,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return et.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:io(i.createTime)}}(r)),et.resolve()}getNamedQuery(e,r){return et.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:oV(i.bundledQuery),readTime:io(i.readTime)}}(r)),et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(){this.overlays=new Qr(Nt.comparator),this.Ir=new Map}getOverlay(e,r){return et.resolve(this.overlays.get(r))}getOverlays(e,r){const n=dc();return et.forEach(r,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,s)=>{this.ht(e,r,s)}),et.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(n)),et.resolve()}getOverlaysForCollection(e,r,n){const i=dc(),s=r.length+1,a=new Nt(r.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>n&&i.set(l.getKey(),l)}return et.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new Qr((u,c)=>u-c);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let c=s.get(u.largestBatchId);c===null&&(c=dc(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const o=dc(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>o.set(u,c)),!(o.size()>=i)););return et.resolve(o)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new MB(r,n));let s=this.Ir.get(r);s===void 0&&(s=Jt(),this.Ir.set(r,s)),this.Ir.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(){this.sessionToken=ci.EMPTY_BYTE_STRING}getSessionToken(e){return et.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(){this.Tr=new oi(Bn.Er),this.dr=new oi(Bn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new Bn(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new Bn(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new Nt(new Br([])),n=new Bn(r,e),i=new Bn(r,e+1),s=[];return this.dr.forEachInRange([n,i],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new Nt(new Br([])),n=new Bn(r,e),i=new Bn(r,e+1);let s=Jt();return this.dr.forEachInRange([n,i],a=>{s=s.add(a.key)}),s}containsKey(e){const r=new Bn(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Bn{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return Nt.comparator(e.key,r.key)||lr(e.wr,r.wr)}static Ar(e,r){return lr(e.wr,r.wr)||Nt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new oi(Bn.Er)}checkEmpty(e){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new OB(s,r,n,i);this.mutationQueue.push(a);for(const o of i)this.br=this.br.add(new Bn(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return et.resolve(a)}lookupMutationBatch(e,r){return et.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),s=i<0?0:i;return et.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Bn(r,0),i=new Bn(r,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([n,i],a=>{const o=this.Dr(a.wr);s.push(o)}),et.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new oi(lr);return r.forEach(i=>{const s=new Bn(i,0),a=new Bn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],o=>{n=n.add(o.wr)})}),et.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;Nt.isDocumentKey(s)||(s=s.child(""));const a=new Bn(new Nt(s),0);let o=new oi(lr);return this.br.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.wr)),!0)},a),et.resolve(this.Cr(o))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){br(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return et.forEach(r.mutations,i=>{const s=new Bn(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new Bn(r,0),i=this.br.firstAfterOrEqual(n);return et.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,et.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e){this.Mr=e,this.docs=function(){return new Qr(Nt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,a=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return et.resolve(n?n.document.mutableCopy():Si.newInvalidDocument(r))}getEntries(e,r){let n=Yo();return r.forEach(i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():Si.newInvalidDocument(i))}),et.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=Yo();const a=r.path,o=new Nt(a.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||Z9(J9(c),n)<=0||(i.has(c.key)||av(r,c))&&(s=s.insert(c.key,c.mutableCopy()))}return et.resolve(s)}getAllFromCollectionGroup(e,r,n,i){Mt()}Or(e,r){return et.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new yV(this)}getSize(e){return et.resolve(this.size)}}class yV extends cV{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),et.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e){this.persistence=e,this.Nr=new Uh(r=>z5(r),W5),this.lastRemoteSnapshotVersion=Ut.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Y5,this.targetCount=0,this.kr=Eh.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),et.resolve()}getLastRemoteSnapshotVersion(e){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return et.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),et.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Eh(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,et.resolve()}updateTargetData(e,r){return this.Kn(r),et.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,et.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.Nr.forEach((a,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),et.waitFor(s).next(()=>i)}getTargetCount(e){return et.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return et.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),et.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),et.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),et.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return et.resolve(n)}containsKey(e,r){return et.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e,r){this.qr={},this.overlays={},this.Qr=new j5(0),this.Kr=!1,this.Kr=!0,this.$r=new mV,this.referenceDelegate=e(this),this.Ur=new xV(this),this.indexManager=new lV,this.remoteDocumentCache=function(i){return new vV(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new aV(r),this.Gr=new dV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new pV,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new gV(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){bt("MemoryPersistence","Starting transaction:",e);const i=new _V(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,r){return et.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class _V extends tB{constructor(e){super(),this.currentSequenceNumber=e}}class X5{constructor(e){this.persistence=e,this.Jr=new Y5,this.Yr=null}static Zr(e){return new X5(e)}get Xr(){if(this.Yr)return this.Yr;throw Mt()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),et.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),et.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),et.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.Xr,n=>{const i=Nt.fromPath(n);return this.ei(e,i).next(s=>{s||r.removeEntry(i,Ut.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return et.or([()=>et.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=Jt(),i=Jt();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Q5(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return hO()?8:rB(Ii())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.Yi(e,r).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(e,r,i,n).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new bV;return this.Xi(e,r,a).next(o=>{if(s.result=o,this.zi)return this.es(e,r,a,o.size)})}).next(()=>s.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(_d()<=er.DEBUG&&bt("QueryEngine","SDK will not create cache indexes for query:",Ef(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),et.resolve()):(_d()<=er.DEBUG&&bt("QueryEngine","Query:",Ef(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(_d()<=er.DEBUG&&bt("QueryEngine","The SDK decides to create cache indexes for query:",Ef(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,no(r))):et.resolve())}Yi(e,r){if(rT(r))return et.resolve(null);let n=no(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=Ix(r,null,"F"),n=no(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const a=Jt(...s);return this.Ji.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,n).next(l=>{const u=this.ts(r,o);return this.ns(r,u,a,l.readTime)?this.Yi(e,Ix(r,null,"F")):this.rs(e,u,r,l)}))})))}Zi(e,r,n,i){return rT(r)||i.isEqual(Ut.min())?et.resolve(null):this.Ji.getDocuments(e,n).next(s=>{const a=this.ts(r,s);return this.ns(r,a,n,i)?et.resolve(null):(_d()<=er.DEBUG&&bt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ef(r)),this.rs(e,a,r,Q9(i,-1)).next(o=>o))})}ts(e,r){let n=new oi(U6(e));return r.forEach((i,s)=>{av(e,s)&&(n=n.add(s))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,r,n){return _d()<=er.DEBUG&&bt("QueryEngine","Using full collection scan to execute query:",Ef(r)),this.Ji.getDocumentsMatchingQuery(e,r,xu.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(s=>(r.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new Qr(lr),this._s=new Uh(s=>z5(s),W5),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hV(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function EV(t,e,r,n){return new TV(t,e,r,n)}async function lC(t,e){const r=zt(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(s=>(i=s,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const a=[],o=[];let l=Jt();for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return r.localDocuments.getDocuments(n,l).next(u=>({hs:u,removedBatchIds:a,addedBatchIds:o}))})})}function AV(t,e){const r=zt(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),s=r.cs.newChangeBuffer({trackRemovals:!0});return function(o,l,u,c){const f=u.batch,d=f.keys();let h=et.resolve();return d.forEach(v=>{h=h.next(()=>c.getEntry(l,v)).next(g=>{const S=u.docVersions.get(v);br(S!==null),g.version.compareTo(S)<0&&(f.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),c.addEntry(g)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(r,n,e,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=Jt();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function uC(t){const e=zt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function NV(t,e){const r=zt(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const o=[];e.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;o.push(r.Ur.removeMatchingKeys(s,c.removedDocuments,f).next(()=>r.Ur.addMatchingKeys(s,c.addedDocuments,f)));let h=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?h=h.withResumeToken(ci.EMPTY_BYTE_STRING,Ut.min()).withLastLimboFreeSnapshotVersion(Ut.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,n)),i=i.insert(f,h),function(g,S,_){return g.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(d,h,c)&&o.push(r.Ur.updateTargetData(s,h))});let l=Yo(),u=Jt();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(s,c))}),o.push(kV(s,a,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!n.isEqual(Ut.min())){const c=r.Ur.getLastRemoteSnapshotVersion(s).next(f=>r.Ur.setTargetsMetadata(s,s.currentSequenceNumber,n));o.push(c)}return et.waitFor(o).next(()=>a.apply(s)).next(()=>r.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(r.os=i,s))}function kV(t,e,r){let n=Jt(),i=Jt();return r.forEach(s=>n=n.add(s)),e.getEntries(t,n).next(s=>{let a=Yo();return r.forEach((o,l)=>{const u=s.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Ut.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):bt("LocalStore","Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{Ps:a,Is:i}})}function CV(t,e){const r=zt(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function PV(t,e){const r=zt(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(s=>s?(i=s,et.resolve(i)):r.Ur.allocateTargetId(n).next(a=>(i=new Jl(e,a,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function Ox(t,e,r){const n=zt(t),i=n.os.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,a=>n.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Sp(a))throw a;bt("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function dT(t,e,r){const n=zt(t);let i=Ut.min(),s=Jt();return n.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,c){const f=zt(l),d=f._s.get(c);return d!==void 0?et.resolve(f.os.get(d)):f.Ur.getTargetData(u,c)}(n,a,no(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>n.ss.getDocumentsMatchingQuery(a,e,r?i:Ut.min(),r?s:Jt())).next(o=>(IV(n,wB(e),o),{documents:o,Ts:s})))}function IV(t,e,r){let n=t.us.get(e)||Ut.min();r.forEach((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),t.us.set(e,n)}class pT{constructor(){this.activeTargetIds=AB()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RV{constructor(){this.so=new pT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new pT,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){bt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){bt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Im=null;function B2(){return Im===null?Im=function(){return 268435456+Math.round(2147483648*Math.random())}():Im++,"0x"+Im.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi="WebChannelConnection";class OV extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(r,n,i,s,a){const o=B2(),l=this.xo(r,n.toUriEncodedString());bt("RestConnection",`Sending RPC '${r}' ${o}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,a),this.No(r,l,u,i).then(c=>(bt("RestConnection",`Received RPC '${r}' ${o}: `,c),c),c=>{throw _h("RestConnection",`RPC '${r}' ${o} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(r,n,i,s,a,o){return this.Mo(r,n,i,s,a)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bh}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>r[a]=s),i&&i.headers.forEach((s,a)=>r[a]=s)}xo(r,n){const i=FV[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const s=B2();return new Promise((a,o)=>{const l=new S6;l.setWithCredentials(!0),l.listenOnce(T6.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case pg.NO_ERROR:const c=l.getResponseJson();bt(gi,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),a(c);break;case pg.TIMEOUT:bt(gi,`RPC '${e}' ${s} timed out`),o(new yt(Ge.DEADLINE_EXCEEDED,"Request time out"));break;case pg.HTTP_ERROR:const f=l.getStatus();if(bt(gi,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d==null?void 0:d.error;if(h&&h.status&&h.message){const v=function(S){const _=S.toLowerCase().replace(/_/g,"-");return Object.values(Ge).indexOf(_)>=0?_:Ge.UNKNOWN}(h.status);o(new yt(v,h.message))}else o(new yt(Ge.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new yt(Ge.UNAVAILABLE,"Connection failed."));break;default:Mt()}}finally{bt(gi,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);bt(gi,`RPC '${e}' ${s} sending request:`,i),l.send(r,"POST",u,n,15)})}Bo(e,r,n){const i=B2(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=N6(),o=A6(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const c=s.join("");bt(gi,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=a.createWebChannel(c,l);let d=!1,h=!1;const v=new DV({Io:S=>{h?bt(gi,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(d||(bt(gi,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),bt(gi,`RPC '${e}' stream ${i} sending:`,S),f.send(S))},To:()=>f.close()}),g=(S,_,b)=>{S.listen(_,T=>{try{b(T)}catch(L){setTimeout(()=>{throw L},0)}})};return g(f,Ld.EventType.OPEN,()=>{h||(bt(gi,`RPC '${e}' stream ${i} transport opened.`),v.yo())}),g(f,Ld.EventType.CLOSE,()=>{h||(h=!0,bt(gi,`RPC '${e}' stream ${i} transport closed`),v.So())}),g(f,Ld.EventType.ERROR,S=>{h||(h=!0,_h(gi,`RPC '${e}' stream ${i} transport errored:`,S),v.So(new yt(Ge.UNAVAILABLE,"The operation could not be completed")))}),g(f,Ld.EventType.MESSAGE,S=>{var _;if(!h){const b=S.data[0];br(!!b);const T=b,L=T.error||((_=T[0])===null||_===void 0?void 0:_.error);if(L){bt(gi,`RPC '${e}' stream ${i} received error:`,L);const j=L.status;let B=function(C){const F=_n[C];if(F!==void 0)return J6(F)}(j),k=L.message;B===void 0&&(B=Ge.INTERNAL,k="Unknown error status: "+j+" with message "+L.message),h=!0,v.So(new yt(B,k)),f.close()}else bt(gi,`RPC '${e}' stream ${i} received:`,b),v.bo(b)}}),g(o,E6.STAT_EVENT,S=>{S.stat===Ex.PROXY?bt(gi,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===Ex.NOPROXY&&bt(gi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function V2(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(t){return new $B(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,r,n=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&bt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,r,n,i,s,a,o,l){this.ui=e,this.Ho=n,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new cC(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===Ge.RESOURCE_EXHAUSTED?(Ko(r.toString()),Ko("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===Ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new yt(Ge.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return bt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(bt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MV extends fC{constructor(e,r,n,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=YB(this.serializer,e),n=function(s){if(!("targetChange"in s))return Ut.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Ut.min():a.readTime?io(a.readTime):Ut.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=Dx(this.serializer),r.addTarget=function(s,a){let o;const l=a.target;if(o=Cx(l)?{documents:JB(s,l)}:{query:ZB(s,l)._t},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=tC(s,a.resumeToken);const u=Rx(s,a.expectedCount);u!==null&&(o.expectedCount=u)}else if(a.snapshotVersion.compareTo(Ut.min())>0){o.readTime=o1(s,a.snapshotVersion.toTimestamp());const u=Rx(s,a.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const n=tV(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=Dx(this.serializer),r.removeTarget=e,this.a_(r)}}class jV extends fC{constructor(e,r,n,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return br(!!e.streamToken),this.lastStreamToken=e.streamToken,br(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){br(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=QB(e.writeResults,e.commitTime),n=io(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=Dx(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>XB(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new yt(Ge.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,Lx(r,n),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new yt(Ge.UNKNOWN,s.toString())})}Lo(e,r,n,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Lo(e,Lx(r,n),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new yt(Ge.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class VV{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ko(r),this.D_=!1):bt("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{n.enqueueAndForget(async()=>{Hc(this)&&(bt("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=zt(l);u.L_.add(4),await Ap(u),u.q_.set("Unknown"),u.L_.delete(4),await fv(u)}(this))})}),this.q_=new VV(n,i)}}async function fv(t){if(Hc(t))for(const e of t.B_)await e(!0)}async function Ap(t){for(const e of t.B_)await e(!1)}function hC(t,e){const r=zt(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),t_(r)?e_(r):zh(r).r_()&&Z5(r,e))}function J5(t,e){const r=zt(t),n=zh(r);r.N_.delete(e),n.r_()&&dC(r,e),r.N_.size===0&&(n.r_()?n.o_():Hc(r)&&r.q_.set("Unknown"))}function Z5(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ut.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}zh(t).A_(e)}function dC(t,e){t.Q_.xe(e),zh(t).R_(e)}function e_(t){t.Q_=new zB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),zh(t).start(),t.q_.v_()}function t_(t){return Hc(t)&&!zh(t).n_()&&t.N_.size>0}function Hc(t){return zt(t).L_.size===0}function pC(t){t.Q_=void 0}async function zV(t){t.q_.set("Online")}async function WV(t){t.N_.forEach((e,r)=>{Z5(t,e)})}async function HV(t,e){pC(t),t_(t)?(t.q_.M_(e),e_(t)):t.q_.set("Unknown")}async function qV(t,e,r){if(t.q_.set("Online"),e instanceof eC&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.N_.delete(o),i.Q_.removeTarget(o))}(t,e)}catch(n){bt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await l1(t,n)}else if(e instanceof vg?t.Q_.Ke(e):e instanceof Z6?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Ut.min()))try{const n=await uC(t.localStore);r.compareTo(n)>=0&&await function(s,a){const o=s.Q_.rt(a);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.N_.get(u);c&&s.N_.set(u,c.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,u)=>{const c=s.N_.get(l);if(!c)return;s.N_.set(l,c.withResumeToken(ci.EMPTY_BYTE_STRING,c.snapshotVersion)),dC(s,l);const f=new Jl(c.target,l,u,c.sequenceNumber);Z5(s,f)}),s.remoteSyncer.applyRemoteEvent(o)}(t,r)}catch(n){bt("RemoteStore","Failed to raise snapshot:",n),await l1(t,n)}}async function l1(t,e,r){if(!Sp(e))throw e;t.L_.add(1),await Ap(t),t.q_.set("Offline"),r||(r=()=>uC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{bt("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await fv(t)})}function mC(t,e){return e().catch(r=>l1(t,r,e))}async function hv(t){const e=zt(t),r=_u(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;$V(e);)try{const i=await CV(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,GV(e,i)}catch(i){await l1(e,i)}gC(e)&&vC(e)}function $V(t){return Hc(t)&&t.O_.length<10}function GV(t,e){t.O_.push(e);const r=_u(t);r.r_()&&r.V_&&r.m_(e.mutations)}function gC(t){return Hc(t)&&!_u(t).n_()&&t.O_.length>0}function vC(t){_u(t).start()}async function KV(t){_u(t).p_()}async function YV(t){const e=_u(t);for(const r of t.O_)e.m_(r.mutations)}async function XV(t,e,r){const n=t.O_.shift(),i=$5.from(n,e,r);await mC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await hv(t)}async function QV(t,e){e&&_u(t).V_&&await async function(n,i){if(function(a){return BB(a)&&a!==Ge.ABORTED}(i.code)){const s=n.O_.shift();_u(n).s_(),await mC(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await hv(n)}}(t,e),gC(t)&&vC(t)}async function gT(t,e){const r=zt(t);r.asyncQueue.verifyOperationInProgress(),bt("RemoteStore","RemoteStore received new credentials");const n=Hc(r);r.L_.add(3),await Ap(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await fv(r)}async function JV(t,e){const r=zt(t);e?(r.L_.delete(2),await fv(r)):e||(r.L_.add(2),await Ap(r),r.q_.set("Unknown"))}function zh(t){return t.K_||(t.K_=function(r,n,i){const s=zt(r);return s.w_(),new MV(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:zV.bind(null,t),Ro:WV.bind(null,t),mo:HV.bind(null,t),d_:qV.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),t_(t)?e_(t):t.q_.set("Unknown")):(await t.K_.stop(),pC(t))})),t.K_}function _u(t){return t.U_||(t.U_=function(r,n,i){const s=zt(r);return s.w_(),new jV(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:KV.bind(null,t),mo:QV.bind(null,t),f_:YV.bind(null,t),g_:XV.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await hv(t)):(await t.U_.stop(),t.O_.length>0&&(bt("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new jo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const a=Date.now()+n,o=new r_(e,r,a,i,s);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(Ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function n_(t,e){if(Ko("AsyncQueue",`${e}: ${t}`),Sp(t))return new yt(Ge.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e){this.comparator=e?(r,n)=>e(r,n)||Nt.comparator(r.key,n.key):(r,n)=>Nt.comparator(r.key,n.key),this.keyedMap=Fd(),this.sortedSet=new Qr(this.comparator)}static emptySet(e){return new ah(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof ah)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new ah;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(){this.W_=new Qr(Nt.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Mt():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class Ah{constructor(e,r,n,i,s,a,o,l,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,i,s){const a=[];return r.forEach(o=>{a.push({type:0,doc:o})}),new Ah(e,r,ah.emptySet(r),a,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class eU{constructor(){this.queries=yT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=zt(r),s=i.queries;i.queries=yT(),s.forEach((a,o)=>{for(const l of o.j_)l.onError(n)})})(this,new yt(Ge.ABORTED,"Firestore shutting down"))}}function yT(){return new Uh(t=>V6(t),sv)}async function i_(t,e){const r=zt(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.H_()&&e.J_()&&(n=2):(s=new ZV,n=e.J_()?0:1);try{switch(n){case 0:s.z_=await r.onListen(i,!0);break;case 1:s.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(a){const o=n_(a,`Initialization of query '${Ef(e.query)}' failed`);return void e.onError(o)}r.queries.set(i,s),s.j_.push(e),e.Z_(r.onlineState),s.z_&&e.X_(s.z_)&&a_(r)}async function s_(t,e){const r=zt(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function tU(t,e){const r=zt(t);let n=!1;for(const i of e){const s=i.query,a=r.queries.get(s);if(a){for(const o of a.j_)o.X_(i)&&(n=!0);a.z_=i}}n&&a_(r)}function rU(t,e,r){const n=zt(t),i=n.queries.get(e);if(i)for(const s of i.j_)s.onError(r);n.queries.delete(e)}function a_(t){t.Y_.forEach(e=>{e.next()})}var Mx,xT;(xT=Mx||(Mx={})).ea="default",xT.Cache="cache";class o_{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Ah(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=Ah.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Mx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e){this.key=e}}class xC{constructor(e){this.key=e}}class nU{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Jt(),this.mutatedKeys=Jt(),this.Aa=U6(e),this.Ra=new ah(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new vT,i=r?r.Ra:this.Ra;let s=r?r.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const d=i.get(c),h=av(this.query,f)?f:null,v=!!d&&this.mutatedKeys.has(d.key),g=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let S=!1;d&&h?d.data.isEqual(h.data)?v!==g&&(n.track({type:3,doc:h}),S=!0):this.ga(d,h)||(n.track({type:2,doc:h}),S=!0,(l&&this.Aa(h,l)>0||u&&this.Aa(h,u)<0)&&(o=!0)):!d&&h?(n.track({type:0,doc:h}),S=!0):d&&!h&&(n.track({type:1,doc:d}),S=!0,(l||u)&&(o=!0)),S&&(h?(a=a.add(h),s=g?s.add(c):s.delete(c)):(a=a.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const c=this.query.limitType==="F"?a.last():a.first();a=a.delete(c.key),s=s.delete(c.key),n.track({type:1,doc:c})}return{Ra:a,fa:n,ns:o,mutatedKeys:s}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((c,f)=>function(h,v){const g=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mt()}};return g(h)-g(v)}(c.type,f.type)||this.Aa(c.doc,f.doc)),this.pa(n),i=i!=null&&i;const o=r&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,a.length!==0||u?{snapshot:new Ah(this.query,e.Ra,s,a,e.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new vT,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Jt(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new xC(n))}),this.da.forEach(n=>{e.has(n)||r.push(new yC(n))}),r}ba(e){this.Ta=e.Ts,this.da=Jt();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return Ah.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class iU{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class sU{constructor(e){this.key=e,this.va=!1}}class aU{constructor(e,r,n,i,s,a){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Uh(o=>V6(o),sv),this.Ma=new Map,this.xa=new Set,this.Oa=new Qr(Nt.comparator),this.Na=new Map,this.La=new Y5,this.Ba={},this.ka=new Map,this.qa=Eh.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function oU(t,e,r=!0){const n=EC(t);let i;const s=n.Fa.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await wC(n,e,r,!0),i}async function lU(t,e){const r=EC(t);await wC(r,e,!0,!1)}async function wC(t,e,r,n){const i=await PV(t.localStore,no(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,r);let o;return n&&(o=await uU(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&r&&hC(t.remoteStore,i),o}async function uU(t,e,r,n,i){t.Ka=(f,d,h)=>async function(g,S,_,b){let T=S.view.ma(_);T.ns&&(T=await dT(g.localStore,S.query,!1).then(({documents:k})=>S.view.ma(k,T)));const L=b&&b.targetChanges.get(S.targetId),j=b&&b.targetMismatches.get(S.targetId)!=null,B=S.view.applyChanges(T,g.isPrimaryClient,L,j);return _T(g,S.targetId,B.wa),B.snapshot}(t,f,d,h);const s=await dT(t.localStore,e,!0),a=new nU(e,s.Ts),o=a.ma(s.documents),l=Ep.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),u=a.applyChanges(o,t.isPrimaryClient,l);_T(t,r,u.wa);const c=new iU(e,r,a);return t.Fa.set(e,c),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),u.snapshot}async function cU(t,e,r){const n=zt(t),i=n.Fa.get(e),s=n.Ma.get(i.targetId);if(s.length>1)return n.Ma.set(i.targetId,s.filter(a=>!sv(a,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Ox(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&J5(n.remoteStore,i.targetId),jx(n,i.targetId)}).catch(bp)):(jx(n,i.targetId),await Ox(n.localStore,i.targetId,!0))}async function fU(t,e){const r=zt(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),J5(r.remoteStore,n.targetId))}async function hU(t,e,r){const n=xU(t);try{const i=await function(a,o){const l=zt(a),u=Fn.now(),c=o.reduce((h,v)=>h.add(v.key),Jt());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let v=Yo(),g=Jt();return l.cs.getEntries(h,c).next(S=>{v=S,v.forEach((_,b)=>{b.isValidDocument()||(g=g.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,v)).next(S=>{f=S;const _=[];for(const b of o){const T=FB(b,f.get(b.key).overlayedDocument);T!=null&&_.push(new Du(b.key,T,R6(T.value.mapValue),Zs.exists(!0)))}return l.mutationQueue.addMutationBatch(h,u,_,o)}).next(S=>{d=S;const _=S.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(h,S.batchId,_)})}).then(()=>({batchId:d.batchId,changes:W6(f)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(a,o,l){let u=a.Ba[a.currentUser.toKey()];u||(u=new Qr(lr)),u=u.insert(o,l),a.Ba[a.currentUser.toKey()]=u}(n,i.batchId,r),await Np(n,i.changes),await hv(n.remoteStore)}catch(i){const s=n_(i,"Failed to persist write");r.reject(s)}}async function _C(t,e){const r=zt(t);try{const n=await NV(r.localStore,e);e.targetChanges.forEach((i,s)=>{const a=r.Na.get(s);a&&(br(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?br(a.va):i.removedDocuments.size>0&&(br(a.va),a.va=!1))}),await Np(r,n,e)}catch(n){await bp(n)}}function wT(t,e,r){const n=zt(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((s,a)=>{const o=a.view.Z_(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const l=zt(a);l.onlineState=o;let u=!1;l.queries.forEach((c,f)=>{for(const d of f.j_)d.Z_(o)&&(u=!0)}),u&&a_(l)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function dU(t,e,r){const n=zt(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),s=i&&i.key;if(s){let a=new Qr(Nt.comparator);a=a.insert(s,Si.newNoDocument(s,Ut.min()));const o=Jt().add(s),l=new uv(Ut.min(),new Map,new Qr(lr),a,o);await _C(n,l),n.Oa=n.Oa.remove(s),n.Na.delete(e),l_(n)}else await Ox(n.localStore,e,!1).then(()=>jx(n,e,r)).catch(bp)}async function pU(t,e){const r=zt(t),n=e.batch.batchId;try{const i=await AV(r.localStore,e);SC(r,n,null),bC(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Np(r,i)}catch(i){await bp(i)}}async function mU(t,e,r){const n=zt(t);try{const i=await function(a,o){const l=zt(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,o).next(f=>(br(f!==null),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(n.localStore,e);SC(n,e,r),bC(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Np(n,i)}catch(i){await bp(i)}}function bC(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function SC(t,e,r){const n=zt(t);let i=n.Ba[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function jx(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||TC(t,n)})}function TC(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(J5(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),l_(t))}function _T(t,e,r){for(const n of r)n instanceof yC?(t.La.addReference(n.key,e),gU(t,n)):n instanceof xC?(bt("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||TC(t,n.key)):Mt()}function gU(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(bt("SyncEngine","New document in limbo: "+r),t.xa.add(n),l_(t))}function l_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new Nt(Br.fromString(e)),n=t.qa.next();t.Na.set(n,new sU(r)),t.Oa=t.Oa.insert(r,n),hC(t.remoteStore,new Jl(no(iv(r.path)),n,"TargetPurposeLimboResolution",j5.oe))}}async function Np(t,e,r){const n=zt(t),i=[],s=[],a=[];n.Fa.isEmpty()||(n.Fa.forEach((o,l)=>{a.push(n.Ka(l,e,r).then(u=>{var c;if((u||r)&&n.isPrimaryClient){const f=u?!u.fromCache:(c=r==null?void 0:r.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=Q5.Wi(l.targetId,u);s.push(f)}}))}),await Promise.all(a),n.Ca.d_(i),await async function(l,u){const c=zt(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>et.forEach(u,d=>et.forEach(d.$i,h=>c.persistence.referenceDelegate.addReference(f,d.targetId,h)).next(()=>et.forEach(d.Ui,h=>c.persistence.referenceDelegate.removeReference(f,d.targetId,h)))))}catch(f){if(!Sp(f))throw f;bt("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const d=f.targetId;if(!f.fromCache){const h=c.os.get(d),v=h.snapshotVersion,g=h.withLastLimboFreeSnapshotVersion(v);c.os=c.os.insert(d,g)}}}(n.localStore,s))}async function vU(t,e){const r=zt(t);if(!r.currentUser.isEqual(e)){bt("SyncEngine","User change. New user:",e.toKey());const n=await lC(r.localStore,e);r.currentUser=e,function(s,a){s.ka.forEach(o=>{o.forEach(l=>{l.reject(new yt(Ge.CANCELLED,a))})}),s.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Np(r,n.hs)}}function yU(t,e){const r=zt(t),n=r.Na.get(e);if(n&&n.va)return Jt().add(n.key);{let i=Jt();const s=r.Ma.get(e);if(!s)return i;for(const a of s){const o=r.Fa.get(a);i=i.unionWith(o.view.Va)}return i}}function EC(t){const e=zt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_C.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dU.bind(null,e),e.Ca.d_=tU.bind(null,e.eventManager),e.Ca.$a=rU.bind(null,e.eventManager),e}function xU(t){const e=zt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mU.bind(null,e),e}class u1{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cv(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return EV(this.persistence,new SV,e.initialUser,this.serializer)}Ga(e){return new wV(X5.Zr,this.serializer)}Wa(e){return new RV}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}u1.provider={build:()=>new u1};class Bx{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>wT(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=vU.bind(null,this.syncEngine),await JV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new eU}()}createDatastore(e){const r=cv(e.databaseInfo.databaseId),n=function(s){return new OV(s)}(e.databaseInfo);return function(s,a,o,l){return new BV(s,a,o,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,s,a,o){return new UV(n,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,r=>wT(this.syncEngine,r,0),function(){return mT.D()?new mT:new LV}())}createSyncEngine(e,r){return function(i,s,a,o,l,u,c){const f=new aU(i,s,a,o,l,u);return c&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const s=zt(i);bt("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Ap(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Bx.provider={build:()=>new Bx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ko("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(e,r,n,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=_i.UNAUTHENTICATED,this.clientId=C6.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async a=>{bt("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(n,a=>(bt("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new jo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=n_(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function U2(t,e){t.asyncQueue.verifyOperationInProgress(),bt("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await lC(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function bT(t,e){t.asyncQueue.verifyOperationInProgress();const r=await _U(t);bt("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>gT(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>gT(e.remoteStore,i)),t._onlineComponents=e}async function _U(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){bt("FirestoreClient","Using user provided OfflineComponentProvider");try{await U2(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===Ge.FAILED_PRECONDITION||i.code===Ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;_h("Error using user provided cache. Falling back to memory cache: "+r),await U2(t,new u1)}}else bt("FirestoreClient","Using default OfflineComponentProvider"),await U2(t,new u1);return t._offlineComponents}async function AC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(bt("FirestoreClient","Using user provided OnlineComponentProvider"),await bT(t,t._uninitializedComponentsProvider._online)):(bt("FirestoreClient","Using default OnlineComponentProvider"),await bT(t,new Bx))),t._onlineComponents}function bU(t){return AC(t).then(e=>e.syncEngine)}async function c1(t){const e=await AC(t),r=e.eventManager;return r.onListen=oU.bind(null,e.syncEngine),r.onUnlisten=cU.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=lU.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=fU.bind(null,e.syncEngine),r}function SU(t,e,r={}){const n=new jo;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,u){const c=new u_({next:d=>{c.Za(),a.enqueueAndForget(()=>s_(s,f));const h=d.docs.has(o);!h&&d.fromCache?u.reject(new yt(Ge.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&l&&l.source==="server"?u.reject(new yt(Ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new o_(iv(o.path),c,{includeMetadataChanges:!0,_a:!0});return i_(s,f)}(await c1(t),t.asyncQueue,e,r,n)),n.promise}function TU(t,e,r={}){const n=new jo;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,u){const c=new u_({next:d=>{c.Za(),a.enqueueAndForget(()=>s_(s,f)),d.fromCache&&l.source==="server"?u.reject(new yt(Ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new o_(o,c,{includeMetadataChanges:!0,_a:!0});return i_(s,f)}(await c1(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(t,e,r){if(!r)throw new yt(Ge.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function EU(t,e,r,n){if(e===!0&&n===!0)throw new yt(Ge.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function TT(t){if(!Nt.isDocumentKey(t))throw new yt(Ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ET(t){if(Nt.isDocumentKey(t))throw new yt(Ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function dv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Mt()}function cs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new yt(Ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=dv(t);throw new yt(Ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new yt(Ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new yt(Ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}EU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NC((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new yt(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new yt(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new yt(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pv{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(Ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new yt(Ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AT(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new z9;switch(n.type){case"firstParty":return new $9(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new yt(Ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=ST.get(r);n&&(bt("ComponentProvider","Removing Datastore"),ST.delete(r),n.terminate())}(this),Promise.resolve()}}function AU(t,e,r,n={}){var i;const s=(t=cs(t,pv))._getSettings(),a=`${e}:${r}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&_h("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),n.mockUserToken){let o,l;if(typeof n.mockUserToken=="string")o=n.mockUserToken,l=_i.MOCK_USER;else{o=sO(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=n.mockUserToken.sub||n.mockUserToken.user_id;if(!u)throw new yt(Ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new _i(u)}t._authCredentials=new W9(new k6(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ou(this.firestore,e,this._query)}}class Ni{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ni(this.firestore,e,this._key)}}class mu extends Ou{constructor(e,r,n){super(e,r,iv(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ni(this.firestore,null,new Nt(e))}withConverter(e){return new mu(this.firestore,e,this._path)}}function Zl(t,e,...r){if(t=Dn(t),kC("collection","path",e),t instanceof pv){const n=Br.fromString(e,...r);return ET(n),new mu(t,null,n)}{if(!(t instanceof Ni||t instanceof mu))throw new yt(Ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Br.fromString(e,...r));return ET(n),new mu(t.firestore,null,n)}}function ea(t,e,...r){if(t=Dn(t),arguments.length===1&&(e=C6.newId()),kC("doc","path",e),t instanceof pv){const n=Br.fromString(e,...r);return TT(n),new Ni(t,null,new Nt(n))}{if(!(t instanceof Ni||t instanceof mu))throw new yt(Ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Br.fromString(e,...r));return TT(n),new Ni(t.firestore,t instanceof mu?t.converter:null,new Nt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new cC(this,"async_queue_retry"),this.Vu=()=>{const n=V2();n&&bt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=V2();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=V2();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new jo;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Sp(e))throw e;bt("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o}(n);throw Ko("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=r_.createAndSchedule(this,e,r,n,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Mt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function kT(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Xo extends pv{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new NT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new NT(e),this._firestoreClient=void 0,await e}}}function CC(t,e){const r=typeof t=="object"?t:Ok(),n=typeof t=="string"?t:"(default)",i=N5(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=nO("firestore");s&&AU(i,...s)}return i}function mv(t){if(t._terminated)throw new yt(Ge.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||NU(t),t._firestoreClient}function NU(t){var e,r,n;const i=t._freezeSettings(),s=function(o,l,u,c){return new sB(o,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,NC(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new wU(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nh(ci.fromBase64String(e))}catch(r){throw new yt(Ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Nh(ci.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new yt(Ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ni(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new yt(Ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new yt(Ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return lr(this._lat,e._lat)||lr(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU=/^__.*__$/;class CU{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Du(e,this.data,this.fieldMask,r,this.fieldTransforms):new Tp(e,this.data,r,this.fieldTransforms)}}class PC{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Du(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function IC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mt()}}class h_{constructor(e,r,n,i,s,a){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new h_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return f1(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(IC(this.Cu)&&kU.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class PU{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||cv(e)}Qu(e,r,n,i=!1){return new h_({Cu:e,methodName:r,qu:n,path:ni.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yv(t){const e=t._freezeSettings(),r=cv(t._databaseId);return new PU(t._databaseId,!!e.ignoreUndefinedProperties,r)}function RC(t,e,r,n,i,s={}){const a=t.Qu(s.merge||s.mergeFields?2:0,e,r,i);p_("Data must be an object, but it was:",a,n);const o=LC(n,a);let l,u;if(s.merge)l=new Ps(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const c=[];for(const f of s.mergeFields){const d=Vx(e,f,r);if(!a.contains(d))throw new yt(Ge.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);DC(c,d)||c.push(d)}l=new Ps(c),u=a.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=a.fieldTransforms;return new CU(new ns(o),l,u)}class xv extends vv{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xv}}class d_ extends vv{_toFieldTransform(e){return new PB(e.path,new q0)}isEqual(e){return e instanceof d_}}function IU(t,e,r,n){const i=t.Qu(1,e,r);p_("Data must be an object, but it was:",i,n);const s=[],a=ns.empty();Wc(n,(l,u)=>{const c=m_(e,l,r);u=Dn(u);const f=i.Nu(c);if(u instanceof xv)s.push(c);else{const d=kp(u,f);d!=null&&(s.push(c),a.set(c,d))}});const o=new Ps(s);return new PC(a,o,i.fieldTransforms)}function RU(t,e,r,n,i,s){const a=t.Qu(1,e,r),o=[Vx(e,n,r)],l=[i];if(s.length%2!=0)throw new yt(Ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)o.push(Vx(e,s[d])),l.push(s[d+1]);const u=[],c=ns.empty();for(let d=o.length-1;d>=0;--d)if(!DC(u,o[d])){const h=o[d];let v=l[d];v=Dn(v);const g=a.Nu(h);if(v instanceof xv)u.push(h);else{const S=kp(v,g);S!=null&&(u.push(h),c.set(h,S))}}const f=new Ps(u);return new PC(c,f,a.fieldTransforms)}function LU(t,e,r,n=!1){return kp(r,t.Qu(n?4:3,e))}function kp(t,e){if(FC(t=Dn(t)))return p_("Unsupported field value:",e,t),LC(t,e);if(t instanceof vv)return function(n,i){if(!IC(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const s=[];let a=0;for(const o of n){let l=kp(o,i.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(t,e)}return function(n,i){if((n=Dn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return NB(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Fn.fromDate(n);return{timestampValue:o1(i.serializer,s)}}if(n instanceof Fn){const s=new Fn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:o1(i.serializer,s)}}if(n instanceof c_)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Nh)return{bytesValue:tC(i.serializer,n._byteString)};if(n instanceof Ni){const s=i.databaseId,a=n.firestore._databaseId;if(!a.isEqual(s))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:K5(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof f_)return function(a,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw o.Bu("VectorValues must only contain numeric values.");return H5(o.serializer,l)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${dv(n)}`)}(t,e)}function LC(t,e){const r={};return P6(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wc(t,(n,i)=>{const s=kp(i,e.Mu(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function FC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Fn||t instanceof c_||t instanceof Nh||t instanceof Ni||t instanceof vv||t instanceof f_)}function p_(t,e,r){if(!FC(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=dv(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function Vx(t,e,r){if((e=Dn(e))instanceof gv)return e._internalPath;if(typeof e=="string")return m_(t,e);throw f1("Field path arguments must be of type string or ",t,!1,void 0,r)}const FU=new RegExp("[~\\*/\\[\\]]");function m_(t,e,r){if(e.search(FU)>=0)throw f1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new gv(...e.split("."))._internalPath}catch{throw f1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function f1(t,e,r,n,i){const s=n&&!n.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${n}`),a&&(l+=` in document ${i}`),l+=")"),new yt(Ge.INVALID_ARGUMENT,o+t+l)}function DC(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ni(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new DU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(wv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class DU extends OC{data(){return super.data()}}function wv(t,e){return typeof e=="string"?m_(t,e):e instanceof gv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new yt(Ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class g_{}class jC extends g_{}function K0(t,e,...r){let n=[];e instanceof g_&&n.push(e),n=n.concat(r),function(s){const a=s.filter(l=>l instanceof v_).length,o=s.filter(l=>l instanceof _v).length;if(a>1||a>0&&o>0)throw new yt(Ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class _v extends jC{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new _v(e,r,n)}_apply(e){const r=this._parse(e);return VC(e._query,r),new Ou(e.firestore,e.converter,Px(e._query,r))}_parse(e){const r=yv(e.firestore);return function(s,a,o,l,u,c,f){let d;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new yt(Ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){PT(f,c);const h=[];for(const v of f)h.push(CT(l,s,v));d={arrayValue:{values:h}}}else d=CT(l,s,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||PT(f,c),d=LU(o,a,f,c==="in"||c==="not-in");return Tn.create(u,c,d)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function h1(t,e,r){const n=e,i=wv("where",t);return _v._create(i,n,r)}class v_ extends g_{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new v_(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Fa.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,s){let a=i;const o=s.getFlattenedFilters();for(const l of o)VC(a,l),a=Px(a,l)}(e._query,r),new Ou(e.firestore,e.converter,Px(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class y_ extends jC{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new y_(e,r)}_apply(e){const r=function(i,s,a){if(i.startAt!==null)throw new yt(Ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new yt(Ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new H0(s,a)}(e._query,this._field,this._direction);return new Ou(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new Vh(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function BC(t,e="asc"){const r=e,n=wv("orderBy",t);return y_._create(n,r)}function CT(t,e,r){if(typeof(r=Dn(r))=="string"){if(r==="")throw new yt(Ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!B6(e)&&r.indexOf("/")!==-1)throw new yt(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Br.fromString(r));if(!Nt.isDocumentKey(n))throw new yt(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return XS(t,new Nt(n))}if(r instanceof Ni)return XS(t,r._key);throw new yt(Ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dv(r)}.`)}function PT(t,e){if(!Array.isArray(t)||t.length===0)throw new yt(Ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function VC(t,e){const r=function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new yt(Ge.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new yt(Ge.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class OU{convertValue(e,r="none"){switch(Mc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Oc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Mt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Wc(e,(i,s)=>{n[i]=this.convertValue(s,r)}),n}convertVectorValue(e){var r,n,i;const s=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(a=>fn(a.doubleValue));return new f_(s)}convertGeoPoint(e){return new c_(fn(e.latitude),fn(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=V5(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(U0(e));default:return null}}convertTimestamp(e){const r=wu(e);return new Fn(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Br.fromString(e);br(oC(n));const i=new z0(n.get(1),n.get(3)),s=new Nt(n.popFirst(5));return i.isEqual(r)||Ko(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(t,e,r){let n;return n=t?t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zC extends OC{constructor(e,r,n,i,s,a){super(e,r,n,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new yg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(wv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class yg extends zC{data(e={}){return super.data(e)}}class WC{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Od(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new yg(this._firestore,this._userDataWriter,n.key,n,new Od(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new yt(Ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const l=new yg(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Od(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new yg(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Od(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return o.type!==0&&(u=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),c=a.indexOf(o.doc.key)),{type:MU(o.type),doc:l,oldIndex:u,newIndex:c}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function MU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(t){t=cs(t,Ni);const e=cs(t.firestore,Xo);return SU(mv(e),t._key).then(r=>qC(e,t,r))}class x_ extends OU{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nh(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ni(this.firestore,null,r)}}function IT(t){t=cs(t,Ou);const e=cs(t.firestore,Xo),r=mv(e),n=new x_(e);return MC(t._query),TU(r,t._query).then(i=>new WC(e,n,t,i))}function HC(t,e,r){t=cs(t,Ni);const n=cs(t.firestore,Xo),i=UC(t.converter,e);return Sv(n,[RC(yv(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Zs.none())])}function xg(t,e,r,...n){t=cs(t,Ni);const i=cs(t.firestore,Xo),s=yv(i);let a;return a=typeof(e=Dn(e))=="string"||e instanceof gv?RU(s,"updateDoc",t._key,e,r,n):IU(s,"updateDoc",t._key,e),Sv(i,[a.toMutation(t._key,Zs.exists(!0))])}function jU(t){return Sv(cs(t.firestore,Xo),[new q5(t._key,Zs.none())])}function BU(t,e){const r=cs(t.firestore,Xo),n=ea(t),i=UC(t.converter,e);return Sv(r,[RC(yv(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,Zs.exists(!1))]).then(()=>n)}function bv(t,...e){var r,n,i;t=Dn(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||kT(e[a])||(s=e[a],a++);const o={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(kT(e[a])){const f=e[a];e[a]=(r=f.next)===null||r===void 0?void 0:r.bind(f),e[a+1]=(n=f.error)===null||n===void 0?void 0:n.bind(f),e[a+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,c;if(t instanceof Ni)u=cs(t.firestore,Xo),c=iv(t._key.path),l={next:f=>{e[a]&&e[a](qC(u,t,f))},error:e[a+1],complete:e[a+2]};else{const f=cs(t,Ou);u=cs(f.firestore,Xo),c=f._query;const d=new x_(u);l={next:h=>{e[a]&&e[a](new WC(u,d,f,h))},error:e[a+1],complete:e[a+2]},MC(t._query)}return function(d,h,v,g){const S=new u_(g),_=new o_(h,S,v);return d.asyncQueue.enqueueAndForget(async()=>i_(await c1(d),_)),()=>{S.Za(),d.asyncQueue.enqueueAndForget(async()=>s_(await c1(d),_))}}(mv(u),c,o,l)}function Sv(t,e){return function(n,i){const s=new jo;return n.asyncQueue.enqueueAndForget(async()=>hU(await bU(n),i,s)),s.promise}(mv(t),e)}function qC(t,e,r){const n=r.docs.get(e._key),i=new x_(t);return new zC(t,i,e._key,n,new Od(r.hasPendingWrites,r.fromCache),e.converter)}function $C(){return new d_("serverTimestamp")}(function(e,r=!0){(function(i){Bh=i})(Mh),wh(new Rc("firestore",(n,{instanceIdentifier:i,options:s})=>{const a=n.getProvider("app").getImmediate(),o=new Xo(new H9(n.getProvider("auth-internal")),new K9(n.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new yt(Ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new z0(u.options.projectId,c)}(a,i),a);return s=Object.assign({useFetchStreams:r},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),pu(qS,"4.7.3",e),pu(qS,"4.7.3","esm2017")})();var VU="firebase",UU="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pu(VU,UU,"app");const zU={apiKey:"AIzaSyCSFvwCO0DLk6PlCTqP-JpHyGov0IG2S5Q",authDomain:"organ-donor-management-system.firebaseapp.com",projectId:"organ-donor-management-system",storageBucket:"organ-donor-management-system.appspot.com",messagingSenderId:"487567344580",appId:"1:487567344580:web:2f2143ed93ae8709cc5a91",measurementId:"G-28R5PRZ92V"},d1=Dk(zU),is=_6(d1),Ti=CC(d1);Zl(Ti,"organTransports");const GC=ye.createContext(),WU=({children:t})=>{const e=_6(d1),r=CC(d1),[n,i]=ye.useState(null),[s,a]=ye.useState(null),[o,l]=ye.useState(!0),u=async(d,h,v={})=>{const S=(await u6(e,d,h)).user,_=v.role||"donor";return await HC(ea(r,"users",S.uid),{email:d,role:_,fullName:v.fullName||"",mobile:v.mobile||"",address:v.address||"",bloodGroup:v.bloodGroup||"",organType:v.organType||"",createdAt:$C()}),i(S),a(_),_},c=async(d,h)=>{const g=(await c6(e,d,h)).user,S=await Y0(ea(r,"users",g.uid)),_=S.exists()?S.data().role:"donor";return i(g),a(_),_},f=async()=>{await Pj(e),i(null),a(null)};return ye.useEffect(()=>{const d=Cj(e,async h=>{if(h){i(h);const v=await Y0(ea(r,"users",h.uid));a(v.exists()?v.data().role:"donor")}else i(null),a(null);l(!1)});return()=>d()},[e,r]),w.jsx(GC.Provider,{value:{user:n,role:s,loading:o,login:c,signup:u,logout:f},children:!o&&t})},Tv=()=>ye.useContext(GC),Cp=ye.createContext();function HU({children:t}){const[e,r]=ye.useState(()=>{const i=localStorage.getItem("darkMode");return i?JSON.parse(i):!1});ye.useEffect(()=>{e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode",JSON.stringify(e))},[e]);const n=()=>r(i=>!i);return w.jsx(Cp.Provider,{value:{darkMode:e,toggleDarkMode:n},children:t})}const w_=ye.createContext({});function __(t){const e=ye.useRef(null);return e.current===null&&(e.current=t()),e.current}const b_=typeof window<"u",KC=b_?ye.useLayoutEffect:ye.useEffect,Ev=ye.createContext(null);function S_(t,e){t.indexOf(e)===-1&&t.push(e)}function T_(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const Qo=(t,e,r)=>r>e?e:r<t?t:r;let E_=()=>{};const Jo={},YC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function XC(t){return typeof t=="object"&&t!==null}const QC=t=>/^0[^.\s]+$/u.test(t);function A_(t){let e;return()=>(e===void 0&&(e=t()),e)}const ta=t=>t,qU=(t,e)=>r=>e(t(r)),Pp=(...t)=>t.reduce(qU),X0=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class N_{constructor(){this.subscriptions=[]}add(e){return S_(this.subscriptions,e),()=>T_(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const so=t=>t*1e3,ao=t=>t/1e3;function JC(t,e){return e?t*(1e3/e):0}const ZC=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,$U=1e-7,GU=12;function KU(t,e,r,n,i){let s,a,o=0;do a=e+(r-e)/2,s=ZC(a,n,i)-t,s>0?r=a:e=a;while(Math.abs(s)>$U&&++o<GU);return a}function Ip(t,e,r,n){if(t===e&&r===n)return ta;const i=s=>KU(s,0,1,t,r);return s=>s===0||s===1?s:ZC(i(s),e,n)}const eP=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,tP=t=>e=>1-t(1-e),rP=Ip(.33,1.53,.69,.99),k_=tP(rP),nP=eP(k_),iP=t=>(t*=2)<1?.5*k_(t):.5*(2-Math.pow(2,-10*(t-1))),C_=t=>1-Math.sin(Math.acos(t)),sP=tP(C_),aP=eP(C_),YU=Ip(.42,0,1,1),XU=Ip(0,0,.58,1),oP=Ip(.42,0,.58,1),QU=t=>Array.isArray(t)&&typeof t[0]!="number",lP=t=>Array.isArray(t)&&typeof t[0]=="number",JU={linear:ta,easeIn:YU,easeInOut:oP,easeOut:XU,circIn:C_,circInOut:aP,circOut:sP,backIn:k_,backInOut:nP,backOut:rP,anticipate:iP},ZU=t=>typeof t=="string",RT=t=>{if(lP(t)){E_(t.length===4);const[e,r,n,i]=t;return Ip(e,r,n,i)}else if(ZU(t))return JU[t];return t},Rm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function ez(t,e){let r=new Set,n=new Set,i=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(c){a.has(c)&&(u.schedule(c),t()),c(o)}const u={schedule:(c,f=!1,d=!1)=>{const v=d&&i?r:n;return f&&a.add(c),v.has(c)||v.add(c),c},cancel:c=>{n.delete(c),a.delete(c)},process:c=>{if(o=c,i){s=!0;return}i=!0,[r,n]=[n,r],r.forEach(l),r.clear(),i=!1,s&&(s=!1,u.process(c))}};return u}const tz=40;function uP(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,a=Rm.reduce((T,L)=>(T[L]=ez(s),T),{}),{setup:o,read:l,resolveKeyframes:u,preUpdate:c,update:f,preRender:d,render:h,postRender:v}=a,g=()=>{const T=Jo.useManualTiming?i.timestamp:performance.now();r=!1,Jo.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(T-i.timestamp,tz),1)),i.timestamp=T,i.isProcessing=!0,o.process(i),l.process(i),u.process(i),c.process(i),f.process(i),d.process(i),h.process(i),v.process(i),i.isProcessing=!1,r&&e&&(n=!1,t(g))},S=()=>{r=!0,n=!0,i.isProcessing||t(g)};return{schedule:Rm.reduce((T,L)=>{const j=a[L];return T[L]=(B,k=!1,y=!1)=>(r||S(),j.schedule(B,k,y)),T},{}),cancel:T=>{for(let L=0;L<Rm.length;L++)a[Rm[L]].cancel(T)},state:i,steps:a}}const{schedule:qr,cancel:bu,state:ei,steps:z2}=uP(typeof requestAnimationFrame<"u"?requestAnimationFrame:ta,!0);let wg;function rz(){wg=void 0}const as={now:()=>(wg===void 0&&as.set(ei.isProcessing||Jo.useManualTiming?ei.timestamp:performance.now()),wg),set:t=>{wg=t,queueMicrotask(rz)}},cP=t=>e=>typeof e=="string"&&e.startsWith(t),P_=cP("--"),nz=cP("var(--"),I_=t=>nz(t)?iz.test(t.split("/*")[0].trim()):!1,iz=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Wh={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Q0={...Wh,transform:t=>Qo(0,1,t)},Lm={...Wh,default:1},e0=t=>Math.round(t*1e5)/1e5,R_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function sz(t){return t==null}const az=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,L_=(t,e)=>r=>!!(typeof r=="string"&&az.test(r)&&r.startsWith(t)||e&&!sz(r)&&Object.prototype.hasOwnProperty.call(r,e)),fP=(t,e,r)=>n=>{if(typeof n!="string")return n;const[i,s,a,o]=n.match(R_);return{[t]:parseFloat(i),[e]:parseFloat(s),[r]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},oz=t=>Qo(0,255,t),W2={...Wh,transform:t=>Math.round(oz(t))},pc={test:L_("rgb","red"),parse:fP("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+W2.transform(t)+", "+W2.transform(e)+", "+W2.transform(r)+", "+e0(Q0.transform(n))+")"};function lz(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const Ux={test:L_("#"),parse:lz,transform:pc.transform},Rp=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Bl=Rp("deg"),oo=Rp("%"),Dt=Rp("px"),uz=Rp("vh"),cz=Rp("vw"),LT={...oo,parse:t=>oo.parse(t)/100,transform:t=>oo.transform(t*100)},Hf={test:L_("hsl","hue"),parse:fP("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+oo.transform(e0(e))+", "+oo.transform(e0(r))+", "+e0(Q0.transform(n))+")"},bn={test:t=>pc.test(t)||Ux.test(t)||Hf.test(t),parse:t=>pc.test(t)?pc.parse(t):Hf.test(t)?Hf.parse(t):Ux.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?pc.transform(t):Hf.transform(t),getAnimatableNone:t=>{const e=bn.parse(t);return e.alpha=0,bn.transform(e)}},fz=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function hz(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(R_))==null?void 0:e.length)||0)+(((r=t.match(fz))==null?void 0:r.length)||0)>0}const hP="number",dP="color",dz="var",pz="var(",FT="${}",mz=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function J0(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(mz,l=>(bn.test(l)?(n.color.push(s),i.push(dP),r.push(bn.parse(l))):l.startsWith(pz)?(n.var.push(s),i.push(dz),r.push(l)):(n.number.push(s),i.push(hP),r.push(parseFloat(l))),++s,FT)).split(FT);return{values:r,split:o,indexes:n,types:i}}function pP(t){return J0(t).values}function mP(t){const{split:e,types:r}=J0(t),n=e.length;return i=>{let s="";for(let a=0;a<n;a++)if(s+=e[a],i[a]!==void 0){const o=r[a];o===hP?s+=e0(i[a]):o===dP?s+=bn.transform(i[a]):s+=i[a]}return s}}const gz=t=>typeof t=="number"?0:bn.test(t)?bn.getAnimatableNone(t):t;function vz(t){const e=pP(t);return mP(t)(e.map(gz))}const Su={test:hz,parse:pP,createTransformer:mP,getAnimatableNone:vz};function H2(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function yz({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,s=0,a=0;if(!e)i=s=a=r;else{const o=r<.5?r*(1+e):r+e-r*e,l=2*r-o;i=H2(l,o,t+1/3),s=H2(l,o,t),a=H2(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:n}}function p1(t,e){return r=>r>0?e:t}const Kr=(t,e,r)=>t+(e-t)*r,q2=(t,e,r)=>{const n=t*t,i=r*(e*e-n)+n;return i<0?0:Math.sqrt(i)},xz=[Ux,pc,Hf],wz=t=>xz.find(e=>e.test(t));function DT(t){const e=wz(t);if(!e)return!1;let r=e.parse(t);return e===Hf&&(r=yz(r)),r}const OT=(t,e)=>{const r=DT(t),n=DT(e);if(!r||!n)return p1(t,e);const i={...r};return s=>(i.red=q2(r.red,n.red,s),i.green=q2(r.green,n.green,s),i.blue=q2(r.blue,n.blue,s),i.alpha=Kr(r.alpha,n.alpha,s),pc.transform(i))},zx=new Set(["none","hidden"]);function _z(t,e){return zx.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function bz(t,e){return r=>Kr(t,e,r)}function F_(t){return typeof t=="number"?bz:typeof t=="string"?I_(t)?p1:bn.test(t)?OT:Ez:Array.isArray(t)?gP:typeof t=="object"?bn.test(t)?OT:Sz:p1}function gP(t,e){const r=[...t],n=r.length,i=t.map((s,a)=>F_(s)(s,e[a]));return s=>{for(let a=0;a<n;a++)r[a]=i[a](s);return r}}function Sz(t,e){const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=F_(t[i])(t[i],e[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function Tz(t,e){const r=[],n={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=t.indexes[s][n[s]],o=t.values[a]??0;r[i]=o,n[s]++}return r}const Ez=(t,e)=>{const r=Su.createTransformer(e),n=J0(t),i=J0(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?zx.has(t)&&!i.values.length||zx.has(e)&&!n.values.length?_z(t,e):Pp(gP(Tz(n,i),i.values),r):p1(t,e)};function vP(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Kr(t,e,r):F_(t)(t,e)}const Az=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>qr.update(e,r),stop:()=>bu(e),now:()=>ei.isProcessing?ei.timestamp:as.now()}},yP=(t,e,r=10)=>{let n="";const i=Math.max(Math.round(e/r),2);for(let s=0;s<i;s++)n+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},m1=2e4;function D_(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<m1;)e+=r,n=t.next(e);return e>=m1?1/0:e}function Nz(t,e=100,r){const n=r({...t,keyframes:[0,e]}),i=Math.min(D_(n),m1);return{type:"keyframes",ease:s=>n.next(i*s).value/e,duration:ao(i)}}const kz=5;function xP(t,e,r){const n=Math.max(e-kz,0);return JC(r-t(n),e-n)}const nn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},$2=.001;function Cz({duration:t=nn.duration,bounce:e=nn.bounce,velocity:r=nn.velocity,mass:n=nn.mass}){let i,s,a=1-e;a=Qo(nn.minDamping,nn.maxDamping,a),t=Qo(nn.minDuration,nn.maxDuration,ao(t)),a<1?(i=u=>{const c=u*a,f=c*t,d=c-r,h=Wx(u,a),v=Math.exp(-f);return $2-d/h*v},s=u=>{const f=u*a*t,d=f*r+r,h=Math.pow(a,2)*Math.pow(u,2)*t,v=Math.exp(-f),g=Wx(Math.pow(u,2),a);return(-i(u)+$2>0?-1:1)*((d-h)*v)/g}):(i=u=>{const c=Math.exp(-u*t),f=(u-r)*t+1;return-$2+c*f},s=u=>{const c=Math.exp(-u*t),f=(r-u)*(t*t);return c*f});const o=5/t,l=Iz(i,s,o);if(t=so(t),isNaN(l))return{stiffness:nn.stiffness,damping:nn.damping,duration:t};{const u=Math.pow(l,2)*n;return{stiffness:u,damping:a*2*Math.sqrt(n*u),duration:t}}}const Pz=12;function Iz(t,e,r){let n=r;for(let i=1;i<Pz;i++)n=n-t(n)/e(n);return n}function Wx(t,e){return t*Math.sqrt(1-e*e)}const Rz=["duration","bounce"],Lz=["stiffness","damping","mass"];function MT(t,e){return e.some(r=>t[r]!==void 0)}function Fz(t){let e={velocity:nn.velocity,stiffness:nn.stiffness,damping:nn.damping,mass:nn.mass,isResolvedFromDuration:!1,...t};if(!MT(t,Lz)&&MT(t,Rz))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*Qo(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:nn.mass,stiffness:i,damping:s}}else{const r=Cz(t);e={...e,...r,mass:nn.mass},e.isResolvedFromDuration=!0}return e}function g1(t=nn.visualDuration,e=nn.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:u,mass:c,duration:f,velocity:d,isResolvedFromDuration:h}=Fz({...r,velocity:-ao(r.velocity||0)}),v=d||0,g=u/(2*Math.sqrt(l*c)),S=a-s,_=ao(Math.sqrt(l/c)),b=Math.abs(S)<5;n||(n=b?nn.restSpeed.granular:nn.restSpeed.default),i||(i=b?nn.restDelta.granular:nn.restDelta.default);let T;if(g<1){const j=Wx(_,g);T=B=>{const k=Math.exp(-g*_*B);return a-k*((v+g*_*S)/j*Math.sin(j*B)+S*Math.cos(j*B))}}else if(g===1)T=j=>a-Math.exp(-_*j)*(S+(v+_*S)*j);else{const j=_*Math.sqrt(g*g-1);T=B=>{const k=Math.exp(-g*_*B),y=Math.min(j*B,300);return a-k*((v+g*_*S)*Math.sinh(y)+j*S*Math.cosh(y))/j}}const L={calculatedDuration:h&&f||null,next:j=>{const B=T(j);if(h)o.done=j>=f;else{let k=j===0?v:0;g<1&&(k=j===0?so(v):xP(T,j,B));const y=Math.abs(k)<=n,C=Math.abs(a-B)<=i;o.done=y&&C}return o.value=o.done?a:B,o},toString:()=>{const j=Math.min(D_(L),m1),B=yP(k=>L.next(j*k).value,j,30);return j+"ms "+B},toTransition:()=>{}};return L}g1.applyToOptions=t=>{const e=Nz(t,100,g1);return t.ease=e.ease,t.duration=so(e.duration),t.type="keyframes",t};function Hx({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:c}){const f=t[0],d={done:!1,value:f},h=y=>o!==void 0&&y<o||l!==void 0&&y>l,v=y=>o===void 0?l:l===void 0||Math.abs(o-y)<Math.abs(l-y)?o:l;let g=r*e;const S=f+g,_=a===void 0?S:a(S);_!==S&&(g=_-f);const b=y=>-g*Math.exp(-y/n),T=y=>_+b(y),L=y=>{const C=b(y),F=T(y);d.done=Math.abs(C)<=u,d.value=d.done?_:F};let j,B;const k=y=>{h(d.value)&&(j=y,B=g1({keyframes:[d.value,v(d.value)],velocity:xP(T,y,d.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return k(0),{calculatedDuration:null,next:y=>{let C=!1;return!B&&j===void 0&&(C=!0,L(y),k(y)),j!==void 0&&y>=j?B.next(y-j):(!C&&L(y),d)}}}function Dz(t,e,r){const n=[],i=r||Jo.mix||vP,s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||ta:e;o=Pp(l,o)}n.push(o)}return n}function Oz(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const s=t.length;if(E_(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=Dz(e,n,i),l=o.length,u=c=>{if(a&&c<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(c<t[f+1]);f++);const d=X0(t[f],t[f+1],c);return o[f](d)};return r?c=>u(Qo(t[0],t[s-1],c)):u}function Mz(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=X0(0,e,n);t.push(Kr(r,1,i))}}function jz(t){const e=[0];return Mz(e,t.length-1),e}function Bz(t,e){return t.map(r=>r*e)}function Vz(t,e){return t.map(()=>e||oP).splice(0,t.length-1)}function t0({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=QU(n)?n.map(RT):RT(n),s={done:!1,value:e[0]},a=Bz(r&&r.length===e.length?r:jz(e),t),o=Oz(a,e,{ease:Array.isArray(i)?i:Vz(e,i)});return{calculatedDuration:t,next:l=>(s.value=o(l),s.done=l>=t,s)}}const Uz=t=>t!==null;function O_(t,{repeat:e,repeatType:r="loop"},n,i=1){const s=t.filter(Uz),o=i<0||e&&r!=="loop"&&e%2===1?0:s.length-1;return!o||n===void 0?s[o]:n}const zz={decay:Hx,inertia:Hx,tween:t0,keyframes:t0,spring:g1};function wP(t){typeof t.type=="string"&&(t.type=zz[t.type])}class M_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const Wz=t=>t/100;class j_ extends M_{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,i;const{motionValue:r}=this.options;r&&r.updatedAt!==as.now()&&this.tick(as.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(n=this.options).onStop)==null||i.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;wP(e);const{type:r=t0,repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:o}=e;const l=r||t0;l!==t0&&typeof o[0]!="number"&&(this.mixKeyframes=Pp(Wz,vP(o[0],o[1])),o=[0,100]);const u=l({...e,keyframes:o});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=D_(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=u}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:c,repeat:f,repeatType:d,repeatDelay:h,type:v,onUpdate:g,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const _=this.currentTime-u*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?_<0:_>i;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let T=this.currentTime,L=n;if(f){const y=Math.min(this.currentTime,i)/o;let C=Math.floor(y),F=y%1;!F&&y>=1&&(F=1),F===1&&C--,C=Math.min(C,f+1),!!(C%2)&&(d==="reverse"?(F=1-F,h&&(F-=h/o)):d==="mirror"&&(L=a)),T=Qo(0,1,F)*o}const j=b?{done:!1,value:c[0]}:L.next(T);s&&(j.value=s(j.value));let{done:B}=j;!b&&l!==null&&(B=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return k&&v!==Hx&&(j.value=O_(c,this.options,S,this.speed)),g&&g(j.value),k&&this.finish(),j}then(e,r){return this.finished.then(e,r)}get duration(){return ao(this.calculatedDuration)}get time(){return ao(this.currentTime)}set time(e){var r;e=so(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(as.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=ao(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=Az,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(s=(i=this.options).onPlay)==null||s.call(i);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(as.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function Hz(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const mc=t=>t*180/Math.PI,qx=t=>{const e=mc(Math.atan2(t[1],t[0]));return $x(e)},qz={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:qx,rotateZ:qx,skewX:t=>mc(Math.atan(t[1])),skewY:t=>mc(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},$x=t=>(t=t%360,t<0&&(t+=360),t),jT=qx,BT=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),VT=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),$z={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:BT,scaleY:VT,scale:t=>(BT(t)+VT(t))/2,rotateX:t=>$x(mc(Math.atan2(t[6],t[5]))),rotateY:t=>$x(mc(Math.atan2(-t[2],t[0]))),rotateZ:jT,rotate:jT,skewX:t=>mc(Math.atan(t[4])),skewY:t=>mc(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Gx(t){return t.includes("scale")?1:0}function Kx(t,e){if(!t||t==="none")return Gx(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=$z,i=r;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=qz,i=o}if(!i)return Gx(e);const s=n[e],a=i[1].split(",").map(Kz);return typeof s=="function"?s(a):a[s]}const Gz=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return Kx(r,e)};function Kz(t){return parseFloat(t.trim())}const Hh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qh=new Set(Hh),UT=t=>t===Wh||t===Dt,Yz=new Set(["x","y","z"]),Xz=Hh.filter(t=>!Yz.has(t));function Qz(t){const e=[];return Xz.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const wc={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Kx(e,"x"),y:(t,{transform:e})=>Kx(e,"y")};wc.translateX=wc.x;wc.translateY=wc.y;const _c=new Set;let Yx=!1,Xx=!1,Qx=!1;function _P(){if(Xx){const t=Array.from(_c).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const i=Qz(n);i.length&&(r.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,a])=>{var o;(o=n.getValue(s))==null||o.set(a)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Xx=!1,Yx=!1,_c.forEach(t=>t.complete(Qx)),_c.clear()}function bP(){_c.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Xx=!0)})}function Jz(){Qx=!0,bP(),_P(),Qx=!1}class B_{constructor(e,r,n,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(_c.add(this),Yx||(Yx=!0,qr.read(bP),qr.resolveKeyframes(_P))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(n&&r){const o=n.readValue(r,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}Hz(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),_c.delete(this)}cancel(){this.state==="scheduled"&&(_c.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Zz=t=>t.startsWith("--");function eW(t,e,r){Zz(e)?t.style.setProperty(e,r):t.style[e]=r}const tW=A_(()=>window.ScrollTimeline!==void 0),rW={};function nW(t,e){const r=A_(t);return()=>rW[e]??r()}const SP=nW(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Md=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,zT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Md([0,.65,.55,1]),circOut:Md([.55,0,1,.45]),backIn:Md([.31,.01,.66,-.59]),backOut:Md([.33,1.53,.69,.99])};function TP(t,e){if(t)return typeof t=="function"?SP()?yP(t,e):"ease-out":lP(t)?Md(t):Array.isArray(t)?t.map(r=>TP(r,e)||zT.easeOut):zT[t]}function iW(t,e,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeOut",times:l}={},u=void 0){const c={[e]:r};l&&(c.offset=l);const f=TP(o,i);Array.isArray(f)&&(c.easing=f);const d={delay:n,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return u&&(d.pseudoElement=u),t.animate(c,d)}function EP(t){return typeof t=="function"&&"applyToOptions"in t}function sW({type:t,...e}){return EP(t)&&SP()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class aW extends M_{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,E_(typeof e.type!="string");const u=sW(e);this.animation=iW(r,n,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const c=O_(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(c):eW(r,n,c),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,n;const e=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return ao(Number(e))}get time(){return ao(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=so(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&tW()?(this.animation.timeline=e,ta):r(this)}}const AP={anticipate:iP,backInOut:nP,circInOut:aP};function oW(t){return t in AP}function lW(t){typeof t.ease=="string"&&oW(t.ease)&&(t.ease=AP[t.ease])}const WT=10;class uW extends aW{constructor(e){lW(e),wP(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:i,element:s,...a}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const o=new j_({...a,autoplay:!1}),l=so(this.finishedTime??this.time);r.setWithVelocity(o.sample(l-WT).value,o.sample(l).value,WT),o.stop()}}const HT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Su.test(t)||t==="0")&&!t.startsWith("url("));function cW(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function fW(t,e,r,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=HT(i,e),o=HT(s,e);return!a||!o?!1:cW(t)||(r==="spring"||EP(r))&&n}function Jx(t){t.duration=0,t.type}const hW=new Set(["opacity","clipPath","filter","transform"]),dW=A_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function pW(t){var c;const{motionValue:e,name:r,repeatDelay:n,repeatType:i,damping:s,type:a}=t;if(!(((c=e==null?void 0:e.owner)==null?void 0:c.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return dW()&&r&&hW.has(r)&&(r!=="transform"||!u)&&!l&&!n&&i!=="mirror"&&s!==0&&a!=="inertia"}const mW=40;class gW extends M_{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:o,name:l,motionValue:u,element:c,...f}){var v;super(),this.stop=()=>{var g,S;this._animation&&(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=as.now();const d={autoplay:e,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:a,name:l,motionValue:u,element:c,...f},h=(c==null?void 0:c.KeyframeResolver)||B_;this.keyframeResolver=new h(o,(g,S,_)=>this.onKeyframesResolved(g,S,d,!_),l,u,c),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,r,n,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:o,delay:l,isHandoff:u,onUpdate:c}=n;this.resolvedAt=as.now(),fW(e,s,a,o)||((Jo.instantAnimations||!l)&&(c==null||c(O_(e,n,r))),e[0]=e[e.length-1],Jx(n),n.repeat=0);const d={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>mW?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},h=!u&&pW(d)?new uW({...d,element:d.motionValue.owner.current}):new j_(d);h.finished.then(()=>this.notifyFinished()).catch(ta),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Jz()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const vW=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function yW(t){const e=vW.exec(t);if(!e)return[,];const[,r,n,i]=e;return[`--${r??n}`,i]}function NP(t,e,r=1){const[n,i]=yW(t);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const a=s.trim();return YC(a)?parseFloat(a):a}return I_(i)?NP(i,e,r+1):i}function V_(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const kP=new Set(["width","height","top","left","right","bottom",...Hh]),xW={test:t=>t==="auto",parse:t=>t},CP=t=>e=>e.test(t),PP=[Wh,Dt,oo,Bl,cz,uz,xW],qT=t=>PP.find(CP(t));function wW(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||QC(t):!0}const _W=new Set(["brightness","contrast","saturate","opacity"]);function bW(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(R_)||[];if(!n)return t;const i=r.replace(n,"");let s=_W.has(e)?1:0;return n!==r&&(s*=100),e+"("+s+i+")"}const SW=/\b([a-z-]*)\(.*?\)/gu,Zx={...Su,getAnimatableNone:t=>{const e=t.match(SW);return e?e.map(bW).join(" "):t}},$T={...Wh,transform:Math.round},TW={rotate:Bl,rotateX:Bl,rotateY:Bl,rotateZ:Bl,scale:Lm,scaleX:Lm,scaleY:Lm,scaleZ:Lm,skew:Bl,skewX:Bl,skewY:Bl,distance:Dt,translateX:Dt,translateY:Dt,translateZ:Dt,x:Dt,y:Dt,z:Dt,perspective:Dt,transformPerspective:Dt,opacity:Q0,originX:LT,originY:LT,originZ:Dt},U_={borderWidth:Dt,borderTopWidth:Dt,borderRightWidth:Dt,borderBottomWidth:Dt,borderLeftWidth:Dt,borderRadius:Dt,radius:Dt,borderTopLeftRadius:Dt,borderTopRightRadius:Dt,borderBottomRightRadius:Dt,borderBottomLeftRadius:Dt,width:Dt,maxWidth:Dt,height:Dt,maxHeight:Dt,top:Dt,right:Dt,bottom:Dt,left:Dt,padding:Dt,paddingTop:Dt,paddingRight:Dt,paddingBottom:Dt,paddingLeft:Dt,margin:Dt,marginTop:Dt,marginRight:Dt,marginBottom:Dt,marginLeft:Dt,backgroundPositionX:Dt,backgroundPositionY:Dt,...TW,zIndex:$T,fillOpacity:Q0,strokeOpacity:Q0,numOctaves:$T},EW={...U_,color:bn,backgroundColor:bn,outlineColor:bn,fill:bn,stroke:bn,borderColor:bn,borderTopColor:bn,borderRightColor:bn,borderBottomColor:bn,borderLeftColor:bn,filter:Zx,WebkitFilter:Zx},IP=t=>EW[t];function RP(t,e){let r=IP(t);return r!==Zx&&(r=Su),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const AW=new Set(["auto","none","0"]);function NW(t,e,r){let n=0,i;for(;n<t.length&&!i;){const s=t[n];typeof s=="string"&&!AW.has(s)&&J0(s).values.length&&(i=t[n]),n++}if(i&&r)for(const s of e)t[s]=RP(r,i)}class kW extends B_{constructor(e,r,n,i,s){super(e,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),I_(u))){const c=NP(u,r.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!kP.has(n)||e.length!==2)return;const[i,s]=e,a=qT(i),o=qT(s);if(a!==o)if(UT(a)&&UT(o))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else wc[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let i=0;i<e.length;i++)(e[i]===null||wW(e[i]))&&n.push(i);n.length&&NW(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=wc[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){var o;const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const i=e.getValue(r);i&&i.jump(this.measuredOrigin,!1);const s=n.length-1,a=n[s];n[s]=wc[r](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function CW(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const i=(r==null?void 0:r[t])??n.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const LP=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function FP(t){return XC(t)&&"offsetHeight"in t}const GT=30,PW=t=>!isNaN(parseFloat(t));class IW{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var s;const i=as.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=as.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=PW(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new N_);const n=this.events[e].add(r);return e==="change"?()=>{n(),qr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=as.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>GT)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,GT);return JC(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function kh(t,e){return new IW(t,e)}const{schedule:z_}=uP(queueMicrotask,!1),_a={x:!1,y:!1};function DP(){return _a.x||_a.y}function RW(t){return t==="x"||t==="y"?_a[t]?null:(_a[t]=!0,()=>{_a[t]=!1}):_a.x||_a.y?null:(_a.x=_a.y=!0,()=>{_a.x=_a.y=!1})}function OP(t,e){const r=CW(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[r,i,()=>n.abort()]}function KT(t){return!(t.pointerType==="touch"||DP())}function LW(t,e,r={}){const[n,i,s]=OP(t,r),a=o=>{if(!KT(o))return;const{target:l}=o,u=e(l,o);if(typeof u!="function"||!l)return;const c=f=>{KT(f)&&(u(f),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,i)};return n.forEach(o=>{o.addEventListener("pointerenter",a,i)}),s}const MP=(t,e)=>e?t===e?!0:MP(t,e.parentElement):!1,W_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,FW=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function DW(t){return FW.has(t.tagName)||t.tabIndex!==-1}const _g=new WeakSet;function YT(t){return e=>{e.key==="Enter"&&t(e)}}function G2(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const OW=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=YT(()=>{if(_g.has(r))return;G2(r,"down");const i=YT(()=>{G2(r,"up")}),s=()=>G2(r,"cancel");r.addEventListener("keyup",i,e),r.addEventListener("blur",s,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function XT(t){return W_(t)&&!DP()}function MW(t,e,r={}){const[n,i,s]=OP(t,r),a=o=>{const l=o.currentTarget;if(!XT(o))return;_g.add(l);const u=e(l,o),c=(h,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",d),_g.has(l)&&_g.delete(l),XT(h)&&typeof u=="function"&&u(h,{success:v})},f=h=>{c(h,l===window||l===document||r.useGlobalTarget||MP(l,h.target))},d=h=>{c(h,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",d,i)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),FP(o)&&(o.addEventListener("focus",u=>OW(u,i)),!DW(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),s}function jP(t){return XC(t)&&"ownerSVGElement"in t}function jW(t){return jP(t)&&t.tagName==="svg"}const Ai=t=>!!(t&&t.getVelocity),BW=[...PP,bn,Su],VW=t=>BW.find(CP(t)),H_=ye.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class UW extends ye.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,i=FP(n)&&n.offsetWidth||0,s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function zW({children:t,isPresent:e,anchorX:r,root:n}){const i=ye.useId(),s=ye.useRef(null),a=ye.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=ye.useContext(H_);return ye.useInsertionEffect(()=>{const{width:l,height:u,top:c,left:f,right:d}=a.current;if(e||!s.current||!l||!u)return;const h=r==="left"?`left: ${f}`:`right: ${d}`;s.current.dataset.motionPopId=i;const v=document.createElement("style");o&&(v.nonce=o);const g=n??document.head;return g.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            ${h}px !important;
            top: ${c}px !important;
          }
        `),()=>{g.contains(v)&&g.removeChild(v)}},[e]),w.jsx(UW,{isPresent:e,childRef:s,sizeRef:a,children:ye.cloneElement(t,{ref:s})})}const WW=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:a,anchorX:o,root:l})=>{const u=__(HW),c=ye.useId();let f=!0,d=ye.useMemo(()=>(f=!1,{id:c,initial:e,isPresent:r,custom:i,onExitComplete:h=>{u.set(h,!0);for(const v of u.values())if(!v)return;n&&n()},register:h=>(u.set(h,!1),()=>u.delete(h))}),[r,u,n]);return s&&f&&(d={...d}),ye.useMemo(()=>{u.forEach((h,v)=>u.set(v,!1))},[r]),ye.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),a==="popLayout"&&(t=w.jsx(zW,{isPresent:r,anchorX:o,root:l,children:t})),w.jsx(Ev.Provider,{value:d,children:t})};function HW(){return new Map}function BP(t=!0){const e=ye.useContext(Ev);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=e,s=ye.useId();ye.useEffect(()=>{if(t)return i(s)},[t]);const a=ye.useCallback(()=>t&&n&&n(s),[s,n,t]);return!r&&n?[!1,a]:[!0]}const Fm=t=>t.key||"";function QT(t){const e=[];return ye.Children.forEach(t,r=>{ye.isValidElement(r)&&e.push(r)}),e}const VP=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:o="left",root:l})=>{const[u,c]=BP(a),f=ye.useMemo(()=>QT(t),[t]),d=a&&!u?[]:f.map(Fm),h=ye.useRef(!0),v=ye.useRef(f),g=__(()=>new Map),[S,_]=ye.useState(f),[b,T]=ye.useState(f);KC(()=>{h.current=!1,v.current=f;for(let B=0;B<b.length;B++){const k=Fm(b[B]);d.includes(k)?g.delete(k):g.get(k)!==!0&&g.set(k,!1)}},[b,d.length,d.join("-")]);const L=[];if(f!==S){let B=[...f];for(let k=0;k<b.length;k++){const y=b[k],C=Fm(y);d.includes(C)||(B.splice(k,0,y),L.push(y))}return s==="wait"&&L.length&&(B=L),T(QT(B)),_(f),null}const{forceRender:j}=ye.useContext(w_);return w.jsx(w.Fragment,{children:b.map(B=>{const k=Fm(B),y=a&&!u?!1:f===b||d.includes(k),C=()=>{if(g.has(k))g.set(k,!0);else return;let F=!0;g.forEach(E=>{E||(F=!1)}),F&&(j==null||j(),T(v.current),a&&(c==null||c()),n&&n())};return w.jsx(WW,{isPresent:y,initial:!h.current||r?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:l,onExitComplete:y?void 0:C,anchorX:o,children:B},k)})})},UP=ye.createContext({strict:!1}),JT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ch={};for(const t in JT)Ch[t]={isEnabled:e=>JT[t].some(r=>!!e[r])};function qW(t){for(const e in t)Ch[e]={...Ch[e],...t[e]}}const $W=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function v1(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||$W.has(t)}let zP=t=>!v1(t);function GW(t){typeof t=="function"&&(zP=e=>e.startsWith("on")?!v1(e):t(e))}try{GW(require("@emotion/is-prop-valid").default)}catch{}function KW(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(zP(i)||r===!0&&v1(i)||!e&&!v1(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}const Av=ye.createContext({});function Nv(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Z0(t){return typeof t=="string"||Array.isArray(t)}const q_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$_=["initial",...q_];function kv(t){return Nv(t.animate)||$_.some(e=>Z0(t[e]))}function WP(t){return!!(kv(t)||t.variants)}function YW(t,e){if(kv(t)){const{initial:r,animate:n}=t;return{initial:r===!1||Z0(r)?r:void 0,animate:Z0(n)?n:void 0}}return t.inherit!==!1?e:{}}function XW(t){const{initial:e,animate:r}=YW(t,ye.useContext(Av));return ye.useMemo(()=>({initial:e,animate:r}),[ZT(e),ZT(r)])}function ZT(t){return Array.isArray(t)?t.join(" "):t}const ep={};function QW(t){for(const e in t)ep[e]=t[e],P_(e)&&(ep[e].isCSSVariable=!0)}function HP(t,{layout:e,layoutId:r}){return qh.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!ep[t]||t==="opacity")}const JW={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ZW=Hh.length;function eH(t,e,r){let n="",i=!0;for(let s=0;s<ZW;s++){const a=Hh[s],o=t[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||r){const u=LP(o,U_[a]);if(!l){i=!1;const c=JW[a]||a;n+=`${c}(${u}) `}r&&(e[a]=u)}}return n=n.trim(),r?n=r(e,i?"":n):i&&(n="none"),n}function G_(t,e,r){const{style:n,vars:i,transformOrigin:s}=t;let a=!1,o=!1;for(const l in e){const u=e[l];if(qh.has(l)){a=!0;continue}else if(P_(l)){i[l]=u;continue}else{const c=LP(u,U_[l]);l.startsWith("origin")?(o=!0,s[l]=c):n[l]=c}}if(e.transform||(a||r?n.transform=eH(e,t.transform,r):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:c=0}=s;n.transformOrigin=`${l} ${u} ${c}`}}const K_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function qP(t,e,r){for(const n in e)!Ai(e[n])&&!HP(n,r)&&(t[n]=e[n])}function tH({transformTemplate:t},e){return ye.useMemo(()=>{const r=K_();return G_(r,e,t),Object.assign({},r.vars,r.style)},[e])}function rH(t,e){const r=t.style||{},n={};return qP(n,r,t),Object.assign(n,tH(t,e)),n}function nH(t,e){const r={},n=rH(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const iH={offset:"stroke-dashoffset",array:"stroke-dasharray"},sH={offset:"strokeDashoffset",array:"strokeDasharray"};function aH(t,e,r=1,n=0,i=!0){t.pathLength=1;const s=i?iH:sH;t[s.offset]=Dt.transform(-n);const a=Dt.transform(e),o=Dt.transform(r);t[s.array]=`${a} ${o}`}function $P(t,{attrX:e,attrY:r,attrScale:n,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...o},l,u,c){if(G_(t,o,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:d}=t;f.transform&&(d.transform=f.transform,delete f.transform),(d.transform||f.transformOrigin)&&(d.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),d.transform&&(d.transformBox=(c==null?void 0:c.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),i!==void 0&&aH(f,i,s,a,!1)}const GP=()=>({...K_(),attrs:{}}),KP=t=>typeof t=="string"&&t.toLowerCase()==="svg";function oH(t,e,r,n){const i=ye.useMemo(()=>{const s=GP();return $P(s,e,KP(n),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};qP(s,t.style,t),i.style={...s,...i.style}}return i}const lH=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Y_(t){return typeof t!="string"||t.includes("-")?!1:!!(lH.indexOf(t)>-1||/[A-Z]/u.test(t))}function uH(t,e,r,{latestValues:n},i,s=!1){const o=(Y_(t)?oH:nH)(e,n,i,t),l=KW(e,typeof t=="string",s),u=t!==ye.Fragment?{...l,...o,ref:r}:{},{children:c}=e,f=ye.useMemo(()=>Ai(c)?c.get():c,[c]);return ye.createElement(t,{...u,children:f})}function eE(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function X_(t,e,r,n){if(typeof e=="function"){const[i,s]=eE(n);e=e(r!==void 0?r:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=eE(n);e=e(r!==void 0?r:t.custom,i,s)}return e}function bg(t){return Ai(t)?t.get():t}function cH({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,i){return{latestValues:fH(r,n,i,t),renderState:e()}}function fH(t,e,r,n){const i={},s=n(t,{});for(const d in s)i[d]=bg(s[d]);let{initial:a,animate:o}=t;const l=kv(t),u=WP(t);e&&u&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let c=r?r.initial===!1:!1;c=c||a===!1;const f=c?o:a;if(f&&typeof f!="boolean"&&!Nv(f)){const d=Array.isArray(f)?f:[f];for(let h=0;h<d.length;h++){const v=X_(t,d[h]);if(v){const{transitionEnd:g,transition:S,..._}=v;for(const b in _){let T=_[b];if(Array.isArray(T)){const L=c?T.length-1:0;T=T[L]}T!==null&&(i[b]=T)}for(const b in g)i[b]=g[b]}}}return i}const YP=t=>(e,r)=>{const n=ye.useContext(Av),i=ye.useContext(Ev),s=()=>cH(t,e,n,i);return r?s():__(s)};function Q_(t,e,r){var s;const{style:n}=t,i={};for(const a in n)(Ai(n[a])||e.style&&Ai(e.style[a])||HP(a,t)||((s=r==null?void 0:r.getValue(a))==null?void 0:s.liveStyle)!==void 0)&&(i[a]=n[a]);return i}const hH=YP({scrapeMotionValuesFromProps:Q_,createRenderState:K_});function XP(t,e,r){const n=Q_(t,e,r);for(const i in t)if(Ai(t[i])||Ai(e[i])){const s=Hh.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=t[i]}return n}const dH=YP({scrapeMotionValuesFromProps:XP,createRenderState:GP}),pH=Symbol.for("motionComponentSymbol");function qf(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function mH(t,e,r){return ye.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):qf(r)&&(r.current=n))},[e])}const J_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),gH="framerAppearId",QP="data-"+J_(gH),JP=ye.createContext({});function vH(t,e,r,n,i){var g,S;const{visualElement:s}=ye.useContext(Av),a=ye.useContext(UP),o=ye.useContext(Ev),l=ye.useContext(H_).reducedMotion,u=ye.useRef(null);n=n||a.renderer,!u.current&&n&&(u.current=n(t,{visualState:e,parent:s,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const c=u.current,f=ye.useContext(JP);c&&!c.projection&&i&&(c.type==="html"||c.type==="svg")&&yH(u.current,r,i,f);const d=ye.useRef(!1);ye.useInsertionEffect(()=>{c&&d.current&&c.update(r,o)});const h=r[QP],v=ye.useRef(!!h&&!((g=window.MotionHandoffIsComplete)!=null&&g.call(window,h))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,h)));return KC(()=>{c&&(d.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),c.scheduleRenderMicrotask(),v.current&&c.animationState&&c.animationState.animateChanges())}),ye.useEffect(()=>{c&&(!v.current&&c.animationState&&c.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)==null||_.call(window,h)}),v.current=!1),c.enteringChildren=void 0)}),c}function yH(t,e,r,n){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:ZP(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&qf(o),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:c,layoutScroll:l,layoutRoot:u})}function ZP(t){if(t)return t.options.allowProjection!==!1?t.projection:ZP(t.parent)}function K2(t,{forwardMotionProps:e=!1}={},r,n){r&&qW(r);const i=Y_(t)?dH:hH;function s(o,l){let u;const c={...ye.useContext(H_),...o,layoutId:xH(o)},{isStatic:f}=c,d=XW(o),h=i(o,f);if(!f&&b_){wH();const v=_H(c);u=v.MeasureLayout,d.visualElement=vH(t,h,c,n,v.ProjectionNode)}return w.jsxs(Av.Provider,{value:d,children:[u&&d.visualElement?w.jsx(u,{visualElement:d.visualElement,...c}):null,uH(t,o,mH(h,d.visualElement,l),h,f,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=ye.forwardRef(s);return a[pH]=t,a}function xH({layoutId:t}){const e=ye.useContext(w_).id;return e&&t!==void 0?e+"-"+t:t}function wH(t,e){ye.useContext(UP).strict}function _H(t){const{drag:e,layout:r}=Ch;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function bH(t,e){if(typeof Proxy>"u")return K2;const r=new Map,n=(s,a)=>K2(s,a,t,e),i=(s,a)=>n(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?n:(r.has(a)||r.set(a,K2(a,void 0,t,e)),r.get(a))})}function eI({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function SH({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function TH(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Y2(t){return t===void 0||t===1}function ew({scale:t,scaleX:e,scaleY:r}){return!Y2(t)||!Y2(e)||!Y2(r)}function oc(t){return ew(t)||tI(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function tI(t){return tE(t.x)||tE(t.y)}function tE(t){return t&&t!=="0%"}function y1(t,e,r){const n=t-r,i=e*n;return r+i}function rE(t,e,r,n,i){return i!==void 0&&(t=y1(t,i,n)),y1(t,r,n)+e}function tw(t,e=0,r=1,n,i){t.min=rE(t.min,e,r,n,i),t.max=rE(t.max,e,r,n,i)}function rI(t,{x:e,y:r}){tw(t.x,e.translate,e.scale,e.originPoint),tw(t.y,r.translate,r.scale,r.originPoint)}const nE=.999999999999,iE=1.0000000000001;function EH(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=r[o],a=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Gf(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,rI(t,a)),n&&oc(s.latestValues)&&Gf(t,s.latestValues))}e.x<iE&&e.x>nE&&(e.x=1),e.y<iE&&e.y>nE&&(e.y=1)}function $f(t,e){t.min=t.min+e,t.max=t.max+e}function sE(t,e,r,n,i=.5){const s=Kr(t.min,t.max,i);tw(t,e,r,s,n)}function Gf(t,e){sE(t.x,e.x,e.scaleX,e.scale,e.originX),sE(t.y,e.y,e.scaleY,e.scale,e.originY)}function nI(t,e){return eI(TH(t.getBoundingClientRect(),e))}function AH(t,e,r){const n=nI(t,r),{scroll:i}=e;return i&&($f(n.x,i.offset.x),$f(n.y,i.offset.y)),n}const aE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Kf=()=>({x:aE(),y:aE()}),oE=()=>({min:0,max:0}),cn=()=>({x:oE(),y:oE()}),rw={current:null},iI={current:!1};function NH(){if(iI.current=!0,!!b_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>rw.current=t.matches;t.addEventListener("change",e),e()}else rw.current=!1}const kH=new WeakMap;function CH(t,e,r){for(const n in e){const i=e[n],s=r[n];if(Ai(i))t.addValue(n,i);else if(Ai(s))t.addValue(n,kh(i,{owner:t}));else if(s!==i)if(t.hasValue(n)){const a=t.getValue(n);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(n);t.addValue(n,kh(a!==void 0?a:i,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const lE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class PH{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=B_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const d=as.now();this.renderScheduledAt<d&&(this.renderScheduledAt=d,qr.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=kv(r),this.isVariantNode=WP(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const d in f){const h=f[d];l[d]!==void 0&&Ai(h)&&h.set(l[d])}}mount(e){var r;this.current=e,kH.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),iI.current||NH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:rw.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),bu(this.notifyUpdate),bu(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=qh.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&qr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ch){const r=Ch[e];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):cn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<lE.length;n++){const i=lE[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=CH(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=kh(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(YC(n)||QC(n))?n=parseFloat(n):!VW(n)&&Su.test(r)&&(n=RP(e,r)),this.setBaseTarget(e,Ai(n)?n.get():n)),Ai(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var s;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const a=X_(this.props,r,(s=this.presenceContext)==null?void 0:s.custom);a&&(n=a[e])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Ai(i)?i:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new N_),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){z_.render(this.render)}}class sI extends PH{constructor(){super(...arguments),this.KeyframeResolver=kW}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ai(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function aI(t,{style:e,vars:r},n,i){const s=t.style;let a;for(a in e)s[a]=e[a];i==null||i.applyProjectionStyles(s,n);for(a in r)s.setProperty(a,r[a])}function IH(t){return window.getComputedStyle(t)}class RH extends sI{constructor(){super(...arguments),this.type="html",this.renderInstance=aI}readValueFromInstance(e,r){var n;if(qh.has(r))return(n=this.projection)!=null&&n.isProjecting?Gx(r):Gz(e,r);{const i=IH(e),s=(P_(r)?i.getPropertyValue(r):i[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:r}){return nI(e,r)}build(e,r,n){G_(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return Q_(e,r,n)}}const oI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function LH(t,e,r,n){aI(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(oI.has(i)?i:J_(i),e.attrs[i])}class FH extends sI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=cn}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(qh.has(r)){const n=IP(r);return n&&n.default||0}return r=oI.has(r)?r:J_(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return XP(e,r,n)}build(e,r,n){$P(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,i){LH(e,r,n,i)}mount(e){this.isSVGTag=KP(e.tagName),super.mount(e)}}const DH=(t,e)=>Y_(t)?new FH(e):new RH(e,{allowProjection:t!==ye.Fragment});function oh(t,e,r){const n=t.getProps();return X_(n,e,r!==void 0?r:n.custom,t)}const nw=t=>Array.isArray(t);function OH(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,kh(r))}function MH(t){return nw(t)?t[t.length-1]||0:t}function jH(t,e){const r=oh(t,e);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const a in s){const o=MH(s[a]);OH(t,a,o)}}function BH(t){return!!(Ai(t)&&t.add)}function iw(t,e){const r=t.getValue("willChange");if(BH(r))return r.add(e);if(!r&&Jo.WillChange){const n=new Jo.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function lI(t){return t.props[QP]}const VH=t=>t!==null;function UH(t,{repeat:e,repeatType:r="loop"},n){const i=t.filter(VH),s=e&&r!=="loop"&&e%2===1?0:i.length-1;return i[s]}const zH={type:"spring",stiffness:500,damping:25,restSpeed:10},WH=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),HH={type:"keyframes",duration:.8},qH={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$H=(t,{keyframes:e})=>e.length>2?HH:qh.has(t)?t.startsWith("scale")?WH(e[1]):zH:qH;function GH({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const Z_=(t,e,r,n={},i,s)=>a=>{const o=V_(n,t)||{},l=o.delay||n.delay||0;let{elapsed:u=0}=n;u=u-so(l);const c={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:d=>{e.set(d),o.onUpdate&&o.onUpdate(d)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:i};GH(o)||Object.assign(c,$H(t,c)),c.duration&&(c.duration=so(c.duration)),c.repeatDelay&&(c.repeatDelay=so(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let f=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(Jx(c),c.delay===0&&(f=!0)),(Jo.instantAnimations||Jo.skipAnimations)&&(f=!0,Jx(c),c.delay=0),c.allowFlatten=!o.type&&!o.ease,f&&!s&&e.get()!==void 0){const d=UH(c.keyframes,o);if(d!==void 0){qr.update(()=>{c.onUpdate(d),c.onComplete()});return}}return o.isSync?new j_(c):new gW(c)};function KH({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function uI(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...o}=e;n&&(s=n);const l=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const c in o){const f=t.getValue(c,t.latestValues[c]??null),d=o[c];if(d===void 0||u&&KH(u,c))continue;const h={delay:r,...V_(s||{},c)},v=f.get();if(v!==void 0&&!f.isAnimating&&!Array.isArray(d)&&d===v&&!h.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const _=lI(t);if(_){const b=window.MotionHandoffAnimation(_,c,qr);b!==null&&(h.startTime=b,g=!0)}}iw(t,c),f.start(Z_(c,f,d,t.shouldReduceMotion&&kP.has(c)?{type:!1}:h,t,g));const S=f.animation;S&&l.push(S)}return a&&Promise.all(l).then(()=>{qr.update(()=>{a&&jH(t,a)})}),l}function cI(t,e,r,n=0,i=1){const s=Array.from(t).sort((u,c)=>u.sortNodePosition(c)).indexOf(e),a=t.size,o=(a-1)*n;return typeof r=="function"?r(s,a):i===1?s*n:o-s*n}function sw(t,e,r={}){var l;const n=oh(t,e,r.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const s=n?()=>Promise.all(uI(t,n,r)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:f,staggerDirection:d}=i;return YH(t,e,u,c,f,d,r)}:()=>Promise.resolve(),{when:o}=i;if(o){const[u,c]=o==="beforeChildren"?[s,a]:[a,s];return u().then(()=>c())}else return Promise.all([s(),a(r.delay)])}function YH(t,e,r=0,n=0,i=0,s=1,a){const o=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),o.push(sw(l,e,{...a,delay:r+(typeof n=="function"?0:n)+cI(t.variantChildren,l,n,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(o)}function XH(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(s=>sw(t,s,r));n=Promise.all(i)}else if(typeof e=="string")n=sw(t,e,r);else{const i=typeof e=="function"?oh(t,e,r.custom):e;n=Promise.all(uI(t,i,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function fI(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const QH=$_.length;function hI(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?hI(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<QH;r++){const n=$_[r],i=t.props[n];(Z0(i)||i===!1)&&(e[n]=i)}return e}const JH=[...q_].reverse(),ZH=q_.length;function eq(t){return e=>Promise.all(e.map(({animation:r,options:n})=>XH(t,r,n)))}function tq(t){let e=eq(t),r=uE(),n=!0;const i=l=>(u,c)=>{var d;const f=oh(t,c,l==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);if(f){const{transition:h,transitionEnd:v,...g}=f;u={...u,...g,...v}}return u};function s(l){e=l(t)}function a(l){const{props:u}=t,c=hI(t.parent)||{},f=[],d=new Set;let h={},v=1/0;for(let S=0;S<ZH;S++){const _=JH[S],b=r[_],T=u[_]!==void 0?u[_]:c[_],L=Z0(T),j=_===l?b.isActive:null;j===!1&&(v=S);let B=T===c[_]&&T!==u[_]&&L;if(B&&n&&t.manuallyAnimateOnMount&&(B=!1),b.protectedKeys={...h},!b.isActive&&j===null||!T&&!b.prevProp||Nv(T)||typeof T=="boolean")continue;const k=rq(b.prevProp,T);let y=k||_===l&&b.isActive&&!B&&L||S>v&&L,C=!1;const F=Array.isArray(T)?T:[T];let E=F.reduce(i(_),{});j===!1&&(E={});const{prevResolvedValues:N={}}=b,D={...N,...E},G=ee=>{y=!0,d.has(ee)&&(C=!0,d.delete(ee)),b.needsAnimating[ee]=!0;const Q=t.getValue(ee);Q&&(Q.liveStyle=!1)};for(const ee in D){const Q=E[ee],te=N[ee];if(h.hasOwnProperty(ee))continue;let pe=!1;nw(Q)&&nw(te)?pe=!fI(Q,te):pe=Q!==te,pe?Q!=null?G(ee):d.add(ee):Q!==void 0&&d.has(ee)?G(ee):b.protectedKeys[ee]=!0}b.prevProp=T,b.prevResolvedValues=E,b.isActive&&(h={...h,...E}),n&&t.blockInitialAnimation&&(y=!1);const de=B&&k;y&&(!de||C)&&f.push(...F.map(ee=>{const Q={type:_};if(typeof ee=="string"&&n&&!de&&t.manuallyAnimateOnMount&&t.parent){const{parent:te}=t,pe=oh(te,ee);if(te.enteringChildren&&pe){const{delayChildren:be}=pe.transition||{};Q.delay=cI(te.enteringChildren,t,be)}}return{animation:ee,options:Q}}))}if(d.size){const S={};if(typeof u.initial!="boolean"){const _=oh(t,Array.isArray(u.initial)?u.initial[0]:u.initial);_&&_.transition&&(S.transition=_.transition)}d.forEach(_=>{const b=t.getBaseTarget(_),T=t.getValue(_);T&&(T.liveStyle=!0),S[_]=b??null}),f.push({animation:S})}let g=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(g=!1),n=!1,g?e(f):Promise.resolve()}function o(l,u){var f;if(r[l].isActive===u)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(d=>{var h;return(h=d.animationState)==null?void 0:h.setActive(l,u)}),r[l].isActive=u;const c=a(l);for(const d in r)r[d].protectedKeys={};return c}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>r,reset:()=>{r=uE(),n=!0}}}function rq(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!fI(e,t):!1}function nc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function uE(){return{animate:nc(!0),whileInView:nc(),whileHover:nc(),whileTap:nc(),whileDrag:nc(),whileFocus:nc(),exit:nc()}}class Mu{constructor(e){this.isMounted=!1,this.node=e}update(){}}class nq extends Mu{constructor(e){super(e),e.animationState||(e.animationState=tq(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Nv(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let iq=0;class sq extends Mu{constructor(){super(...arguments),this.id=iq++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);r&&!e&&i.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const aq={animation:{Feature:nq},exit:{Feature:sq}};function tp(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function Lp(t){return{point:{x:t.pageX,y:t.pageY}}}const oq=t=>e=>W_(e)&&t(e,Lp(e));function r0(t,e,r,n){return tp(t,e,oq(r),n)}const dI=1e-4,lq=1-dI,uq=1+dI,pI=.01,cq=0-pI,fq=0+pI;function Wi(t){return t.max-t.min}function hq(t,e,r){return Math.abs(t-e)<=r}function cE(t,e,r,n=.5){t.origin=n,t.originPoint=Kr(e.min,e.max,t.origin),t.scale=Wi(r)/Wi(e),t.translate=Kr(r.min,r.max,t.origin)-t.originPoint,(t.scale>=lq&&t.scale<=uq||isNaN(t.scale))&&(t.scale=1),(t.translate>=cq&&t.translate<=fq||isNaN(t.translate))&&(t.translate=0)}function n0(t,e,r,n){cE(t.x,e.x,r.x,n?n.originX:void 0),cE(t.y,e.y,r.y,n?n.originY:void 0)}function fE(t,e,r){t.min=r.min+e.min,t.max=t.min+Wi(e)}function dq(t,e,r){fE(t.x,e.x,r.x),fE(t.y,e.y,r.y)}function hE(t,e,r){t.min=e.min-r.min,t.max=t.min+Wi(e)}function i0(t,e,r){hE(t.x,e.x,r.x),hE(t.y,e.y,r.y)}function Gs(t){return[t("x"),t("y")]}const mI=({current:t})=>t?t.ownerDocument.defaultView:null,dE=(t,e)=>Math.abs(t-e);function pq(t,e){const r=dE(t.x,e.x),n=dE(t.y,e.y);return Math.sqrt(r**2+n**2)}class gI{constructor(e,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Q2(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,v=pq(d.offset,{x:0,y:0})>=this.distanceThreshold;if(!h&&!v)return;const{point:g}=d,{timestamp:S}=ei;this.history.push({...g,timestamp:S});const{onStart:_,onMove:b}=this.handlers;h||(_&&_(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=X2(h,this.transformPagePoint),qr.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:v,onSessionEnd:g,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Q2(d.type==="pointercancel"?this.lastMoveEventInfo:X2(h,this.transformPagePoint),this.history);this.startEvent&&v&&v(d,_),g&&g(d,_)},!W_(e))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=i||window;const o=Lp(e),l=X2(o,this.transformPagePoint),{point:u}=l,{timestamp:c}=ei;this.history=[{...u,timestamp:c}];const{onSessionStart:f}=r;f&&f(e,Q2(l,this.history)),this.removeListeners=Pp(r0(this.contextWindow,"pointermove",this.handlePointerMove),r0(this.contextWindow,"pointerup",this.handlePointerUp),r0(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),bu(this.updatePoint)}}function X2(t,e){return e?{point:e(t.point)}:t}function pE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Q2({point:t},e){return{point:t,delta:pE(t,vI(e)),offset:pE(t,mq(e)),velocity:gq(e,.1)}}function mq(t){return t[0]}function vI(t){return t[t.length-1]}function gq(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=vI(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>so(e)));)r--;if(!n)return{x:0,y:0};const s=ao(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function vq(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?Kr(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?Kr(r,t,n.max):Math.min(t,r)),t}function mE(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function yq(t,{top:e,left:r,bottom:n,right:i}){return{x:mE(t.x,r,i),y:mE(t.y,e,n)}}function gE(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function xq(t,e){return{x:gE(t.x,e.x),y:gE(t.y,e.y)}}function wq(t,e){let r=.5;const n=Wi(t),i=Wi(e);return i>n?r=X0(e.min,e.max-n,t.min):n>i&&(r=X0(t.min,t.max-i,e.min)),Qo(0,1,r)}function _q(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const aw=.35;function bq(t=aw){return t===!1?t=0:t===!0&&(t=aw),{x:vE(t,"left","right"),y:vE(t,"top","bottom")}}function vE(t,e,r){return{min:yE(t,e),max:yE(t,r)}}function yE(t,e){return typeof t=="number"?t:t[e]||0}const Sq=new WeakMap;class Tq{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=cn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Lp(f).point)},a=(f,d)=>{const{drag:h,dragPropagation:v,onDragStart:g}=this.getProps();if(h&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=RW(h),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=d,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Gs(_=>{let b=this.getAxisMotionValue(_).get()||0;if(oo.test(b)){const{projection:T}=this.visualElement;if(T&&T.layout){const L=T.layout.layoutBox[_];L&&(b=Wi(L)*(parseFloat(b)/100))}}this.originPoint[_]=b}),g&&qr.postRender(()=>g(f,d)),iw(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},o=(f,d)=>{this.latestPointerEvent=f,this.latestPanInfo=d;const{dragPropagation:h,dragDirectionLock:v,onDirectionLock:g,onDrag:S}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:_}=d;if(v&&this.currentDirection===null){this.currentDirection=Eq(_),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",d.point,_),this.updateAxis("y",d.point,_),this.visualElement.render(),S&&S(f,d)},l=(f,d)=>{this.latestPointerEvent=f,this.latestPanInfo=d,this.stop(f,d),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Gs(f=>{var d;return this.getAnimationState(f)==="paused"&&((d=this.getAxisMotionValue(f).animation)==null?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new gI(e,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:n,contextWindow:mI(this.visualElement)})}stop(e,r){const n=e||this.latestPointerEvent,i=r||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!n)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&qr.postRender(()=>o(n,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!Dm(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=vq(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&qf(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=yq(n.layoutBox,e):this.constraints=!1,this.elastic=bq(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Gs(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=_q(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!qf(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=AH(n,i.root,this.visualElement.getTransformPagePoint());let a=xq(i.layout.layoutBox,s);if(r){const o=r(SH(a));this.hasMutatedConstraints=!!o,o&&(a=eI(o))}return a}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=Gs(c=>{if(!Dm(c,r,this.currentDirection))return;let f=l&&l[c]||{};a&&(f={min:0,max:0});const d=i?200:1e6,h=i?40:1e7,v={type:"inertia",velocity:n?e[c]:0,bounceStiffness:d,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(c,v)});return Promise.all(u).then(o)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return iw(this.visualElement,e),n.start(Z_(e,n,0,r,this.visualElement,!1))}stopAnimation(){Gs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Gs(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Gs(r=>{const{drag:n}=this.getProps();if(!Dm(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[r];s.set(e[r]-Kr(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!qf(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Gs(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=wq({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Gs(a=>{if(!Dm(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:u}=this.constraints[a];o.set(Kr(l,u,i[a]))})}addListeners(){if(!this.visualElement.current)return;Sq.set(this.visualElement,this);const e=this.visualElement.current,r=r0(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();qf(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),qr.read(n);const a=tp(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Gs(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=l[c].translate,f.set(f.get()+l[c].translate))}),this.visualElement.render())});return()=>{a(),r(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=aw,dragMomentum:o=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function Dm(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function Eq(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class Aq extends Mu{constructor(e){super(e),this.removeGroupControls=ta,this.removeListeners=ta,this.controls=new Tq(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ta}unmount(){this.removeGroupControls(),this.removeListeners()}}const xE=t=>(e,r)=>{t&&qr.postRender(()=>t(e,r))};class Nq extends Mu{constructor(){super(...arguments),this.removePointerDownListener=ta}onPointerDown(e){this.session=new gI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:mI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:xE(e),onStart:xE(r),onMove:n,onEnd:(s,a)=>{delete this.session,i&&qr.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=r0(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Sg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function wE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const bd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Dt.test(t))t=parseFloat(t);else return t;const r=wE(t,e.target.x),n=wE(t,e.target.y);return`${r}% ${n}%`}},kq={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=Su.parse(t);if(i.length>5)return n;const s=Su.createTransformer(t),a=typeof i[0]!="number"?1:0,o=r.x.scale*e.x,l=r.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const u=Kr(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=u),typeof i[3+a]=="number"&&(i[3+a]/=u),s(i)}};let J2=!1;class Cq extends ye.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=e;QW(Pq),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),J2&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Sg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,{projection:a}=n;return a&&(a.isPresent=s,J2=!0,i||e.layoutDependency!==r||r===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||qr.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),z_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;J2=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function yI(t){const[e,r]=BP(),n=ye.useContext(w_);return w.jsx(Cq,{...t,layoutGroup:n,switchLayoutGroup:ye.useContext(JP),isPresent:e,safeToRemove:r})}const Pq={borderRadius:{...bd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bd,borderTopRightRadius:bd,borderBottomLeftRadius:bd,borderBottomRightRadius:bd,boxShadow:kq};function Iq(t,e,r){const n=Ai(t)?t:kh(t);return n.start(Z_("",n,e,r)),n.animation}const Rq=(t,e)=>t.depth-e.depth;class Lq{constructor(){this.children=[],this.isDirty=!1}add(e){S_(this.children,e),this.isDirty=!0}remove(e){T_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Rq),this.isDirty=!1,this.children.forEach(e)}}function Fq(t,e){const r=as.now(),n=({timestamp:i})=>{const s=i-r;s>=e&&(bu(n),t(s-e))};return qr.setup(n,!0),()=>bu(n)}const xI=["TopLeft","TopRight","BottomLeft","BottomRight"],Dq=xI.length,_E=t=>typeof t=="string"?parseFloat(t):t,bE=t=>typeof t=="number"||Dt.test(t);function Oq(t,e,r,n,i,s){i?(t.opacity=Kr(0,r.opacity??1,Mq(n)),t.opacityExit=Kr(e.opacity??1,0,jq(n))):s&&(t.opacity=Kr(e.opacity??1,r.opacity??1,n));for(let a=0;a<Dq;a++){const o=`border${xI[a]}Radius`;let l=SE(e,o),u=SE(r,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||bE(l)===bE(u)?(t[o]=Math.max(Kr(_E(l),_E(u),n),0),(oo.test(u)||oo.test(l))&&(t[o]+="%")):t[o]=u}(e.rotate||r.rotate)&&(t.rotate=Kr(e.rotate||0,r.rotate||0,n))}function SE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Mq=wI(0,.5,sP),jq=wI(.5,.95,ta);function wI(t,e,r){return n=>n<t?0:n>e?1:r(X0(t,e,n))}function TE(t,e){t.min=e.min,t.max=e.max}function qs(t,e){TE(t.x,e.x),TE(t.y,e.y)}function EE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function AE(t,e,r,n,i){return t-=e,t=y1(t,1/r,n),i!==void 0&&(t=y1(t,1/i,n)),t}function Bq(t,e=0,r=1,n=.5,i,s=t,a=t){if(oo.test(e)&&(e=parseFloat(e),e=Kr(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=Kr(s.min,s.max,n);t===s&&(o-=e),t.min=AE(t.min,e,r,o,i),t.max=AE(t.max,e,r,o,i)}function NE(t,e,[r,n,i],s,a){Bq(t,e[r],e[n],e[i],e.scale,s,a)}const Vq=["x","scaleX","originX"],Uq=["y","scaleY","originY"];function kE(t,e,r,n){NE(t.x,e,Vq,r?r.x:void 0,n?n.x:void 0),NE(t.y,e,Uq,r?r.y:void 0,n?n.y:void 0)}function CE(t){return t.translate===0&&t.scale===1}function _I(t){return CE(t.x)&&CE(t.y)}function PE(t,e){return t.min===e.min&&t.max===e.max}function zq(t,e){return PE(t.x,e.x)&&PE(t.y,e.y)}function IE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function bI(t,e){return IE(t.x,e.x)&&IE(t.y,e.y)}function RE(t){return Wi(t.x)/Wi(t.y)}function LE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Wq{constructor(){this.members=[]}add(e){S_(this.members,e),e.scheduleRender()}remove(e){if(T_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Hq(t,e,r){let n="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=(r==null?void 0:r.z)||0;if((i||s||a)&&(n=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:u,rotate:c,rotateX:f,rotateY:d,skewX:h,skewY:v}=r;u&&(n=`perspective(${u}px) ${n}`),c&&(n+=`rotate(${c}deg) `),f&&(n+=`rotateX(${f}deg) `),d&&(n+=`rotateY(${d}deg) `),h&&(n+=`skewX(${h}deg) `),v&&(n+=`skewY(${v}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const Z2=["","X","Y","Z"],qq=1e3;let $q=0;function ey(t,e,r,n){const{latestValues:i}=e;i[t]&&(r[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function SI(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=lI(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",qr,!(i||s))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&SI(n)}function TI({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(a={},o=e==null?void 0:e()){this.id=$q++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Yq),this.nodes.forEach(Zq),this.nodes.forEach(e$),this.nodes.forEach(Xq)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Lq)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new N_),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=jP(a)&&!jW(a),this.instance=a;const{layoutId:o,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),t){let c,f=0;const d=()=>this.root.updateBlockedByResize=!1;qr.read(()=>{f=window.innerWidth}),t(a,()=>{const h=window.innerWidth;h!==f&&(f=h,this.root.updateBlockedByResize=!0,c&&c(),c=Fq(d,250),Sg.hasAnimatedSinceResize&&(Sg.hasAnimatedSinceResize=!1,this.nodes.forEach(OE)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:d,layout:h})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||s$,{onLayoutAnimationStart:g,onLayoutAnimationComplete:S}=u.getProps(),_=!this.targetLayout||!bI(this.targetLayout,h),b=!f&&d;if(this.options.layoutRoot||this.resumeFrom||b||f&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={...V_(v,"layout"),onPlay:g,onComplete:S};(u.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(c,b)}else f||OE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=h})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),bu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(t$),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&SI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(FE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(DE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Jq),this.nodes.forEach(Gq),this.nodes.forEach(Kq)):this.nodes.forEach(DE),this.clearAllSnapshots();const o=as.now();ei.delta=Qo(0,1e3/60,o-ei.timestamp),ei.timestamp=o,ei.isProcessing=!0,z2.update.process(ei),z2.preRender.process(ei),z2.render.process(ei),ei.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,z_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Qq),this.sharedNodes.forEach(r$)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Wi(this.snapshot.measuredBox.x)&&!Wi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=cn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!_I(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;a&&this.instance&&(o||oc(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),a$(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return cn();const o=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(o$))){const{scroll:c}=this.root;c&&($f(o.x,c.offset.x),$f(o.y,c.offset.y))}return o}removeElementScroll(a){var l;const o=cn();if(qs(o,a),(l=this.scroll)!=null&&l.wasRoot)return o;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:f,options:d}=c;c!==this.root&&f&&d.layoutScroll&&(f.wasRoot&&qs(o,a),$f(o.x,f.offset.x),$f(o.y,f.offset.y))}return o}applyTransform(a,o=!1){const l=cn();qs(l,a);for(let u=0;u<this.path.length;u++){const c=this.path[u];!o&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Gf(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),oc(c.latestValues)&&Gf(l,c.latestValues)}return oc(this.latestValues)&&Gf(l,this.latestValues),l}removeTransform(a){const o=cn();qs(o,a);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!oc(u.latestValues))continue;ew(u.latestValues)&&u.updateSnapshot();const c=cn(),f=u.measurePageBox();qs(c,f),kE(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return oc(this.latestValues)&&kE(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ei.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var d;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(d=this.parent)!=null&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:f}=this.options;if(!(!this.layout||!(c||f))){if(this.resolvedRelativeTargetAt=ei.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=cn(),this.relativeTargetOrigin=cn(),i0(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),qs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=cn(),this.targetWithTransforms=cn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),dq(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):qs(this.target,this.layout.layoutBox),rI(this.target,this.targetDelta)):qs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=cn(),this.relativeTargetOrigin=cn(),i0(this.relativeTargetOrigin,this.target,h.target),qs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ew(this.parent.latestValues)||tI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===ei.timestamp&&(l=!1),l)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;qs(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,d=this.treeScale.y;EH(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=cn());const{target:h}=a;if(!h){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(EE(this.prevProjectionDelta.x,this.projectionDelta.x),EE(this.prevProjectionDelta.y,this.projectionDelta.y)),n0(this.projectionDelta,this.layoutCorrected,h,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==d||!LE(this.projectionDelta.x,this.prevProjectionDelta.x)||!LE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Kf(),this.projectionDelta=Kf(),this.projectionDeltaWithTransform=Kf()}setAnimationOrigin(a,o=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=Kf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const d=cn(),h=l?l.source:void 0,v=this.layout?this.layout.source:void 0,g=h!==v,S=this.getStack(),_=!S||S.members.length<=1,b=!!(g&&!_&&this.options.crossfade===!0&&!this.path.some(i$));this.animationProgress=0;let T;this.mixTargetDelta=L=>{const j=L/1e3;ME(f.x,a.x,j),ME(f.y,a.y,j),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(i0(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),n$(this.relativeTarget,this.relativeTargetOrigin,d,j),T&&zq(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=cn()),qs(T,this.relativeTarget)),g&&(this.animationValues=c,Oq(c,u,this.latestValues,j,b,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var o,l,u;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(bu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qr.update(()=>{Sg.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=kh(0)),this.currentAnimation=Iq(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),a.onUpdate&&a.onUpdate(c)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(qq),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:c}=a;if(!(!o||!l||!u)){if(this!==a&&this.layout&&u&&EI(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||cn();const f=Wi(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+f;const d=Wi(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+d}qs(o,l),Gf(o,c),n0(this.projectionDeltaWithTransform,this.layoutCorrected,o,c)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Wq),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&ey("z",a,u,this.animationValues);for(let c=0;c<Z2.length;c++)ey(`rotate${Z2[c]}`,a,u,this.animationValues),ey(`skew${Z2[c]}`,a,u,this.animationValues);a.render();for(const c in u)a.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=bg(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=bg(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!oc(this.latestValues)&&(a.transform=l?l({},""):"none",this.hasProjected=!1);return}a.visibility="";const c=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=Hq(this.projectionDeltaWithTransform,this.treeScale,c);l&&(f=l(c,f)),a.transform=f;const{x:d,y:h}=this.projectionDelta;a.transformOrigin=`${d.origin*100}% ${h.origin*100}% 0`,u.animationValues?a.opacity=u===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:a.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const v in ep){if(c[v]===void 0)continue;const{correct:g,applyTo:S,isCSSVariable:_}=ep[v],b=f==="none"?c[v]:g(c[v],u);if(S){const T=S.length;for(let L=0;L<T;L++)a[S[L]]=b}else _?this.options.visualElement.renderState.vars[v]=b:a[v]=b}this.options.layoutId&&(a.pointerEvents=u===this?bg(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(FE),this.root.sharedNodes.clear()}}}function Gq(t){t.updateLayout()}function Kq(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:s}=t.options,a=e.source!==t.layout.source;s==="size"?Gs(f=>{const d=a?e.measuredBox[f]:e.layoutBox[f],h=Wi(d);d.min=n[f].min,d.max=d.min+h}):EI(s,e.layoutBox,n)&&Gs(f=>{const d=a?e.measuredBox[f]:e.layoutBox[f],h=Wi(n[f]);d.max=d.min+h,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+h)});const o=Kf();n0(o,n,e.layoutBox);const l=Kf();a?n0(l,t.applyTransform(i,!0),e.measuredBox):n0(l,n,e.layoutBox);const u=!_I(o);let c=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:d,layout:h}=f;if(d&&h){const v=cn();i0(v,e.layoutBox,d.layoutBox);const g=cn();i0(g,n,h.layoutBox),bI(v,g)||(c=!0),f.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=v,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:c})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Yq(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Xq(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Qq(t){t.clearSnapshot()}function FE(t){t.clearMeasurements()}function DE(t){t.isLayoutDirty=!1}function Jq(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function OE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Zq(t){t.resolveTargetDelta()}function e$(t){t.calcProjection()}function t$(t){t.resetSkewAndRotation()}function r$(t){t.removeLeadSnapshot()}function ME(t,e,r){t.translate=Kr(e.translate,0,r),t.scale=Kr(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function jE(t,e,r,n){t.min=Kr(e.min,r.min,n),t.max=Kr(e.max,r.max,n)}function n$(t,e,r,n){jE(t.x,e.x,r.x,n),jE(t.y,e.y,r.y,n)}function i$(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const s$={duration:.45,ease:[.4,0,.1,1]},BE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),VE=BE("applewebkit/")&&!BE("chrome/")?Math.round:ta;function UE(t){t.min=VE(t.min),t.max=VE(t.max)}function a$(t){UE(t.x),UE(t.y)}function EI(t,e,r){return t==="position"||t==="preserve-aspect"&&!hq(RE(e),RE(r),.2)}function o$(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const l$=TI({attachResizeListener:(t,e)=>tp(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ty={current:void 0},AI=TI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ty.current){const t=new l$({});t.mount(window),t.setOptions({layoutScroll:!0}),ty.current=t}return ty.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),u$={pan:{Feature:Nq},drag:{Feature:Aq,ProjectionNode:AI,MeasureLayout:yI}};function zE(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&qr.postRender(()=>s(e,Lp(e)))}class c$ extends Mu{mount(){const{current:e}=this.node;e&&(this.unmount=LW(e,(r,n)=>(zE(this.node,n,"Start"),i=>zE(this.node,i,"End"))))}unmount(){}}class f$ extends Mu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Pp(tp(this.node.current,"focus",()=>this.onFocus()),tp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function WE(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&qr.postRender(()=>s(e,Lp(e)))}class h$ extends Mu{mount(){const{current:e}=this.node;e&&(this.unmount=MW(e,(r,n)=>(WE(this.node,n,"Start"),(i,{success:s})=>WE(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ow=new WeakMap,ry=new WeakMap,d$=t=>{const e=ow.get(t.target);e&&e(t)},p$=t=>{t.forEach(d$)};function m$({root:t,...e}){const r=t||document;ry.has(r)||ry.set(r,{});const n=ry.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(p$,{root:t,...e})),n[i]}function g$(t,e,r){const n=m$(e);return ow.set(t,r),n.observe(t),()=>{ow.delete(t),n.unobserve(t)}}const v$={some:0,all:1};class y$ extends Mu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=e,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:v$[i]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),d=u?c:f;d&&d(l)};return g$(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(x$(e,r))&&this.startObserver()}unmount(){}}function x$({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const w$={inView:{Feature:y$},tap:{Feature:h$},focus:{Feature:f$},hover:{Feature:c$}},_$={layout:{ProjectionNode:AI,MeasureLayout:yI}},b$={...aq,...w$,...u$,..._$},Yf=bH(b$,DH);function Om({children:t,allowedRoles:e=[]}){const{user:r,role:n,loading:i}=Tv(),s=rl();return i?w.jsx(Yf.div,{className:"flex justify-center items-center min-h-screen",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:w.jsx("p",{children:"Loading..."})}):!r||e.length>0&&!e.includes(n)?w.jsx(Ak,{to:"/",state:{from:s},replace:!0}):w.jsx(w.Fragment,{children:t})}function S$(){return w.jsx("footer",{className:"bg-gray-800 text-gray-200 py-6 mt-12",children:w.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col md:flex-row justify-between items-center px-6",children:[w.jsx("div",{className:"mb-4 md:mb-0 flex items-center",children:w.jsx("span",{className:"text-xl font-bold text-green-500",children:"OrganDonorMS"})}),w.jsxs("div",{className:"flex space-x-6 mb-4 md:mb-0",children:[w.jsx(Po,{to:"/",className:"hover:text-green-500 transition",children:"Home"}),w.jsx(Po,{to:"/why-donate",className:"hover:text-green-500 transition",children:"Why Donate"}),w.jsx(Po,{to:"/how-it-works",className:"hover:text-green-500 transition",children:"How It Works"}),w.jsx(Po,{to:"/eligibility",className:"hover:text-green-500 transition",children:"Eligibility"})]}),w.jsxs("div",{className:"text-sm text-gray-400",children:[" ",new Date().getFullYear()," Organ Donor Management System. All rights reserved."]})]})})}var NI={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Bd,function(){return function(r){function n(s){if(i[s])return i[s].exports;var a=i[s]={exports:{},id:s,loaded:!1};return r[s].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}var i={};return n.m=r,n.c=i,n.p="dist/",n(0)}([function(r,n,i){function s(G){return G&&G.__esModule?G:{default:G}}var a=Object.assign||function(G){for(var de=1;de<arguments.length;de++){var ie=arguments[de];for(var ee in ie)Object.prototype.hasOwnProperty.call(ie,ee)&&(G[ee]=ie[ee])}return G},o=i(1),l=(s(o),i(6)),u=s(l),c=i(7),f=s(c),d=i(8),h=s(d),v=i(9),g=s(v),S=i(10),_=s(S),b=i(11),T=s(b),L=i(14),j=s(L),B=[],k=!1,y={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},C=function(){var G=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(G&&(k=!0),k)return B=(0,T.default)(B,y),(0,_.default)(B,y.once),B},F=function(){B=(0,j.default)(),C()},E=function(){B.forEach(function(G,de){G.node.removeAttribute("data-aos"),G.node.removeAttribute("data-aos-easing"),G.node.removeAttribute("data-aos-duration"),G.node.removeAttribute("data-aos-delay")})},N=function(G){return G===!0||G==="mobile"&&g.default.mobile()||G==="phone"&&g.default.phone()||G==="tablet"&&g.default.tablet()||typeof G=="function"&&G()===!0},D=function(G){y=a(y,G),B=(0,j.default)();var de=document.all&&!window.atob;return N(y.disable)||de?E():(y.disableMutationObserver||h.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),y.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",y.easing),document.querySelector("body").setAttribute("data-aos-duration",y.duration),document.querySelector("body").setAttribute("data-aos-delay",y.delay),y.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?C(!0):y.startEvent==="load"?window.addEventListener(y.startEvent,function(){C(!0)}):document.addEventListener(y.startEvent,function(){C(!0)}),window.addEventListener("resize",(0,f.default)(C,y.debounceDelay,!0)),window.addEventListener("orientationchange",(0,f.default)(C,y.debounceDelay,!0)),window.addEventListener("scroll",(0,u.default)(function(){(0,_.default)(B,y.once)},y.throttleDelay)),y.disableMutationObserver||h.default.ready("[data-aos]",F),B)};r.exports={init:D,refresh:C,refreshHard:F}},function(r,n){},,,,,function(r,n){(function(i){function s(N,D,G){function de(He){var Fe=U,ue=z;return U=z=void 0,Te=He,fe=N.apply(ue,Fe)}function ie(He){return Te=He,me=setTimeout(te,D),Oe?de(He):fe}function ee(He){var Fe=He-ge,ue=He-Te,$e=D-Fe;return Be?F($e,q-ue):$e}function Q(He){var Fe=He-ge,ue=He-Te;return ge===void 0||Fe>=D||Fe<0||Be&&ue>=q}function te(){var He=E();return Q(He)?pe(He):void(me=setTimeout(te,ee(He)))}function pe(He){return me=void 0,Ue&&U?de(He):(U=z=void 0,fe)}function be(){me!==void 0&&clearTimeout(me),Te=0,U=ge=z=me=void 0}function I(){return me===void 0?fe:pe(E())}function O(){var He=E(),Fe=Q(He);if(U=arguments,z=this,ge=He,Fe){if(me===void 0)return ie(ge);if(Be)return me=setTimeout(te,D),de(ge)}return me===void 0&&(me=setTimeout(te,D)),fe}var U,z,q,fe,me,ge,Te=0,Oe=!1,Be=!1,Ue=!0;if(typeof N!="function")throw new TypeError(d);return D=c(D)||0,o(G)&&(Oe=!!G.leading,Be="maxWait"in G,q=Be?C(c(G.maxWait)||0,D):q,Ue="trailing"in G?!!G.trailing:Ue),O.cancel=be,O.flush=I,O}function a(N,D,G){var de=!0,ie=!0;if(typeof N!="function")throw new TypeError(d);return o(G)&&(de="leading"in G?!!G.leading:de,ie="trailing"in G?!!G.trailing:ie),s(N,D,{leading:de,maxWait:D,trailing:ie})}function o(N){var D=typeof N>"u"?"undefined":f(N);return!!N&&(D=="object"||D=="function")}function l(N){return!!N&&(typeof N>"u"?"undefined":f(N))=="object"}function u(N){return(typeof N>"u"?"undefined":f(N))=="symbol"||l(N)&&y.call(N)==v}function c(N){if(typeof N=="number")return N;if(u(N))return h;if(o(N)){var D=typeof N.valueOf=="function"?N.valueOf():N;N=o(D)?D+"":D}if(typeof N!="string")return N===0?N:+N;N=N.replace(g,"");var G=_.test(N);return G||b.test(N)?T(N.slice(2),G?2:8):S.test(N)?h:+N}var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},d="Expected a function",h=NaN,v="[object Symbol]",g=/^\s+|\s+$/g,S=/^[-+]0x[0-9a-f]+$/i,_=/^0b[01]+$/i,b=/^0o[0-7]+$/i,T=parseInt,L=(typeof i>"u"?"undefined":f(i))=="object"&&i&&i.Object===Object&&i,j=(typeof self>"u"?"undefined":f(self))=="object"&&self&&self.Object===Object&&self,B=L||j||Function("return this")(),k=Object.prototype,y=k.toString,C=Math.max,F=Math.min,E=function(){return B.Date.now()};r.exports=a}).call(n,function(){return this}())},function(r,n){(function(i){function s(E,N,D){function G(Ue){var He=O,Fe=U;return O=U=void 0,ge=Ue,q=E.apply(Fe,He)}function de(Ue){return ge=Ue,fe=setTimeout(Q,N),Te?G(Ue):q}function ie(Ue){var He=Ue-me,Fe=Ue-ge,ue=N-He;return Oe?C(ue,z-Fe):ue}function ee(Ue){var He=Ue-me,Fe=Ue-ge;return me===void 0||He>=N||He<0||Oe&&Fe>=z}function Q(){var Ue=F();return ee(Ue)?te(Ue):void(fe=setTimeout(Q,ie(Ue)))}function te(Ue){return fe=void 0,Be&&O?G(Ue):(O=U=void 0,q)}function pe(){fe!==void 0&&clearTimeout(fe),ge=0,O=me=U=fe=void 0}function be(){return fe===void 0?q:te(F())}function I(){var Ue=F(),He=ee(Ue);if(O=arguments,U=this,me=Ue,He){if(fe===void 0)return de(me);if(Oe)return fe=setTimeout(Q,N),G(me)}return fe===void 0&&(fe=setTimeout(Q,N)),q}var O,U,z,q,fe,me,ge=0,Te=!1,Oe=!1,Be=!0;if(typeof E!="function")throw new TypeError(f);return N=u(N)||0,a(D)&&(Te=!!D.leading,Oe="maxWait"in D,z=Oe?y(u(D.maxWait)||0,N):z,Be="trailing"in D?!!D.trailing:Be),I.cancel=pe,I.flush=be,I}function a(E){var N=typeof E>"u"?"undefined":c(E);return!!E&&(N=="object"||N=="function")}function o(E){return!!E&&(typeof E>"u"?"undefined":c(E))=="object"}function l(E){return(typeof E>"u"?"undefined":c(E))=="symbol"||o(E)&&k.call(E)==h}function u(E){if(typeof E=="number")return E;if(l(E))return d;if(a(E)){var N=typeof E.valueOf=="function"?E.valueOf():E;E=a(N)?N+"":N}if(typeof E!="string")return E===0?E:+E;E=E.replace(v,"");var D=S.test(E);return D||_.test(E)?b(E.slice(2),D?2:8):g.test(E)?d:+E}var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},f="Expected a function",d=NaN,h="[object Symbol]",v=/^\s+|\s+$/g,g=/^[-+]0x[0-9a-f]+$/i,S=/^0b[01]+$/i,_=/^0o[0-7]+$/i,b=parseInt,T=(typeof i>"u"?"undefined":c(i))=="object"&&i&&i.Object===Object&&i,L=(typeof self>"u"?"undefined":c(self))=="object"&&self&&self.Object===Object&&self,j=T||L||Function("return this")(),B=Object.prototype,k=B.toString,y=Math.max,C=Math.min,F=function(){return j.Date.now()};r.exports=s}).call(n,function(){return this}())},function(r,n){function i(c){var f=void 0,d=void 0;for(f=0;f<c.length;f+=1)if(d=c[f],d.dataset&&d.dataset.aos||d.children&&i(d.children))return!0;return!1}function s(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function a(){return!!s()}function o(c,f){var d=window.document,h=s(),v=new h(l);u=f,v.observe(d.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function l(c){c&&c.forEach(function(f){var d=Array.prototype.slice.call(f.addedNodes),h=Array.prototype.slice.call(f.removedNodes),v=d.concat(h);if(i(v))return u()})}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){};n.default={isSupported:a,ready:o}},function(r,n){function i(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function s(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function d(h,v){for(var g=0;g<v.length;g++){var S=v[g];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(h,S.key,S)}}return function(h,v,g){return v&&d(h.prototype,v),g&&d(h,g),h}}(),o=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,l=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,u=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,c=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,f=function(){function d(){i(this,d)}return a(d,[{key:"phone",value:function(){var h=s();return!(!o.test(h)&&!l.test(h.substr(0,4)))}},{key:"mobile",value:function(){var h=s();return!(!u.test(h)&&!c.test(h.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),d}();n.default=new f},function(r,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(a,o,l){var u=a.node.getAttribute("data-aos-once");o>a.position?a.node.classList.add("aos-animate"):typeof u<"u"&&(u==="false"||!l&&u!=="true")&&a.node.classList.remove("aos-animate")},s=function(a,o){var l=window.pageYOffset,u=window.innerHeight;a.forEach(function(c,f){i(c,u+l,o)})};n.default=s},function(r,n,i){function s(u){return u&&u.__esModule?u:{default:u}}Object.defineProperty(n,"__esModule",{value:!0});var a=i(12),o=s(a),l=function(u,c){return u.forEach(function(f,d){f.node.classList.add("aos-init"),f.position=(0,o.default)(f.node,c.offset)}),u};n.default=l},function(r,n,i){function s(u){return u&&u.__esModule?u:{default:u}}Object.defineProperty(n,"__esModule",{value:!0});var a=i(13),o=s(a),l=function(u,c){var f=0,d=0,h=window.innerHeight,v={offset:u.getAttribute("data-aos-offset"),anchor:u.getAttribute("data-aos-anchor"),anchorPlacement:u.getAttribute("data-aos-anchor-placement")};switch(v.offset&&!isNaN(v.offset)&&(d=parseInt(v.offset)),v.anchor&&document.querySelectorAll(v.anchor)&&(u=document.querySelectorAll(v.anchor)[0]),f=(0,o.default)(u).top,v.anchorPlacement){case"top-bottom":break;case"center-bottom":f+=u.offsetHeight/2;break;case"bottom-bottom":f+=u.offsetHeight;break;case"top-center":f+=h/2;break;case"bottom-center":f+=h/2+u.offsetHeight;break;case"center-center":f+=h/2+u.offsetHeight/2;break;case"top-top":f+=h;break;case"bottom-top":f+=u.offsetHeight+h;break;case"center-top":f+=u.offsetHeight/2+h}return v.anchorPlacement||v.offset||isNaN(c)||(d=c),f+d};n.default=l},function(r,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(s){for(var a=0,o=0;s&&!isNaN(s.offsetLeft)&&!isNaN(s.offsetTop);)a+=s.offsetLeft-(s.tagName!="BODY"?s.scrollLeft:0),o+=s.offsetTop-(s.tagName!="BODY"?s.scrollTop:0),s=s.offsetParent;return{top:o,left:a}};n.default=i},function(r,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(s){return s=s||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(s,function(a){return{node:a}})};n.default=i}])})})(NI);var T$=NI.exports;const E$=nA(T$);var lw=new Map,Mm=new WeakMap,HE=0,A$=void 0;function N$(t){return t?(Mm.has(t)||(HE+=1,Mm.set(t,HE.toString())),Mm.get(t)):"0"}function k$(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>`${e}_${e==="root"?N$(t.root):t[e]}`).toString()}function C$(t){const e=k$(t);let r=lw.get(e);if(!r){const n=new Map;let i;const s=new IntersectionObserver(a=>{a.forEach(o=>{var l;const u=o.isIntersecting&&i.some(c=>o.intersectionRatio>=c);t.trackVisibility&&typeof o.isVisible>"u"&&(o.isVisible=u),(l=n.get(o.target))==null||l.forEach(c=>{c(u,o)})})},t);i=s.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),r={id:e,observer:s,elements:n},lw.set(e,r)}return r}function P$(t,e,r={},n=A$){if(typeof window.IntersectionObserver>"u"&&n!==void 0){const l=t.getBoundingClientRect();return e(n,{isIntersecting:n,target:t,intersectionRatio:typeof r.threshold=="number"?r.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}const{id:i,observer:s,elements:a}=C$(r),o=a.get(t)||[];return a.has(t)||a.set(t,o),o.push(e),s.observe(t),function(){o.splice(o.indexOf(e),1),o.length===0&&(a.delete(t),s.unobserve(t)),a.size===0&&(s.disconnect(),lw.delete(i))}}function I$({threshold:t,delay:e,trackVisibility:r,rootMargin:n,root:i,triggerOnce:s,skip:a,initialInView:o,fallbackInView:l,onChange:u}={}){var c;const[f,d]=ye.useState(null),h=ye.useRef(u),[v,g]=ye.useState({inView:!!o,entry:void 0});h.current=u,ye.useEffect(()=>{if(a||!f)return;let T;return T=P$(f,(L,j)=>{g({inView:L,entry:j}),h.current&&h.current(L,j),j.isIntersecting&&s&&T&&(T(),T=void 0)},{root:i,rootMargin:n,threshold:t,trackVisibility:r,delay:e},l),()=>{T&&T()}},[Array.isArray(t)?t.toString():t,f,i,n,s,a,r,l,e]);const S=(c=v.entry)==null?void 0:c.target,_=ye.useRef(void 0);!f&&S&&!s&&!a&&_.current!==S&&(_.current=S,g({inView:!!o,entry:void 0}));const b=[d,v.inView,v.entry];return b.ref=b[0],b.inView=b[1],b.entry=b[2],b}var e4={},uw={exports:{}};(function(t,e){(function(r,n){n(e)})(Bd,function(r){var n=function(){return n=Object.assign||function(s){for(var a,o=1,l=arguments.length;o<l;o++)for(var u in a=arguments[o])Object.prototype.hasOwnProperty.call(a,u)&&(s[u]=a[u]);return s},n.apply(this,arguments)},i=function(){function s(a,o,l){var u=this;this.endVal=o,this.options=l,this.version="2.9.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(c){u.startTime||(u.startTime=c);var f=c-u.startTime;u.remaining=u.duration-f,u.useEasing?u.countDown?u.frameVal=u.startVal-u.easingFn(f,0,u.startVal-u.endVal,u.duration):u.frameVal=u.easingFn(f,u.startVal,u.endVal-u.startVal,u.duration):u.frameVal=u.startVal+(u.endVal-u.startVal)*(f/u.duration);var d=u.countDown?u.frameVal<u.endVal:u.frameVal>u.endVal;u.frameVal=d?u.endVal:u.frameVal,u.frameVal=Number(u.frameVal.toFixed(u.options.decimalPlaces)),u.printValue(u.frameVal),f<u.duration?u.rAF=requestAnimationFrame(u.count):u.finalEndVal!==null?u.update(u.finalEndVal):u.options.onCompleteCallback&&u.options.onCompleteCallback()},this.formatNumber=function(c){var f,d,h,v,g=c<0?"-":"";f=Math.abs(c).toFixed(u.options.decimalPlaces);var S=(f+="").split(".");if(d=S[0],h=S.length>1?u.options.decimal+S[1]:"",u.options.useGrouping){v="";for(var _=3,b=0,T=0,L=d.length;T<L;++T)u.options.useIndianSeparators&&T===4&&(_=2,b=1),T!==0&&b%_==0&&(v=u.options.separator+v),b++,v=d[L-T-1]+v;d=v}return u.options.numerals&&u.options.numerals.length&&(d=d.replace(/[0-9]/g,function(j){return u.options.numerals[+j]}),h=h.replace(/[0-9]/g,function(j){return u.options.numerals[+j]})),g+u.options.prefix+d+h+u.options.suffix},this.easeOutExpo=function(c,f,d,h){return d*(1-Math.pow(2,-10*c/h))*1024/1023+f},this.options=n(n({},this.defaults),l),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.el=typeof a=="string"?document.getElementById(a):a,o=o??this.parse(this.el.innerHTML),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(o),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,a):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return u.handleScroll(u)}),window.onscroll=function(){window.onScrollFns.forEach(function(c){return c()})},this.handleScroll(this)))}return s.prototype.handleScroll=function(a){if(a&&window&&!a.once){var o=window.innerHeight+window.scrollY,l=a.el.getBoundingClientRect(),u=l.top+window.pageYOffset,c=l.top+l.height+window.pageYOffset;c<o&&c>window.scrollY&&a.paused?(a.paused=!1,setTimeout(function(){return a.start()},a.options.scrollSpyDelay),a.options.scrollSpyOnce&&(a.once=!0)):(window.scrollY>c||u>o)&&!a.paused&&a.reset()}},s.prototype.determineDirectionAndSmartEasing=function(){var a=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>a;var o=a-this.startVal;if(Math.abs(o)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=a;var l=this.countDown?1:-1;this.endVal=a+l*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=a,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},s.prototype.start=function(a){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),a&&(this.options.onCompleteCallback=a),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},s.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},s.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},s.prototype.update=function(a){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(a),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},s.prototype.printValue=function(a){var o;if(this.el){var l=this.formattingFn(a);!((o=this.options.plugin)===null||o===void 0)&&o.render?this.options.plugin.render(this.el,l):this.el.tagName==="INPUT"?this.el.value=l:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=l:this.el.innerHTML=l}},s.prototype.ensureNumber=function(a){return typeof a=="number"&&!isNaN(a)},s.prototype.validateValue=function(a){var o=Number(a);return this.ensureNumber(o)?o:(this.error="[CountUp] invalid start or end value: ".concat(a),null)},s.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},s.prototype.parse=function(a){var o=function(f){return f.replace(/([.,' ])/g,"\\$1")},l=o(this.options.separator),u=o(this.options.decimal),c=a.replace(new RegExp(l,"g"),"").replace(new RegExp(u,"g"),".");return parseFloat(c)},s}();r.CountUp=i})})(uw,uw.exports);var R$=uw.exports;Object.defineProperty(e4,"__esModule",{value:!0});var Un=ye,L$=R$;function F$(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function qE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function x1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qE(Object(r),!0).forEach(function(n){M$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function D$(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function O$(t){var e=D$(t,"string");return typeof e=="symbol"?e:String(e)}function M$(t,e,r){return e=O$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cw(){return cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cw.apply(this,arguments)}function j$(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function kI(t,e){if(t==null)return{};var r=j$(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function B$(t,e){return V$(t)||F$(t,e)||U$(t,e)||z$()}function V$(t){if(Array.isArray(t))return t}function U$(t,e){if(t){if(typeof t=="string")return $E(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $E(t,e)}}function $E(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function z$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var W$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?Un.useLayoutEffect:Un.useEffect;function Sa(t){var e=Un.useRef(t);return W$(function(){e.current=t}),Un.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.current.apply(void 0,n)},[])}var H$=function(e,r){var n=r.decimal,i=r.decimals,s=r.duration,a=r.easingFn,o=r.end,l=r.formattingFn,u=r.numerals,c=r.prefix,f=r.separator,d=r.start,h=r.suffix,v=r.useEasing,g=r.useGrouping,S=r.useIndianSeparators,_=r.enableScrollSpy,b=r.scrollSpyDelay,T=r.scrollSpyOnce,L=r.plugin;return new L$.CountUp(e,o,{startVal:d,duration:s,decimal:n,decimalPlaces:i,easingFn:a,formattingFn:l,numerals:u,separator:f,prefix:c,suffix:h,plugin:L,useEasing:v,useIndianSeparators:S,useGrouping:g,enableScrollSpy:_,scrollSpyDelay:b,scrollSpyOnce:T})},q$=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],$$={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},CI=function(e){var r=Object.fromEntries(Object.entries(e).filter(function(C){var F=B$(C,2),E=F[1];return E!==void 0})),n=Un.useMemo(function(){return x1(x1({},$$),r)},[e]),i=n.ref,s=n.startOnMount,a=n.enableReinitialize,o=n.delay,l=n.onEnd,u=n.onStart,c=n.onPauseResume,f=n.onReset,d=n.onUpdate,h=kI(n,q$),v=Un.useRef(),g=Un.useRef(),S=Un.useRef(!1),_=Sa(function(){return H$(typeof i=="string"?i:i.current,h)}),b=Sa(function(C){var F=v.current;if(F&&!C)return F;var E=_();return v.current=E,E}),T=Sa(function(){var C=function(){return b(!0).start(function(){l==null||l({pauseResume:L,reset:j,start:k,update:B})})};o&&o>0?g.current=setTimeout(C,o*1e3):C(),u==null||u({pauseResume:L,reset:j,update:B})}),L=Sa(function(){b().pauseResume(),c==null||c({reset:j,start:k,update:B})}),j=Sa(function(){b().el&&(g.current&&clearTimeout(g.current),b().reset(),f==null||f({pauseResume:L,start:k,update:B}))}),B=Sa(function(C){b().update(C),d==null||d({pauseResume:L,reset:j,start:k})}),k=Sa(function(){j(),T()}),y=Sa(function(C){s&&(C&&j(),T())});return Un.useEffect(function(){S.current?a&&y(!0):(S.current=!0,y())},[a,S,y,o,e.start,e.suffix,e.prefix,e.duration,e.separator,e.decimals,e.decimal,e.formattingFn]),Un.useEffect(function(){return function(){j()}},[j]),{start:k,pauseResume:L,reset:j,update:B,getCountUp:b}},G$=["className","redraw","containerProps","children","style"],K$=function(e){var r=e.className,n=e.redraw,i=e.containerProps,s=e.children,a=e.style,o=kI(e,G$),l=Un.useRef(null),u=Un.useRef(!1),c=CI(x1(x1({},o),{},{ref:l,startOnMount:typeof s!="function"||e.delay===0,enableReinitialize:!1})),f=c.start,d=c.reset,h=c.update,v=c.pauseResume,g=c.getCountUp,S=Sa(function(){f()}),_=Sa(function(L){e.preserveValue||d(),h(L)}),b=Sa(function(){if(typeof e.children=="function"&&!(l.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}g()});Un.useEffect(function(){b()},[b]),Un.useEffect(function(){u.current&&_(e.end)},[e.end,_]);var T=n&&e;return Un.useEffect(function(){n&&u.current&&S()},[S,n,T]),Un.useEffect(function(){!n&&u.current&&S()},[S,n,e.start,e.suffix,e.prefix,e.duration,e.separator,e.decimals,e.decimal,e.className,e.formattingFn]),Un.useEffect(function(){u.current=!0},[]),typeof s=="function"?s({countUpRef:l,start:f,reset:d,update:h,pauseResume:v,getCountUp:g}):Un.createElement("span",cw({className:r,ref:l,style:a},i),typeof e.start<"u"?g().formattingFn(e.start):"")},Y$=e4.default=K$;e4.useCountUp=CI;const X$="/assets/about-image-BLU9Vf06.jpg";function Q$(){const[t,e]=ye.useState(!1),{ref:r,inView:n}=I$({threshold:.3,triggerOnce:!0});n&&!t&&e(!0);const i=[{icon:"",title:"Donors Registered",value:12345},{icon:"",title:"Hospitals Partnered",value:85},{icon:"",title:"Lives Saved",value:7890},{icon:"",title:"AI Matches Done",value:3210}];return w.jsx("section",{ref:r,className:"py-16 bg-gray-50 dark:bg-gray-900 transition-colors duration-700 ease-in-out",children:w.jsxs("div",{className:"max-w-6xl mx-auto px-4 flex flex-col md:flex-row items-center md:space-x-12",children:[w.jsx("div",{className:"md:w-1/2 mb-8 md:mb-0","data-aos":"fade-right",children:w.jsx("img",{src:X$,alt:"About Us",className:"rounded-xl shadow-lg w-full object-cover transition-transform duration-700 ease-in-out hover:scale-105"})}),w.jsxs("div",{className:"md:w-1/2 text-center md:text-left","data-aos":"fade-left",children:[w.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"About Our Platform"}),w.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:"Our mission is to make organ donation simple, transparent, and impactful. We connect donors, recipients, and medical professionals to save lives efficiently."}),w.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-8",children:"By providing real-time information, role-based dashboards, and AI-powered matching, we aim to create a community where everyone can contribute to saving lives and raising awareness about organ donation."}),w.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:i.map((s,a)=>w.jsxs("div",{className:`flex flex-col items-center bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border-t-4 border-green-600
                  transform transition-all duration-500 ease-in-out
                  opacity-0 translate-y-6
                  ${n?"opacity-100 translate-y-0":""}
                  hover:shadow-2xl hover:scale-105 hover:shadow-green-500/40`,style:{transitionDelay:`${a*100}ms`},children:[w.jsx("div",{className:"text-4xl mb-2 text-green-600 dark:text-green-400",children:s.icon}),w.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:s.title}),w.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-lg font-bold mt-1",children:t?w.jsx(Y$,{end:s.value,duration:2,separator:","}):0})]},a))})]})]})})}function J$(){const{user:t,role:e}=Tv(),r=Oh();ye.useEffect(()=>{if(t)switch(e){case"admin":r("/admin");break;case"doctor":r("/doctor");break;case"donor":r("/donor");break;case"recipient":r("/recipient");break;default:r("/")}},[t,e,r]);const n=[{icon:"",title:"Why Donate?",desc:"Understand the impact of organ donation and how you can save lives.",path:"/why-donate"},{icon:"",title:"How It Works?",desc:"Learn about the organ donation process from registration to transplant.",path:"/how-it-works"},{icon:"",title:"Eligibility",desc:"Check if you qualify to become a donor and help others in need.",path:"/eligibility"}];return w.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 transition-colors duration-700 ease-in-out",children:[w.jsxs("section",{className:"relative bg-cover bg-center h-screen flex items-center justify-center text-white transition-colors duration-700 ease-in-out",style:{backgroundImage:"url('https://images.unsplash.com/photo-1584515933487-779824d29309?ixlib=rb-4.0.3&auto=format&fit=crop&w=1950&q=80')"},children:[w.jsx("div",{className:"absolute inset-0 bg-black/50 dark:bg-black/70 transition-colors duration-700 ease-in-out"}),w.jsxs("div",{className:"relative z-10 text-center px-6 max-w-3xl transition-all duration-700 ease-in-out",children:[w.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6 transition-transform duration-500 ease-in-out hover:scale-105",children:"Give the Gift of Life"}),w.jsx("p",{className:"text-lg md:text-xl mb-8 transition-transform duration-500 ease-in-out hover:scale-105",children:"Every organ donor can save up to 8 lives. Be a hero today and make a difference."}),w.jsx("a",{href:"/auth?tab=signup&role=donor",className:`relative inline-block bg-green-600 dark:bg-green-500 text-white px-6 py-3 rounded-lg text-lg font-semibold shadow-lg\r
                       transform transition-all duration-500 ease-in-out hover:scale-105 animate-pulse-slow\r
                       before:absolute before:inset-0 before:rounded-lg before:bg-green-500/40 before:opacity-0 before:transition-opacity before:duration-500\r
                       hover:before:opacity-30`,children:"Become a Donor"})]})]}),w.jsxs("section",{className:"py-16 px-6 max-w-6xl mx-auto transition-colors duration-700 ease-in-out",children:[w.jsx("h2",{className:"text-3xl font-bold text-center text-green-700 dark:text-green-400 mb-12 transition-colors duration-700 ease-in-out",children:"Why Organ Donation Matters"}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:n.map((i,s)=>w.jsxs("a",{href:i.path,className:`flex flex-col items-center bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 text-center border-t-4 border-green-600\r
                         hover:shadow-xl hover:bg-gray-50 dark:hover:bg-gray-700 hover:scale-105 transition-all duration-500 ease-in-out\r
                         relative before:absolute before:inset-0 before:rounded-xl before:bg-green-500/20 before:opacity-0 hover:before:opacity-30`,children:[w.jsx("div",{className:"text-green-600 dark:text-green-400 text-5xl mb-4 transition-transform duration-500 ease-in-out hover:scale-110",children:i.icon}),w.jsx("h3",{className:"text-xl font-semibold mb-3 text-gray-900 dark:text-gray-100 transition-colors duration-700 ease-in-out",children:i.title}),w.jsx("p",{className:"text-gray-600 dark:text-gray-300 transition-colors duration-700 ease-in-out",children:i.desc})]},s))})]}),w.jsx(Q$,{})]})}const PI="/assets/logo-B8quR2at.png";/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eG=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),GE=t=>{const e=eG(t);return e.charAt(0).toUpperCase()+e.slice(1)},II=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),tG=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nG=ye.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:a,...o},l)=>ye.createElement("svg",{ref:l,...rG,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:II("lucide",i),...!s&&!tG(o)&&{"aria-hidden":"true"},...o},[...a.map(([u,c])=>ye.createElement(u,c)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=(t,e)=>{const r=ye.forwardRef(({className:n,...i},s)=>ye.createElement(nG,{ref:s,iconNode:e,className:II(`lucide-${Z$(GE(t))}`,`lucide-${t}`,n),...i}));return r.displayName=GE(t),r};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iG=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],RI=Ri("activity",iG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sG=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],aG=Ri("calendar",sG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oG=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],lG=Ri("download",oG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uG=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],KE=Ri("eye-off",uG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cG=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],YE=Ri("eye",cG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],hG=Ri("file-text",fG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],pG=Ri("funnel",dG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mG=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],LI=Ri("heart",mG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gG=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],vG=Ri("pen",gG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yG=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],xG=Ri("save",yG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wG=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],_G=Ri("search",wG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bG=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],SG=Ri("trash-2",bG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TG=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],EG=Ri("trending-up",TG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AG=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],NG=Ri("user-check",AG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kG=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],CG=Ri("users",kG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PG=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],IG=Ri("x",PG);function RG({showLogo:t=!0}){const e=Oh(),r=rl(),[n,i]=ye.useState("login"),[s,a]=ye.useState({fullName:"",email:"",password:"",mobile:"",address:"",bloodGroup:"",organType:"",role:"donor"}),[o,l]=ye.useState(!1),[u,c]=ye.useState(""),[f,d]=ye.useState(!1);ye.useEffect(()=>{new URLSearchParams(r.search).get("tab")==="signup"&&i("signup")},[r.search]);const h=_=>a({...s,[_.target.name]:_.target.value}),v=async _=>{_.preventDefault(),l(!0),c("");try{const T=(await c6(is,s.email,s.password)).user,L=await Y0(ea(Ti,"users",T.uid));if(L.exists()){const j=L.data().role||"donor";e(`/${j}`)}else c("User data not found. Contact admin.")}catch(b){c(b.message)}l(!1)},g=async _=>{_.preventDefault(),l(!0),c("");try{const T=(await u6(is,s.email,s.password)).user;await HC(ea(Ti,"users",T.uid),{fullName:s.fullName,email:s.email,mobile:s.mobile,address:s.address,bloodGroup:s.bloodGroup,organType:s.organType,role:s.role,createdAt:$C()}),e(`/${s.role}`)}catch(b){c(b.message)}l(!1)},S=async()=>{if(!s.email){c("Enter your email to reset password");return}l(!0),c("");try{await Aj(is,s.email),alert("Password reset email sent. Check your inbox.")}catch(_){c(_.message)}l(!1)};return w.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 bg-gray-50 dark:bg-gray-900 transition-colors duration-500",children:w.jsxs("div",{className:"max-w-md w-full p-8 rounded-xl shadow-lg bg-white dark:bg-gray-800",children:[t&&w.jsx("div",{className:"flex justify-center mb-6",children:w.jsx("img",{src:PI,alt:"Logo",className:"w-20 h-20 object-contain"})}),w.jsxs("div",{className:"flex justify-center mb-6",children:[w.jsx("button",{onClick:()=>i("login"),className:`px-4 py-2 rounded-l-md font-semibold transition-colors duration-500 ${n==="login"?"bg-green-600 text-white dark:bg-green-500 dark:text-white":"bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:"Login"}),w.jsx("button",{onClick:()=>i("signup"),className:`px-4 py-2 rounded-r-md font-semibold transition-colors duration-500 ${n==="signup"?"bg-green-600 text-white dark:bg-green-500 dark:text-white":"bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:"Signup"})]}),u&&w.jsx("p",{className:"text-red-500 mb-4 text-center",children:u}),n==="login"&&w.jsxs("form",{onSubmit:v,className:"space-y-4",children:[w.jsx("input",{type:"email",name:"email",value:s.email,onChange:h,placeholder:"Email",required:!0,className:"w-full p-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white"}),w.jsxs("div",{className:"relative",children:[w.jsx("input",{type:f?"text":"password",name:"password",value:s.password,onChange:h,placeholder:"Password",required:!0,className:"w-full p-3 pr-10 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white"}),w.jsx("span",{className:"absolute inset-y-0 right-3 flex items-center cursor-pointer text-gray-500 dark:text-gray-300",onClick:()=>d(!f),children:f?w.jsx(KE,{size:20}):w.jsx(YE,{size:20})})]}),w.jsx("button",{type:"submit",disabled:o,className:"w-full bg-green-600 dark:bg-green-500 text-white py-3 rounded-lg font-semibold hover:bg-green-700 dark:hover:bg-green-400",children:o?"Logging in...":"Login"}),w.jsx("p",{className:"text-sm text-right text-blue-600 cursor-pointer",onClick:S,children:"Forgot Password?"})]}),n==="signup"&&w.jsxs("form",{onSubmit:g,className:"space-y-4",children:[w.jsx("input",{type:"text",name:"fullName",value:s.fullName,onChange:h,placeholder:"Full Name",required:!0,className:"w-full p-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white"}),w.jsx("input",{type:"email",name:"email",value:s.email,onChange:h,placeholder:"Email",required:!0,className:"w-full p-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white"}),w.jsxs("div",{className:"relative",children:[w.jsx("input",{type:f?"text":"password",name:"password",value:s.password,onChange:h,placeholder:"Password",required:!0,className:"w-full p-3 pr-10 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white"}),w.jsx("span",{className:"absolute inset-y-0 right-3 flex items-center cursor-pointer text-gray-500 dark:text-gray-300",onClick:()=>d(!f),children:f?w.jsx(KE,{size:20}):w.jsx(YE,{size:20})})]}),w.jsx("input",{type:"text",name:"mobile",value:s.mobile,onChange:h,placeholder:"Mobile Number",required:!0,className:"w-full p-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white"}),w.jsx("input",{type:"text",name:"address",value:s.address,onChange:h,placeholder:"Address",className:"w-full p-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white"}),w.jsxs("select",{name:"bloodGroup",value:s.bloodGroup,onChange:h,required:!0,className:"w-full p-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white",children:[w.jsx("option",{value:"",children:"Select Blood Group"}),["A+","A-","B+","B-","AB+","AB-","O+","O-"].map(_=>w.jsx("option",{value:_,children:_},_))]}),w.jsxs("select",{name:"organType",value:s.organType,onChange:h,required:!0,className:"w-full p-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white",children:[w.jsx("option",{value:"",children:"Select Organ"}),["Kidney","Heart","Liver","Lung","Eye"].map(_=>w.jsx("option",{value:_.toLowerCase(),children:_},_))]}),w.jsxs("select",{name:"role",value:s.role,onChange:h,required:!0,className:"w-full p-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white",children:[w.jsx("option",{value:"donor",children:"Donor"}),w.jsx("option",{value:"recipient",children:"Recipient"}),w.jsx("option",{value:"doctor",children:"Doctor"})]}),w.jsx("button",{type:"submit",disabled:o,className:"w-full bg-green-600 dark:bg-green-500 text-white py-3 rounded-lg font-semibold hover:bg-green-700 dark:hover:bg-green-400",children:o?"Signing up...":"Signup"})]})]})})}function LG(){const{darkMode:t}=ye.useContext(Cp),e=[{icon:"",title:"Save Lives",desc:"A single organ donor can save multiple lives and provide hope to patients in need."},{icon:"",title:"Help Families",desc:"Support families during challenging times by giving their loved ones a second chance."},{icon:"",title:"Create Awareness",desc:"Encourage more people to register as donors and increase awareness about organ donation."}];return w.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 px-6 py-12",children:[w.jsx("h1",{className:"text-4xl font-bold text-center text-green-700 mb-12","data-aos":"fade-down",children:"Why Donate Organs?"}),w.jsx("div",{className:"max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8",children:e.map((r,n)=>w.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg border-t-4 border-green-600 hover:shadow-xl hover:scale-105 transform transition","data-aos":"fade-up","data-aos-delay":n*150,children:[w.jsx("div",{className:"text-5xl text-green-600 mb-4",children:r.icon}),w.jsx("h3",{className:"text-xl font-semibold mb-3",children:r.title}),w.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:r.desc})]},n))})]})}function FG(){const{darkMode:t}=ye.useContext(Cp),e=[{icon:"",title:"Registration",desc:"Individuals willing to donate organs can register online or at designated centers."},{icon:"",title:"Medical Evaluation",desc:"Potential donors undergo medical and psychological evaluations to ensure safety."},{icon:"",title:"Matching & Allocation",desc:"Donor organs are matched with recipients based on medical criteria and compatibility."},{icon:"",title:"Transplantation",desc:"The transplant procedure is performed by trained professionals in accredited hospitals."}];return w.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 py-16 px-6",children:[w.jsx("h1",{className:"text-4xl font-bold text-green-700 mb-12 text-center","data-aos":"fade-down",children:"How Organ Donation Works"}),w.jsx("div",{className:"max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((r,n)=>w.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg border-t-4 border-green-600 hover:shadow-xl hover:scale-105 transform transition duration-300","data-aos":"fade-up","data-aos-delay":n*150,children:[w.jsx("div",{className:"text-5xl mb-4 text-green-600 animate-bounce",children:r.icon}),w.jsx("h3",{className:"text-xl font-semibold mb-3",children:r.title}),w.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-base",children:r.desc})]},n))})]})}function DG(){const{darkMode:t}=ye.useContext(Cp),e=[{icon:"",title:"Minimum Age",desc:"Any person 18 years or older can pledge to donate organs."},{icon:"",title:"Voluntary Consent",desc:"The donor must willingly authorize the removal of organs and/or tissues."},{icon:"",title:"Health Condition",desc:"Donors should be in generally good health; medical evaluation will confirm eligibility."},{icon:"",title:"Legal Documentation",desc:"Proper consent documentation must be completed according to national regulations."}];return w.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 px-6 py-12",children:[w.jsx("h1",{className:"text-4xl font-bold text-green-700 mb-12 text-center","data-aos":"fade-down",children:"Organ Donation Eligibility"}),w.jsx("div",{className:"max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((r,n)=>w.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg border-t-4 border-green-600 hover:shadow-xl hover:scale-105 transform transition","data-aos":"fade-up","data-aos-delay":n*150,children:[w.jsx("div",{className:"text-5xl text-green-600 mb-4",children:r.icon}),w.jsx("h3",{className:"text-xl font-semibold mb-3",children:r.title}),w.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:r.desc})]},n))})]})}const OG="modulepreload",MG=function(t){return"/"+t},XE={},fw=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=MG(l),l in XE)return;XE[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":OG,u||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((d,h)=>{f.addEventListener("load",d),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function xr(t){"@babel/helpers - typeof";return xr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xr(t)}var Ei=Uint8Array,Is=Uint16Array,t4=Int32Array,Cv=new Ei([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Pv=new Ei([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),hw=new Ei([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),FI=function(t,e){for(var r=new Is(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new t4(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},DI=FI(Cv,2),OI=DI.b,dw=DI.r;OI[28]=258,dw[258]=28;var MI=FI(Pv,0),jG=MI.b,QE=MI.r,pw=new Is(32768);for(var Vr=0;Vr<32768;++Vr){var Ol=(Vr&43690)>>1|(Vr&21845)<<1;Ol=(Ol&52428)>>2|(Ol&13107)<<2,Ol=(Ol&61680)>>4|(Ol&3855)<<4,pw[Vr]=((Ol&65280)>>8|(Ol&255)<<8)>>1}var lo=function(t,e,r){for(var n=t.length,i=0,s=new Is(e);i<n;++i)t[i]&&++s[t[i]-1];var a=new Is(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(r){o=new Is(1<<e);var l=15-e;for(i=0;i<n;++i)if(t[i])for(var u=i<<4|t[i],c=e-t[i],f=a[t[i]-1]++<<c,d=f|(1<<c)-1;f<=d;++f)o[pw[f]>>l]=u}else for(o=new Is(n),i=0;i<n;++i)t[i]&&(o[i]=pw[a[t[i]-1]++]>>15-t[i]);return o},Tu=new Ei(288);for(var Vr=0;Vr<144;++Vr)Tu[Vr]=8;for(var Vr=144;Vr<256;++Vr)Tu[Vr]=9;for(var Vr=256;Vr<280;++Vr)Tu[Vr]=7;for(var Vr=280;Vr<288;++Vr)Tu[Vr]=8;var rp=new Ei(32);for(var Vr=0;Vr<32;++Vr)rp[Vr]=5;var BG=lo(Tu,9,0),VG=lo(Tu,9,1),UG=lo(rp,5,0),zG=lo(rp,5,1),ny=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},ga=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},iy=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},r4=function(t){return(t+7)/8|0},jI=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Ei(t.subarray(e,r))},WG=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ta=function(t,e,r){var n=new Error(e||WG[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,Ta),!r)throw n;return n},HG=function(t,e,r,n){var i=t.length,s=0;if(!i||e.f&&!e.l)return r||new Ei(0);var a=!r,o=a||e.i!=2,l=e.i;a&&(r=new Ei(i*3));var u=function(Oe){var Be=r.length;if(Oe>Be){var Ue=new Ei(Math.max(Be*2,Oe));Ue.set(r),r=Ue}},c=e.f||0,f=e.p||0,d=e.b||0,h=e.l,v=e.d,g=e.m,S=e.n,_=i*8;do{if(!h){c=ga(t,f,1);var b=ga(t,f+1,3);if(f+=3,b)if(b==1)h=VG,v=zG,g=9,S=5;else if(b==2){var B=ga(t,f,31)+257,k=ga(t,f+10,15)+4,y=B+ga(t,f+5,31)+1;f+=14;for(var C=new Ei(y),F=new Ei(19),E=0;E<k;++E)F[hw[E]]=ga(t,f+E*3,7);f+=k*3;for(var N=ny(F),D=(1<<N)-1,G=lo(F,N,1),E=0;E<y;){var de=G[ga(t,f,D)];f+=de&15;var T=de>>4;if(T<16)C[E++]=T;else{var ie=0,ee=0;for(T==16?(ee=3+ga(t,f,3),f+=2,ie=C[E-1]):T==17?(ee=3+ga(t,f,7),f+=3):T==18&&(ee=11+ga(t,f,127),f+=7);ee--;)C[E++]=ie}}var Q=C.subarray(0,B),te=C.subarray(B);g=ny(Q),S=ny(te),h=lo(Q,g,1),v=lo(te,S,1)}else Ta(1);else{var T=r4(f)+4,L=t[T-4]|t[T-3]<<8,j=T+L;if(j>i){l&&Ta(0);break}o&&u(d+L),r.set(t.subarray(T,j),d),e.b=d+=L,e.p=f=j*8,e.f=c;continue}if(f>_){l&&Ta(0);break}}o&&u(d+131072);for(var pe=(1<<g)-1,be=(1<<S)-1,I=f;;I=f){var ie=h[iy(t,f)&pe],O=ie>>4;if(f+=ie&15,f>_){l&&Ta(0);break}if(ie||Ta(2),O<256)r[d++]=O;else if(O==256){I=f,h=null;break}else{var U=O-254;if(O>264){var E=O-257,z=Cv[E];U=ga(t,f,(1<<z)-1)+OI[E],f+=z}var q=v[iy(t,f)&be],fe=q>>4;q||Ta(3),f+=q&15;var te=jG[fe];if(fe>3){var z=Pv[fe];te+=iy(t,f)&(1<<z)-1,f+=z}if(f>_){l&&Ta(0);break}o&&u(d+131072);var me=d+U;if(d<te){var ge=s-te,Te=Math.min(te,me);for(ge+d<0&&Ta(3);d<Te;++d)r[d]=n[ge+d]}for(;d<me;++d)r[d]=r[d-te]}}e.l=h,e.p=I,e.b=d,e.f=c,h&&(c=1,e.m=g,e.d=v,e.n=S)}while(!c);return d!=r.length&&a?jI(r,0,d):r.subarray(0,d)},No=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Sd=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},sy=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,s=r.slice();if(!i)return{t:VI,l:0};if(i==1){var a=new Ei(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(j,B){return j.f-B.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],u=0,c=1,f=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};c!=i-1;)o=r[r[u].f<r[f].f?u++:f++],l=r[u!=c&&r[u].f<r[f].f?u++:f++],r[c++]={s:-1,f:o.f+l.f,l:o,r:l};for(var d=s[0].s,n=1;n<i;++n)s[n].s>d&&(d=s[n].s);var h=new Is(d+1),v=mw(r[c-1],h,0);if(v>e){var n=0,g=0,S=v-e,_=1<<S;for(s.sort(function(B,k){return h[k.s]-h[B.s]||B.f-k.f});n<i;++n){var b=s[n].s;if(h[b]>e)g+=_-(1<<v-h[b]),h[b]=e;else break}for(g>>=S;g>0;){var T=s[n].s;h[T]<e?g-=1<<e-h[T]++-1:++n}for(;n>=0&&g;--n){var L=s[n].s;h[L]==e&&(--h[L],++g)}v=e}return{t:new Ei(h),l:v}},mw=function(t,e,r){return t.s==-1?Math.max(mw(t.l,e,r+1),mw(t.r,e,r+1)):e[t.s]=r},JE=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Is(++e),n=0,i=t[0],s=1,a=function(l){r[n++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:r.subarray(0,n),n:e}},Td=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},BI=function(t,e,r){var n=r.length,i=r4(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<n;++s)t[i+s+4]=r[s];return(i+4+n)*8},ZE=function(t,e,r,n,i,s,a,o,l,u,c){No(e,c++,r),++i[256];for(var f=sy(i,15),d=f.t,h=f.l,v=sy(s,15),g=v.t,S=v.l,_=JE(d),b=_.c,T=_.n,L=JE(g),j=L.c,B=L.n,k=new Is(19),y=0;y<b.length;++y)++k[b[y]&31];for(var y=0;y<j.length;++y)++k[j[y]&31];for(var C=sy(k,7),F=C.t,E=C.l,N=19;N>4&&!F[hw[N-1]];--N);var D=u+5<<3,G=Td(i,Tu)+Td(s,rp)+a,de=Td(i,d)+Td(s,g)+a+14+3*N+Td(k,F)+2*k[16]+3*k[17]+7*k[18];if(l>=0&&D<=G&&D<=de)return BI(e,c,t.subarray(l,l+u));var ie,ee,Q,te;if(No(e,c,1+(de<G)),c+=2,de<G){ie=lo(d,h,0),ee=d,Q=lo(g,S,0),te=g;var pe=lo(F,E,0);No(e,c,T-257),No(e,c+5,B-1),No(e,c+10,N-4),c+=14;for(var y=0;y<N;++y)No(e,c+3*y,F[hw[y]]);c+=3*N;for(var be=[b,j],I=0;I<2;++I)for(var O=be[I],y=0;y<O.length;++y){var U=O[y]&31;No(e,c,pe[U]),c+=F[U],U>15&&(No(e,c,O[y]>>5&127),c+=O[y]>>12)}}else ie=BG,ee=Tu,Q=UG,te=rp;for(var y=0;y<o;++y){var z=n[y];if(z>255){var U=z>>18&31;Sd(e,c,ie[U+257]),c+=ee[U+257],U>7&&(No(e,c,z>>23&31),c+=Cv[U]);var q=z&31;Sd(e,c,Q[q]),c+=te[q],q>3&&(Sd(e,c,z>>5&8191),c+=Pv[q])}else Sd(e,c,ie[z]),c+=ee[z]}return Sd(e,c,ie[256]),c+ee[256]},qG=new t4([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),VI=new Ei(0),$G=function(t,e,r,n,i,s){var a=s.z||t.length,o=new Ei(n+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(n,o.length-i),u=s.l,c=(s.r||0)&7;if(e){c&&(l[0]=s.r>>3);for(var f=qG[e-1],d=f>>13,h=f&8191,v=(1<<r)-1,g=s.p||new Is(32768),S=s.h||new Is(v+1),_=Math.ceil(r/3),b=2*_,T=function(He){return(t[He]^t[He+1]<<_^t[He+2]<<b)&v},L=new t4(25e3),j=new Is(288),B=new Is(32),k=0,y=0,C=s.i||0,F=0,E=s.w||0,N=0;C+2<a;++C){var D=T(C),G=C&32767,de=S[D];if(g[G]=de,S[D]=G,E<=C){var ie=a-C;if((k>7e3||F>24576)&&(ie>423||!u)){c=ZE(t,l,0,L,j,B,y,F,N,C-N,c),F=k=y=0,N=C;for(var ee=0;ee<286;++ee)j[ee]=0;for(var ee=0;ee<30;++ee)B[ee]=0}var Q=2,te=0,pe=h,be=G-de&32767;if(ie>2&&D==T(C-be))for(var I=Math.min(d,ie)-1,O=Math.min(32767,C),U=Math.min(258,ie);be<=O&&--pe&&G!=de;){if(t[C+Q]==t[C+Q-be]){for(var z=0;z<U&&t[C+z]==t[C+z-be];++z);if(z>Q){if(Q=z,te=be,z>I)break;for(var q=Math.min(be,z-2),fe=0,ee=0;ee<q;++ee){var me=C-be+ee&32767,ge=g[me],Te=me-ge&32767;Te>fe&&(fe=Te,de=me)}}}G=de,de=g[G],be+=G-de&32767}if(te){L[F++]=268435456|dw[Q]<<18|QE[te];var Oe=dw[Q]&31,Be=QE[te]&31;y+=Cv[Oe]+Pv[Be],++j[257+Oe],++B[Be],E=C+Q,++k}else L[F++]=t[C],++j[t[C]]}}for(C=Math.max(C,E);C<a;++C)L[F++]=t[C],++j[t[C]];c=ZE(t,l,u,L,j,B,y,F,N,C-N,c),u||(s.r=c&7|l[c/8|0]<<3,c-=7,s.h=S,s.p=g,s.i=C,s.w=E)}else{for(var C=s.w||0;C<a+u;C+=65535){var Ue=C+65535;Ue>=a&&(l[c/8|0]=u,Ue=a),c=BI(l,c+1,t.subarray(C,Ue))}s.i=a}return jI(o,0,n+r4(c)+i)},UI=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,s=r.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=n+=r[a];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},GG=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new Ei(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return $G(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},zI=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},KG=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=UI();i.p(e.dictionary),zI(t,2,i.d())}},YG=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Ta(6,"invalid zlib data"),(t[1]>>5&1)==1&&Ta(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function gw(t,e){e||(e={});var r=UI();r.p(t);var n=GG(t,e,e.dictionary?6:2,4);return KG(n,e),zI(n,n.length-4,r.d()),n}function XG(t,e){return HG(t.subarray(YG(t),-4),{i:2},e,e)}var QG=typeof TextDecoder<"u"&&new TextDecoder,JG=0;try{QG.decode(VI,{stream:!0}),JG=1}catch{}var Lt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function ay(){Lt.console&&typeof Lt.console.log=="function"&&Lt.console.log.apply(Lt.console,arguments)}var Ir={log:ay,warn:function(t){Lt.console&&(typeof Lt.console.warn=="function"?Lt.console.warn.apply(Lt.console,arguments):ay.call(null,arguments))},error:function(t){Lt.console&&(typeof Lt.console.error=="function"?Lt.console.error.apply(Lt.console,arguments):ay(t))}};function oy(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){lc(n.response,e,r)},n.onerror=function(){Ir.error("could not download file")},n.send()}function e3(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function jm(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var s0,vw,lc=Lt.saveAs||((typeof window>"u"?"undefined":xr(window))!=="object"||window!==Lt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Lt.URL||Lt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?e3(i.href)?oy(t,e,r):jm(i,i.target="_blank"):jm(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){jm(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(e3(t))oy(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){jm(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:xr(s)!=="object"&&(Ir.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return oy(t,e,r);var i=t.type==="application/octet-stream",s=/constructor/i.test(Lt.HTMLElement)||Lt.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":xr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var c=o.result;c=a?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=c:location=c,n=null},o.readAsDataURL(t)}else{var l=Lt.URL||Lt.webkitURL,u=l.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function WI(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+o+l+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function ly(t,e){var r=t[0],n=t[1],i=t[2],s=t[3];r=vi(r,n,i,s,e[0],7,-680876936),s=vi(s,r,n,i,e[1],12,-389564586),i=vi(i,s,r,n,e[2],17,606105819),n=vi(n,i,s,r,e[3],22,-1044525330),r=vi(r,n,i,s,e[4],7,-176418897),s=vi(s,r,n,i,e[5],12,1200080426),i=vi(i,s,r,n,e[6],17,-1473231341),n=vi(n,i,s,r,e[7],22,-45705983),r=vi(r,n,i,s,e[8],7,1770035416),s=vi(s,r,n,i,e[9],12,-1958414417),i=vi(i,s,r,n,e[10],17,-42063),n=vi(n,i,s,r,e[11],22,-1990404162),r=vi(r,n,i,s,e[12],7,1804603682),s=vi(s,r,n,i,e[13],12,-40341101),i=vi(i,s,r,n,e[14],17,-1502002290),r=yi(r,n=vi(n,i,s,r,e[15],22,1236535329),i,s,e[1],5,-165796510),s=yi(s,r,n,i,e[6],9,-1069501632),i=yi(i,s,r,n,e[11],14,643717713),n=yi(n,i,s,r,e[0],20,-373897302),r=yi(r,n,i,s,e[5],5,-701558691),s=yi(s,r,n,i,e[10],9,38016083),i=yi(i,s,r,n,e[15],14,-660478335),n=yi(n,i,s,r,e[4],20,-405537848),r=yi(r,n,i,s,e[9],5,568446438),s=yi(s,r,n,i,e[14],9,-1019803690),i=yi(i,s,r,n,e[3],14,-187363961),n=yi(n,i,s,r,e[8],20,1163531501),r=yi(r,n,i,s,e[13],5,-1444681467),s=yi(s,r,n,i,e[2],9,-51403784),i=yi(i,s,r,n,e[7],14,1735328473),r=xi(r,n=yi(n,i,s,r,e[12],20,-1926607734),i,s,e[5],4,-378558),s=xi(s,r,n,i,e[8],11,-2022574463),i=xi(i,s,r,n,e[11],16,1839030562),n=xi(n,i,s,r,e[14],23,-35309556),r=xi(r,n,i,s,e[1],4,-1530992060),s=xi(s,r,n,i,e[4],11,1272893353),i=xi(i,s,r,n,e[7],16,-155497632),n=xi(n,i,s,r,e[10],23,-1094730640),r=xi(r,n,i,s,e[13],4,681279174),s=xi(s,r,n,i,e[0],11,-358537222),i=xi(i,s,r,n,e[3],16,-722521979),n=xi(n,i,s,r,e[6],23,76029189),r=xi(r,n,i,s,e[9],4,-640364487),s=xi(s,r,n,i,e[12],11,-421815835),i=xi(i,s,r,n,e[15],16,530742520),r=wi(r,n=xi(n,i,s,r,e[2],23,-995338651),i,s,e[0],6,-198630844),s=wi(s,r,n,i,e[7],10,1126891415),i=wi(i,s,r,n,e[14],15,-1416354905),n=wi(n,i,s,r,e[5],21,-57434055),r=wi(r,n,i,s,e[12],6,1700485571),s=wi(s,r,n,i,e[3],10,-1894986606),i=wi(i,s,r,n,e[10],15,-1051523),n=wi(n,i,s,r,e[1],21,-2054922799),r=wi(r,n,i,s,e[8],6,1873313359),s=wi(s,r,n,i,e[15],10,-30611744),i=wi(i,s,r,n,e[6],15,-1560198380),n=wi(n,i,s,r,e[13],21,1309151649),r=wi(r,n,i,s,e[4],6,-145523070),s=wi(s,r,n,i,e[11],10,-1120210379),i=wi(i,s,r,n,e[2],15,718787259),n=wi(n,i,s,r,e[9],21,-343485551),t[0]=eu(r,t[0]),t[1]=eu(n,t[1]),t[2]=eu(i,t[2]),t[3]=eu(s,t[3])}function Iv(t,e,r,n,i,s){return e=eu(eu(e,t),eu(n,s)),eu(e<<i|e>>>32-i,r)}function vi(t,e,r,n,i,s,a){return Iv(e&r|~e&n,t,e,i,s,a)}function yi(t,e,r,n,i,s,a){return Iv(e&n|r&~n,t,e,i,s,a)}function xi(t,e,r,n,i,s,a){return Iv(e^r^n,t,e,i,s,a)}function wi(t,e,r,n,i,s,a){return Iv(r^(e|~n),t,e,i,s,a)}function HI(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)ly(n,ZG(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(ly(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,ly(n,i),n}function ZG(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}s0=Lt.atob.bind(Lt),vw=Lt.btoa.bind(Lt);var t3="0123456789abcdef".split("");function eK(t){for(var e="",r=0;r<4;r++)e+=t3[t>>8*r+4&15]+t3[t>>8*r&15];return e}function tK(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function yw(t){return HI(t).map(tK).join("")}var rK=function(t){for(var e=0;e<t.length;e++)t[e]=eK(t[e]);return t.join("")}(HI("hello"))!="5d41402abc4b2a76b9719d911017c592";function eu(t,e){if(rK){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function xw(t,e){var r,n,i,s;if(t!==r){for(var a=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var u=0;for(l=0;l<256;l++){var c=o[l];u=(u+c+a.charCodeAt(l))%256,o[l]=o[u],o[u]=c}r=t,n=o}else o=n;var f=e.length,d=0,h=0,v="";for(l=0;l<f;l++)h=(h+(c=o[d=(d+1)%256]))%256,o[d]=o[h],o[h]=c,a=o[(o[d]+o[h])%256],v+=String.fromCharCode(e.charCodeAt(l)^a);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var r3={print:4,modify:8,copy:16,"annot-forms":32};function kf(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(r3.perm!==void 0)throw new Error("Invalid permission: "+o);i+=r3[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=yw(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=xw(this.encryptionKey,this.padding)}function Cf(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[n]}return e}function n3(t){if(xr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var s=Math.random().toString(35);return e[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[r]){var a=e[r][s];try{a[0].apply(t,n)}catch(o){Lt.console&&Ir.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function np(t){if(!(this instanceof np))return new np(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function qI(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Kl(t,e,r,n,i){if(!(this instanceof Kl))return new Kl(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,qI.call(this,n,i)}function gc(t,e,r,n,i){if(!(this instanceof gc))return new gc(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,qI.call(this,n,i)}function At(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,u="S",c=null;xr(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,s=t.compress||t.compressPdf||s,(c=t.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,d={},h={internal:{},__private__:{}};h.__private__.PubSub=n3;var v="1.3",g=h.__private__.getPdfVersion=function(){return v};h.__private__.setPdfVersion=function(A){v=A};var S={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return S};var _=h.__private__.getPageFormat=function(A){return S[A]};i=i||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},T=b.COMPAT;function L(){this.saveGraphicsState(),ue(new vt(ht,0,0,-ht,0,di()*ht).toString()+" cm"),this.setFontSize(this.getFontSize()/ht),u="n",T=b.ADVANCED}function j(){this.restoreGraphicsState(),u="S",T=b.COMPAT}var B=h.__private__.combineFontStyleAndFontWeight=function(A,W){if(A=="bold"&&W=="normal"||A=="bold"&&W==400||A=="normal"&&W=="italic"||A=="bold"&&W=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return W&&(A=W==400||W==="normal"?A==="italic"?"italic":"normal":W!=700&&W!=="bold"||A!=="normal"?(W==700?"bold":W)+""+A:"bold"),A};h.advancedAPI=function(A){var W=T===b.COMPAT;return W&&L.call(this),typeof A!="function"||(A(this),W&&j.call(this)),this},h.compatAPI=function(A){var W=T===b.ADVANCED;return W&&j.call(this),typeof A!="function"||(A(this),W&&L.call(this)),this},h.isAdvancedAPI=function(){return T===b.ADVANCED};var k,y=function(A){if(T!==b.ADVANCED)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},C=h.roundToPrecision=h.__private__.roundToPrecision=function(A,W){var he=e||W;if(isNaN(A)||isNaN(he))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(he).replace(/0+$/,"")};k=h.hpf=h.__private__.hpf=typeof l=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return C(A,l)}:l==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return C(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return C(A,16)};var F=h.f2=h.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return C(A,2)},E=h.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return C(A,3)},N=h.scale=h.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return T===b.COMPAT?A*ht:T===b.ADVANCED?A:void 0},D=function(A){return T===b.COMPAT?di()-A:T===b.ADVANCED?A:void 0},G=function(A){return N(D(A))};h.__private__.setPrecision=h.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(e=parseInt(A,10))};var de,ie="00000000000000000000000000000000",ee=h.__private__.getFileId=function(){return ie},Q=h.__private__.setFileId=function(A){return ie=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():ie.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(Mr=new kf(c.userPermissions,c.userPassword,c.ownerPassword,ie)),ie};h.setFileId=function(A){return Q(A),this},h.getFileId=function(){return ee()};var te=h.__private__.convertDateToPDFDate=function(A){var W=A.getTimezoneOffset(),he=W<0?"+":"-",ve=Math.floor(Math.abs(W/60)),Ee=Math.abs(W%60),je=[he,U(ve),"'",U(Ee),"'"].join("");return["D:",A.getFullYear(),U(A.getMonth()+1),U(A.getDate()),U(A.getHours()),U(A.getMinutes()),U(A.getSeconds()),je].join("")},pe=h.__private__.convertPDFDateToDate=function(A){var W=parseInt(A.substr(2,4),10),he=parseInt(A.substr(6,2),10)-1,ve=parseInt(A.substr(8,2),10),Ee=parseInt(A.substr(10,2),10),je=parseInt(A.substr(12,2),10),Je=parseInt(A.substr(14,2),10);return new Date(W,he,ve,Ee,je,Je,0)},be=h.__private__.setCreationDate=function(A){var W;if(A===void 0&&(A=new Date),A instanceof Date)W=te(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");W=A}return de=W},I=h.__private__.getCreationDate=function(A){var W=de;return A==="jsDate"&&(W=pe(de)),W};h.setCreationDate=function(A){return be(A),this},h.getCreationDate=function(A){return I(A)};var O,U=h.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},z=h.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},q=0,fe=[],me=[],ge=0,Te=[],Oe=[],Be=!1,Ue=me,He=function(){q=0,ge=0,me=[],fe=[],Te=[],ne=Wr(),se=Wr()};h.__private__.setCustomOutputDestination=function(A){Be=!0,Ue=A};var Fe=function(A){Be||(Ue=A)};h.__private__.resetCustomOutputDestination=function(){Be=!1,Ue=me};var ue=h.__private__.out=function(A){return A=A.toString(),ge+=A.length+1,Ue.push(A),Ue},$e=h.__private__.write=function(A){return ue(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},mt=h.__private__.getArrayBuffer=function(A){for(var W=A.length,he=new ArrayBuffer(W),ve=new Uint8Array(he);W--;)ve[W]=A.charCodeAt(W);return he},Ye=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return Ye};var nt=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(A){return nt=T===b.ADVANCED?A/ht:A,this};var ot,lt=h.__private__.getFontSize=h.getFontSize=function(){return T===b.COMPAT?nt:nt*ht},_t=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(A){return _t=A,this},h.__private__.getR2L=h.getR2L=function(){return _t};var St,Rt=h.__private__.setZoomMode=function(A){var W=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))ot=A;else if(isNaN(A)){if(W.indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');ot=A}else ot=parseInt(A,10)};h.__private__.getZoomMode=function(){return ot};var Tt,kt=h.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');St=A};h.__private__.getPageMode=function(){return St};var qt=h.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');Tt=A};h.__private__.getLayoutMode=function(){return Tt},h.__private__.setDisplayMode=h.setDisplayMode=function(A,W,he){return Rt(A),qt(W),kt(he),this};var Ct={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(A){if(Object.keys(Ct).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ct[A]},h.__private__.getDocumentProperties=function(){return Ct},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(A){for(var W in Ct)Ct.hasOwnProperty(W)&&A[W]&&(Ct[W]=A[W]);return this},h.__private__.setDocumentProperty=function(A,W){if(Object.keys(Ct).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ct[A]=W};var Wt,ht,Dr,Gt,$n,tr={},Tr={},Ki=[],Kt={},ms={},Er={},Nn={},Li=null,ur=0,Et=[],Zt=new n3(h),Yi=t.hotfixes||[],Jr={},On={},Fi=[],vt=function A(W,he,ve,Ee,je,Je){if(!(this instanceof A))return new A(W,he,ve,Ee,je,Je);isNaN(W)&&(W=1),isNaN(he)&&(he=0),isNaN(ve)&&(ve=0),isNaN(Ee)&&(Ee=1),isNaN(je)&&(je=0),isNaN(Je)&&(Je=0),this._matrix=[W,he,ve,Ee,je,Je]};Object.defineProperty(vt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(vt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(vt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(vt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(vt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(vt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(vt.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(vt.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(vt.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(vt.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(vt.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(vt.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(vt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(vt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(vt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(vt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),vt.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(A)},vt.prototype.multiply=function(A){var W=A.sx*this.sx+A.shy*this.shx,he=A.sx*this.shy+A.shy*this.sy,ve=A.shx*this.sx+A.sy*this.shx,Ee=A.shx*this.shy+A.sy*this.sy,je=A.tx*this.sx+A.ty*this.shx+this.tx,Je=A.tx*this.shy+A.ty*this.sy+this.ty;return new vt(W,he,ve,Ee,je,Je)},vt.prototype.decompose=function(){var A=this.sx,W=this.shy,he=this.shx,ve=this.sy,Ee=this.tx,je=this.ty,Je=Math.sqrt(A*A+W*W),ft=(A/=Je)*he+(W/=Je)*ve;he-=A*ft,ve-=W*ft;var m=Math.sqrt(he*he+ve*ve);return ft/=m,A*(ve/=m)<W*(he/=m)&&(A=-A,W=-W,ft=-ft,Je=-Je),{scale:new vt(Je,0,0,m,0,0),translate:new vt(1,0,0,1,Ee,je),rotate:new vt(A,W,-W,A,0,0),skew:new vt(1,0,ft,1,0,0)}},vt.prototype.toString=function(A){return this.join(" ")},vt.prototype.inversed=function(){var A=this.sx,W=this.shy,he=this.shx,ve=this.sy,Ee=this.tx,je=this.ty,Je=1/(A*ve-W*he),ft=ve*Je,m=-W*Je,R=-he*Je,V=A*Je;return new vt(ft,m,R,V,-ft*Ee-R*je,-m*Ee-V*je)},vt.prototype.applyToPoint=function(A){var W=A.x*this.sx+A.y*this.shx+this.tx,he=A.x*this.shy+A.y*this.sy+this.ty;return new yo(W,he)},vt.prototype.applyToRectangle=function(A){var W=this.applyToPoint(A),he=this.applyToPoint(new yo(A.x+A.w,A.y+A.h));return new xl(W.x,W.y,he.x-W.x,he.y-W.y)},vt.prototype.clone=function(){var A=this.sx,W=this.shy,he=this.shx,ve=this.sy,Ee=this.tx,je=this.ty;return new vt(A,W,he,ve,Ee,je)},h.Matrix=vt;var hi=h.matrixMult=function(A,W){return W.multiply(A)},vn=new vt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=vn;var Zr=function(A,W){if(!ms[A]){var he=(W instanceof Kl?"Sh":"P")+(Object.keys(Kt).length+1).toString(10);W.id=he,ms[A]=he,Kt[he]=W,Zt.publish("addPattern",W)}};h.ShadingPattern=Kl,h.TilingPattern=gc,h.addShadingPattern=function(A,W){return y("addShadingPattern()"),Zr(A,W),this},h.beginTilingPattern=function(A){y("beginTilingPattern()"),wl(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},h.endTilingPattern=function(A,W){y("endTilingPattern()"),W.stream=Oe[O].join(`
`),Zr(A,W),Zt.publish("endTilingPattern",W),Fi.pop().restore()};var $r=h.__private__.newObject=function(){var A=Wr();return K(A,!0),A},Wr=h.__private__.newObjectDeferred=function(){return q++,fe[q]=function(){return ge},q},K=function(A,W){return W=typeof W=="boolean"&&W,fe[A]=ge,W&&ue(A+" 0 obj"),A},le=h.__private__.newAdditionalObject=function(){var A={objId:Wr(),content:""};return Te.push(A),A},ne=Wr(),se=Wr(),oe=h.__private__.decodeColorString=function(A){var W=A.split(" ");if(W.length!==2||W[1]!=="g"&&W[1]!=="G")W.length===5&&(W[4]==="k"||W[4]==="K")&&(W=[(1-W[0])*(1-W[3]),(1-W[1])*(1-W[3]),(1-W[2])*(1-W[3]),"r"]);else{var he=parseFloat(W[0]);W=[he,he,he,"r"]}for(var ve="#",Ee=0;Ee<3;Ee++)ve+=("0"+Math.floor(255*parseFloat(W[Ee])).toString(16)).slice(-2);return ve},ce=h.__private__.encodeColorString=function(A){var W;typeof A=="string"&&(A={ch1:A});var he=A.ch1,ve=A.ch2,Ee=A.ch3,je=A.ch4,Je=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof he=="string"&&he.charAt(0)!=="#"){var ft=new WI(he);if(ft.ok)he=ft.toHex();else if(!/^\d*\.?\d*$/.test(he))throw new Error('Invalid color "'+he+'" passed to jsPDF.encodeColorString.')}if(typeof he=="string"&&/^#[0-9A-Fa-f]{3}$/.test(he)&&(he="#"+he[1]+he[1]+he[2]+he[2]+he[3]+he[3]),typeof he=="string"&&/^#[0-9A-Fa-f]{6}$/.test(he)){var m=parseInt(he.substr(1),16);he=m>>16&255,ve=m>>8&255,Ee=255&m}if(ve===void 0||je===void 0&&he===ve&&ve===Ee)if(typeof he=="string")W=he+" "+Je[0];else switch(A.precision){case 2:W=F(he/255)+" "+Je[0];break;case 3:default:W=E(he/255)+" "+Je[0]}else if(je===void 0||xr(je)==="object"){if(je&&!isNaN(je.a)&&je.a===0)return W=["1.","1.","1.",Je[1]].join(" ");if(typeof he=="string")W=[he,ve,Ee,Je[1]].join(" ");else switch(A.precision){case 2:W=[F(he/255),F(ve/255),F(Ee/255),Je[1]].join(" ");break;default:case 3:W=[E(he/255),E(ve/255),E(Ee/255),Je[1]].join(" ")}}else if(typeof he=="string")W=[he,ve,Ee,je,Je[2]].join(" ");else switch(A.precision){case 2:W=[F(he),F(ve),F(Ee),F(je),Je[2]].join(" ");break;case 3:default:W=[E(he),E(ve),E(Ee),E(je),Je[2]].join(" ")}return W},Ne=h.__private__.getFilters=function(){return a},De=h.__private__.putStream=function(A){var W=(A=A||{}).data||"",he=A.filters||Ne(),ve=A.alreadyAppliedFilters||[],Ee=A.addLength1||!1,je=W.length,Je=A.objectId,ft=function(jt){return jt};if(c!==null&&Je===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(ft=Mr.encryptor(Je,0));var m={};he===!0&&(he=["FlateEncode"]);var R=A.additionalKeyValues||[],V=(m=At.API.processDataByFilters!==void 0?At.API.processDataByFilters(W,he):{data:W,reverseChain:[]}).reverseChain+(Array.isArray(ve)?ve.join(" "):ve.toString());if(m.data.length!==0&&(R.push({key:"Length",value:m.data.length}),Ee===!0&&R.push({key:"Length1",value:je})),V.length!=0)if(V.split("/").length-1==1)R.push({key:"Filter",value:V});else{R.push({key:"Filter",value:"["+V+"]"});for(var J=0;J<R.length;J+=1)if(R[J].key==="DecodeParms"){for(var Se=[],Re=0;Re<m.reverseChain.split("/").length-1;Re+=1)Se.push("null");Se.push(R[J].value),R[J].value="["+Se.join(" ")+"]"}}ue("<<");for(var Ze=0;Ze<R.length;Ze++)ue("/"+R[Ze].key+" "+R[Ze].value);ue(">>"),m.data.length!==0&&(ue("stream"),ue(ft(m.data)),ue("endstream"))},ke=h.__private__.putPage=function(A){var W=A.number,he=A.data,ve=A.objId,Ee=A.contentsObjId;K(ve,!0),ue("<</Type /Page"),ue("/Parent "+A.rootDictionaryObjId+" 0 R"),ue("/Resources "+A.resourceDictionaryObjId+" 0 R"),ue("/MediaBox ["+parseFloat(k(A.mediaBox.bottomLeftX))+" "+parseFloat(k(A.mediaBox.bottomLeftY))+" "+k(A.mediaBox.topRightX)+" "+k(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&ue("/CropBox ["+k(A.cropBox.bottomLeftX)+" "+k(A.cropBox.bottomLeftY)+" "+k(A.cropBox.topRightX)+" "+k(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&ue("/BleedBox ["+k(A.bleedBox.bottomLeftX)+" "+k(A.bleedBox.bottomLeftY)+" "+k(A.bleedBox.topRightX)+" "+k(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&ue("/TrimBox ["+k(A.trimBox.bottomLeftX)+" "+k(A.trimBox.bottomLeftY)+" "+k(A.trimBox.topRightX)+" "+k(A.trimBox.topRightY)+"]"),A.artBox!==null&&ue("/ArtBox ["+k(A.artBox.bottomLeftX)+" "+k(A.artBox.bottomLeftY)+" "+k(A.artBox.topRightX)+" "+k(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&ue("/UserUnit "+A.userUnit),Zt.publish("putPage",{objId:ve,pageContext:Et[W],pageNumber:W,page:he}),ue("/Contents "+Ee+" 0 R"),ue(">>"),ue("endobj");var je=he.join(`
`);return T===b.ADVANCED&&(je+=`
Q`),K(Ee,!0),De({data:je,filters:Ne(),objectId:Ee}),ue("endobj"),ve},Ce=h.__private__.putPages=function(){var A,W,he=[];for(A=1;A<=ur;A++)Et[A].objId=Wr(),Et[A].contentsObjId=Wr();for(A=1;A<=ur;A++)he.push(ke({number:A,data:Oe[A],objId:Et[A].objId,contentsObjId:Et[A].contentsObjId,mediaBox:Et[A].mediaBox,cropBox:Et[A].cropBox,bleedBox:Et[A].bleedBox,trimBox:Et[A].trimBox,artBox:Et[A].artBox,userUnit:Et[A].userUnit,rootDictionaryObjId:ne,resourceDictionaryObjId:se}));K(ne,!0),ue("<</Type /Pages");var ve="/Kids [";for(W=0;W<ur;W++)ve+=he[W]+" 0 R ";ue(ve+"]"),ue("/Count "+ur),ue(">>"),ue("endobj"),Zt.publish("postPutPages")},Le=function(A){Zt.publish("putFont",{font:A,out:ue,newObject:$r,putStream:De}),A.isAlreadyPutted!==!0&&(A.objectNumber=$r(),ue("<<"),ue("/Type /Font"),ue("/BaseFont /"+Cf(A.postScriptName)),ue("/Subtype /Type1"),typeof A.encoding=="string"&&ue("/Encoding /"+A.encoding),ue("/FirstChar 32"),ue("/LastChar 255"),ue(">>"),ue("endobj"))},Qe=function(){for(var A in tr)tr.hasOwnProperty(A)&&(f===!1||f===!0&&d.hasOwnProperty(A))&&Le(tr[A])},it=function(A){A.objectNumber=$r();var W=[];W.push({key:"Type",value:"/XObject"}),W.push({key:"Subtype",value:"/Form"}),W.push({key:"BBox",value:"["+[k(A.x),k(A.y),k(A.x+A.width),k(A.y+A.height)].join(" ")+"]"}),W.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var he=A.pages[1].join(`
`);De({data:he,additionalKeyValues:W,objectId:A.objectNumber}),ue("endobj")},dt=function(){for(var A in Jr)Jr.hasOwnProperty(A)&&it(Jr[A])},tt=function(A,W){var he,ve=[],Ee=1/(W-1);for(he=0;he<1;he+=Ee)ve.push(he);if(ve.push(1),A[0].offset!=0){var je={offset:0,color:A[0].color};A.unshift(je)}if(A[A.length-1].offset!=1){var Je={offset:1,color:A[A.length-1].color};A.push(Je)}for(var ft="",m=0,R=0;R<ve.length;R++){for(he=ve[R];he>A[m+1].offset;)m++;var V=A[m].offset,J=(he-V)/(A[m+1].offset-V),Se=A[m].color,Re=A[m+1].color;ft+=z(Math.round((1-J)*Se[0]+J*Re[0]).toString(16))+z(Math.round((1-J)*Se[1]+J*Re[1]).toString(16))+z(Math.round((1-J)*Se[2]+J*Re[2]).toString(16))}return ft.trim()},ut=function(A,W){W||(W=21);var he=$r(),ve=tt(A.colors,W),Ee=[];Ee.push({key:"FunctionType",value:"0"}),Ee.push({key:"Domain",value:"[0.0 1.0]"}),Ee.push({key:"Size",value:"["+W+"]"}),Ee.push({key:"BitsPerSample",value:"8"}),Ee.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ee.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),De({data:ve,additionalKeyValues:Ee,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:he}),ue("endobj"),A.objectNumber=$r(),ue("<< /ShadingType "+A.type),ue("/ColorSpace /DeviceRGB");var je="/Coords ["+k(parseFloat(A.coords[0]))+" "+k(parseFloat(A.coords[1]))+" ";A.type===2?je+=k(parseFloat(A.coords[2]))+" "+k(parseFloat(A.coords[3])):je+=k(parseFloat(A.coords[2]))+" "+k(parseFloat(A.coords[3]))+" "+k(parseFloat(A.coords[4]))+" "+k(parseFloat(A.coords[5])),ue(je+="]"),A.matrix&&ue("/Matrix ["+A.matrix.toString()+"]"),ue("/Function "+he+" 0 R"),ue("/Extend [true true]"),ue(">>"),ue("endobj")},It=function(A,W){var he=Wr(),ve=$r();W.push({resourcesOid:he,objectOid:ve}),A.objectNumber=ve;var Ee=[];Ee.push({key:"Type",value:"/Pattern"}),Ee.push({key:"PatternType",value:"1"}),Ee.push({key:"PaintType",value:"1"}),Ee.push({key:"TilingType",value:"1"}),Ee.push({key:"BBox",value:"["+A.boundingBox.map(k).join(" ")+"]"}),Ee.push({key:"XStep",value:k(A.xStep)}),Ee.push({key:"YStep",value:k(A.yStep)}),Ee.push({key:"Resources",value:he+" 0 R"}),A.matrix&&Ee.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),De({data:A.stream,additionalKeyValues:Ee,objectId:A.objectNumber}),ue("endobj")},rr=function(A){var W;for(W in Kt)Kt.hasOwnProperty(W)&&(Kt[W]instanceof Kl?ut(Kt[W]):Kt[W]instanceof gc&&It(Kt[W],A))},nr=function(A){for(var W in A.objectNumber=$r(),ue("<<"),A)switch(W){case"opacity":ue("/ca "+F(A[W]));break;case"stroke-opacity":ue("/CA "+F(A[W]))}ue(">>"),ue("endobj")},Ar=function(){var A;for(A in Er)Er.hasOwnProperty(A)&&nr(Er[A])},Di=function(){for(var A in ue("/XObject <<"),Jr)Jr.hasOwnProperty(A)&&Jr[A].objectNumber>=0&&ue("/"+A+" "+Jr[A].objectNumber+" 0 R");Zt.publish("putXobjectDict"),ue(">>")},sa=function(){Mr.oid=$r(),ue("<<"),ue("/Filter /Standard"),ue("/V "+Mr.v),ue("/R "+Mr.r),ue("/U <"+Mr.toHexString(Mr.U)+">"),ue("/O <"+Mr.toHexString(Mr.O)+">"),ue("/P "+Mr.P),ue(">>"),ue("endobj")},gs=function(){for(var A in ue("/Font <<"),tr)tr.hasOwnProperty(A)&&(f===!1||f===!0&&d.hasOwnProperty(A))&&ue("/"+A+" "+tr[A].objectNumber+" 0 R");ue(">>")},Xi=function(){if(Object.keys(Kt).length>0){for(var A in ue("/Shading <<"),Kt)Kt.hasOwnProperty(A)&&Kt[A]instanceof Kl&&Kt[A].objectNumber>=0&&ue("/"+A+" "+Kt[A].objectNumber+" 0 R");Zt.publish("putShadingPatternDict"),ue(">>")}},vs=function(A){if(Object.keys(Kt).length>0){for(var W in ue("/Pattern <<"),Kt)Kt.hasOwnProperty(W)&&Kt[W]instanceof h.TilingPattern&&Kt[W].objectNumber>=0&&Kt[W].objectNumber<A&&ue("/"+W+" "+Kt[W].objectNumber+" 0 R");Zt.publish("putTilingPatternDict"),ue(">>")}},Gn=function(){if(Object.keys(Er).length>0){var A;for(A in ue("/ExtGState <<"),Er)Er.hasOwnProperty(A)&&Er[A].objectNumber>=0&&ue("/"+A+" "+Er[A].objectNumber+" 0 R");Zt.publish("putGStateDict"),ue(">>")}},Or=function(A){K(A.resourcesOid,!0),ue("<<"),ue("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),gs(),Xi(),vs(A.objectOid),Gn(),Di(),ue(">>"),ue("endobj")},Bu=function(){var A=[];Qe(),Ar(),dt(),rr(A),Zt.publish("putResources"),A.forEach(Or),Or({resourcesOid:se,objectOid:Number.MAX_SAFE_INTEGER}),Zt.publish("postPutResources")},Vu=function(){Zt.publish("putAdditionalObjects");for(var A=0;A<Te.length;A++){var W=Te[A];K(W.objId,!0),ue(W.content),ue("endobj")}Zt.publish("postPutAdditionalObjects")},Qc=function(A){Tr[A.fontName]=Tr[A.fontName]||{},Tr[A.fontName][A.fontStyle]=A.id},Uu=function(A,W,he,ve,Ee){var je={id:"F"+(Object.keys(tr).length+1).toString(10),postScriptName:A,fontName:W,fontStyle:he,encoding:ve,isStandardFont:Ee||!1,metadata:{}};return Zt.publish("addFont",{font:je,instance:this}),tr[je.id]=je,Qc(je),je.id},Jc=function(A){for(var W=0,he=Ye.length;W<he;W++){var ve=Uu.call(this,A[W][0],A[W][1],A[W][2],Ye[W][3],!0);f===!1&&(d[ve]=!0);var Ee=A[W][0].split("-");Qc({id:ve,fontName:Ee[0],fontStyle:Ee[1]||""})}Zt.publish("addFonts",{fonts:tr,dictionary:Tr})},Qi=function(A){return A.foo=function(){try{return A.apply(this,arguments)}catch(ve){var W=ve.stack||"";~W.indexOf(" at ")&&(W=W.split(" at ")[1]);var he="Error in function "+W.split(`
`)[0].split("<")[0]+": "+ve.message;if(!Lt.console)throw new Error(he);Lt.console.error(he,ve),Lt.alert&&alert(he)}},A.foo.bar=A,A.foo},ol=function(A,W){var he,ve,Ee,je,Je,ft,m,R,V;if(Ee=(W=W||{}).sourceEncoding||"Unicode",Je=W.outputEncoding,(W.autoencode||Je)&&tr[Wt].metadata&&tr[Wt].metadata[Ee]&&tr[Wt].metadata[Ee].encoding&&(je=tr[Wt].metadata[Ee].encoding,!Je&&tr[Wt].encoding&&(Je=tr[Wt].encoding),!Je&&je.codePages&&(Je=je.codePages[0]),typeof Je=="string"&&(Je=je[Je]),Je)){for(m=!1,ft=[],he=0,ve=A.length;he<ve;he++)(R=Je[A.charCodeAt(he)])?ft.push(String.fromCharCode(R)):ft.push(A[he]),ft[he].charCodeAt(0)>>8&&(m=!0);A=ft.join("")}for(he=A.length;m===void 0&&he!==0;)A.charCodeAt(he-1)>>8&&(m=!0),he--;if(!m)return A;for(ft=W.noBOM?[]:[254,255],he=0,ve=A.length;he<ve;he++){if((V=(R=A.charCodeAt(he))>>8)>>8)throw new Error("Character at position "+he+" of string '"+A+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ft.push(V),ft.push(R-(V<<8))}return String.fromCharCode.apply(void 0,ft)},en=h.__private__.pdfEscape=h.pdfEscape=function(A,W){return ol(A,W).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Oi=h.__private__.beginPage=function(A){Oe[++ur]=[],Et[ur]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},zu(ur),Fe(Oe[O])},ho=function(A,W){var he,ve,Ee;switch(r=W||r,typeof A=="string"&&(he=_(A.toLowerCase()),Array.isArray(he)&&(ve=he[0],Ee=he[1])),Array.isArray(A)&&(ve=A[0]*ht,Ee=A[1]*ht),isNaN(ve)&&(ve=i[0],Ee=i[1]),(ve>14400||Ee>14400)&&(Ir.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ve=Math.min(14400,ve),Ee=Math.min(14400,Ee)),i=[ve,Ee],r.substr(0,1)){case"l":Ee>ve&&(i=[Ee,ve]);break;case"p":ve>Ee&&(i=[Ee,ve])}Oi(i),Gu($u),ue(Kn),Xu!==0&&ue(Xu+" J"),yl!==0&&ue(yl+" j"),Zt.publish("addPage",{pageNumber:ur})},ll=function(A){A>0&&A<=ur&&(Oe.splice(A,1),Et.splice(A,1),ur--,O>ur&&(O=ur),this.setPage(O))},zu=function(A){A>0&&A<=ur&&(O=A)},pr=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return Oe.length-1},po=function(A,W,he){var ve,Ee=void 0;return he=he||{},A=A!==void 0?A:tr[Wt].fontName,W=W!==void 0?W:tr[Wt].fontStyle,ve=A.toLowerCase(),Tr[ve]!==void 0&&Tr[ve][W]!==void 0?Ee=Tr[ve][W]:Tr[A]!==void 0&&Tr[A][W]!==void 0?Ee=Tr[A][W]:he.disableWarning===!1&&Ir.warn("Unable to look up font label for font '"+A+"', '"+W+"'. Refer to getFontList() for available fonts."),Ee||he.noFallback||(Ee=Tr.times[W])==null&&(Ee=Tr.times.normal),Ee},mo=h.__private__.putInfo=function(){var A=$r(),W=function(ve){return ve};for(var he in c!==null&&(W=Mr.encryptor(A,0)),ue("<<"),ue("/Producer ("+en(W("jsPDF "+At.version))+")"),Ct)Ct.hasOwnProperty(he)&&Ct[he]&&ue("/"+he.substr(0,1).toUpperCase()+he.substr(1)+" ("+en(W(Ct[he]))+")");ue("/CreationDate ("+en(W(de))+")"),ue(">>"),ue("endobj")},aa=h.__private__.putCatalog=function(A){var W=(A=A||{}).rootDictionaryObjId||ne;switch($r(),ue("<<"),ue("/Type /Catalog"),ue("/Pages "+W+" 0 R"),ot||(ot="fullwidth"),ot){case"fullwidth":ue("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ue("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ue("/OpenAction [3 0 R /Fit]");break;case"original":ue("/OpenAction [3 0 R /XYZ null null 1]");break;default:var he=""+ot;he.substr(he.length-1)==="%"&&(ot=parseInt(ot)/100),typeof ot=="number"&&ue("/OpenAction [3 0 R /XYZ null null "+F(ot)+"]")}switch(Tt||(Tt="continuous"),Tt){case"continuous":ue("/PageLayout /OneColumn");break;case"single":ue("/PageLayout /SinglePage");break;case"two":case"twoleft":ue("/PageLayout /TwoColumnLeft");break;case"tworight":ue("/PageLayout /TwoColumnRight")}St&&ue("/PageMode /"+St),Zt.publish("putCatalog"),ue(">>"),ue("endobj")},Xh=h.__private__.putTrailer=function(){ue("trailer"),ue("<<"),ue("/Size "+(q+1)),ue("/Root "+q+" 0 R"),ue("/Info "+(q-1)+" 0 R"),c!==null&&ue("/Encrypt "+Mr.oid+" 0 R"),ue("/ID [ <"+ie+"> <"+ie+"> ]"),ue(">>")},Zc=h.__private__.putHeader=function(){ue("%PDF-"+v),ue("%")},Qh=h.__private__.putXRef=function(){var A="0000000000";ue("xref"),ue("0 "+(q+1)),ue("0000000000 65535 f ");for(var W=1;W<=q;W++)typeof fe[W]=="function"?ue((A+fe[W]()).slice(-10)+" 00000 n "):fe[W]!==void 0?ue((A+fe[W]).slice(-10)+" 00000 n "):ue("0000000000 00000 n ")},oa=h.__private__.buildDocument=function(){He(),Fe(me),Zt.publish("buildDocument"),Zc(),Ce(),Vu(),Bu(),c!==null&&sa(),mo(),aa();var A=ge;return Qh(),Xh(),ue("startxref"),ue(""+A),ue("%%EOF"),Fe(Oe[O]),me.join(`
`)},ul=h.__private__.getBlob=function(A){return new Blob([mt(A)],{type:"application/pdf"})},cl=h.output=h.__private__.output=Qi(function(A,W){switch(typeof(W=W||{})=="string"?W={filename:W}:W.filename=W.filename||"generated.pdf",A){case void 0:return oa();case"save":h.save(W.filename);break;case"arraybuffer":return mt(oa());case"blob":return ul(oa());case"bloburi":case"bloburl":if(Lt.URL!==void 0&&typeof Lt.URL.createObjectURL=="function")return Lt.URL&&Lt.URL.createObjectURL(ul(oa()))||void 0;Ir.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var he="",ve=oa();try{he=vw(ve)}catch{he=vw(unescape(encodeURIComponent(ve)))}return"data:application/pdf;filename="+W.filename+";base64,"+he;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Lt)==="[object Window]"){var Ee="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",je=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';W.pdfObjectUrl&&(Ee=W.pdfObjectUrl,je="");var Je='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ee+'"'+je+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(W)+");<\/script></body></html>",ft=Lt.open();return ft!==null&&ft.document.write(Je),ft}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Lt)==="[object Window]"){var m='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(W.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+W.filename+'" width="500px" height="400px" /></body></html>',R=Lt.open();if(R!==null){R.document.write(m);var V=this;R.document.documentElement.querySelector("#pdfViewer").onload=function(){R.document.title=W.filename,R.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(V.output("bloburl"))}}return R}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Lt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var J='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",W)+'"></iframe></body></html>',Se=Lt.open();if(Se!==null&&(Se.document.write(J),Se.document.title=W.filename),Se||typeof safari>"u")return Se;break;case"datauri":case"dataurl":return Lt.document.location.href=this.output("datauristring",W);default:return null}}),Ma=function(A){return Array.isArray(Yi)===!0&&Yi.indexOf(A)>-1};switch(n){case"pt":ht=1;break;case"mm":ht=72/25.4;break;case"cm":ht=72/2.54;break;case"in":ht=72;break;case"px":ht=Ma("px_scaling")==1?.75:96/72;break;case"pc":case"em":ht=12;break;case"ex":ht=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ht=n}var Mr=null;be(),Q();var ef=function(A){return c!==null?Mr.encryptor(A,0):function(W){return W}},Wu=h.__private__.getPageInfo=h.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Et[A].objId,pageNumber:A,pageContext:Et[A]}},Ft=h.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var W in Et)if(Et[W].objId===A)break;return Wu(W)},ja=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:Et[O].objId,pageNumber:O,pageContext:Et[O]}};h.addPage=function(){return ho.apply(this,arguments),this},h.setPage=function(){return zu.apply(this,arguments),Fe.call(this,Oe[O]),this},h.insertPage=function(A){return this.addPage(),this.movePage(O,A),this},h.movePage=function(A,W){var he,ve;if(A>W){he=Oe[A],ve=Et[A];for(var Ee=A;Ee>W;Ee--)Oe[Ee]=Oe[Ee-1],Et[Ee]=Et[Ee-1];Oe[W]=he,Et[W]=ve,this.setPage(W)}else if(A<W){he=Oe[A],ve=Et[A];for(var je=A;je<W;je++)Oe[je]=Oe[je+1],Et[je]=Et[je+1];Oe[W]=he,Et[W]=ve,this.setPage(W)}return this},h.deletePage=function(){return ll.apply(this,arguments),this},h.__private__.text=h.text=function(A,W,he,ve,Ee){var je,Je,ft,m,R,V,J,Se,Re,Ze=(ve=ve||{}).scope||this;if(typeof A=="number"&&typeof W=="number"&&(typeof he=="string"||Array.isArray(he))){var jt=he;he=W,W=A,A=jt}if(arguments[3]instanceof vt?(y("The transform parameter of text() with a Matrix value"),Re=Ee):(ft=arguments[4],m=arguments[5],xr(J=arguments[3])==="object"&&J!==null||(typeof ft=="string"&&(m=ft,ft=null),typeof J=="string"&&(m=J,J=null),typeof J=="number"&&(ft=J,J=null),ve={flags:J,angle:ft,align:m})),isNaN(W)||isNaN(he)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return Ze;var Xt="",Bt=!1,dr=typeof ve.lineHeightFactor=="number"?ve.lineHeightFactor:hr,Cr=Ze.internal.scaleFactor;function ha(Rr){return Rr=Rr.split("	").join(Array(ve.TabLen||9).join(" ")),en(Rr,J)}function Yn(Rr){for(var Lr,un=Rr.concat(),Cn=[],So=un.length;So--;)typeof(Lr=un.shift())=="string"?Cn.push(Lr):Array.isArray(Rr)&&(Lr.length===1||Lr[1]===void 0&&Lr[2]===void 0)?Cn.push(Lr[0]):Cn.push([Lr[0],Lr[1],Lr[2]]);return Cn}function za(Rr,Lr){var un;if(typeof Rr=="string")un=Lr(Rr)[0];else if(Array.isArray(Rr)){for(var Cn,So,ad=Rr.concat(),pf=[],Hp=ad.length;Hp--;)typeof(Cn=ad.shift())=="string"?pf.push(Lr(Cn)[0]):Array.isArray(Cn)&&typeof Cn[0]=="string"&&(So=Lr(Cn[0],Cn[1],Cn[2]),pf.push([So[0],So[1],So[2]]));un=pf}return un}var Wa=!1,Zh=!0;if(typeof A=="string")Wa=!0;else if(Array.isArray(A)){var ed=A.concat();Je=[];for(var af,Xn=ed.length;Xn--;)(typeof(af=ed.shift())!="string"||Array.isArray(af)&&typeof af[0]!="string")&&(Zh=!1);Wa=Zh}if(Wa===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var of=nt/Ze.internal.scaleFactor,lf=of*(dr-1);switch(ve.baseline){case"bottom":he-=lf;break;case"top":he+=of-lf;break;case"hanging":he+=of-2*lf;break;case"middle":he+=of/2-lf}if((V=ve.maxWidth||0)>0&&(typeof A=="string"?A=Ze.splitTextToSize(A,V):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(Rr,Lr){return Rr.concat(Ze.splitTextToSize(Lr,V))},[]))),je={text:A,x:W,y:he,options:ve,mutex:{pdfEscape:en,activeFontKey:Wt,fonts:tr,activeFontSize:nt}},Zt.publish("preProcessText",je),A=je.text,ft=(ve=je.options).angle,!(Re instanceof vt)&&ft&&typeof ft=="number"){ft*=Math.PI/180,ve.rotationDirection===0&&(ft=-ft),T===b.ADVANCED&&(ft=-ft);var uf=Math.cos(ft),td=Math.sin(ft);Re=new vt(uf,td,-td,uf,0,0)}else ft&&ft instanceof vt&&(Re=ft);T!==b.ADVANCED||Re||(Re=vn),(R=ve.charSpace||vo)!==void 0&&(Xt+=k(N(R))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Se=ve.horizontalScale)!==void 0&&(Xt+=k(100*Se)+` Tz
`),ve.lang;var Ji=-1,Vv=ve.renderingMode!==void 0?ve.renderingMode:ve.stroke,rd=Ze.internal.getCurrentPageInfo().pageContext;switch(Vv){case 0:case!1:case"fill":Ji=0;break;case 1:case!0:case"stroke":Ji=1;break;case 2:case"fillThenStroke":Ji=2;break;case 3:case"invisible":Ji=3;break;case 4:case"fillAndAddForClipping":Ji=4;break;case 5:case"strokeAndAddPathForClipping":Ji=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ji=6;break;case 7:case"addToPathForClipping":Ji=7}var Vp=rd.usedRenderingMode!==void 0?rd.usedRenderingMode:-1;Ji!==-1?Xt+=Ji+` Tr
`:Vp!==-1&&(Xt+=`0 Tr
`),Ji!==-1&&(rd.usedRenderingMode=Ji),m=ve.align||"left";var js,cf=nt*dr,Up=Ze.internal.pageSize.getWidth(),zp=tr[Wt];R=ve.charSpace||vo,V=ve.maxWidth||0,J=Object.assign({autoencode:!0,noBOM:!0},ve.flags);var Sl=[],Qu=function(Rr){return Ze.getStringUnitWidth(Rr,{font:zp,charSpace:R,fontSize:nt,doKerning:!1})*nt/Cr};if(Object.prototype.toString.call(A)==="[object Array]"){var Zi;Je=Yn(A),m!=="left"&&(js=Je.map(Qu));var Mi,Tl=0;if(m==="right"){W-=js[0],A=[],Xn=Je.length;for(var wo=0;wo<Xn;wo++)wo===0?(Mi=ws(W),Zi=kn(he)):(Mi=N(Tl-js[wo]),Zi=-cf),A.push([Je[wo],Mi,Zi]),Tl=js[wo]}else if(m==="center"){W-=js[0]/2,A=[],Xn=Je.length;for(var _o=0;_o<Xn;_o++)_o===0?(Mi=ws(W),Zi=kn(he)):(Mi=N((Tl-js[_o])/2),Zi=-cf),A.push([Je[_o],Mi,Zi]),Tl=js[_o]}else if(m==="left"){A=[],Xn=Je.length;for(var ff=0;ff<Xn;ff++)A.push(Je[ff])}else if(m==="justify"&&zp.encoding==="Identity-H"){A=[],Xn=Je.length,V=V!==0?V:Up;for(var bo=0,ln=0;ln<Xn;ln++)if(Zi=ln===0?kn(he):-cf,Mi=ln===0?ws(W):bo,ln<Xn-1){var nd=N((V-js[ln])/(Je[ln].split(" ").length-1)),ji=Je[ln].split(" ");A.push([ji[0]+" ",Mi,Zi]),bo=0;for(var Bs=1;Bs<ji.length;Bs++){var hf=(Qu(ji[Bs-1]+" "+ji[Bs])-Qu(ji[Bs]))*Cr+nd;Bs==ji.length-1?A.push([ji[Bs],hf,0]):A.push([ji[Bs]+" ",hf,0]),bo-=hf}}else A.push([Je[ln],Mi,Zi]);A.push(["",bo,0])}else{if(m!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],Xn=Je.length,V=V!==0?V:Up,ln=0;ln<Xn;ln++)Zi=ln===0?kn(he):-cf,Mi=ln===0?ws(W):0,ln<Xn-1?Sl.push(k(N((V-js[ln])/(Je[ln].split(" ").length-1)))):Sl.push(0),A.push([Je[ln],Mi,Zi])}}var Wp=typeof ve.R2L=="boolean"?ve.R2L:_t;Wp===!0&&(A=za(A,function(Rr,Lr,un){return[Rr.split("").reverse().join(""),Lr,un]})),je={text:A,x:W,y:he,options:ve,mutex:{pdfEscape:en,activeFontKey:Wt,fonts:tr,activeFontSize:nt}},Zt.publish("postProcessText",je),A=je.text,Bt=je.mutex.isHex||!1;var id=tr[Wt].encoding;id!=="WinAnsiEncoding"&&id!=="StandardEncoding"||(A=za(A,function(Rr,Lr,un){return[ha(Rr),Lr,un]})),Je=Yn(A),A=[];for(var Ju,Zu,El,ec=0,df=1,tc=Array.isArray(Je[0])?df:ec,Al="",sd=function(Rr,Lr,un){var Cn="";return un instanceof vt?(un=typeof ve.angle=="number"?hi(un,new vt(1,0,0,1,Rr,Lr)):hi(new vt(1,0,0,1,Rr,Lr),un),T===b.ADVANCED&&(un=hi(new vt(1,0,0,-1,0,0),un)),Cn=un.join(" ")+` Tm
`):Cn=k(Rr)+" "+k(Lr)+` Td
`,Cn},Vs=0;Vs<Je.length;Vs++){switch(Al="",tc){case df:El=(Bt?"<":"(")+Je[Vs][0]+(Bt?">":")"),Ju=parseFloat(Je[Vs][1]),Zu=parseFloat(Je[Vs][2]);break;case ec:El=(Bt?"<":"(")+Je[Vs]+(Bt?">":")"),Ju=ws(W),Zu=kn(he)}Sl!==void 0&&Sl[Vs]!==void 0&&(Al=Sl[Vs]+` Tw
`),Vs===0?A.push(Al+sd(Ju,Zu,Re)+El):tc===ec?A.push(Al+El):tc===df&&A.push(Al+sd(Ju,Zu,Re)+El)}A=tc===ec?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var Us=`BT
/`;return Us+=Wt+" "+nt+` Tf
`,Us+=k(nt*dr)+` TL
`,Us+=ca+`
`,Us+=Xt,Us+=A,ue(Us+="ET"),d[Wt]=!0,Ze};var Jh=h.__private__.clip=h.clip=function(A){return ue(A==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return Jh("evenodd")},h.__private__.discardPath=h.discardPath=function(){return ue("n"),this};var Ms=h.__private__.isValidStyle=function(A){var W=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(W=!0),W};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(A){return Ms(A)&&(u=A),this};var tf=h.__private__.getStyle=h.getStyle=function(A){var W=u;switch(A){case"D":case"S":W="S";break;case"F":W="f";break;case"FD":case"DF":W="B";break;case"f":case"f*":case"B":case"B*":W=A}return W},ys=h.close=function(){return ue("h"),this};h.stroke=function(){return ue("S"),this},h.fill=function(A){return fl("f",A),this},h.fillEvenOdd=function(A){return fl("f*",A),this},h.fillStroke=function(A){return fl("B",A),this},h.fillStrokeEvenOdd=function(A){return fl("B*",A),this};var fl=function(A,W){xr(W)==="object"?dl(W,A):ue(A)},Hu=function(A){A===null||T===b.ADVANCED&&A===void 0||(A=tf(A),ue(A))};function hl(A,W,he,ve,Ee){var je=new gc(W||this.boundingBox,he||this.xStep,ve||this.yStep,this.gState,Ee||this.matrix);je.stream=this.stream;var Je=A+"$$"+this.cloneIndex+++"$$";return Zr(Je,je),je}var dl=function(A,W){var he=ms[A.key],ve=Kt[he];if(ve instanceof Kl)ue("q"),ue(rf(W)),ve.gState&&h.setGState(ve.gState),ue(A.matrix.toString()+" cm"),ue("/"+he+" sh"),ue("Q");else if(ve instanceof gc){var Ee=new vt(1,0,0,-1,0,di());A.matrix&&(Ee=Ee.multiply(A.matrix||vn),he=hl.call(ve,A.key,A.boundingBox,A.xStep,A.yStep,Ee).id),ue("q"),ue("/Pattern cs"),ue("/"+he+" scn"),ve.gState&&h.setGState(ve.gState),ue(W),ue("Q")}},rf=function(A){switch(A){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},la=h.moveTo=function(A,W){return ue(k(N(A))+" "+k(G(W))+" m"),this},xs=h.lineTo=function(A,W){return ue(k(N(A))+" "+k(G(W))+" l"),this},ua=h.curveTo=function(A,W,he,ve,Ee,je){return ue([k(N(A)),k(G(W)),k(N(he)),k(G(ve)),k(N(Ee)),k(G(je)),"c"].join(" ")),this};h.__private__.line=h.line=function(A,W,he,ve,Ee){if(isNaN(A)||isNaN(W)||isNaN(he)||isNaN(ve)||!Ms(Ee))throw new Error("Invalid arguments passed to jsPDF.line");return T===b.COMPAT?this.lines([[he-A,ve-W]],A,W,[1,1],Ee||"S"):this.lines([[he-A,ve-W]],A,W,[1,1]).stroke()},h.__private__.lines=h.lines=function(A,W,he,ve,Ee,je){var Je,ft,m,R,V,J,Se,Re,Ze,jt,Xt,Bt;if(typeof A=="number"&&(Bt=he,he=W,W=A,A=Bt),ve=ve||[1,1],je=je||!1,isNaN(W)||isNaN(he)||!Array.isArray(A)||!Array.isArray(ve)||!Ms(Ee)||typeof je!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(la(W,he),Je=ve[0],ft=ve[1],R=A.length,jt=W,Xt=he,m=0;m<R;m++)(V=A[m]).length===2?(jt=V[0]*Je+jt,Xt=V[1]*ft+Xt,xs(jt,Xt)):(J=V[0]*Je+jt,Se=V[1]*ft+Xt,Re=V[2]*Je+jt,Ze=V[3]*ft+Xt,jt=V[4]*Je+jt,Xt=V[5]*ft+Xt,ua(J,Se,Re,Ze,jt,Xt));return je&&ys(),Hu(Ee),this},h.path=function(A){for(var W=0;W<A.length;W++){var he=A[W],ve=he.c;switch(he.op){case"m":la(ve[0],ve[1]);break;case"l":xs(ve[0],ve[1]);break;case"c":ua.apply(this,ve);break;case"h":ys()}}return this},h.__private__.rect=h.rect=function(A,W,he,ve,Ee){if(isNaN(A)||isNaN(W)||isNaN(he)||isNaN(ve)||!Ms(Ee))throw new Error("Invalid arguments passed to jsPDF.rect");return T===b.COMPAT&&(ve=-ve),ue([k(N(A)),k(G(W)),k(N(he)),k(N(ve)),"re"].join(" ")),Hu(Ee),this},h.__private__.triangle=h.triangle=function(A,W,he,ve,Ee,je,Je){if(isNaN(A)||isNaN(W)||isNaN(he)||isNaN(ve)||isNaN(Ee)||isNaN(je)||!Ms(Je))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[he-A,ve-W],[Ee-he,je-ve],[A-Ee,W-je]],A,W,[1,1],Je,!0),this},h.__private__.roundedRect=h.roundedRect=function(A,W,he,ve,Ee,je,Je){if(isNaN(A)||isNaN(W)||isNaN(he)||isNaN(ve)||isNaN(Ee)||isNaN(je)||!Ms(Je))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ft=4/3*(Math.SQRT2-1);return Ee=Math.min(Ee,.5*he),je=Math.min(je,.5*ve),this.lines([[he-2*Ee,0],[Ee*ft,0,Ee,je-je*ft,Ee,je],[0,ve-2*je],[0,je*ft,-Ee*ft,je,-Ee,je],[2*Ee-he,0],[-Ee*ft,0,-Ee,-je*ft,-Ee,-je],[0,2*je-ve],[0,-je*ft,Ee*ft,-je,Ee,-je]],A+Ee,W,[1,1],Je,!0),this},h.__private__.ellipse=h.ellipse=function(A,W,he,ve,Ee){if(isNaN(A)||isNaN(W)||isNaN(he)||isNaN(ve)||!Ms(Ee))throw new Error("Invalid arguments passed to jsPDF.ellipse");var je=4/3*(Math.SQRT2-1)*he,Je=4/3*(Math.SQRT2-1)*ve;return la(A+he,W),ua(A+he,W-Je,A+je,W-ve,A,W-ve),ua(A-je,W-ve,A-he,W-Je,A-he,W),ua(A-he,W+Je,A-je,W+ve,A,W+ve),ua(A+je,W+ve,A+he,W+Je,A+he,W),Hu(Ee),this},h.__private__.circle=h.circle=function(A,W,he,ve){if(isNaN(A)||isNaN(W)||isNaN(he)||!Ms(ve))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,W,he,he,ve)},h.setFont=function(A,W,he){return he&&(W=B(W,he)),Wt=po(A,W,{disableWarning:!1}),this};var qu=h.__private__.getFont=h.getFont=function(){return tr[po.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var A,W,he={};for(A in Tr)if(Tr.hasOwnProperty(A))for(W in he[A]=[],Tr[A])Tr[A].hasOwnProperty(W)&&he[A].push(W);return he},h.addFont=function(A,W,he,ve,Ee){var je=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&je.indexOf(arguments[3])!==-1?Ee=arguments[3]:arguments[3]&&je.indexOf(arguments[3])==-1&&(he=B(he,ve)),Ee=Ee||"Identity-H",Uu.call(this,A,W,he,Ee)};var hr,$u=t.lineWidth||.200025,pl=h.__private__.getLineWidth=h.getLineWidth=function(){return $u},Gu=h.__private__.setLineWidth=h.setLineWidth=function(A){return $u=A,ue(k(N(A))+" w"),this};h.__private__.setLineDash=At.API.setLineDash=At.API.setLineDashPattern=function(A,W){if(A=A||[],W=W||0,isNaN(W)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(he){return k(N(he))}).join(" "),W=k(N(W)),ue("["+A+"] "+W+" d"),this};var Ku=h.__private__.getLineHeight=h.getLineHeight=function(){return nt*hr};h.__private__.getLineHeight=h.getLineHeight=function(){return nt*hr};var Yu=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(hr=A),this},go=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return hr};Yu(t.lineHeight);var ws=h.__private__.getHorizontalCoordinate=function(A){return N(A)},kn=h.__private__.getVerticalCoordinate=function(A){return T===b.ADVANCED?A:Et[O].mediaBox.topRightY-Et[O].mediaBox.bottomLeftY-N(A)},nf=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(A){return k(ws(A))},Ba=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(A){return k(kn(A))},Kn=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return oe(Kn)},h.__private__.setStrokeColor=h.setDrawColor=function(A,W,he,ve){return Kn=ce({ch1:A,ch2:W,ch3:he,ch4:ve,pdfColorType:"draw",precision:2}),ue(Kn),this};var ml=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return oe(ml)},h.__private__.setFillColor=h.setFillColor=function(A,W,he,ve){return ml=ce({ch1:A,ch2:W,ch3:he,ch4:ve,pdfColorType:"fill",precision:2}),ue(ml),this};var ca=t.textColor||"0 g",gl=h.__private__.getTextColor=h.getTextColor=function(){return oe(ca)};h.__private__.setTextColor=h.setTextColor=function(A,W,he,ve){return ca=ce({ch1:A,ch2:W,ch3:he,ch4:ve,pdfColorType:"text",precision:3}),this};var vo=t.charSpace,vl=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(vo||0)};h.__private__.setCharSpace=h.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return vo=A,this};var Xu=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(A){var W=h.CapJoinStyles[A];if(W===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xu=W,ue(W+" J"),this};var yl=0;h.__private__.setLineJoin=h.setLineJoin=function(A){var W=h.CapJoinStyles[A];if(W===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return yl=W,ue(W+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ue(k(N(A))+" M"),this},h.GState=np,h.setGState=function(A){(A=typeof A=="string"?Er[Nn[A]]:Va(null,A)).equals(Li)||(ue("/"+A.id+" gs"),Li=A)};var Va=function(A,W){if(!A||!Nn[A]){var he=!1;for(var ve in Er)if(Er.hasOwnProperty(ve)&&Er[ve].equals(W)){he=!0;break}if(he)W=Er[ve];else{var Ee="GS"+(Object.keys(Er).length+1).toString(10);Er[Ee]=W,W.id=Ee}return A&&(Nn[A]=W.id),Zt.publish("addGState",W),W}};h.addGState=function(A,W){return Va(A,W),this},h.saveGraphicsState=function(){return ue("q"),Ki.push({key:Wt,size:nt,color:ca}),this},h.restoreGraphicsState=function(){ue("Q");var A=Ki.pop();return Wt=A.key,nt=A.size,ca=A.color,Li=null,this},h.setCurrentTransformationMatrix=function(A){return ue(A.toString()+" cm"),this},h.comment=function(A){return ue("#"+A),this};var yo=function(A,W){var he=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return he},set:function(je){isNaN(je)||(he=parseFloat(je))}});var ve=W||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ve},set:function(je){isNaN(je)||(ve=parseFloat(je))}});var Ee="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ee},set:function(je){Ee=je.toString()}}),this},xl=function(A,W,he,ve){yo.call(this,A,W),this.type="rect";var Ee=he||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ee},set:function(Je){isNaN(Je)||(Ee=parseFloat(Je))}});var je=ve||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return je},set:function(Je){isNaN(Je)||(je=parseFloat(Je))}}),this},xo=function(){this.page=ur,this.currentPage=O,this.pages=Oe.slice(0),this.pagesContext=Et.slice(0),this.x=Dr,this.y=Gt,this.matrix=$n,this.width=Ua(O),this.height=di(O),this.outputDestination=Ue,this.id="",this.objectNumber=-1};xo.prototype.restore=function(){ur=this.page,O=this.currentPage,Et=this.pagesContext,Oe=this.pages,Dr=this.x,Gt=this.y,$n=this.matrix,_l(O,this.width),bl(O,this.height),Ue=this.outputDestination};var wl=function(A,W,he,ve,Ee){Fi.push(new xo),ur=O=0,Oe=[],Dr=A,Gt=W,$n=Ee,Oi([he,ve])},sf=function(A){if(On[A])Fi.pop().restore();else{var W=new xo,he="Xo"+(Object.keys(Jr).length+1).toString(10);W.id=he,On[A]=he,Jr[he]=W,Zt.publish("addFormObject",W),Fi.pop().restore()}};for(var fa in h.beginFormObject=function(A,W,he,ve,Ee){return wl(A,W,he,ve,Ee),this},h.endFormObject=function(A){return sf(A),this},h.doFormObject=function(A,W){var he=Jr[On[A]];return ue("q"),ue(W.toString()+" cm"),ue("/"+he.id+" Do"),ue("Q"),this},h.getFormObject=function(A){var W=Jr[On[A]];return{x:W.x,y:W.y,width:W.width,height:W.height,matrix:W.matrix}},h.save=function(A,W){return A=A||"generated.pdf",(W=W||{}).returnPromise=W.returnPromise||!1,W.returnPromise===!1?(lc(ul(oa()),A),typeof lc.unload=="function"&&Lt.setTimeout&&setTimeout(lc.unload,911),this):new Promise(function(he,ve){try{var Ee=lc(ul(oa()),A);typeof lc.unload=="function"&&Lt.setTimeout&&setTimeout(lc.unload,911),he(Ee)}catch(je){ve(je.message)}})},At.API)At.API.hasOwnProperty(fa)&&(fa==="events"&&At.API.events.length?function(A,W){var he,ve,Ee;for(Ee=W.length-1;Ee!==-1;Ee--)he=W[Ee][0],ve=W[Ee][1],A.subscribe.apply(A,[he].concat(typeof ve=="function"?[ve]:ve))}(Zt,At.API.events):h[fa]=At.API[fa]);var Ua=h.getPageWidth=function(A){return(Et[A=A||O].mediaBox.topRightX-Et[A].mediaBox.bottomLeftX)/ht},_l=h.setPageWidth=function(A,W){Et[A].mediaBox.topRightX=W*ht+Et[A].mediaBox.bottomLeftX},di=h.getPageHeight=function(A){return(Et[A=A||O].mediaBox.topRightY-Et[A].mediaBox.bottomLeftY)/ht},bl=h.setPageHeight=function(A,W){Et[A].mediaBox.topRightY=W*ht+Et[A].mediaBox.bottomLeftY};return h.internal={pdfEscape:en,getStyle:tf,getFont:qu,getFontSize:lt,getCharSpace:vl,getTextColor:gl,getLineHeight:Ku,getLineHeightFactor:go,getLineWidth:pl,write:$e,getHorizontalCoordinate:ws,getVerticalCoordinate:kn,getCoordinateString:nf,getVerticalCoordinateString:Ba,collections:{},newObject:$r,newAdditionalObject:le,newObjectDeferred:Wr,newObjectDeferredBegin:K,getFilters:Ne,putStream:De,events:Zt,scaleFactor:ht,pageSize:{getWidth:function(){return Ua(O)},setWidth:function(A){_l(O,A)},getHeight:function(){return di(O)},setHeight:function(A){bl(O,A)}},encryptionOptions:c,encryption:Mr,getEncryptor:ef,output:cl,getNumberOfPages:pr,pages:Oe,out:ue,f2:F,f3:E,getPageInfo:Wu,getPageInfoByObjId:Ft,getCurrentPageInfo:ja,getPDFVersion:g,Point:yo,Rectangle:xl,Matrix:vt,hasHotfix:Ma},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Ua(O)},set:function(A){_l(O,A)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return di(O)},set:function(A){bl(O,A)},enumerable:!0,configurable:!0}),Jc.call(h,Ye),Wt="F1",ho(i,r),Zt.publish("initialized"),h}kf.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},kf.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},kf.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},kf.prototype.processOwnerPassword=function(t,e){return xw(yw(e).substr(0,5),t)},kf.prototype.encryptor=function(t,e){var r=yw(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return xw(r,n)}},np.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||xr(t)!==xr(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},At.API={events:[]},At.version="2.5.2";var rn=At.API,n4=1,qc=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},wf=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Vt=function(t){return t.toFixed(2)},Ml=function(t){return t.toFixed(5)};rn.__acroform__={};var ps=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},i3=function(t){return t*n4},$a=function(t){var e=new GI,r=wt.internal.getHeight(t)||0,n=wt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Vt(n)),Number(Vt(r))],e},nK=rn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},iK=rn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},sK=rn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},dn=rn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return sK(t,e-1)},pn=rn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return nK(t,e-1)},mn=rn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return iK(t,e-1)},aK=rn.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(s+o)||0,l.upperRight_X=r(i+a)||0,l.upperRight_Y=n(s)||0,[Number(Vt(l.lowerLeft_X)),Number(Vt(l.lowerLeft_Y)),Number(Vt(l.upperRight_X)),Number(Vt(l.upperRight_Y))]},oK=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=ww(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Vt(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=$a(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},ww=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(E){return E.split(`
`)}):i.map(function(E){return[E]});var s=r,a=wt.internal.getHeight(t)||0;a=a<0?-a:a;var o=wt.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(E,N,D){if(E+1<i.length){var G=N+" "+i[E+1][0];return Bm(G,t,D).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var u,c,f=Bm("3",t,s).height,d=t.multiline?a-s:(a-f)/2,h=d+=2,v=0,g=0,S=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Bm(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var _="",b=0,T=0;T<i.length;T++)if(i.hasOwnProperty(T)){var L=!1;if(i[T].length!==1&&S!==i[T].length-1){if((f+2)*(b+2)+2>a)continue e;_+=i[T][S],L=!0,g=T,T--}else{_=(_+=i[T][S]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var j=parseInt(T),B=l(j,_,s),k=T>=i.length-1;if(B&&!k){_+=" ",S=0;continue}if(B||k){if(k)g=j;else if(t.multiline&&(f+2)*(b+2)+2>a)continue e}else{if(!t.multiline||(f+2)*(b+2)+2>a)continue e;g=j}}for(var y="",C=v;C<=g;C++){var F=i[C];if(t.multiline){if(C===g){y+=F[S]+" ",S=(S+1)%F.length;continue}if(C===v){y+=F[F.length-1]+" ";continue}}y+=F[0]+" "}switch(y=y.substr(y.length-1)==" "?y.substr(0,y.length-1):y,c=Bm(y,t,s).width,t.textAlign){case"right":u=o-c-2;break;case"center":u=(o-c)/2;break;case"left":default:u=2}e+=Vt(u)+" "+Vt(h)+` Td
`,e+="("+qc(y)+`) Tj
`,e+=-Vt(u)+` 0 Td
`,h=-(s+2),c=0,v=L?g:g+1,b++,_=""}break}return n.text=e,n.fontSize=s,n},Bm=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},lK={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},uK=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},cK=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,i=t[r];e.internal.newObjectDeferredBegin(i.objId,!0),xr(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[n]}},fK=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Da.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(lK)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");n4=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new KI,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&uK(s,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var a in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var o=n[a],l=[],u=o.Rect;if(o.Rect&&(o.Rect=aK(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=wt.createDefaultAppearanceStream(o),xr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var c=oK(o);l.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(o.appearanceStreamContent){var f="";for(var d in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(d)){var h=o.appearanceStreamContent[d];if(f+="/"+d+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var a in h)if(h.hasOwnProperty(a)){var v=h[a];typeof v=="function"&&(v=v.call(i,o)),f+="/"+a+" "+v+" ",i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v)}}else typeof(v=h)=="function"&&(v=v.call(i,o)),f+="/"+a+" "+v,i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&cK(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},$I=rn.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),xr(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+qc(n(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},uy=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+qc(n(t))+")"},Ja=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ja.prototype.toString=function(){return this.objId+" 0 R"},Ja.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ja.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:$I(i,this.objId,this.scope)}):i instanceof Ja?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var GI=function(){Ja.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};ps(GI,Ja);var KI=function(){Ja.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+qc(r(t))+")"}},set:function(r){t=r}})};ps(KI,Ja);var Da=function t(){Ja.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');e=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!dn(e,3)},set:function(_){_?this.F=pn(e,3):this.F=mn(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');r=_}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(_){n=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(_){n[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(_){n[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(_){n[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(_){n[3]=_}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof w1)return;s="FieldObject"+t.FieldNum++}var _=function(b){return b};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+qc(_(s))+")"},set:function(_){s=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(_){s=_}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(_){a=_}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(_){o=_}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(_){l=_}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/n4:u},set:function(_){u=_}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(_){c=_}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof w1||this instanceof gu))return uy(f,this.objId,this.scope)},set:function(_){_=_.toString(),f=_}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof Rn?d:uy(d,this.objId,this.scope)},set:function(_){_=_.toString(),d=this instanceof Rn?_:_.substr(0,1)==="("?wf(_.substr(1,_.length-2)):wf(_)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Rn?wf(d.substr(1,d.length-1)):d},set:function(_){_=_.toString(),d=this instanceof Rn?"/"+_:_}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Rn?h:uy(h,this.objId,this.scope)},set:function(_){_=_.toString(),h=this instanceof Rn?_:_.substr(0,1)==="("?wf(_.substr(1,_.length-2)):wf(_)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Rn?wf(h.substr(1,h.length-1)):h},set:function(_){_=_.toString(),h=this instanceof Rn?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(_){_=!!_,g=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(_){v=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,1)},set:function(_){_?this.Ff=pn(this.Ff,1):this.Ff=mn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,2)},set:function(_){_?this.Ff=pn(this.Ff,2):this.Ff=mn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,3)},set:function(_){_?this.Ff=pn(this.Ff,3):this.Ff=mn(this.Ff,3)}});var S=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(S!==null)return S},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');S=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(S){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:S=2;break;case"center":case 1:S=1;break;case"left":case 0:default:S=0}}})};ps(Da,Ja);var bc=function(){Da.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return $I(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(s,a,o){o||(o=1);for(var l,u=[];l=a.exec(s);)u.push(l[o]);return u}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,18)},set:function(r){r?this.Ff=pn(this.Ff,18):this.Ff=mn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=pn(this.Ff,19):this.Ff=mn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,20)},set:function(r){r?(this.Ff=pn(this.Ff,20),e.sort()):this.Ff=mn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,22)},set:function(r){r?this.Ff=pn(this.Ff,22):this.Ff=mn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,23)},set:function(r){r?this.Ff=pn(this.Ff,23):this.Ff=mn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,27)},set:function(r){r?this.Ff=pn(this.Ff,27):this.Ff=mn(this.Ff,27)}}),this.hasAppearanceStream=!1};ps(bc,Da);var Sc=function(){bc.call(this),this.fontName="helvetica",this.combo=!1};ps(Sc,bc);var Tc=function(){Sc.call(this),this.combo=!0};ps(Tc,Sc);var a0=function(){Tc.call(this),this.edit=!0};ps(a0,Tc);var Rn=function(){Da.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,15)},set:function(r){r?this.Ff=pn(this.Ff,15):this.Ff=mn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,16)},set:function(r){r?this.Ff=pn(this.Ff,16):this.Ff=mn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,17)},set:function(r){r?this.Ff=pn(this.Ff,17):this.Ff=mn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,26)},set:function(r){r?this.Ff=pn(this.Ff,26):this.Ff=mn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+qc(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){xr(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};ps(Rn,Da);var o0=function(){Rn.call(this),this.pushButton=!0};ps(o0,Rn);var Ec=function(){Rn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};ps(Ec,Rn);var w1=function(){var t,e;Da.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+qc(i(n[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){xr(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=wt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ps(w1,Da),Ec.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Ec.prototype.createOption=function(t){var e=new w1;return e.Parent=this,e.optionName=t,this.Kids.push(e),hK.call(this.scope,e),e};var l0=function(){Rn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=wt.CheckBox.createAppearanceStream()};ps(l0,Rn);var gu=function(){Da.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,13)},set:function(e){e?this.Ff=pn(this.Ff,13):this.Ff=mn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,21)},set:function(e){e?this.Ff=pn(this.Ff,21):this.Ff=mn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,23)},set:function(e){e?this.Ff=pn(this.Ff,23):this.Ff=mn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,24)},set:function(e){e?this.Ff=pn(this.Ff,24):this.Ff=mn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,25)},set:function(e){e?this.Ff=pn(this.Ff,25):this.Ff=mn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,26)},set:function(e){e?this.Ff=pn(this.Ff,26):this.Ff=mn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ps(gu,Da);var u0=function(){gu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!dn(this.Ff,14)},set:function(t){t?this.Ff=pn(this.Ff,14):this.Ff=mn(this.Ff,14)}}),this.password=!0};ps(u0,gu);var wt={CheckBox:{createAppearanceStream:function(){return{N:{On:wt.CheckBox.YesNormal},D:{On:wt.CheckBox.YesPushDown,Off:wt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=$a(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=ww(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Vt(wt.internal.getWidth(t))+" "+Vt(wt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Vt(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=$a(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],s=wt.internal.getHeight(t),a=wt.internal.getWidth(t),o=ww(t,t.caption);return i.push("1 g"),i.push("0 0 "+Vt(a)+" "+Vt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Vt(a-1)+" "+Vt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Vt(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=$a(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Vt(wt.internal.getWidth(t))+" "+Vt(wt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:wt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=wt.RadioButton.Circle.YesNormal,e.D[t]=wt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=$a(t);e.scope=t.scope;var r=[],n=wt.internal.getWidth(t)<=wt.internal.getHeight(t)?wt.internal.getWidth(t)/4:wt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=wt.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Ml(wt.internal.getWidth(t)/2)+" "+Ml(wt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=$a(t);e.scope=t.scope;var r=[],n=wt.internal.getWidth(t)<=wt.internal.getHeight(t)?wt.internal.getWidth(t)/4:wt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*wt.internal.Bezier_C).toFixed(5)),a=Number((n*wt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ml(wt.internal.getWidth(t)/2)+" "+Ml(wt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Ml(wt.internal.getWidth(t)/2)+" "+Ml(wt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=$a(t);e.scope=t.scope;var r=[],n=wt.internal.getWidth(t)<=wt.internal.getHeight(t)?wt.internal.getWidth(t)/4:wt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*wt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ml(wt.internal.getWidth(t)/2)+" "+Ml(wt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:wt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=wt.RadioButton.Cross.YesNormal,e.D[t]=wt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=$a(t);e.scope=t.scope;var r=[],n=wt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Vt(wt.internal.getWidth(t)-2)+" "+Vt(wt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Vt(n.x1.x)+" "+Vt(n.x1.y)+" m"),r.push(Vt(n.x2.x)+" "+Vt(n.x2.y)+" l"),r.push(Vt(n.x4.x)+" "+Vt(n.x4.y)+" m"),r.push(Vt(n.x3.x)+" "+Vt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=$a(t);e.scope=t.scope;var r=wt.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Vt(wt.internal.getWidth(t))+" "+Vt(wt.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Vt(wt.internal.getWidth(t)-2)+" "+Vt(wt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Vt(r.x1.x)+" "+Vt(r.x1.y)+" m"),n.push(Vt(r.x2.x)+" "+Vt(r.x2.y)+" l"),n.push(Vt(r.x4.x)+" "+Vt(r.x4.y)+" m"),n.push(Vt(r.x3.x)+" "+Vt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=$a(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Vt(wt.internal.getWidth(t))+" "+Vt(wt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};wt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=wt.internal.getWidth(t),r=wt.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},wt.internal.getWidth=function(t){var e=0;return xr(t)==="object"&&(e=i3(t.Rect[2])),e},wt.internal.getHeight=function(t){var e=0;return xr(t)==="object"&&(e=i3(t.Rect[3])),e};var hK=rn.addField=function(t){if(fK(this,t),!(t instanceof Da))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};rn.AcroFormChoiceField=bc,rn.AcroFormListBox=Sc,rn.AcroFormComboBox=Tc,rn.AcroFormEditBox=a0,rn.AcroFormButton=Rn,rn.AcroFormPushButton=o0,rn.AcroFormRadioButton=Ec,rn.AcroFormCheckBox=l0,rn.AcroFormTextField=gu,rn.AcroFormPasswordField=u0,rn.AcroFormAppearance=wt,rn.AcroForm={ChoiceField:bc,ListBox:Sc,ComboBox:Tc,EditBox:a0,Button:Rn,PushButton:o0,RadioButton:Ec,CheckBox:l0,TextField:gu,PasswordField:u0,Appearance:wt},At.AcroForm={ChoiceField:bc,ListBox:Sc,ComboBox:Tc,EditBox:a0,Button:Rn,PushButton:o0,RadioButton:Ec,CheckBox:l0,TextField:gu,PasswordField:u0,Appearance:wt};var dK=At.AcroForm;function YI(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(E,N){var D,G,de,ie,ee,Q=e;if((N=N||e)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(B(E))for(ee in r)for(de=r[ee],D=0;D<de.length;D+=1){for(ie=!0,G=0;G<de[D].length;G+=1)if(de[D][G]!==void 0&&de[D][G]!==E[G]){ie=!1;break}if(ie===!0){Q=ee;break}}else for(ee in r)for(de=r[ee],D=0;D<de.length;D+=1){for(ie=!0,G=0;G<de[D].length;G+=1)if(de[D][G]!==void 0&&de[D][G]!==E.charCodeAt(G)){ie=!1;break}if(ie===!0){Q=ee;break}}return Q===e&&N!==e&&(Q=N),Q},i=function E(N){for(var D=this.internal.write,G=this.internal.putStream,de=(0,this.internal.getFilters)();de.indexOf("FlateEncode")!==-1;)de.splice(de.indexOf("FlateEncode"),1);N.objectId=this.internal.newObject();var ie=[];if(ie.push({key:"Type",value:"/XObject"}),ie.push({key:"Subtype",value:"/Image"}),ie.push({key:"Width",value:N.width}),ie.push({key:"Height",value:N.height}),N.colorSpace===S.INDEXED?ie.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(N.palette.length/3-1)+" "+("sMask"in N&&N.sMask!==void 0?N.objectId+2:N.objectId+1)+" 0 R]"}):(ie.push({key:"ColorSpace",value:"/"+N.colorSpace}),N.colorSpace===S.DEVICE_CMYK&&ie.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ie.push({key:"BitsPerComponent",value:N.bitsPerComponent}),"decodeParameters"in N&&N.decodeParameters!==void 0&&ie.push({key:"DecodeParms",value:"<<"+N.decodeParameters+">>"}),"transparency"in N&&Array.isArray(N.transparency)){for(var ee="",Q=0,te=N.transparency.length;Q<te;Q++)ee+=N.transparency[Q]+" "+N.transparency[Q]+" ";ie.push({key:"Mask",value:"["+ee+"]"})}N.sMask!==void 0&&ie.push({key:"SMask",value:N.objectId+1+" 0 R"});var pe=N.filter!==void 0?["/"+N.filter]:void 0;if(G({data:N.data,additionalKeyValues:ie,alreadyAppliedFilters:pe,objectId:N.objectId}),D("endobj"),"sMask"in N&&N.sMask!==void 0){var be="/Predictor "+N.predictor+" /Colors 1 /BitsPerComponent "+N.bitsPerComponent+" /Columns "+N.width,I={width:N.width,height:N.height,colorSpace:"DeviceGray",bitsPerComponent:N.bitsPerComponent,decodeParameters:be,data:N.sMask};"filter"in N&&(I.filter=N.filter),E.call(this,I)}if(N.colorSpace===S.INDEXED){var O=this.internal.newObject();G({data:y(new Uint8Array(N.palette)),objectId:O}),D("endobj")}},s=function(){var E=this.internal.collections.addImage_images;for(var N in E)i.call(this,E[N])},a=function(){var E,N=this.internal.collections.addImage_images,D=this.internal.write;for(var G in N)D("/I"+(E=N[G]).index,E.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},l=function(){var E=this.internal.collections.addImage_images;return o.call(this),E},u=function(){return Object.keys(this.internal.collections.addImage_images).length},c=function(E){return typeof t["process"+E.toUpperCase()]=="function"},f=function(E){return xr(E)==="object"&&E.nodeType===1},d=function(E,N){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var D=""+E.getAttribute("src");if(D.indexOf("data:image/")===0)return s0(unescape(D).split("base64,").pop());var G=t.loadFile(D,!0);if(G!==void 0)return G}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var de;switch(N){case"PNG":de="image/png";break;case"WEBP":de="image/webp";break;case"JPEG":case"JPG":default:de="image/jpeg"}return s0(E.toDataURL(de,1).split("base64,").pop())}},h=function(E){var N=this.internal.collections.addImage_images;if(N){for(var D in N)if(E===N[D].alias)return N[D]}},v=function(E,N,D){return E||N||(E=-96,N=-96),E<0&&(E=-1*D.width*72/E/this.internal.scaleFactor),N<0&&(N=-1*D.height*72/N/this.internal.scaleFactor),E===0&&(E=N*D.width/D.height),N===0&&(N=E*D.height/D.width),[E,N]},g=function(E,N,D,G,de,ie){var ee=v.call(this,D,G,de),Q=this.internal.getCoordinateString,te=this.internal.getVerticalCoordinateString,pe=l.call(this);if(D=ee[0],G=ee[1],pe[de.index]=de,ie){ie*=Math.PI/180;var be=Math.cos(ie),I=Math.sin(ie),O=function(z){return z.toFixed(4)},U=[O(be),O(I),O(-1*I),O(be),0,0,"cm"]}this.internal.write("q"),ie?(this.internal.write([1,"0","0",1,Q(E),te(N+G),"cm"].join(" ")),this.internal.write(U.join(" ")),this.internal.write([Q(D),"0","0",Q(G),"0","0","cm"].join(" "))):this.internal.write([Q(D),"0","0",Q(G),Q(E),te(N+G),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+de.index+" Do"),this.internal.write("Q")},S=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=t.__addimage__.sHashCode=function(E){var N,D,G=0;if(typeof E=="string")for(D=E.length,N=0;N<D;N++)G=(G<<5)-G+E.charCodeAt(N),G|=0;else if(B(E))for(D=E.byteLength/2,N=0;N<D;N++)G=(G<<5)-G+E[N],G|=0;return G},T=t.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var N=!0;return E.length===0&&(N=!1),E.length%4!=0&&(N=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(N=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(N=!1),N},L=t.__addimage__.extractImageFromDataUrl=function(E){var N=(E=E||"").split("base64,"),D=null;if(N.length===2){var G=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(N[0]);Array.isArray(G)&&(D={mimeType:G[1],charset:G[2],data:N[1]})}return D},j=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(E){return j()&&E instanceof ArrayBuffer};var B=t.__addimage__.isArrayBufferView=function(E){return j()&&typeof Uint32Array<"u"&&(E instanceof Int8Array||E instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array)},k=t.__addimage__.binaryStringToUint8Array=function(E){for(var N=E.length,D=new Uint8Array(N),G=0;G<N;G++)D[G]=E.charCodeAt(G);return D},y=t.__addimage__.arrayBufferToBinaryString=function(E){for(var N="",D=B(E)?E:new Uint8Array(E),G=0;G<D.length;G+=8192)N+=String.fromCharCode.apply(null,D.subarray(G,G+8192));return N};t.addImage=function(){var E,N,D,G,de,ie,ee,Q,te;if(typeof arguments[1]=="number"?(N=e,D=arguments[1],G=arguments[2],de=arguments[3],ie=arguments[4],ee=arguments[5],Q=arguments[6],te=arguments[7]):(N=arguments[1],D=arguments[2],G=arguments[3],de=arguments[4],ie=arguments[5],ee=arguments[6],Q=arguments[7],te=arguments[8]),xr(E=arguments[0])==="object"&&!f(E)&&"imageData"in E){var pe=E;E=pe.imageData,N=pe.format||N||e,D=pe.x||D||0,G=pe.y||G||0,de=pe.w||pe.width||de,ie=pe.h||pe.height||ie,ee=pe.alias||ee,Q=pe.compression||Q,te=pe.rotation||pe.angle||te}var be=this.internal.getFilters();if(Q===void 0&&be.indexOf("FlateEncode")!==-1&&(Q="SLOW"),isNaN(D)||isNaN(G))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var I=C.call(this,E,N,ee,Q);return g.call(this,D,G,de,ie,I,te),this};var C=function(E,N,D,G){var de,ie,ee;if(typeof E=="string"&&n(E)===e){E=unescape(E);var Q=F(E,!1);(Q!==""||(Q=t.loadFile(E,!0))!==void 0)&&(E=Q)}if(f(E)&&(E=d(E,N)),N=n(E,N),!c(N))throw new Error("addImage does not support files of type '"+N+"', please ensure that a plugin for '"+N+"' support is added.");if(((ee=D)==null||ee.length===0)&&(D=function(te){return typeof te=="string"||B(te)?b(te):B(te.data)?b(te.data):null}(E)),(de=h.call(this,D))||(j()&&(E instanceof Uint8Array||N==="RGBA"||(ie=E,E=k(E))),de=this["process"+N.toUpperCase()](E,u.call(this),D,function(te){return te&&typeof te=="string"&&(te=te.toUpperCase()),te in t.image_compression?te:_.NONE}(G),ie)),!de)throw new Error("An unknown error occurred whilst processing the image.");return de},F=t.__addimage__.convertBase64ToBinaryString=function(E,N){var D;N=typeof N!="boolean"||N;var G,de="";if(typeof E=="string"){G=(D=L(E))!==null?D.data:E;try{de=s0(G)}catch(ie){if(N)throw T(G)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ie.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return de};t.getImageProperties=function(E){var N,D,G="";if(f(E)&&(E=d(E)),typeof E=="string"&&n(E)===e&&((G=F(E,!1))===""&&(G=t.loadFile(E)||""),E=G),D=n(E),!c(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(!j()||E instanceof Uint8Array||(E=k(E)),!(N=this["process"+D.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return N.fileType=D,N}})(At.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};At.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,c=!1,f=0;f<u.length&&!c;f++)switch((n=u[f]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var d=0;d<u.length;d++){n=u[d];var h=this.internal.pdfEscape,v=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),S=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(g.objId),b=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+h(_(n.contents))+")",s+=" /Popup "+S.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+h(_(b))+") >>",g.content=s;var T=g.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+T,n.open&&(s+=" /Open true"),s+=" >>",S.content=s,this.internal.write(g.objId,"0 R",S.objId,"0 R");break;case"freetext":i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var L=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(v(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+L+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var j=this.annotations._nameMap[n.options.name];n.options.pageNumber=j.page,n.options.top=j.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(v(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var B=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+B+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:u(n),w:l(r+i),h:u(n+s)},options:a,type:"link"})},t.textWithLink=function(r,n,i,s){var a,o,l=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var c=this.splitTextToSize(r,o).length;a=Math.ceil(u*c)}else o=l,a=u;return this.text(r,n,i,s),i+=.2*u,s.align==="center"&&(n-=l/2),s.align==="right"&&(n-=l),this.link(n,i-u,o,a,s),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(At.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(g){return e[g.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},o=t.__arabicParser__.isArabicEndLetter=function(g){return a(g)&&s(g)&&e[g.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(g){return a(g)&&i.indexOf(g.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return a(g)&&s(g)&&e[g.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(g){return a(g)&&s(g)&&e[g.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(g){return a(g)&&s(g)&&e[g.charCodeAt(0)].length>=3};var c=t.__arabicParser__.arabicLetterHasMedialForm=function(g){return a(g)&&s(g)&&e[g.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(g){var S=0,_=r,b="",T=0;for(S=0;S<g.length;S+=1)_[g.charCodeAt(S)]!==void 0?(T++,typeof(_=_[g.charCodeAt(S)])=="number"&&(b+=String.fromCharCode(_),_=r,T=0),S===g.length-1&&(_=r,b+=g.charAt(S-(T-1)),S-=T-1,T=0)):(_=r,b+=g.charAt(S-T),S-=T,T=0);return b};t.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var d=t.__arabicParser__.getCorrectForm=function(g,S,_){return a(g)?s(g)===!1?-1:!u(g)||!a(S)&&!a(_)||!a(_)&&o(S)||o(g)&&!a(S)||o(g)&&l(S)||o(g)&&o(S)?0:c(g)&&a(S)&&!o(S)&&a(_)&&u(_)?3:o(g)||!a(_)?1:2:-1},h=function(g){var S=0,_=0,b=0,T="",L="",j="",B=(g=g||"").split("\\s+"),k=[];for(S=0;S<B.length;S+=1){for(k.push(""),_=0;_<B[S].length;_+=1)T=B[S][_],L=B[S][_-1],j=B[S][_+1],a(T)?(b=d(T,L,j),k[S]+=b!==-1?String.fromCharCode(e[T.charCodeAt(0)][b]):T):k[S]+=T;k[S]=f(k[S])}return k.join(" ")},v=t.__arabicParser__.processArabic=t.processArabic=function(){var g,S=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(S)){var b=0;for(_=[],b=0;b<S.length;b+=1)Array.isArray(S[b])?_.push([h(S[b][0]),S[b][1],S[b][2]]):_.push([h(S[b])]);g=_}else g=h(S);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};t.events.push(["preProcessText",v])}(At.API),At.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(At.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var d=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(g){v=g}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){n.call(this);var c=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),d=u.scaleFactor||this.internal.scaleFactor,h=0,v=0,g=0,S=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var _=u.maxWidth;_>0?typeof l=="string"?l=this.splitTextToSize(l,_):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(T,L){return T.concat(S.splitTextToSize(L,_))},[])):l=Array.isArray(l)?l:[l];for(var b=0;b<l.length;b++)h<(g=this.getStringUnitWidth(l[b],{font:f})*c)&&(h=g);return h!==0&&(v=l.length),{w:h/=d,h:Math.max((v*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/d,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,d=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,h&&d&&(this.printHeaderRow(l.lineNumber,!0),l.y+=d[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,c,f,d){if(n.call(this),!c)throw new Error("No data for PDF table.");var h,v,g,S,_=[],b=[],T=[],L={},j={},B=[],k=[],y=(d=d||{}).autoSize||!1,C=d.printHeaders!==!1,F=d.css&&d.css["font-size"]!==void 0?16*d.css["font-size"]:d.fontSize||12,E=d.margins||Object.assign({width:this.getPageWidth()},e),N=typeof d.padding=="number"?d.padding:3,D=d.headerBackgroundColor||"#c8c8c8",G=d.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=C,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=F,this.internal.__cell__.padding=N,this.internal.__cell__.headerBackgroundColor=D,this.internal.__cell__.headerTextColor=G,this.setFontSize(F),f==null)b=_=Object.keys(c[0]),T=_.map(function(){return"left"});else if(Array.isArray(f)&&xr(f[0])==="object")for(_=f.map(function(pe){return pe.name}),b=f.map(function(pe){return pe.prompt||pe.name||""}),T=f.map(function(pe){return pe.align||"left"}),h=0;h<f.length;h+=1)j[f[h].name]=f[h].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(b=_=f,T=_.map(function(){return"left"}));if(y||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<_.length;h+=1){for(L[S=_[h]]=c.map(function(pe){return pe[S]}),this.setFont(void 0,"bold"),B.push(this.getTextDimensions(b[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=L[S],this.setFont(void 0,"normal"),g=0;g<v.length;g+=1)B.push(this.getTextDimensions(v[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);j[S]=Math.max.apply(null,B)+N+N,B=[]}if(C){var de={};for(h=0;h<_.length;h+=1)de[_[h]]={},de[_[h]].text=b[h],de[_[h]].align=T[h];var ie=o.call(this,de,j);k=_.map(function(pe){return new s(l,u,j[pe],ie,de[pe].text,void 0,de[pe].align)}),this.setTableHeaderRow(k),this.printHeaderRow(1,!1)}var ee=f.reduce(function(pe,be){return pe[be.name]=be.align,pe},{});for(h=0;h<c.length;h+=1){"rowStart"in d&&d.rowStart instanceof Function&&d.rowStart({row:h,data:c[h]},this);var Q=o.call(this,c[h],j);for(g=0;g<_.length;g+=1){var te=c[h][_[g]];"cellStart"in d&&d.cellStart instanceof Function&&d.cellStart({row:h,col:g,data:te},this),a.call(this,new s(l,u,j[_[g]],Q,te,h+2,ee[_[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var o=function(l,u){var c=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,d=this.internal.scaleFactor;return Object.keys(l).map(function(h){var v=l[h];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,u[h]-c-c)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/d+c+c},this).reduce(function(h,v){return Math.max(h,v)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var d=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){c=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(c.y=this.internal.__cell__.margins.top||0,d.push(c)),c.lineNumber=l;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,c),this.setTextColor(v)}d.length>0&&this.setTableHeaderRow(d),this.setFont(void 0,"normal"),r=!1}}(At.API);var XI={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},QI=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],_w=YI(QI),JI=[100,200,300,400,500,600,700,800,900],pK=YI(JI);function bw(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return XI[s=s||"normal"]?s:"normal"}(t.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof _w[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function s3(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var mK={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},a3={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function o3(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function gK(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",i=Object.assign({},mK,r.genericFontFamilies||{}),s=null,a=null,o=0;o<e.length;++o)if(i[(s=bw(e[o])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){a=t[s.family];break}if(!(a=a||t[n]))throw new Error("Could not find a font-family for the rule '"+o3(s)+"' and default family '"+n+"'.");if(a=function(l,u){if(u[l])return u[l];var c=_w[l],f=c<=_w.normal?-1:1,d=s3(u,QI,c,f);if(!d)throw new Error("Could not find a matching font-stretch value for "+l);return d}(s.stretch,a),a=function(l,u){if(u[l])return u[l];for(var c=XI[l],f=0;f<c.length;++f)if(u[c[f]])return u[c[f]];throw new Error("Could not find a matching font-style for "+l)}(s.style,a),!(a=function(l,u){if(u[l])return u[l];if(l===400&&u[500])return u[500];if(l===500&&u[400])return u[400];var c=pK[l],f=s3(u,JI,c,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+o3(s)+"'.");return a}function l3(t){return t.trimLeft()}function vK(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function yK(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Vm,u3,c3,cy=["times"];(function(t){var e,r,n,i,s,a,o,l,u,c=function(I){return I=I||{},this.isStrokeTransparent=I.isStrokeTransparent||!1,this.strokeOpacity=I.strokeOpacity||1,this.strokeStyle=I.strokeStyle||"#000000",this.fillStyle=I.fillStyle||"#000000",this.isFillTransparent=I.isFillTransparent||!1,this.fillOpacity=I.fillOpacity||1,this.font=I.font||"10px sans-serif",this.textBaseline=I.textBaseline||"alphabetic",this.textAlign=I.textAlign||"left",this.lineWidth=I.lineWidth||1,this.lineJoin=I.lineJoin||"miter",this.lineCap=I.lineCap||"butt",this.path=I.path||[],this.transform=I.transform!==void 0?I.transform.clone():new l,this.globalCompositeOperation=I.globalCompositeOperation||"normal",this.globalAlpha=I.globalAlpha||1,this.clip_path=I.clip_path||[],this.currentPoint=I.currentPoint||new a,this.miterLimit=I.miterLimit||10,this.lastPoint=I.lastPoint||new a,this.lineDashOffset=I.lineDashOffset||0,this.lineDash=I.lineDash||[],this.margin=I.margin||[0,0,0,0],this.prevPageLastElemOffset=I.prevPageLastElemOffset||0,this.ignoreClearRect=typeof I.ignoreClearRect!="boolean"||I.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,u=new c}]);var f=function(I){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var O=I;Object.defineProperty(this,"pdf",{get:function(){return O}});var U=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return U},set:function(Fe){U=!!Fe}});var z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return z},set:function(Fe){z=!!Fe}});var q=0;Object.defineProperty(this,"posX",{get:function(){return q},set:function(Fe){isNaN(Fe)||(q=Fe)}});var fe=0;Object.defineProperty(this,"posY",{get:function(){return fe},set:function(Fe){isNaN(Fe)||(fe=Fe)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Fe){var ue;typeof Fe=="number"?ue=[Fe,Fe,Fe,Fe]:((ue=new Array(4))[0]=Fe[0],ue[1]=Fe.length>=2?Fe[1]:ue[0],ue[2]=Fe.length>=3?Fe[2]:ue[0],ue[3]=Fe.length>=4?Fe[3]:ue[1]),u.margin=ue}});var me=!1;Object.defineProperty(this,"autoPaging",{get:function(){return me},set:function(Fe){me=Fe}});var ge=0;Object.defineProperty(this,"lastBreak",{get:function(){return ge},set:function(Fe){ge=Fe}});var Te=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Te},set:function(Fe){Te=Fe}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Fe){Fe instanceof c&&(u=Fe)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Fe){u.path=Fe}});var Oe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Oe},set:function(Fe){Oe=Fe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Fe){var ue;ue=d(Fe),this.ctx.fillStyle=ue.style,this.ctx.isFillTransparent=ue.a===0,this.ctx.fillOpacity=ue.a,this.pdf.setFillColor(ue.r,ue.g,ue.b,{a:ue.a}),this.pdf.setTextColor(ue.r,ue.g,ue.b,{a:ue.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Fe){var ue=d(Fe);this.ctx.strokeStyle=ue.style,this.ctx.isStrokeTransparent=ue.a===0,this.ctx.strokeOpacity=ue.a,ue.a===0?this.pdf.setDrawColor(255,255,255):(ue.a,this.pdf.setDrawColor(ue.r,ue.g,ue.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Fe){["butt","round","square"].indexOf(Fe)!==-1&&(this.ctx.lineCap=Fe,this.pdf.setLineCap(Fe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Fe){isNaN(Fe)||(this.ctx.lineWidth=Fe,this.pdf.setLineWidth(Fe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Fe){["bevel","round","miter"].indexOf(Fe)!==-1&&(this.ctx.lineJoin=Fe,this.pdf.setLineJoin(Fe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Fe){isNaN(Fe)||(this.ctx.miterLimit=Fe,this.pdf.setMiterLimit(Fe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Fe){this.ctx.textBaseline=Fe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Fe){["right","end","center","left","start"].indexOf(Fe)!==-1&&(this.ctx.textAlign=Fe)}});var Be=null;function Ue(Fe,ue){if(Be===null){var $e=function(mt){var Ye=[];return Object.keys(mt).forEach(function(nt){mt[nt].forEach(function(ot){var lt=null;switch(ot){case"bold":lt={family:nt,weight:"bold"};break;case"italic":lt={family:nt,style:"italic"};break;case"bolditalic":lt={family:nt,weight:"bold",style:"italic"};break;case"":case"normal":lt={family:nt}}lt!==null&&(lt.ref={name:nt,style:ot},Ye.push(lt))})}),Ye}(Fe.getFontList());Be=function(mt){for(var Ye={},nt=0;nt<mt.length;++nt){var ot=bw(mt[nt]),lt=ot.family,_t=ot.stretch,St=ot.style,Rt=ot.weight;Ye[lt]=Ye[lt]||{},Ye[lt][_t]=Ye[lt][_t]||{},Ye[lt][_t][St]=Ye[lt][_t][St]||{},Ye[lt][_t][St][Rt]=ot}return Ye}($e.concat(ue))}return Be}var He=null;Object.defineProperty(this,"fontFaces",{get:function(){return He},set:function(Fe){Be=null,He=Fe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Fe){var ue;if(this.ctx.font=Fe,(ue=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Fe))!==null){var $e=ue[1],mt=(ue[2],ue[3]),Ye=ue[4],nt=(ue[5],ue[6]),ot=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ye)[2];Ye=Math.floor(ot==="px"?parseFloat(Ye)*this.pdf.internal.scaleFactor:ot==="em"?parseFloat(Ye)*this.pdf.getFontSize():parseFloat(Ye)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ye);var lt=function(Ct){var Wt,ht,Dr=[],Gt=Ct.trim();if(Gt==="")return cy;if(Gt in a3)return[a3[Gt]];for(;Gt!=="";){switch(ht=null,Wt=(Gt=l3(Gt)).charAt(0)){case'"':case"'":ht=vK(Gt.substring(1),Wt);break;default:ht=yK(Gt)}if(ht===null||(Dr.push(ht[0]),(Gt=l3(ht[1]))!==""&&Gt.charAt(0)!==","))return cy;Gt=Gt.replace(/^,/,"")}return Dr}(nt);if(this.fontFaces){var _t=gK(Ue(this.pdf,this.fontFaces),lt.map(function(Ct){return{family:Ct,stretch:"normal",weight:mt,style:$e}}));this.pdf.setFont(_t.ref.name,_t.ref.style)}else{var St="";(mt==="bold"||parseInt(mt,10)>=700||$e==="bold")&&(St="bold"),$e==="italic"&&(St+="italic"),St.length===0&&(St="normal");for(var Rt="",Tt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},kt=0;kt<lt.length;kt++){if(this.pdf.internal.getFont(lt[kt],St,{noFallback:!0,disableWarning:!0})!==void 0){Rt=lt[kt];break}if(St==="bolditalic"&&this.pdf.internal.getFont(lt[kt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Rt=lt[kt],St="bold";else if(this.pdf.internal.getFont(lt[kt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Rt=lt[kt],St="normal";break}}if(Rt===""){for(var qt=0;qt<lt.length;qt++)if(Tt[lt[qt]]){Rt=Tt[lt[qt]];break}}Rt=Rt===""?"Times":Rt,this.pdf.setFont(Rt,St)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Fe){this.ctx.globalCompositeOperation=Fe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Fe){this.ctx.globalAlpha=Fe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Fe){this.ctx.lineDashOffset=Fe,be.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Fe){this.ctx.lineDash=Fe,be.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Fe){this.ctx.ignoreClearRect=!!Fe}})};f.prototype.setLineDash=function(I){this.lineDash=I},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){L.call(this,"fill",!1)},f.prototype.stroke=function(){L.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(I,O){if(isNaN(I)||isNaN(O))throw Ir.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var U=this.ctx.transform.applyToPoint(new a(I,O));this.path.push({type:"mt",x:U.x,y:U.y}),this.ctx.lastPoint=new a(I,O)},f.prototype.closePath=function(){var I=new a(0,0),O=0;for(O=this.path.length-1;O!==-1;O--)if(this.path[O].type==="begin"&&xr(this.path[O+1])==="object"&&typeof this.path[O+1].x=="number"){I=new a(this.path[O+1].x,this.path[O+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(I.x,I.y)},f.prototype.lineTo=function(I,O){if(isNaN(I)||isNaN(O))throw Ir.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var U=this.ctx.transform.applyToPoint(new a(I,O));this.path.push({type:"lt",x:U.x,y:U.y}),this.ctx.lastPoint=new a(U.x,U.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),L.call(this,null,!0)},f.prototype.quadraticCurveTo=function(I,O,U,z){if(isNaN(U)||isNaN(z)||isNaN(I)||isNaN(O))throw Ir.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var q=this.ctx.transform.applyToPoint(new a(U,z)),fe=this.ctx.transform.applyToPoint(new a(I,O));this.path.push({type:"qct",x1:fe.x,y1:fe.y,x:q.x,y:q.y}),this.ctx.lastPoint=new a(q.x,q.y)},f.prototype.bezierCurveTo=function(I,O,U,z,q,fe){if(isNaN(q)||isNaN(fe)||isNaN(I)||isNaN(O)||isNaN(U)||isNaN(z))throw Ir.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var me=this.ctx.transform.applyToPoint(new a(q,fe)),ge=this.ctx.transform.applyToPoint(new a(I,O)),Te=this.ctx.transform.applyToPoint(new a(U,z));this.path.push({type:"bct",x1:ge.x,y1:ge.y,x2:Te.x,y2:Te.y,x:me.x,y:me.y}),this.ctx.lastPoint=new a(me.x,me.y)},f.prototype.arc=function(I,O,U,z,q,fe){if(isNaN(I)||isNaN(O)||isNaN(U)||isNaN(z)||isNaN(q))throw Ir.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(fe=!!fe,!this.ctx.transform.isIdentity){var me=this.ctx.transform.applyToPoint(new a(I,O));I=me.x,O=me.y;var ge=this.ctx.transform.applyToPoint(new a(0,U)),Te=this.ctx.transform.applyToPoint(new a(0,0));U=Math.sqrt(Math.pow(ge.x-Te.x,2)+Math.pow(ge.y-Te.y,2))}Math.abs(q-z)>=2*Math.PI&&(z=0,q=2*Math.PI),this.path.push({type:"arc",x:I,y:O,radius:U,startAngle:z,endAngle:q,counterclockwise:fe})},f.prototype.arcTo=function(I,O,U,z,q){throw new Error("arcTo not implemented.")},f.prototype.rect=function(I,O,U,z){if(isNaN(I)||isNaN(O)||isNaN(U)||isNaN(z))throw Ir.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(I,O),this.lineTo(I+U,O),this.lineTo(I+U,O+z),this.lineTo(I,O+z),this.lineTo(I,O),this.lineTo(I+U,O),this.lineTo(I,O)},f.prototype.fillRect=function(I,O,U,z){if(isNaN(I)||isNaN(O)||isNaN(U)||isNaN(z))throw Ir.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var q={};this.lineCap!=="butt"&&(q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(I,O,U,z),this.fill(),q.hasOwnProperty("lineCap")&&(this.lineCap=q.lineCap),q.hasOwnProperty("lineJoin")&&(this.lineJoin=q.lineJoin)}},f.prototype.strokeRect=function(I,O,U,z){if(isNaN(I)||isNaN(O)||isNaN(U)||isNaN(z))throw Ir.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(I,O,U,z),this.stroke())},f.prototype.clearRect=function(I,O,U,z){if(isNaN(I)||isNaN(O)||isNaN(U)||isNaN(z))throw Ir.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(I,O,U,z))},f.prototype.save=function(I){I=typeof I!="boolean"||I;for(var O=this.pdf.internal.getCurrentPageInfo().pageNumber,U=0;U<this.pdf.internal.getNumberOfPages();U++)this.pdf.setPage(U+1),this.pdf.internal.out("q");if(this.pdf.setPage(O),I){this.ctx.fontSize=this.pdf.internal.getFontSize();var z=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=z}},f.prototype.restore=function(I){I=typeof I!="boolean"||I;for(var O=this.pdf.internal.getCurrentPageInfo().pageNumber,U=0;U<this.pdf.internal.getNumberOfPages();U++)this.pdf.setPage(U+1),this.pdf.internal.out("Q");this.pdf.setPage(O),I&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(I){var O,U,z,q;if(I.isCanvasGradient===!0&&(I=I.getColor()),!I)return{r:0,g:0,b:0,a:0,style:I};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(I))O=0,U=0,z=0,q=0;else{var fe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(I);if(fe!==null)O=parseInt(fe[1]),U=parseInt(fe[2]),z=parseInt(fe[3]),q=1;else if((fe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(I))!==null)O=parseInt(fe[1]),U=parseInt(fe[2]),z=parseInt(fe[3]),q=parseFloat(fe[4]);else{if(q=1,typeof I=="string"&&I.charAt(0)!=="#"){var me=new WI(I);I=me.ok?me.toHex():"#000000"}I.length===4?(O=I.substring(1,2),O+=O,U=I.substring(2,3),U+=U,z=I.substring(3,4),z+=z):(O=I.substring(1,3),U=I.substring(3,5),z=I.substring(5,7)),O=parseInt(O,16),U=parseInt(U,16),z=parseInt(z,16)}}return{r:O,g:U,b:z,a:q,style:I}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(I,O,U,z){if(isNaN(O)||isNaN(U)||typeof I!="string")throw Ir.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(z=isNaN(z)?void 0:z,!h.call(this)){var q=Q(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;N.call(this,{text:I,x:O,y:U,scale:fe,angle:q,align:this.textAlign,maxWidth:z})}},f.prototype.strokeText=function(I,O,U,z){if(isNaN(O)||isNaN(U)||typeof I!="string")throw Ir.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){z=isNaN(z)?void 0:z;var q=Q(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;N.call(this,{text:I,x:O,y:U,scale:fe,renderingMode:"stroke",angle:q,align:this.textAlign,maxWidth:z})}},f.prototype.measureText=function(I){if(typeof I!="string")throw Ir.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var O=this.pdf,U=this.pdf.internal.scaleFactor,z=O.internal.getFontSize(),q=O.getStringUnitWidth(I)*z/O.internal.scaleFactor,fe=function(me){var ge=(me=me||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ge}}),this};return new fe({width:q*=Math.round(96*U/72*1e4)/1e4})},f.prototype.scale=function(I,O){if(isNaN(I)||isNaN(O))throw Ir.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var U=new l(I,0,0,O,0,0);this.ctx.transform=this.ctx.transform.multiply(U)},f.prototype.rotate=function(I){if(isNaN(I))throw Ir.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var O=new l(Math.cos(I),Math.sin(I),-Math.sin(I),Math.cos(I),0,0);this.ctx.transform=this.ctx.transform.multiply(O)},f.prototype.translate=function(I,O){if(isNaN(I)||isNaN(O))throw Ir.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var U=new l(1,0,0,1,I,O);this.ctx.transform=this.ctx.transform.multiply(U)},f.prototype.transform=function(I,O,U,z,q,fe){if(isNaN(I)||isNaN(O)||isNaN(U)||isNaN(z)||isNaN(q)||isNaN(fe))throw Ir.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var me=new l(I,O,U,z,q,fe);this.ctx.transform=this.ctx.transform.multiply(me)},f.prototype.setTransform=function(I,O,U,z,q,fe){I=isNaN(I)?1:I,O=isNaN(O)?0:O,U=isNaN(U)?0:U,z=isNaN(z)?1:z,q=isNaN(q)?0:q,fe=isNaN(fe)?0:fe,this.ctx.transform=new l(I,O,U,z,q,fe)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(I,O,U,z,q,fe,me,ge,Te){var Oe=this.pdf.getImageProperties(I),Be=1,Ue=1,He=1,Fe=1;z!==void 0&&ge!==void 0&&(He=ge/z,Fe=Te/q,Be=Oe.width/z*ge/z,Ue=Oe.height/q*Te/q),fe===void 0&&(fe=O,me=U,O=0,U=0),z!==void 0&&ge===void 0&&(ge=z,Te=q),z===void 0&&ge===void 0&&(ge=Oe.width,Te=Oe.height);for(var ue,$e=this.ctx.transform.decompose(),mt=Q($e.rotate.shx),Ye=new l,nt=(Ye=(Ye=(Ye=Ye.multiply($e.translate)).multiply($e.skew)).multiply($e.scale)).applyToRectangle(new o(fe-O*He,me-U*Fe,z*Be,q*Ue)),ot=S.call(this,nt),lt=[],_t=0;_t<ot.length;_t+=1)lt.indexOf(ot[_t])===-1&&lt.push(ot[_t]);if(T(lt),this.autoPaging)for(var St=lt[0],Rt=lt[lt.length-1],Tt=St;Tt<Rt+1;Tt++){this.pdf.setPage(Tt);var kt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],qt=Tt===1?this.posY+this.margin[0]:this.margin[0],Ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Wt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ht=Tt===1?0:Ct+(Tt-2)*Wt;if(this.ctx.clip_path.length!==0){var Dr=this.path;ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(ue,this.posX+this.margin[3],-ht+qt+this.ctx.prevPageLastElemOffset),j.call(this,"fill",!0),this.path=Dr}var Gt=JSON.parse(JSON.stringify(nt));Gt=b([Gt],this.posX+this.margin[3],-ht+qt+this.ctx.prevPageLastElemOffset)[0];var $n=(Tt>St||Tt<Rt)&&g.call(this);$n&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],kt,Wt,null).clip().discardPath()),this.pdf.addImage(I,"JPEG",Gt.x,Gt.y,Gt.w,Gt.h,null,null,mt),$n&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(I,"JPEG",nt.x,nt.y,nt.w,nt.h,null,null,mt)};var S=function(I,O,U){var z=[];O=O||this.pdf.internal.pageSize.width,U=U||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var q=this.posY+this.ctx.prevPageLastElemOffset;switch(I.type){default:case"mt":case"lt":z.push(Math.floor((I.y+q)/U)+1);break;case"arc":z.push(Math.floor((I.y+q-I.radius)/U)+1),z.push(Math.floor((I.y+q+I.radius)/U)+1);break;case"qct":var fe=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x,I.y);z.push(Math.floor((fe.y+q)/U)+1),z.push(Math.floor((fe.y+fe.h+q)/U)+1);break;case"bct":var me=pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x2,I.y2,I.x,I.y);z.push(Math.floor((me.y+q)/U)+1),z.push(Math.floor((me.y+me.h+q)/U)+1);break;case"rect":z.push(Math.floor((I.y+q)/U)+1),z.push(Math.floor((I.y+I.h+q)/U)+1)}for(var ge=0;ge<z.length;ge+=1)for(;this.pdf.internal.getNumberOfPages()<z[ge];)_.call(this);return z},_=function(){var I=this.fillStyle,O=this.strokeStyle,U=this.font,z=this.lineCap,q=this.lineWidth,fe=this.lineJoin;this.pdf.addPage(),this.fillStyle=I,this.strokeStyle=O,this.font=U,this.lineCap=z,this.lineWidth=q,this.lineJoin=fe},b=function(I,O,U){for(var z=0;z<I.length;z++)switch(I[z].type){case"bct":I[z].x2+=O,I[z].y2+=U;case"qct":I[z].x1+=O,I[z].y1+=U;case"mt":case"lt":case"arc":default:I[z].x+=O,I[z].y+=U}return I},T=function(I){return I.sort(function(O,U){return O-U})},L=function(I,O){for(var U,z,q=this.fillStyle,fe=this.strokeStyle,me=this.lineCap,ge=this.lineWidth,Te=Math.abs(ge*this.ctx.transform.scaleX),Oe=this.lineJoin,Be=JSON.parse(JSON.stringify(this.path)),Ue=JSON.parse(JSON.stringify(this.path)),He=[],Fe=0;Fe<Ue.length;Fe++)if(Ue[Fe].x!==void 0)for(var ue=S.call(this,Ue[Fe]),$e=0;$e<ue.length;$e+=1)He.indexOf(ue[$e])===-1&&He.push(ue[$e]);for(var mt=0;mt<He.length;mt++)for(;this.pdf.internal.getNumberOfPages()<He[mt];)_.call(this);if(T(He),this.autoPaging)for(var Ye=He[0],nt=He[He.length-1],ot=Ye;ot<nt+1;ot++){this.pdf.setPage(ot),this.fillStyle=q,this.strokeStyle=fe,this.lineCap=me,this.lineWidth=Te,this.lineJoin=Oe;var lt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_t=ot===1?this.posY+this.margin[0]:this.margin[0],St=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Rt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Tt=ot===1?0:St+(ot-2)*Rt;if(this.ctx.clip_path.length!==0){var kt=this.path;U=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(U,this.posX+this.margin[3],-Tt+_t+this.ctx.prevPageLastElemOffset),j.call(this,I,!0),this.path=kt}if(z=JSON.parse(JSON.stringify(Be)),this.path=b(z,this.posX+this.margin[3],-Tt+_t+this.ctx.prevPageLastElemOffset),O===!1||ot===0){var qt=(ot>Ye||ot<nt)&&g.call(this);qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lt,Rt,null).clip().discardPath()),j.call(this,I,O),qt&&this.pdf.restoreGraphicsState()}this.lineWidth=ge}else this.lineWidth=Te,j.call(this,I,O),this.lineWidth=ge;this.path=Be},j=function(I,O){if((I!=="stroke"||O||!v.call(this))&&(I==="stroke"||O||!h.call(this))){for(var U,z,q=[],fe=this.path,me=0;me<fe.length;me++){var ge=fe[me];switch(ge.type){case"begin":q.push({begin:!0});break;case"close":q.push({close:!0});break;case"mt":q.push({start:ge,deltas:[],abs:[]});break;case"lt":var Te=q.length;if(fe[me-1]&&!isNaN(fe[me-1].x)&&(U=[ge.x-fe[me-1].x,ge.y-fe[me-1].y],Te>0)){for(;Te>=0;Te--)if(q[Te-1].close!==!0&&q[Te-1].begin!==!0){q[Te-1].deltas.push(U),q[Te-1].abs.push(ge);break}}break;case"bct":U=[ge.x1-fe[me-1].x,ge.y1-fe[me-1].y,ge.x2-fe[me-1].x,ge.y2-fe[me-1].y,ge.x-fe[me-1].x,ge.y-fe[me-1].y],q[q.length-1].deltas.push(U);break;case"qct":var Oe=fe[me-1].x+2/3*(ge.x1-fe[me-1].x),Be=fe[me-1].y+2/3*(ge.y1-fe[me-1].y),Ue=ge.x+2/3*(ge.x1-ge.x),He=ge.y+2/3*(ge.y1-ge.y),Fe=ge.x,ue=ge.y;U=[Oe-fe[me-1].x,Be-fe[me-1].y,Ue-fe[me-1].x,He-fe[me-1].y,Fe-fe[me-1].x,ue-fe[me-1].y],q[q.length-1].deltas.push(U);break;case"arc":q.push({deltas:[],abs:[],arc:!0}),Array.isArray(q[q.length-1].abs)&&q[q.length-1].abs.push(ge)}}z=O?null:I==="stroke"?"stroke":"fill";for(var $e=!1,mt=0;mt<q.length;mt++)if(q[mt].arc)for(var Ye=q[mt].abs,nt=0;nt<Ye.length;nt++){var ot=Ye[nt];ot.type==="arc"?y.call(this,ot.x,ot.y,ot.radius,ot.startAngle,ot.endAngle,ot.counterclockwise,void 0,O,!$e):D.call(this,ot.x,ot.y),$e=!0}else if(q[mt].close===!0)this.pdf.internal.out("h"),$e=!1;else if(q[mt].begin!==!0){var lt=q[mt].start.x,_t=q[mt].start.y;G.call(this,q[mt].deltas,lt,_t),$e=!0}z&&C.call(this,z),O&&F.call(this)}},B=function(I){var O=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,U=O*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return I-U;case"top":return I+O-U;case"hanging":return I+O-2*U;case"middle":return I+O/2-U;case"ideographic":return I;case"alphabetic":default:return I}},k=function(I){return I+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var I=function(){};return I.colorStops=[],I.addColorStop=function(O,U){this.colorStops.push([O,U])},I.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},I.isCanvasGradient=!0,I},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var y=function(I,O,U,z,q,fe,me,ge,Te){for(var Oe=ie.call(this,U,z,q,fe),Be=0;Be<Oe.length;Be++){var Ue=Oe[Be];Be===0&&(Te?E.call(this,Ue.x1+I,Ue.y1+O):D.call(this,Ue.x1+I,Ue.y1+O)),de.call(this,I,O,Ue.x2,Ue.y2,Ue.x3,Ue.y3,Ue.x4,Ue.y4)}ge?F.call(this):C.call(this,me)},C=function(I){switch(I){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},F=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(I,O){this.pdf.internal.out(r(I)+" "+n(O)+" m")},N=function(I){var O;switch(I.align){case"right":case"end":O="right";break;case"center":O="center";break;case"left":case"start":default:O="left"}var U=this.pdf.getTextDimensions(I.text),z=B.call(this,I.y),q=k.call(this,z)-U.h,fe=this.ctx.transform.applyToPoint(new a(I.x,z)),me=this.ctx.transform.decompose(),ge=new l;ge=(ge=(ge=ge.multiply(me.translate)).multiply(me.skew)).multiply(me.scale);for(var Te,Oe,Be,Ue=this.ctx.transform.applyToRectangle(new o(I.x,z,U.w,U.h)),He=ge.applyToRectangle(new o(I.x,q,U.w,U.h)),Fe=S.call(this,He),ue=[],$e=0;$e<Fe.length;$e+=1)ue.indexOf(Fe[$e])===-1&&ue.push(Fe[$e]);if(T(ue),this.autoPaging)for(var mt=ue[0],Ye=ue[ue.length-1],nt=mt;nt<Ye+1;nt++){this.pdf.setPage(nt);var ot=nt===1?this.posY+this.margin[0]:this.margin[0],lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_t=this.pdf.internal.pageSize.height-this.margin[2],St=_t-this.margin[0],Rt=this.pdf.internal.pageSize.width-this.margin[1],Tt=Rt-this.margin[3],kt=nt===1?0:lt+(nt-2)*St;if(this.ctx.clip_path.length!==0){var qt=this.path;Te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Te,this.posX+this.margin[3],-1*kt+ot),j.call(this,"fill",!0),this.path=qt}var Ct=b([JSON.parse(JSON.stringify(He))],this.posX+this.margin[3],-kt+ot+this.ctx.prevPageLastElemOffset)[0];I.scale>=.01&&(Oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Oe*I.scale),Be=this.lineWidth,this.lineWidth=Be*I.scale);var Wt=this.autoPaging!=="text";if(Wt||Ct.y+Ct.h<=_t){if(Wt||Ct.y>=ot&&Ct.x<=Rt){var ht=Wt?I.text:this.pdf.splitTextToSize(I.text,I.maxWidth||Rt-Ct.x)[0],Dr=b([JSON.parse(JSON.stringify(Ue))],this.posX+this.margin[3],-kt+ot+this.ctx.prevPageLastElemOffset)[0],Gt=Wt&&(nt>mt||nt<Ye)&&g.call(this);Gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Tt,St,null).clip().discardPath()),this.pdf.text(ht,Dr.x,Dr.y,{angle:I.angle,align:O,renderingMode:I.renderingMode}),Gt&&this.pdf.restoreGraphicsState()}}else Ct.y<_t&&(this.ctx.prevPageLastElemOffset+=_t-Ct.y);I.scale>=.01&&(this.pdf.setFontSize(Oe),this.lineWidth=Be)}else I.scale>=.01&&(Oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Oe*I.scale),Be=this.lineWidth,this.lineWidth=Be*I.scale),this.pdf.text(I.text,fe.x+this.posX,fe.y+this.posY,{angle:I.angle,align:O,renderingMode:I.renderingMode,maxWidth:I.maxWidth}),I.scale>=.01&&(this.pdf.setFontSize(Oe),this.lineWidth=Be)},D=function(I,O,U,z){U=U||0,z=z||0,this.pdf.internal.out(r(I+U)+" "+n(O+z)+" l")},G=function(I,O,U){return this.pdf.lines(I,O,U,null,null)},de=function(I,O,U,z,q,fe,me,ge){this.pdf.internal.out([e(i(U+I)),e(s(z+O)),e(i(q+I)),e(s(fe+O)),e(i(me+I)),e(s(ge+O)),"c"].join(" "))},ie=function(I,O,U,z){for(var q=2*Math.PI,fe=Math.PI/2;O>U;)O-=q;var me=Math.abs(U-O);me<q&&z&&(me=q-me);for(var ge=[],Te=z?-1:1,Oe=O;me>1e-5;){var Be=Oe+Te*Math.min(me,fe);ge.push(ee.call(this,I,Oe,Be)),me-=Math.abs(Be-Oe),Oe=Be}return ge},ee=function(I,O,U){var z=(U-O)/2,q=I*Math.cos(z),fe=I*Math.sin(z),me=q,ge=-fe,Te=me*me+ge*ge,Oe=Te+me*q+ge*fe,Be=4/3*(Math.sqrt(2*Te*Oe)-Oe)/(me*fe-ge*q),Ue=me-Be*ge,He=ge+Be*me,Fe=Ue,ue=-He,$e=z+O,mt=Math.cos($e),Ye=Math.sin($e);return{x1:I*Math.cos(O),y1:I*Math.sin(O),x2:Ue*mt-He*Ye,y2:Ue*Ye+He*mt,x3:Fe*mt-ue*Ye,y3:Fe*Ye+ue*mt,x4:I*Math.cos(U),y4:I*Math.sin(U)}},Q=function(I){return 180*I/Math.PI},te=function(I,O,U,z,q,fe){var me=I+.5*(U-I),ge=O+.5*(z-O),Te=q+.5*(U-q),Oe=fe+.5*(z-fe),Be=Math.min(I,q,me,Te),Ue=Math.max(I,q,me,Te),He=Math.min(O,fe,ge,Oe),Fe=Math.max(O,fe,ge,Oe);return new o(Be,He,Ue-Be,Fe-He)},pe=function(I,O,U,z,q,fe,me,ge){var Te,Oe,Be,Ue,He,Fe,ue,$e,mt,Ye,nt,ot,lt,_t,St=U-I,Rt=z-O,Tt=q-U,kt=fe-z,qt=me-q,Ct=ge-fe;for(Oe=0;Oe<41;Oe++)mt=(ue=(Be=I+(Te=Oe/40)*St)+Te*((He=U+Te*Tt)-Be))+Te*(He+Te*(q+Te*qt-He)-ue),Ye=($e=(Ue=O+Te*Rt)+Te*((Fe=z+Te*kt)-Ue))+Te*(Fe+Te*(fe+Te*Ct-Fe)-$e),Oe==0?(nt=mt,ot=Ye,lt=mt,_t=Ye):(nt=Math.min(nt,mt),ot=Math.min(ot,Ye),lt=Math.max(lt,mt),_t=Math.max(_t,Ye));return new o(Math.round(nt),Math.round(ot),Math.round(lt-nt),Math.round(_t-ot))},be=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var I,O,U=(I=this.ctx.lineDash,O=this.ctx.lineDashOffset,JSON.stringify({lineDash:I,lineDashOffset:O}));this.prevLineDash!==U&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=U)}}})(At.API),function(t){var e=function(s){var a,o,l,u,c,f,d,h,v,g;for(o=[],l=0,u=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;u>l;l+=4)(c=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(f=(c=((c=((c=((c=(c-(g=c%85))/85)-(v=c%85))/85)-(h=c%85))/85)-(d=c%85))/85)%85,o.push(f+33,d+33,h+33,v+33,g+33)):o.push(122);return function(S,_){for(var b=_;b>0;b--)S.pop()}(o,a.length),String.fromCharCode.apply(String,o)+"~>"},r=function(s){var a,o,l,u,c,f=String,d="length",h=255,v="charCodeAt",g="slice",S="replace";for(s[g](-2),s=s[g](0,-2)[S](/\s/g,"")[S]("z","!!!!!"),l=[],u=0,c=(s+=a="uuuuu"[g](s[d]%5||5))[d];c>u;u+=5)o=52200625*(s[v](u)-33)+614125*(s[v](u+1)-33)+7225*(s[v](u+2)-33)+85*(s[v](u+3)-33)+(s[v](u+4)-33),l.push(h&o>>24,h&o>>16,h&o>>8,h&o);return function(_,b){for(var T=b;T>0;T--)_.pop()}(l,a[d]),f.fromCharCode.apply(f,l)},n=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var o="",l=0;l<s.length;l+=2)o+=String.fromCharCode("0x"+(s[l]+s[l+1]));return o},i=function(s){for(var a=new Uint8Array(s.length),o=s.length;o--;)a[o]=s.charCodeAt(o);return s=(a=gw(a)).reduce(function(l,u){return l+String.fromCharCode(u)},"")};t.processDataByFilters=function(s,a){var o=0,l=s||"",u=[];for(typeof(a=a||[])=="string"&&(a=[a]),o=0;o<a.length;o+=1)switch(a[o]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[o]+'" is not implemented')}return{data:l,reverseChain:u.reverse().join(" ")}}}(At.API),function(t){t.loadFile=function(e,r,n){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,u,c){var f=new XMLHttpRequest,d=0,h=function(v){var g=v.length,S=[],_=String.fromCharCode;for(d=0;d<g;d+=1)S.push(_(255&v.charCodeAt(d)));return S.join("")};if(f.open("GET",l,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?c(h(this.responseText)):c(void 0)}),f.send(null),u&&f.status===200)return h(f.responseText)}(i,s,a)}catch{}return o}(e,r,n)},t.loadImageFile=t.loadFile}(At.API),function(t){function e(){return(Lt.html2canvas?Promise.resolve(Lt.html2canvas):fw(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function r(){return(Lt.DOMPurify?Promise.resolve(Lt.DOMPurify):fw(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var o=xr(a);return o==="undefined"?"undefined":o==="string"||a instanceof String?"string":o==="number"||a instanceof Number?"number":o==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":o==="object"?"object":"unknown"},i=function(a,o){var l=document.createElement(a);for(var u in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[u]=o.style[u];return l},s=function a(o){var l=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),u=a.convert(Promise.resolve(),l);return u=(u=u.setProgress(1,a,1,[a])).set(o)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,o){return a.__proto__=o||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,o){return this.then(function(){switch(o=o||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(r).then(function(l){return this.set({src:i("div",{innerHTML:a,dompurify:l})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(u,c){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),d=u.firstChild;d;d=d.nextSibling)c!==!0&&d.nodeType===1&&d.nodeName==="SCRIPT"||f.appendChild(l(d,c));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=this.opt.jsPDF,u=this.opt.fontFaces,c=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:c,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=u,u)for(var d=0;d<u.length;++d){var h=u[d],v=h.src.find(function(g){return g.format==="truetype"});v&&l.addFont(v.url,h.ref.name,h.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),o(this.prop.container,f)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(a,o):this.outputPdf(a,o)},s.prototype.outputPdf=function(a,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,o)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(n(a)!=="object")return this;var o=Object.keys(a||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=a[l]};switch(l){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[l]=a[l]}}},this);return this.then(function(){return this.thenList(o)})},s.prototype.get=function(a,o){return this.then(function(){var l=a in s.template.prop?this.prop[a]:this.opt[a];return o?o(l):l})},s.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function o(l,u){return Math.floor(l*u/72*96)}return this.then(function(){(a=a||At.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:o(a.inner.width,a.k),height:o(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,o,l,u){return a!=null&&(this.progress.val=a),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,o,l,u){return this.setProgress(a?this.progress.val+a:null,o||null,l?this.progress.n+l:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(a,o){var l=this;return this.thenCore(a,o,function(u,c){return l.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,u),f}).then(u,c).then(function(f){return l.updateProgress(1),f})})},s.prototype.thenCore=function(a,o,l){l=l||Promise.prototype.then,a&&(a=a.bind(this)),o&&(o=o.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),c=l.call(u,a,o);return s.convert(c,this.__proto__)},s.prototype.thenExternal=function(a,o){return Promise.prototype.then.call(this,a,o)},s.prototype.thenList=function(a){var o=this;return a.forEach(function(l){o=o.thenCore(l)}),o},s.prototype.catch=function(a){a&&(a=a.bind(this));var o=Promise.prototype.catch.call(this,a);return s.convert(o,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,At.getPageSize=function(a,o,l){if(xr(a)==="object"){var u=a;a=u.orientation,o=u.unit||o,l=u.format||l}o=o||"mm",l=l||"a4",a=(""+(a||"P")).toLowerCase();var c,f=(""+l).toLowerCase(),d={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":c=1;break;case"mm":c=72/25.4;break;case"cm":c=72/2.54;break;case"in":c=72;break;case"px":c=.75;break;case"pc":case"em":c=12;break;case"ex":c=6;break;default:throw"Invalid unit: "+o}var h,v=0,g=0;if(d.hasOwnProperty(f))v=d[f][1]/c,g=d[f][0]/c;else try{v=l[1],g=l[0]}catch{throw new Error("Invalid format: "+l)}if(a==="p"||a==="portrait")a="p",g>v&&(h=g,g=v,v=h);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",v>g&&(h=g,g=v,v=h)}return{width:g,height:v,unit:o,k:c,orientation:a}},t.html=function(a,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(bw):null;var l=new s(o);return o.worker?l:l.from(a).doCallback()}}(At.API),At.API.addJS=function(t){return c3=t,this.internal.events.subscribe("postPutResources",function(){Vm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Vm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),u3=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+c3+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Vm!==void 0&&u3!==void 0&&this.internal.out("/Names <</JavaScript "+Vm+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=n.exec(a);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(s=0;s<u;s++){var f=r.internal.newObject();c.push(f);var d=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+d.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<c.length;s++)r.internal.write("(page_"+(s+1)+")"+c[s]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var a={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(At.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,s,a,o){var l,u=this.decode.DCT_DECODE,c=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(f){for(var d,h=256*f.charCodeAt(4)+f.charCodeAt(5),v=f.length,g={width:0,height:0,numcomponents:1},S=4;S<v;S+=2){if(S+=h,e.indexOf(f.charCodeAt(S+1))!==-1){d=256*f.charCodeAt(S+5)+f.charCodeAt(S+6),g={width:256*f.charCodeAt(S+7)+f.charCodeAt(S+8),height:d,numcomponents:f.charCodeAt(S+9)};break}h=256*f.charCodeAt(S+2)+f.charCodeAt(S+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}c={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:i}}return c}}(At.API);var _f,Um,f3,h3,d3,xK=function(){var t,e,r;function n(s){var a,o,l,u,c,f,d,h,v,g,S,_,b,T;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(a=this.readUInt32(),v=(function(){var L,j;for(j=[],L=0;L<4;++L)j.push(String.fromCharCode(this.data[this.pos++]));return j}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},c=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*c/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(v==="fdAT"&&(this.pos+=4,a-=4),s=(f!=null?f.data:void 0)||this.imgData,_=0;0<=a?_<a:_>a;0<=a?++_:--_)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((g=l-this.transparency.indexed.length)>0)for(b=0;0<=g?b<g:b>g;0<=g?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":d=(S=this.read(a)).indexOf(0),h=String.fromCharCode.apply(String,S.slice(0,d)),this.text[h]=String.fromCharCode.apply(String,S.slice(d+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(T=this.colorType)===4||T===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var a,o;for(o=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*a),l=0,u=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function c(f,d,h,v){var g,S,_,b,T,L,j,B,k,y,C,F,E,N,D,G,de,ie,ee,Q,te,pe=Math.ceil((u.width-f)/h),be=Math.ceil((u.height-d)/v),I=u.width==pe&&u.height==be;for(N=a*pe,F=I?o:new Uint8Array(N*be),L=s.length,E=0,S=0;E<be&&l<L;){switch(s[l++]){case 0:for(b=de=0;de<N;b=de+=1)F[S++]=s[l++];break;case 1:for(b=ie=0;ie<N;b=ie+=1)g=s[l++],T=b<a?0:F[S-a],F[S++]=(g+T)%256;break;case 2:for(b=ee=0;ee<N;b=ee+=1)g=s[l++],_=(b-b%a)/a,D=E&&F[(E-1)*N+_*a+b%a],F[S++]=(D+g)%256;break;case 3:for(b=Q=0;Q<N;b=Q+=1)g=s[l++],_=(b-b%a)/a,T=b<a?0:F[S-a],D=E&&F[(E-1)*N+_*a+b%a],F[S++]=(g+Math.floor((T+D)/2))%256;break;case 4:for(b=te=0;te<N;b=te+=1)g=s[l++],_=(b-b%a)/a,T=b<a?0:F[S-a],E===0?D=G=0:(D=F[(E-1)*N+_*a+b%a],G=_&&F[(E-1)*N+(_-1)*a+b%a]),j=T+D-G,B=Math.abs(j-T),y=Math.abs(j-D),C=Math.abs(j-G),k=B<=y&&B<=C?T:y<=C?D:G,F[S++]=(g+k)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!I){var O=((d+E*v)*u.width+f)*a,U=E*N;for(b=0;b<pe;b+=1){for(var z=0;z<a;z+=1)o[O++]=F[U++];O+=(h-1)*a}}E++}}return s=XG(s),u.interlaceMethod==1?(c(0,0,8,8),c(4,0,8,8),c(0,4,4,8),c(2,0,4,4),c(0,2,2,4),c(1,0,2,2),c(0,1,1,2)):c(0,0,1,1),o},n.prototype.decodePalette=function(){var s,a,o,l,u,c,f,d,h;for(o=this.palette,c=this.transparency.indexed||[],u=new Uint8Array((c.length||0)+o.length),l=0,s=0,a=f=0,d=o.length;f<d;a=f+=3)u[l++]=o[a],u[l++]=o[a+1],u[l++]=o[a+2],u[l++]=(h=c[s++])!=null?h:255;return u},n.prototype.copyToImageData=function(s,a){var o,l,u,c,f,d,h,v,g,S,_;if(l=this.colors,g=null,o=this.hasAlphaChannel,this.palette.length&&(g=(_=this._decodedPalette)!=null?_:this._decodedPalette=this.decodePalette(),l=4,o=!0),v=(u=s.data||s).length,f=g||a,c=d=0,l===1)for(;c<v;)h=g?4*a[c/4]:d,S=f[h++],u[c++]=S,u[c++]=S,u[c++]=S,u[c++]=o?f[h++]:255,d=h;else for(;c<v;)h=g?4*a[c/4]:d,u[c++]=f[h++],u[c++]=f[h++],u[c++]=f[h++],u[c++]=o?f[h++]:255,d=h},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(Lt)==="[object Window]"){try{e=Lt.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var a;if(i()===!0)return r.width=s.width,r.height=s.height,r.clearRect(0,0,s.width,s.height),r.putImageData(s,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var a,o,l,u,c,f,d,h;if(this.animation){for(h=[],o=c=0,f=(d=this.animation.frames).length;c<f;o=++c)a=d[o],l=s.createImageData(a.width,a.height),u=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(l,u),a.imageData=l,h.push(a.image=t(l));return h}},n.prototype.renderFrame=function(s,a){var o,l,u;return o=(l=this.animation.frames)[a],u=l[a-1],a===0&&s.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?s.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&s.putImageData(u.imageData,u.xOffset,u.yOffset),o.blendOp===0&&s.clearRect(o.xOffset,o.yOffset,o.width,o.height),s.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(s){var a,o,l,u,c,f,d=this;return o=0,f=this.animation,u=f.numFrames,l=f.frames,c=f.numPlays,(a=function(){var h,v;if(h=o++%u,v=l[h],d.renderFrame(s,h),u>1&&o/u<c)return d.animation._timeout=setTimeout(a,v.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var a,o;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(o=a.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),a.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function wK(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<(7&i)+1;t[e++],t[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var u=!0,c=[],f=0,d=null,h=0,v=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,v=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var g=t[e++];f=t[e++]|t[e++]<<8,d=t[e++],!(1&g)&&(d=null),h=g>>2&7,e++;break;case 254:for(;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var S=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,T=t[e++]|t[e++]<<8,L=t[e++],j=L>>6&1,B=1<<(7&L)+1,k=o,y=l,C=!1;L>>7&&(C=!0,k=e,y=B,e+=3*B);var F=e;for(e++;;){var E;if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}c.push({x:S,y:_,width:b,height:T,has_local_palette:C,palette_offset:k,palette_size:y,data_offset:F,data_length:e-F,transparent_index:d,interlaced:!!j,delay:f,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return v},this.frameInfo=function(N){if(N<0||N>=c.length)throw new Error("Frame index out of range.");return c[N]},this.decodeAndBlitFrameBGRA=function(N,D){var G=this.frameInfo(N),de=G.width*G.height,ie=new Uint8Array(de);p3(t,G.data_offset,ie,de);var ee=G.palette_offset,Q=G.transparent_index;Q===null&&(Q=256);var te=G.width,pe=r-te,be=te,I=4*(G.y*r+G.x),O=4*((G.y+G.height)*r+G.x),U=I,z=4*pe;G.interlaced===!0&&(z+=4*r*7);for(var q=8,fe=0,me=ie.length;fe<me;++fe){var ge=ie[fe];if(be===0&&(be=te,(U+=z)>=O&&(z=4*pe+4*r*(q-1),U=I+(te+pe)*(q<<1),q>>=1)),ge===Q)U+=4;else{var Te=t[ee+3*ge],Oe=t[ee+3*ge+1],Be=t[ee+3*ge+2];D[U++]=Be,D[U++]=Oe,D[U++]=Te,D[U++]=255}--be}},this.decodeAndBlitFrameRGBA=function(N,D){var G=this.frameInfo(N),de=G.width*G.height,ie=new Uint8Array(de);p3(t,G.data_offset,ie,de);var ee=G.palette_offset,Q=G.transparent_index;Q===null&&(Q=256);var te=G.width,pe=r-te,be=te,I=4*(G.y*r+G.x),O=4*((G.y+G.height)*r+G.x),U=I,z=4*pe;G.interlaced===!0&&(z+=4*r*7);for(var q=8,fe=0,me=ie.length;fe<me;++fe){var ge=ie[fe];if(be===0&&(be=te,(U+=z)>=O&&(z=4*pe+4*r*(q-1),U=I+(te+pe)*(q<<1),q>>=1)),ge===Q)U+=4;else{var Te=t[ee+3*ge],Oe=t[ee+3*ge+1],Be=t[ee+3*ge+2];D[U++]=Te,D[U++]=Oe,D[U++]=Be,D[U++]=255}--be}}}function p3(t,e,r,n){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,l=i+1,u=(1<<l)-1,c=0,f=0,d=0,h=t[e++],v=new Int32Array(4096),g=null;;){for(;c<16&&h!==0;)f|=t[e++]<<c,c+=8,h===1?h=t[e++]:--h;if(c<l)break;var S=f&u;if(f>>=l,c-=l,S!==s){if(S===a)break;for(var _=S<o?S:g,b=0,T=_;T>s;)T=v[T]>>8,++b;var L=T;if(d+b+(_!==S?1:0)>n)return void Ir.log("Warning, gif stream longer than expected.");r[d++]=L;var j=d+=b;for(_!==S&&(r[d++]=L),T=_;b--;)T=v[T],r[--j]=255&T,T>>=8;g!==null&&o<4096&&(v[o++]=g<<8|L,o>=u+1&&l<12&&(++l,u=u<<1|1)),g=S}else o=a+1,u=(1<<(l=i+1))-1,g=null}return d!==n&&Ir.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function fy(t){var e,r,n,i,s,a=Math.floor,o=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),f=new Array(65535),d=new Array(65535),h=new Array(64),v=new Array(64),g=[],S=0,_=7,b=new Array(64),T=new Array(64),L=new Array(64),j=new Array(256),B=new Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],y=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],N=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],de=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ie(I,O){for(var U=0,z=0,q=new Array,fe=1;fe<=16;fe++){for(var me=1;me<=I[fe];me++)q[O[z]]=[],q[O[z]][0]=U,q[O[z]][1]=fe,z++,U++;U*=2}return q}function ee(I){for(var O=I[0],U=I[1]-1;U>=0;)O&1<<U&&(S|=1<<_),U--,--_<0&&(S==255?(Q(255),Q(0)):Q(S),_=7,S=0)}function Q(I){g.push(I)}function te(I){Q(I>>8&255),Q(255&I)}function pe(I,O,U,z,q){for(var fe,me=q[0],ge=q[240],Te=function(Ye,nt){var ot,lt,_t,St,Rt,Tt,kt,qt,Ct,Wt,ht=0;for(Ct=0;Ct<8;++Ct){ot=Ye[ht],lt=Ye[ht+1],_t=Ye[ht+2],St=Ye[ht+3],Rt=Ye[ht+4],Tt=Ye[ht+5],kt=Ye[ht+6];var Dr=ot+(qt=Ye[ht+7]),Gt=ot-qt,$n=lt+kt,tr=lt-kt,Tr=_t+Tt,Ki=_t-Tt,Kt=St+Rt,ms=St-Rt,Er=Dr+Kt,Nn=Dr-Kt,Li=$n+Tr,ur=$n-Tr;Ye[ht]=Er+Li,Ye[ht+4]=Er-Li;var Et=.707106781*(ur+Nn);Ye[ht+2]=Nn+Et,Ye[ht+6]=Nn-Et;var Zt=.382683433*((Er=ms+Ki)-(ur=tr+Gt)),Yi=.5411961*Er+Zt,Jr=1.306562965*ur+Zt,On=.707106781*(Li=Ki+tr),Fi=Gt+On,vt=Gt-On;Ye[ht+5]=vt+Yi,Ye[ht+3]=vt-Yi,Ye[ht+1]=Fi+Jr,Ye[ht+7]=Fi-Jr,ht+=8}for(ht=0,Ct=0;Ct<8;++Ct){ot=Ye[ht],lt=Ye[ht+8],_t=Ye[ht+16],St=Ye[ht+24],Rt=Ye[ht+32],Tt=Ye[ht+40],kt=Ye[ht+48];var hi=ot+(qt=Ye[ht+56]),vn=ot-qt,Zr=lt+kt,$r=lt-kt,Wr=_t+Tt,K=_t-Tt,le=St+Rt,ne=St-Rt,se=hi+le,oe=hi-le,ce=Zr+Wr,Ne=Zr-Wr;Ye[ht]=se+ce,Ye[ht+32]=se-ce;var De=.707106781*(Ne+oe);Ye[ht+16]=oe+De,Ye[ht+48]=oe-De;var ke=.382683433*((se=ne+K)-(Ne=$r+vn)),Ce=.5411961*se+ke,Le=1.306562965*Ne+ke,Qe=.707106781*(ce=K+$r),it=vn+Qe,dt=vn-Qe;Ye[ht+40]=dt+Ce,Ye[ht+24]=dt-Ce,Ye[ht+8]=it+Le,Ye[ht+56]=it-Le,ht++}for(Ct=0;Ct<64;++Ct)Wt=Ye[Ct]*nt[Ct],h[Ct]=Wt>0?Wt+.5|0:Wt-.5|0;return h}(I,O),Oe=0;Oe<64;++Oe)v[k[Oe]]=Te[Oe];var Be=v[0]-U;U=v[0],Be==0?ee(z[0]):(ee(z[d[fe=32767+Be]]),ee(f[fe]));for(var Ue=63;Ue>0&&v[Ue]==0;)Ue--;if(Ue==0)return ee(me),U;for(var He,Fe=1;Fe<=Ue;){for(var ue=Fe;v[Fe]==0&&Fe<=Ue;)++Fe;var $e=Fe-ue;if($e>=16){He=$e>>4;for(var mt=1;mt<=He;++mt)ee(ge);$e&=15}fe=32767+v[Fe],ee(q[($e<<4)+d[fe]]),ee(f[fe]),Fe++}return Ue!=63&&ee(me),U}function be(I){I=Math.min(Math.max(I,1),100),s!=I&&(function(O){for(var U=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],z=0;z<64;z++){var q=a((U[z]*O+50)/100);q=Math.min(Math.max(q,1),255),o[k[z]]=q}for(var fe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],me=0;me<64;me++){var ge=a((fe[me]*O+50)/100);ge=Math.min(Math.max(ge,1),255),l[k[me]]=ge}for(var Te=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Oe=0,Be=0;Be<8;Be++)for(var Ue=0;Ue<8;Ue++)u[Oe]=1/(o[k[Oe]]*Te[Be]*Te[Ue]*8),c[Oe]=1/(l[k[Oe]]*Te[Be]*Te[Ue]*8),Oe++}(I<50?Math.floor(5e3/I):Math.floor(200-2*I)),s=I)}this.encode=function(I,O){O&&be(O),g=new Array,S=0,_=7,te(65496),te(65504),te(16),Q(74),Q(70),Q(73),Q(70),Q(0),Q(1),Q(1),Q(0),te(1),te(1),Q(0),Q(0),function(){te(65499),te(132),Q(0);for(var lt=0;lt<64;lt++)Q(o[lt]);Q(1);for(var _t=0;_t<64;_t++)Q(l[_t])}(),function(lt,_t){te(65472),te(17),Q(8),te(_t),te(lt),Q(3),Q(1),Q(17),Q(0),Q(2),Q(17),Q(1),Q(3),Q(17),Q(1)}(I.width,I.height),function(){te(65476),te(418),Q(0);for(var lt=0;lt<16;lt++)Q(y[lt+1]);for(var _t=0;_t<=11;_t++)Q(C[_t]);Q(16);for(var St=0;St<16;St++)Q(F[St+1]);for(var Rt=0;Rt<=161;Rt++)Q(E[Rt]);Q(1);for(var Tt=0;Tt<16;Tt++)Q(N[Tt+1]);for(var kt=0;kt<=11;kt++)Q(D[kt]);Q(17);for(var qt=0;qt<16;qt++)Q(G[qt+1]);for(var Ct=0;Ct<=161;Ct++)Q(de[Ct])}(),te(65498),te(12),Q(3),Q(1),Q(0),Q(2),Q(17),Q(3),Q(17),Q(0),Q(63),Q(0);var U=0,z=0,q=0;S=0,_=7,this.encode.displayName="_encode_";for(var fe,me,ge,Te,Oe,Be,Ue,He,Fe,ue=I.data,$e=I.width,mt=I.height,Ye=4*$e,nt=0;nt<mt;){for(fe=0;fe<Ye;){for(Oe=Ye*nt+fe,Ue=-1,He=0,Fe=0;Fe<64;Fe++)Be=Oe+(He=Fe>>3)*Ye+(Ue=4*(7&Fe)),nt+He>=mt&&(Be-=Ye*(nt+1+He-mt)),fe+Ue>=Ye&&(Be-=fe+Ue-Ye+4),me=ue[Be++],ge=ue[Be++],Te=ue[Be++],b[Fe]=(B[me]+B[ge+256>>0]+B[Te+512>>0]>>16)-128,T[Fe]=(B[me+768>>0]+B[ge+1024>>0]+B[Te+1280>>0]>>16)-128,L[Fe]=(B[me+1280>>0]+B[ge+1536>>0]+B[Te+1792>>0]>>16)-128;U=pe(b,u,U,e,n),z=pe(T,c,z,r,i),q=pe(L,c,q,r,i),fe+=32}nt+=8}if(_>=0){var ot=[];ot[1]=_+1,ot[0]=(1<<_+1)-1,ee(ot)}return te(65497),new Uint8Array(g)},t=t||50,function(){for(var I=String.fromCharCode,O=0;O<256;O++)j[O]=I(O)}(),e=ie(y,C),r=ie(N,D),n=ie(F,E),i=ie(G,de),function(){for(var I=1,O=2,U=1;U<=15;U++){for(var z=I;z<O;z++)d[32767+z]=U,f[32767+z]=[],f[32767+z][1]=U,f[32767+z][0]=z;for(var q=-(O-1);q<=-I;q++)d[32767+q]=U,f[32767+q]=[],f[32767+q][1]=U,f[32767+q][0]=O-1+q;I<<=1,O<<=1}}(),function(){for(var I=0;I<256;I++)B[I]=19595*I,B[I+256>>0]=38470*I,B[I+512>>0]=7471*I+32768,B[I+768>>0]=-11059*I,B[I+1024>>0]=-21709*I,B[I+1280>>0]=32768*I+8421375,B[I+1536>>0]=-27439*I,B[I+1792>>0]=-5329*I}(),be(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function va(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function m3(t){function e(y){if(!y)throw Error("assert :P")}function r(y,C,F){for(var E=0;4>E;E++)if(y[C+E]!=F.charCodeAt(E))return!0;return!1}function n(y,C,F,E,N){for(var D=0;D<N;D++)y[C+D]=F[E+D]}function i(y,C,F,E){for(var N=0;N<E;N++)y[C+N]=F}function s(y){return new Int32Array(y)}function a(y,C){for(var F=[],E=0;E<y;E++)F.push(new C);return F}function o(y,C){var F=[];return function E(N,D,G){for(var de=G[D],ie=0;ie<de&&(N.push(G.length>D+1?[]:new C),!(G.length<D+1));ie++)E(N[ie],D+1,G)}(F,0,y),F}var l=function(){var y=this;function C(p,x){for(var P=1<<x-1>>>0;p&P;)P>>>=1;return P?(p&P-1)+P:p}function F(p,x,P,M,H){e(!(M%P));do p[x+(M-=P)]=H;while(0<M)}function E(p,x,P,M,H){if(e(2328>=H),512>=H)var Y=s(512);else if((Y=s(H))==null)return 0;return function(X,Z,re,ae,xe,Pe){var Ie,Ae,qe=Z,Me=1<<re,we=s(16),_e=s(16);for(e(xe!=0),e(ae!=null),e(X!=null),e(0<re),Ae=0;Ae<xe;++Ae){if(15<ae[Ae])return 0;++we[ae[Ae]]}if(we[0]==xe)return 0;for(_e[1]=0,Ie=1;15>Ie;++Ie){if(we[Ie]>1<<Ie)return 0;_e[Ie+1]=_e[Ie]+we[Ie]}for(Ae=0;Ae<xe;++Ae)Ie=ae[Ae],0<ae[Ae]&&(Pe[_e[Ie]++]=Ae);if(_e[15]==1)return(ae=new N).g=0,ae.value=Pe[0],F(X,qe,1,Me,ae),Me;var ze,Xe=-1,We=Me-1,gt=0,ct=1,Pt=1,pt=1<<re;for(Ae=0,Ie=1,xe=2;Ie<=re;++Ie,xe<<=1){if(ct+=Pt<<=1,0>(Pt-=we[Ie]))return 0;for(;0<we[Ie];--we[Ie])(ae=new N).g=Ie,ae.value=Pe[Ae++],F(X,qe+gt,xe,pt,ae),gt=C(gt,Ie)}for(Ie=re+1,xe=2;15>=Ie;++Ie,xe<<=1){if(ct+=Pt<<=1,0>(Pt-=we[Ie]))return 0;for(;0<we[Ie];--we[Ie]){if(ae=new N,(gt&We)!=Xe){for(qe+=pt,ze=1<<(Xe=Ie)-re;15>Xe&&!(0>=(ze-=we[Xe]));)++Xe,ze<<=1;Me+=pt=1<<(ze=Xe-re),X[Z+(Xe=gt&We)].g=ze+re,X[Z+Xe].value=qe-Z-Xe}ae.g=Ie-re,ae.value=Pe[Ae++],F(X,qe+(gt>>re),xe,pt,ae),gt=C(gt,Ie)}}return ct!=2*_e[15]-1?0:Me}(p,x,P,M,H,Y)}function N(){this.value=this.g=0}function D(){this.value=this.g=0}function G(){this.G=a(5,N),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Xn,D)}function de(p,x,P,M){e(p!=null),e(x!=null),e(2147483648>M),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=x,p.pa=P,p.Jd=x,p.Yc=P+M,p.Zc=4<=M?P+M-4+1:P,fe(p)}function ie(p,x){for(var P=0;0<x--;)P|=ge(p,128)<<x;return P}function ee(p,x){var P=ie(p,x);return me(p)?-P:P}function Q(p,x,P,M){var H,Y=0;for(e(p!=null),e(x!=null),e(4294967288>M),p.Sb=M,p.Ra=0,p.u=0,p.h=0,4<M&&(M=4),H=0;H<M;++H)Y+=x[P+H]<<8*H;p.Ra=Y,p.bb=M,p.oa=x,p.pa=P}function te(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<uf-8>>>0,++p.bb,p.u-=8;U(p)&&(p.h=1,p.u=0)}function pe(p,x){if(e(0<=x),!p.h&&x<=lf){var P=O(p)&of[x];return p.u+=x,te(p),P}return p.h=1,p.u=0}function be(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function I(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function O(p){return p.Ra>>>(p.u&uf-1)>>>0}function U(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>uf}function z(p,x){p.u=x,p.h=U(p)}function q(p){p.u>=td&&(e(p.u>=td),te(p))}function fe(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function me(p){return ie(p,1)}function ge(p,x){var P=p.Ca;0>p.b&&fe(p);var M=p.b,H=P*x>>>8,Y=(p.I>>>M>H)+0;for(Y?(P-=H,p.I-=H+1<<M>>>0):P=H+1,M=P,H=0;256<=M;)H+=8,M>>=8;return M=7^H+Ji[M],p.b-=M,p.Ca=(P<<M)-1,Y}function Te(p,x,P){p[x+0]=P>>24&255,p[x+1]=P>>16&255,p[x+2]=P>>8&255,p[x+3]=P>>0&255}function Oe(p,x){return p[x+0]<<0|p[x+1]<<8}function Be(p,x){return Oe(p,x)|p[x+2]<<16}function Ue(p,x){return Oe(p,x)|Oe(p,x+2)<<16}function He(p,x){var P=1<<x;return e(p!=null),e(0<x),p.X=s(P),p.X==null?0:(p.Mb=32-x,p.Xa=x,1)}function Fe(p,x){e(p!=null),e(x!=null),e(p.Xa==x.Xa),n(x.X,0,p.X,0,1<<x.Xa)}function ue(){this.X=[],this.Xa=this.Mb=0}function $e(p,x,P,M){e(P!=null),e(M!=null);var H=P[0],Y=M[0];return H==0&&(H=(p*Y+x/2)/x),Y==0&&(Y=(x*H+p/2)/p),0>=H||0>=Y?0:(P[0]=H,M[0]=Y,1)}function mt(p,x){return p+(1<<x)-1>>>x}function Ye(p,x){return((4278255360&p)+(4278255360&x)>>>0&4278255360)+((16711935&p)+(16711935&x)>>>0&16711935)>>>0}function nt(p,x){y[x]=function(P,M,H,Y,X,Z,re){var ae;for(ae=0;ae<X;++ae){var xe=y[p](Z[re+ae-1],H,Y+ae);Z[re+ae]=Ye(P[M+ae],xe)}}}function ot(){this.ud=this.hd=this.jd=0}function lt(p,x){return((4278124286&(p^x))>>>1)+(p&x)>>>0}function _t(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function St(p,x){return _t(p+(p-x+.5>>1))}function Rt(p,x,P){return Math.abs(x-P)-Math.abs(p-P)}function Tt(p,x,P,M,H,Y,X){for(M=Y[X-1],P=0;P<H;++P)Y[X+P]=M=Ye(p[x+P],M)}function kt(p,x,P,M,H){var Y;for(Y=0;Y<P;++Y){var X=p[x+Y],Z=X>>8&255,re=16711935&(re=(re=16711935&X)+((Z<<16)+Z));M[H+Y]=(4278255360&X)+re>>>0}}function qt(p,x){x.jd=p>>0&255,x.hd=p>>8&255,x.ud=p>>16&255}function Ct(p,x,P,M,H,Y){var X;for(X=0;X<M;++X){var Z=x[P+X],re=Z>>>8,ae=Z,xe=255&(xe=(xe=Z>>>16)+((p.jd<<24>>24)*(re<<24>>24)>>>5));ae=255&(ae=(ae=ae+((p.hd<<24>>24)*(re<<24>>24)>>>5))+((p.ud<<24>>24)*(xe<<24>>24)>>>5)),H[Y+X]=(4278255360&Z)+(xe<<16)+ae}}function Wt(p,x,P,M,H){y[x]=function(Y,X,Z,re,ae,xe,Pe,Ie,Ae){for(re=Pe;re<Ie;++re)for(Pe=0;Pe<Ae;++Pe)ae[xe++]=H(Z[M(Y[X++])])},y[p]=function(Y,X,Z,re,ae,xe,Pe){var Ie=8>>Y.b,Ae=Y.Ea,qe=Y.K[0],Me=Y.w;if(8>Ie)for(Y=(1<<Y.b)-1,Me=(1<<Ie)-1;X<Z;++X){var we,_e=0;for(we=0;we<Ae;++we)we&Y||(_e=M(re[ae++])),xe[Pe++]=H(qe[_e&Me]),_e>>=Ie}else y["VP8LMapColor"+P](re,ae,qe,Me,xe,Pe,X,Z,Ae)}}function ht(p,x,P,M,H){for(P=x+P;x<P;){var Y=p[x++];M[H++]=Y>>16&255,M[H++]=Y>>8&255,M[H++]=Y>>0&255}}function Dr(p,x,P,M,H){for(P=x+P;x<P;){var Y=p[x++];M[H++]=Y>>16&255,M[H++]=Y>>8&255,M[H++]=Y>>0&255,M[H++]=Y>>24&255}}function Gt(p,x,P,M,H){for(P=x+P;x<P;){var Y=(X=p[x++])>>16&240|X>>12&15,X=X>>0&240|X>>28&15;M[H++]=Y,M[H++]=X}}function $n(p,x,P,M,H){for(P=x+P;x<P;){var Y=(X=p[x++])>>16&248|X>>13&7,X=X>>5&224|X>>3&31;M[H++]=Y,M[H++]=X}}function tr(p,x,P,M,H){for(P=x+P;x<P;){var Y=p[x++];M[H++]=Y>>0&255,M[H++]=Y>>8&255,M[H++]=Y>>16&255}}function Tr(p,x,P,M,H,Y){if(Y==0)for(P=x+P;x<P;)Te(M,((Y=p[x++])[0]>>24|Y[1]>>8&65280|Y[2]<<8&16711680|Y[3]<<24)>>>0),H+=32;else n(M,H,p,x,P)}function Ki(p,x){y[x][0]=y[p+"0"],y[x][1]=y[p+"1"],y[x][2]=y[p+"2"],y[x][3]=y[p+"3"],y[x][4]=y[p+"4"],y[x][5]=y[p+"5"],y[x][6]=y[p+"6"],y[x][7]=y[p+"7"],y[x][8]=y[p+"8"],y[x][9]=y[p+"9"],y[x][10]=y[p+"10"],y[x][11]=y[p+"11"],y[x][12]=y[p+"12"],y[x][13]=y[p+"13"],y[x][14]=y[p+"0"],y[x][15]=y[p+"0"]}function Kt(p){return p==Wv||p==Hv||p==Xp||p==qv}function ms(){this.eb=[],this.size=this.A=this.fb=0}function Er(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Nn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ms,this.f.kb=new Er,this.sd=null}function Li(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ur(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Et(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function Zt(p,x){var P=p.T,M=x.ba.f.RGBA,H=M.eb,Y=M.fb+p.ka*M.A,X=Ws[x.ba.S],Z=p.y,re=p.O,ae=p.f,xe=p.N,Pe=p.ea,Ie=p.W,Ae=x.cc,qe=x.dc,Me=x.Mc,we=x.Nc,_e=p.ka,ze=p.ka+p.T,Xe=p.U,We=Xe+1>>1;for(_e==0?X(Z,re,null,null,ae,xe,Pe,Ie,ae,xe,Pe,Ie,H,Y,null,null,Xe):(X(x.ec,x.fc,Z,re,Ae,qe,Me,we,ae,xe,Pe,Ie,H,Y-M.A,H,Y,Xe),++P);_e+2<ze;_e+=2)Ae=ae,qe=xe,Me=Pe,we=Ie,xe+=p.Rc,Ie+=p.Rc,Y+=2*M.A,X(Z,(re+=2*p.fa)-p.fa,Z,re,Ae,qe,Me,we,ae,xe,Pe,Ie,H,Y-M.A,H,Y,Xe);return re+=p.fa,p.j+ze<p.o?(n(x.ec,x.fc,Z,re,Xe),n(x.cc,x.dc,ae,xe,We),n(x.Mc,x.Nc,Pe,Ie,We),P--):1&ze||X(Z,re,null,null,ae,xe,Pe,Ie,ae,xe,Pe,Ie,H,Y+M.A,null,null,Xe),P}function Yi(p,x,P){var M=p.F,H=[p.J];if(M!=null){var Y=p.U,X=x.ba.S,Z=X==Yp||X==Xp;x=x.ba.f.RGBA;var re=[0],ae=p.ka;re[0]=p.T,p.Kb&&(ae==0?--re[0]:(--ae,H[0]-=p.width),p.j+p.ka+p.T==p.o&&(re[0]=p.o-p.j-ae));var xe=x.eb;ae=x.fb+ae*x.A,p=Lr(M,H[0],p.width,Y,re,xe,ae+(Z?0:3),x.A),e(P==re),p&&Kt(X)&&Us(xe,ae,Z,Y,re,x.A)}return 0}function Jr(p){var x=p.ma,P=x.ba.S,M=11>P,H=P==Gp||P==Kp||P==Yp||P==zv||P==12||Kt(P);if(x.memory=null,x.Ib=null,x.Jb=null,x.Nd=null,!Zh(x.Oa,p,H?11:12))return 0;if(H&&Kt(P)&&Je(),p.da)alert("todo:use_scaling");else{if(M){if(x.Ib=Et,p.Kb){if(P=p.U+1>>1,x.memory=s(p.U+2*P),x.memory==null)return 0;x.ec=x.memory,x.fc=0,x.cc=x.ec,x.dc=x.fc+p.U,x.Mc=x.cc,x.Nc=x.dc+P,x.Ib=Zt,Je()}}else alert("todo:EmitYUV");H&&(x.Jb=Yi,M&&Ee())}if(M&&!F4){for(p=0;256>p;++p)e8[p]=89858*(p-128)+Jp>>Qp,n8[p]=-22014*(p-128)+Jp,r8[p]=-45773*(p-128),t8[p]=113618*(p-128)+Jp>>Qp;for(p=ld;p<Kv;++p)x=76283*(p-16)+Jp>>Qp,i8[p-ld]=dr(x,255),s8[p-ld]=dr(x+8>>4,15);F4=1}return 1}function On(p){var x=p.ma,P=p.U,M=p.T;return e(!(1&p.ka)),0>=P||0>=M?0:(P=x.Ib(p,x),x.Jb!=null&&x.Jb(p,x,P),x.Dc+=P,1)}function Fi(p){p.ma.memory=null}function vt(p,x,P,M){return pe(p,8)!=47?0:(x[0]=pe(p,14)+1,P[0]=pe(p,14)+1,M[0]=pe(p,1),pe(p,3)!=0?0:!p.h)}function hi(p,x){if(4>p)return p+1;var P=p-2>>1;return(2+(1&p)<<P)+pe(x,P)+1}function vn(p,x){return 120<x?x-120:1<=(P=((P=VL[x-1])>>4)*p+(8-(15&P)))?P:1;var P}function Zr(p,x,P){var M=O(P),H=p[x+=255&M].g-8;return 0<H&&(z(P,P.u+8),M=O(P),x+=p[x].value,x+=M&(1<<H)-1),z(P,P.u+p[x].g),p[x].value}function $r(p,x,P){return P.g+=p.g,P.value+=p.value<<x>>>0,e(8>=P.g),p.g}function Wr(p,x,P){var M=p.xc;return e((x=M==0?0:p.vc[p.md*(P>>M)+(x>>M)])<p.Wb),p.Ya[x]}function K(p,x,P,M){var H=p.ab,Y=p.c*x,X=p.C;x=X+x;var Z=P,re=M;for(M=p.Ta,P=p.Ua;0<H--;){var ae=p.gc[H],xe=X,Pe=x,Ie=Z,Ae=re,qe=(re=M,Z=P,ae.Ea);switch(e(xe<Pe),e(Pe<=ae.nc),ae.hc){case 2:Vp(Ie,Ae,(Pe-xe)*qe,re,Z);break;case 0:var Me=xe,we=Pe,_e=re,ze=Z,Xe=(pt=ae).Ea;Me==0&&(Vv(Ie,Ae,null,null,1,_e,ze),Tt(Ie,Ae+1,0,0,Xe-1,_e,ze+1),Ae+=Xe,ze+=Xe,++Me);for(var We=1<<pt.b,gt=We-1,ct=mt(Xe,pt.b),Pt=pt.K,pt=pt.w+(Me>>pt.b)*ct;Me<we;){var cr=Pt,mr=pt,sr=1;for(rd(Ie,Ae,_e,ze-Xe,1,_e,ze);sr<Xe;){var Qt=(sr&~gt)+We;Qt>Xe&&(Qt=Xe),(0,Sl[cr[mr++]>>8&15])(Ie,Ae+ +sr,_e,ze+sr-Xe,Qt-sr,_e,ze+sr),sr=Qt}Ae+=Xe,ze+=Xe,++Me&gt||(pt+=ct)}Pe!=ae.nc&&n(re,Z-qe,re,Z+(Pe-xe-1)*qe,qe);break;case 1:for(qe=Ie,we=Ae,Xe=(Ie=ae.Ea)-(ze=Ie&~(_e=(Ae=1<<ae.b)-1)),Me=mt(Ie,ae.b),We=ae.K,ae=ae.w+(xe>>ae.b)*Me;xe<Pe;){for(gt=We,ct=ae,Pt=new ot,pt=we+ze,cr=we+Ie;we<pt;)qt(gt[ct++],Pt),Qu(Pt,qe,we,Ae,re,Z),we+=Ae,Z+=Ae;we<cr&&(qt(gt[ct++],Pt),Qu(Pt,qe,we,Xe,re,Z),we+=Xe,Z+=Xe),++xe&_e||(ae+=Me)}break;case 3:if(Ie==re&&Ae==Z&&0<ae.b){for(we=re,Ie=qe=Z+(Pe-xe)*qe-(ze=(Pe-xe)*mt(ae.Ea,ae.b)),Ae=re,_e=Z,Me=[],ze=(Xe=ze)-1;0<=ze;--ze)Me[ze]=Ae[_e+ze];for(ze=Xe-1;0<=ze;--ze)we[Ie+ze]=Me[ze];js(ae,xe,Pe,re,qe,re,Z)}else js(ae,xe,Pe,Ie,Ae,re,Z)}Z=M,re=P}re!=P&&n(M,P,Z,re,Y)}function le(p,x){var P=p.V,M=p.Ba+p.c*p.C,H=x-p.C;if(e(x<=p.l.o),e(16>=H),0<H){var Y=p.l,X=p.Ta,Z=p.Ua,re=Y.width;if(K(p,H,P,M),H=Z=[Z],e((P=p.C)<(M=x)),e(Y.v<Y.va),M>Y.o&&(M=Y.o),P<Y.j){var ae=Y.j-P;P=Y.j,H[0]+=ae*re}if(P>=M?P=0:(H[0]+=4*Y.v,Y.ka=P-Y.j,Y.U=Y.va-Y.v,Y.T=M-P,P=1),P){if(Z=Z[0],11>(P=p.ca).S){var xe=P.f.RGBA,Pe=(M=P.S,H=Y.U,Y=Y.T,ae=xe.eb,xe.A),Ie=Y;for(xe=xe.fb+p.Ma*xe.A;0<Ie--;){var Ae=X,qe=Z,Me=H,we=ae,_e=xe;switch(M){case $p:Zi(Ae,qe,Me,we,_e);break;case Gp:Mi(Ae,qe,Me,we,_e);break;case Wv:Mi(Ae,qe,Me,we,_e),Us(we,_e,0,Me,1,0);break;case E4:_o(Ae,qe,Me,we,_e);break;case Kp:Tr(Ae,qe,Me,we,_e,1);break;case Hv:Tr(Ae,qe,Me,we,_e,1),Us(we,_e,0,Me,1,0);break;case Yp:Tr(Ae,qe,Me,we,_e,0);break;case Xp:Tr(Ae,qe,Me,we,_e,0),Us(we,_e,1,Me,1,0);break;case zv:Tl(Ae,qe,Me,we,_e);break;case qv:Tl(Ae,qe,Me,we,_e),Rr(we,_e,Me,1,0);break;case A4:wo(Ae,qe,Me,we,_e);break;default:e(0)}Z+=re,xe+=Pe}p.Ma+=Y}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=P.height)}}p.C=x,e(p.C<=p.i)}function ne(p){var x;if(0<p.ua)return 0;for(x=0;x<p.Wb;++x){var P=p.Ya[x].G,M=p.Ya[x].H;if(0<P[1][M[1]+0].g||0<P[2][M[2]+0].g||0<P[3][M[3]+0].g)return 0}return 1}function se(p,x,P,M,H,Y){if(p.Z!=0){var X=p.qd,Z=p.rd;for(e(kl[p.Z]!=null);x<P;++x)kl[p.Z](X,Z,M,H,M,H,Y),X=M,Z=H,H+=Y;p.qd=X,p.rd=Z}}function oe(p,x){var P=p.l.ma,M=P.Z==0||P.Z==1?p.l.j:p.C;if(M=p.C<M?M:p.C,e(x<=p.l.o),x>M){var H=p.l.width,Y=P.ca,X=P.tb+H*M,Z=p.V,re=p.Ba+p.c*M,ae=p.gc;e(p.ab==1),e(ae[0].hc==3),Up(ae[0],M,x,Z,re,Y,X),se(P,M,x,Y,X,H)}p.C=p.Ma=x}function ce(p,x,P,M,H,Y,X){var Z=p.$/M,re=p.$%M,ae=p.m,xe=p.s,Pe=P+p.$,Ie=Pe;H=P+M*H;var Ae=P+M*Y,qe=280+xe.ua,Me=p.Pb?Z:16777216,we=0<xe.ua?xe.Wa:null,_e=xe.wc,ze=Pe<Ae?Wr(xe,re,Z):null;e(p.C<Y),e(Ae<=H);var Xe=!1;e:for(;;){for(;Xe||Pe<Ae;){var We=0;if(Z>=Me){var gt=Pe-P;e((Me=p).Pb),Me.wd=Me.m,Me.xd=gt,0<Me.s.ua&&Fe(Me.s.Wa,Me.s.vb),Me=Z+zL}if(re&_e||(ze=Wr(xe,re,Z)),e(ze!=null),ze.Qb&&(x[Pe]=ze.qb,Xe=!0),!Xe)if(q(ae),ze.jc){We=ae,gt=x;var ct=Pe,Pt=ze.pd[O(We)&Xn-1];e(ze.jc),256>Pt.g?(z(We,We.u+Pt.g),gt[ct]=Pt.value,We=0):(z(We,We.u+Pt.g-256),e(256<=Pt.value),We=Pt.value),We==0&&(Xe=!0)}else We=Zr(ze.G[0],ze.H[0],ae);if(ae.h)break;if(Xe||256>We){if(!Xe)if(ze.nd)x[Pe]=(ze.qb|We<<8)>>>0;else{if(q(ae),Xe=Zr(ze.G[1],ze.H[1],ae),q(ae),gt=Zr(ze.G[2],ze.H[2],ae),ct=Zr(ze.G[3],ze.H[3],ae),ae.h)break;x[Pe]=(ct<<24|Xe<<16|We<<8|gt)>>>0}if(Xe=!1,++Pe,++re>=M&&(re=0,++Z,X!=null&&Z<=Y&&!(Z%16)&&X(p,Z),we!=null))for(;Ie<Pe;)We=x[Ie++],we.X[(506832829*We&4294967295)>>>we.Mb]=We}else if(280>We){if(We=hi(We-256,ae),gt=Zr(ze.G[4],ze.H[4],ae),q(ae),gt=vn(M,gt=hi(gt,ae)),ae.h)break;if(Pe-P<gt||H-Pe<We)break e;for(ct=0;ct<We;++ct)x[Pe+ct]=x[Pe+ct-gt];for(Pe+=We,re+=We;re>=M;)re-=M,++Z,X!=null&&Z<=Y&&!(Z%16)&&X(p,Z);if(e(Pe<=H),re&_e&&(ze=Wr(xe,re,Z)),we!=null)for(;Ie<Pe;)We=x[Ie++],we.X[(506832829*We&4294967295)>>>we.Mb]=We}else{if(!(We<qe))break e;for(Xe=We-280,e(we!=null);Ie<Pe;)We=x[Ie++],we.X[(506832829*We&4294967295)>>>we.Mb]=We;We=Pe,e(!(Xe>>>(gt=we).Xa)),x[We]=gt.X[Xe],Xe=!0}Xe||e(ae.h==U(ae))}if(p.Pb&&ae.h&&Pe<H)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&Fe(p.s.vb,p.s.Wa);else{if(ae.h)break e;X!=null&&X(p,Z>Y?Y:Z),p.a=0,p.$=Pe-P}return 1}return p.a=3,0}function Ne(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var x=p.Wa;x!=null&&(x.X=null),p.vb=null,e(p!=null)}function De(){var p=new sf;return p==null?null:(p.a=0,p.xb=C4,Ki("Predictor","VP8LPredictors"),Ki("Predictor","VP8LPredictors_C"),Ki("PredictorAdd","VP8LPredictorsAdd"),Ki("PredictorAdd","VP8LPredictorsAdd_C"),Vp=kt,Qu=Ct,Zi=ht,Mi=Dr,Tl=Gt,wo=$n,_o=tr,y.VP8LMapColor32b=cf,y.VP8LMapColor8b=zp,p)}function ke(p,x,P,M,H){var Y=1,X=[p],Z=[x],re=M.m,ae=M.s,xe=null,Pe=0;e:for(;;){if(P)for(;Y&&pe(re,1);){var Ie=X,Ae=Z,qe=M,Me=1,we=qe.m,_e=qe.gc[qe.ab],ze=pe(we,2);if(qe.Oc&1<<ze)Y=0;else{switch(qe.Oc|=1<<ze,_e.hc=ze,_e.Ea=Ie[0],_e.nc=Ae[0],_e.K=[null],++qe.ab,e(4>=qe.ab),ze){case 0:case 1:_e.b=pe(we,3)+2,Me=ke(mt(_e.Ea,_e.b),mt(_e.nc,_e.b),0,qe,_e.K),_e.K=_e.K[0];break;case 3:var Xe,We=pe(we,8)+1,gt=16<We?0:4<We?1:2<We?2:3;if(Ie[0]=mt(_e.Ea,gt),_e.b=gt,Xe=Me=ke(We,1,0,qe,_e.K)){var ct,Pt=We,pt=_e,cr=1<<(8>>pt.b),mr=s(cr);if(mr==null)Xe=0;else{var sr=pt.K[0],Qt=pt.w;for(mr[0]=pt.K[0][0],ct=1;ct<1*Pt;++ct)mr[ct]=Ye(sr[Qt+ct],mr[ct-1]);for(;ct<4*cr;++ct)mr[ct]=0;pt.K[0]=null,pt.K[0]=mr,Xe=1}}Me=Xe;break;case 2:break;default:e(0)}Y=Me}}if(X=X[0],Z=Z[0],Y&&pe(re,1)&&!(Y=1<=(Pe=pe(re,4))&&11>=Pe)){M.a=3;break e}var Pr;if(Pr=Y)t:{var Nr,Ht,yn,es=M,xn=X,ts=Z,gr=Pe,bs=P,Ss=es.m,Mn=es.s,Qn=[null],Bi=1,Hs=0,Ha=UL[gr];r:for(;;){if(bs&&pe(Ss,1)){var jn=pe(Ss,3)+2,Eo=mt(xn,jn),rc=mt(ts,jn),mf=Eo*rc;if(!ke(Eo,rc,0,es,Qn))break r;for(Qn=Qn[0],Mn.xc=jn,Nr=0;Nr<mf;++Nr){var Cl=Qn[Nr]>>8&65535;Qn[Nr]=Cl,Cl>=Bi&&(Bi=Cl+1)}}if(Ss.h)break r;for(Ht=0;5>Ht;++Ht){var tn=N4[Ht];!Ht&&0<gr&&(tn+=1<<gr),Hs<tn&&(Hs=tn)}var Yv=a(Bi*Ha,N),M4=Bi,j4=a(M4,G);if(j4==null)var em=null;else e(65536>=M4),em=j4;var ud=s(Hs);if(em==null||ud==null||Yv==null){es.a=1;break r}var tm=Yv;for(Nr=yn=0;Nr<Bi;++Nr){var pa=em[Nr],gf=pa.G,vf=pa.H,B4=0,rm=1,V4=0;for(Ht=0;5>Ht;++Ht){tn=N4[Ht],gf[Ht]=tm,vf[Ht]=yn,!Ht&&0<gr&&(tn+=1<<gr);i:{var nm,Xv=tn,im=es,cd=ud,l8=tm,u8=yn,Qv=0,Pl=im.m,c8=pe(Pl,1);if(i(cd,0,0,Xv),c8){var f8=pe(Pl,1)+1,h8=pe(Pl,1),U4=pe(Pl,h8==0?1:8);cd[U4]=1,f8==2&&(cd[U4=pe(Pl,8)]=1);var sm=1}else{var z4=s(19),W4=pe(Pl,4)+4;if(19<W4){im.a=3;var am=0;break i}for(nm=0;nm<W4;++nm)z4[BL[nm]]=pe(Pl,3);var Jv=void 0,fd=void 0,H4=im,d8=z4,om=Xv,q4=cd,Zv=0,Il=H4.m,$4=8,G4=a(128,N);n:for(;E(G4,0,7,d8,19);){if(pe(Il,1)){var p8=2+2*pe(Il,3);if((Jv=2+pe(Il,p8))>om)break n}else Jv=om;for(fd=0;fd<om&&Jv--;){q(Il);var K4=G4[0+(127&O(Il))];z(Il,Il.u+K4.g);var yf=K4.value;if(16>yf)q4[fd++]=yf,yf!=0&&($4=yf);else{var m8=yf==16,Y4=yf-16,g8=ML[Y4],X4=pe(Il,OL[Y4])+g8;if(fd+X4>om)break n;for(var v8=m8?$4:0;0<X4--;)q4[fd++]=v8}}Zv=1;break n}Zv||(H4.a=3),sm=Zv}(sm=sm&&!Pl.h)&&(Qv=E(l8,u8,8,cd,Xv)),sm&&Qv!=0?am=Qv:(im.a=3,am=0)}if(am==0)break r;if(rm&&jL[Ht]==1&&(rm=tm[yn].g==0),B4+=tm[yn].g,yn+=am,3>=Ht){var hd,e2=ud[0];for(hd=1;hd<tn;++hd)ud[hd]>e2&&(e2=ud[hd]);V4+=e2}}if(pa.nd=rm,pa.Qb=0,rm&&(pa.qb=(gf[3][vf[3]+0].value<<24|gf[1][vf[1]+0].value<<16|gf[2][vf[2]+0].value)>>>0,B4==0&&256>gf[0][vf[0]+0].value&&(pa.Qb=1,pa.qb+=gf[0][vf[0]+0].value<<8)),pa.jc=!pa.Qb&&6>V4,pa.jc){var lm,Ao=pa;for(lm=0;lm<Xn;++lm){var Rl=lm,Ll=Ao.pd[Rl],um=Ao.G[0][Ao.H[0]+Rl];256<=um.value?(Ll.g=um.g+256,Ll.value=um.value):(Ll.g=0,Ll.value=0,Rl>>=$r(um,8,Ll),Rl>>=$r(Ao.G[1][Ao.H[1]+Rl],16,Ll),Rl>>=$r(Ao.G[2][Ao.H[2]+Rl],0,Ll),$r(Ao.G[3][Ao.H[3]+Rl],24,Ll))}}}Mn.vc=Qn,Mn.Wb=Bi,Mn.Ya=em,Mn.yc=Yv,Pr=1;break t}Pr=0}if(!(Y=Pr)){M.a=3;break e}if(0<Pe){if(ae.ua=1<<Pe,!He(ae.Wa,Pe)){M.a=1,Y=0;break e}}else ae.ua=0;var t2=M,Q4=X,y8=Z,r2=t2.s,n2=r2.xc;if(t2.c=Q4,t2.i=y8,r2.md=mt(Q4,n2),r2.wc=n2==0?-1:(1<<n2)-1,P){M.xb=YL;break e}if((xe=s(X*Z))==null){M.a=1,Y=0;break e}Y=(Y=ce(M,xe,0,X,Z,Z,null))&&!re.h;break e}return Y?(H!=null?H[0]=xe:(e(xe==null),e(P)),M.$=0,P||Ne(ae)):Ne(ae),Y}function Ce(p,x){var P=p.c*p.i,M=P+x+16*x;return e(p.c<=x),p.V=s(M),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+P+x,1)}function Le(p,x){var P=p.C,M=x-P,H=p.V,Y=p.Ba+p.c*P;for(e(x<=p.l.o);0<M;){var X=16<M?16:M,Z=p.l.ma,re=p.l.width,ae=re*X,xe=Z.ca,Pe=Z.tb+re*P,Ie=p.Ta,Ae=p.Ua;K(p,X,H,Y),un(Ie,Ae,xe,Pe,ae),se(Z,P,P+X,xe,Pe,re),M-=X,H+=X*p.c,P+=X}e(P==x),p.C=p.Ma=x}function Qe(){this.ub=this.yd=this.td=this.Rb=0}function it(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function dt(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function tt(){this.Yb=function(){var p=[];return function x(P,M,H){for(var Y=H[M],X=0;X<Y&&(P.push(H.length>M+1?[]:0),!(H.length<M+1));X++)x(P[X],M+1,H)}(p,0,[3,11]),p}()}function ut(){this.jb=s(3),this.Wc=o([4,8],tt),this.Xc=o([4,17],tt)}function It(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function rr(){this.ld=this.La=this.dd=this.tc=0}function nr(){this.Na=this.la=0}function Ar(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Di(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function sa(){this.uc=this.M=this.Nb=0,this.wa=Array(new rr),this.Y=0,this.ya=Array(new Di),this.aa=0,this.l=new vs}function gs(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Xi(){this.cb=this.a=0,this.sc="",this.m=new be,this.Od=new Qe,this.Kc=new it,this.ed=new It,this.Qa=new dt,this.Ic=this.$c=this.Aa=0,this.D=new sa,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,be),this.ia=0,this.pb=a(4,Ar),this.Pa=new ut,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new gs),this.Hd=0,this.rb=Array(new nr),this.sb=0,this.wa=Array(new rr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Di),this.L=this.aa=0,this.gd=o([4,2],rr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function vs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Gn(){var p=new Xi;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,od||(od=Qc)),p}function Or(p,x,P){return p.a==0&&(p.a=x,p.sc=P,p.cb=0),0}function Bu(p,x,P){return 3<=P&&p[x+0]==157&&p[x+1]==1&&p[x+2]==42}function Vu(p,x){if(p==null)return 0;if(p.a=0,p.sc="OK",x==null)return Or(p,2,"null VP8Io passed to VP8GetHeaders()");var P=x.data,M=x.w,H=x.ha;if(4>H)return Or(p,7,"Truncated header.");var Y=P[M+0]|P[M+1]<<8|P[M+2]<<16,X=p.Od;if(X.Rb=!(1&Y),X.td=Y>>1&7,X.yd=Y>>4&1,X.ub=Y>>5,3<X.td)return Or(p,3,"Incorrect keyframe parameters.");if(!X.yd)return Or(p,4,"Frame not displayable.");M+=3,H-=3;var Z=p.Kc;if(X.Rb){if(7>H)return Or(p,7,"cannot parse picture header");if(!Bu(P,M,H))return Or(p,3,"Bad code word");Z.c=16383&(P[M+4]<<8|P[M+3]),Z.Td=P[M+4]>>6,Z.i=16383&(P[M+6]<<8|P[M+5]),Z.Ud=P[M+6]>>6,M+=7,H-=7,p.za=Z.c+15>>4,p.Ub=Z.i+15>>4,x.width=Z.c,x.height=Z.i,x.Da=0,x.j=0,x.v=0,x.va=x.width,x.o=x.height,x.da=0,x.ib=x.width,x.hb=x.height,x.U=x.width,x.T=x.height,i((Y=p.Pa).jb,0,255,Y.jb.length),e((Y=p.Qa)!=null),Y.Cb=0,Y.Bb=0,Y.Fb=1,i(Y.Zb,0,0,Y.Zb.length),i(Y.Lb,0,0,Y.Lb)}if(X.ub>H)return Or(p,7,"bad partition length");de(Y=p.m,P,M,X.ub),M+=X.ub,H-=X.ub,X.Rb&&(Z.Ld=me(Y),Z.Kd=me(Y)),Z=p.Qa;var re,ae=p.Pa;if(e(Y!=null),e(Z!=null),Z.Cb=me(Y),Z.Cb){if(Z.Bb=me(Y),me(Y)){for(Z.Fb=me(Y),re=0;4>re;++re)Z.Zb[re]=me(Y)?ee(Y,7):0;for(re=0;4>re;++re)Z.Lb[re]=me(Y)?ee(Y,6):0}if(Z.Bb)for(re=0;3>re;++re)ae.jb[re]=me(Y)?ie(Y,8):255}else Z.Bb=0;if(Y.Ka)return Or(p,3,"cannot parse segment header");if((Z=p.ed).zd=me(Y),Z.Tb=ie(Y,6),Z.wb=ie(Y,3),Z.Pc=me(Y),Z.Pc&&me(Y)){for(ae=0;4>ae;++ae)me(Y)&&(Z.vd[ae]=ee(Y,6));for(ae=0;4>ae;++ae)me(Y)&&(Z.od[ae]=ee(Y,6))}if(p.L=Z.Tb==0?0:Z.zd?1:2,Y.Ka)return Or(p,3,"cannot parse filter header");var xe=H;if(H=re=M,M=re+xe,Z=xe,p.Xb=(1<<ie(p.m,2))-1,xe<3*(ae=p.Xb))P=7;else{for(re+=3*ae,Z-=3*ae,xe=0;xe<ae;++xe){var Pe=P[H+0]|P[H+1]<<8|P[H+2]<<16;Pe>Z&&(Pe=Z),de(p.Jc[+xe],P,re,Pe),re+=Pe,Z-=Pe,H+=3}de(p.Jc[+ae],P,re,Z),P=re<M?0:5}if(P!=0)return Or(p,P,"cannot parse partitions");for(P=ie(re=p.m,7),H=me(re)?ee(re,4):0,M=me(re)?ee(re,4):0,Z=me(re)?ee(re,4):0,ae=me(re)?ee(re,4):0,re=me(re)?ee(re,4):0,xe=p.Qa,Pe=0;4>Pe;++Pe){if(xe.Cb){var Ie=xe.Zb[Pe];xe.Fb||(Ie+=P)}else{if(0<Pe){p.pb[Pe]=p.pb[0];continue}Ie=P}var Ae=p.pb[Pe];Ae.Sc[0]=$v[dr(Ie+H,127)],Ae.Sc[1]=Gv[dr(Ie+0,127)],Ae.Eb[0]=2*$v[dr(Ie+M,127)],Ae.Eb[1]=101581*Gv[dr(Ie+Z,127)]>>16,8>Ae.Eb[1]&&(Ae.Eb[1]=8),Ae.Qc[0]=$v[dr(Ie+ae,117)],Ae.Qc[1]=Gv[dr(Ie+re,127)],Ae.lc=Ie+re}if(!X.Rb)return Or(p,4,"Not a key frame.");for(me(Y),X=p.Pa,P=0;4>P;++P){for(H=0;8>H;++H)for(M=0;3>M;++M)for(Z=0;11>Z;++Z)ae=ge(Y,GL[P][H][M][Z])?ie(Y,8):qL[P][H][M][Z],X.Wc[P][H].Yb[M][Z]=ae;for(H=0;17>H;++H)X.Xc[P][H]=X.Wc[P][KL[H]]}return p.kc=me(Y),p.kc&&(p.Bd=ie(Y,8)),p.cb=1}function Qc(p,x,P,M,H,Y,X){var Z=x[H].Yb[P];for(P=0;16>H;++H){if(!ge(p,Z[P+0]))return H;for(;!ge(p,Z[P+1]);)if(Z=x[++H].Yb[0],P=0,H==16)return 16;var re=x[H+1].Yb;if(ge(p,Z[P+2])){var ae=p,xe=0;if(ge(ae,(Ie=Z)[(Pe=P)+3]))if(ge(ae,Ie[Pe+6])){for(Z=0,Pe=2*(xe=ge(ae,Ie[Pe+8]))+(Ie=ge(ae,Ie[Pe+9+xe])),xe=0,Ie=WL[Pe];Ie[Z];++Z)xe+=xe+ge(ae,Ie[Z]);xe+=3+(8<<Pe)}else ge(ae,Ie[Pe+7])?(xe=7+2*ge(ae,165),xe+=ge(ae,145)):xe=5+ge(ae,159);else xe=ge(ae,Ie[Pe+4])?3+ge(ae,Ie[Pe+5]):2;Z=re[2]}else xe=1,Z=re[1];re=X+HL[H],0>(ae=p).b&&fe(ae);var Pe,Ie=ae.b,Ae=(Pe=ae.Ca>>1)-(ae.I>>Ie)>>31;--ae.b,ae.Ca+=Ae,ae.Ca|=1,ae.I-=(Pe+1&Ae)<<Ie,Y[re]=((xe^Ae)-Ae)*M[(0<H)+0]}return 16}function Uu(p){var x=p.rb[p.sb-1];x.la=0,x.Na=0,i(p.zc,0,0,p.zc.length),p.ja=0}function Jc(p,x){if(p==null)return 0;if(x==null)return Or(p,2,"NULL VP8Io parameter in VP8Decode().");if(!p.cb&&!Vu(p,x))return 0;if(e(p.cb),x.ac==null||x.ac(x)){x.ob&&(p.L=0);var P=Zp[p.L];if(p.L==2?(p.yb=0,p.zb=0):(p.yb=x.v-P>>4,p.zb=x.j-P>>4,0>p.yb&&(p.yb=0),0>p.zb&&(p.zb=0)),p.Va=x.o+15+P>>4,p.Hb=x.va+15+P>>4,p.Hb>p.za&&(p.Hb=p.za),p.Va>p.Ub&&(p.Va=p.Ub),0<p.L){var M=p.ed;for(P=0;4>P;++P){var H;if(p.Qa.Cb){var Y=p.Qa.Lb[P];p.Qa.Fb||(Y+=M.Tb)}else Y=M.Tb;for(H=0;1>=H;++H){var X=p.gd[P][H],Z=Y;if(M.Pc&&(Z+=M.vd[0],H&&(Z+=M.od[0])),0<(Z=0>Z?0:63<Z?63:Z)){var re=Z;0<M.wb&&(re=4<M.wb?re>>2:re>>1)>9-M.wb&&(re=9-M.wb),1>re&&(re=1),X.dd=re,X.tc=2*Z+re,X.ld=40<=Z?2:15<=Z?1:0}else X.tc=0;X.La=H}}}P=0}else Or(p,6,"Frame setup failed"),P=p.a;if(P=P==0){if(P){p.$c=0,0<p.Aa||(p.Ic=o8);e:{P=p.Ic,M=4*(re=p.za);var ae=32*re,xe=re+1,Pe=0<p.L?re*(0<p.Aa?2:1):0,Ie=(p.Aa==2?2:1)*re;if((X=M+832+(H=3*(16*P+Zp[p.L])/2*ae)+(Y=p.Fa!=null&&0<p.Fa.length?p.Kc.c*p.Kc.i:0))!=X)P=0;else{if(X>p.Vb){if(p.Vb=0,p.Ec=s(X),p.Fc=0,p.Ec==null){P=Or(p,1,"no memory during frame initialization.");break e}p.Vb=X}X=p.Ec,Z=p.Fc,p.Ac=X,p.Bc=Z,Z+=M,p.Gd=a(ae,gs),p.Hd=0,p.rb=a(xe+1,nr),p.sb=1,p.wa=Pe?a(Pe,rr):null,p.Y=0,p.D.Nb=0,p.D.wa=p.wa,p.D.Y=p.Y,0<p.Aa&&(p.D.Y+=re),e(!0),p.oc=X,p.pc=Z,Z+=832,p.ya=a(Ie,Di),p.aa=0,p.D.ya=p.ya,p.D.aa=p.aa,p.Aa==2&&(p.D.aa+=re),p.R=16*re,p.B=8*re,re=(ae=Zp[p.L])*p.R,ae=ae/2*p.B,p.sa=X,p.ta=Z+re,p.qa=p.sa,p.ra=p.ta+16*P*p.R+ae,p.Ha=p.qa,p.Ia=p.ra+8*P*p.B+ae,p.$c=0,Z+=H,p.mb=Y?X:null,p.nb=Y?Z:null,e(Z+Y<=p.Fc+p.Vb),Uu(p),i(p.Ac,p.Bc,0,M),P=1}}if(P){if(x.ka=0,x.y=p.sa,x.O=p.ta,x.f=p.qa,x.N=p.ra,x.ea=p.Ha,x.Vd=p.Ia,x.fa=p.R,x.Rc=p.B,x.F=null,x.J=0,!Hp){for(P=-255;255>=P;++P)Cn[255+P]=0>P?-P:P;for(P=-1020;1020>=P;++P)So[1020+P]=-128>P?-128:127<P?127:P;for(P=-112;112>=P;++P)ad[112+P]=-16>P?-16:15<P?15:P;for(P=-255;510>=P;++P)pf[255+P]=0>P?0:255<P?255:P;Hp=1}ff=mo,bo=ll,nd=zu,ji=pr,Bs=po,ln=ho,hf=ml,Wp=ca,id=vl,Ju=Xu,Zu=gl,El=vo,ec=yl,df=Va,tc=go,Al=ws,sd=kn,Vs=nf,da[0]=Ms,da[1]=Xh,da[2]=ja,da[3]=Jh,da[4]=tf,da[5]=fl,da[6]=ys,da[7]=Hu,da[8]=dl,da[9]=hl,Nl[0]=Ma,Nl[1]=Qh,Nl[2]=oa,Nl[3]=ul,Nl[4]=Mr,Nl[5]=ef,Nl[6]=Wu,To[0]=ua,To[1]=Zc,To[2]=rf,To[3]=la,To[4]=hr,To[5]=qu,To[6]=$u,P=1}else P=0}P&&(P=function(Ae,qe){for(Ae.M=0;Ae.M<Ae.Va;++Ae.M){var Me,we=Ae.Jc[Ae.M&Ae.Xb],_e=Ae.m,ze=Ae;for(Me=0;Me<ze.za;++Me){var Xe=_e,We=ze,gt=We.Ac,ct=We.Bc+4*Me,Pt=We.zc,pt=We.ya[We.aa+Me];if(We.Qa.Bb?pt.$b=ge(Xe,We.Pa.jb[0])?2+ge(Xe,We.Pa.jb[2]):ge(Xe,We.Pa.jb[1]):pt.$b=0,We.kc&&(pt.Ad=ge(Xe,We.Bd)),pt.Za=!ge(Xe,145)+0,pt.Za){var cr=pt.Ob,mr=0;for(We=0;4>We;++We){var sr,Qt=Pt[0+We];for(sr=0;4>sr;++sr){Qt=$L[gt[ct+sr]][Qt];for(var Pr=k4[ge(Xe,Qt[0])];0<Pr;)Pr=k4[2*Pr+ge(Xe,Qt[Pr])];Qt=-Pr,gt[ct+sr]=Qt}n(cr,mr,gt,ct,4),mr+=4,Pt[0+We]=Qt}}else Qt=ge(Xe,156)?ge(Xe,128)?1:3:ge(Xe,163)?2:0,pt.Ob[0]=Qt,i(gt,ct,Qt,4),i(Pt,0,Qt,4);pt.Dd=ge(Xe,142)?ge(Xe,114)?ge(Xe,183)?1:3:2:0}if(ze.m.Ka)return Or(Ae,7,"Premature end-of-partition0 encountered.");for(;Ae.ja<Ae.za;++Ae.ja){if(ze=we,Xe=(_e=Ae).rb[_e.sb-1],gt=_e.rb[_e.sb+_e.ja],Me=_e.ya[_e.aa+_e.ja],ct=_e.kc?Me.Ad:0)Xe.la=gt.la=0,Me.Za||(Xe.Na=gt.Na=0),Me.Hc=0,Me.Gc=0,Me.ia=0;else{var Nr,Ht;if(Xe=gt,gt=ze,ct=_e.Pa.Xc,Pt=_e.ya[_e.aa+_e.ja],pt=_e.pb[Pt.$b],We=Pt.ad,cr=0,mr=_e.rb[_e.sb-1],Qt=sr=0,i(We,cr,0,384),Pt.Za)var yn=0,es=ct[3];else{Pr=s(16);var xn=Xe.Na+mr.Na;if(xn=od(gt,ct[1],xn,pt.Eb,0,Pr,0),Xe.Na=mr.Na=(0<xn)+0,1<xn)ff(Pr,0,We,cr);else{var ts=Pr[0]+3>>3;for(Pr=0;256>Pr;Pr+=16)We[cr+Pr]=ts}yn=1,es=ct[0]}var gr=15&Xe.la,bs=15&mr.la;for(Pr=0;4>Pr;++Pr){var Ss=1&bs;for(ts=Ht=0;4>ts;++ts)gr=gr>>1|(Ss=(xn=od(gt,es,xn=Ss+(1&gr),pt.Sc,yn,We,cr))>yn)<<7,Ht=Ht<<2|(3<xn?3:1<xn?2:We[cr+0]!=0),cr+=16;gr>>=4,bs=bs>>1|Ss<<7,sr=(sr<<8|Ht)>>>0}for(es=gr,yn=bs>>4,Nr=0;4>Nr;Nr+=2){for(Ht=0,gr=Xe.la>>4+Nr,bs=mr.la>>4+Nr,Pr=0;2>Pr;++Pr){for(Ss=1&bs,ts=0;2>ts;++ts)xn=Ss+(1&gr),gr=gr>>1|(Ss=0<(xn=od(gt,ct[2],xn,pt.Qc,0,We,cr)))<<3,Ht=Ht<<2|(3<xn?3:1<xn?2:We[cr+0]!=0),cr+=16;gr>>=2,bs=bs>>1|Ss<<5}Qt|=Ht<<4*Nr,es|=gr<<4<<Nr,yn|=(240&bs)<<Nr}Xe.la=es,mr.la=yn,Pt.Hc=sr,Pt.Gc=Qt,Pt.ia=43690&Qt?0:pt.ia,ct=!(sr|Qt)}if(0<_e.L&&(_e.wa[_e.Y+_e.ja]=_e.gd[Me.$b][Me.Za],_e.wa[_e.Y+_e.ja].La|=!ct),ze.Ka)return Or(Ae,7,"Premature end-of-file encountered.")}if(Uu(Ae),_e=qe,ze=1,Me=(we=Ae).D,Xe=0<we.L&&we.M>=we.zb&&we.M<=we.Va,we.Aa==0)e:{if(Me.M=we.M,Me.uc=Xe,za(we,Me),ze=1,Me=(Ht=we.D).Nb,Xe=(Qt=Zp[we.L])*we.R,gt=Qt/2*we.B,Pr=16*Me*we.R,ts=8*Me*we.B,ct=we.sa,Pt=we.ta-Xe+Pr,pt=we.qa,We=we.ra-gt+ts,cr=we.Ha,mr=we.Ia-gt+ts,bs=(gr=Ht.M)==0,sr=gr>=we.Va-1,we.Aa==2&&za(we,Ht),Ht.uc)for(Ss=(xn=we).D.M,e(xn.D.uc),Ht=xn.yb;Ht<xn.Hb;++Ht){yn=Ht,es=Ss;var Mn=(Qn=(tn=xn).D).Nb;Nr=tn.R;var Qn=Qn.wa[Qn.Y+yn],Bi=tn.sa,Hs=tn.ta+16*Mn*Nr+16*yn,Ha=Qn.dd,jn=Qn.tc;if(jn!=0)if(e(3<=jn),tn.L==1)0<yn&&Al(Bi,Hs,Nr,jn+4),Qn.La&&Vs(Bi,Hs,Nr,jn),0<es&&tc(Bi,Hs,Nr,jn+4),Qn.La&&sd(Bi,Hs,Nr,jn);else{var Eo=tn.B,rc=tn.qa,mf=tn.ra+8*Mn*Eo+8*yn,Cl=tn.Ha,tn=tn.Ia+8*Mn*Eo+8*yn;Mn=Qn.ld,0<yn&&(Wp(Bi,Hs,Nr,jn+4,Ha,Mn),Ju(rc,mf,Cl,tn,Eo,jn+4,Ha,Mn)),Qn.La&&(El(Bi,Hs,Nr,jn,Ha,Mn),df(rc,mf,Cl,tn,Eo,jn,Ha,Mn)),0<es&&(hf(Bi,Hs,Nr,jn+4,Ha,Mn),id(rc,mf,Cl,tn,Eo,jn+4,Ha,Mn)),Qn.La&&(Zu(Bi,Hs,Nr,jn,Ha,Mn),ec(rc,mf,Cl,tn,Eo,jn,Ha,Mn))}}if(we.ia&&alert("todo:DitherRow"),_e.put!=null){if(Ht=16*gr,gr=16*(gr+1),bs?(_e.y=we.sa,_e.O=we.ta+Pr,_e.f=we.qa,_e.N=we.ra+ts,_e.ea=we.Ha,_e.W=we.Ia+ts):(Ht-=Qt,_e.y=ct,_e.O=Pt,_e.f=pt,_e.N=We,_e.ea=cr,_e.W=mr),sr||(gr-=Qt),gr>_e.o&&(gr=_e.o),_e.F=null,_e.J=null,we.Fa!=null&&0<we.Fa.length&&Ht<gr&&(_e.J=bl(we,_e,Ht,gr-Ht),_e.F=we.mb,_e.F==null&&_e.F.length==0)){ze=Or(we,3,"Could not decode alpha data.");break e}Ht<_e.j&&(Qt=_e.j-Ht,Ht=_e.j,e(!(1&Qt)),_e.O+=we.R*Qt,_e.N+=we.B*(Qt>>1),_e.W+=we.B*(Qt>>1),_e.F!=null&&(_e.J+=_e.width*Qt)),Ht<gr&&(_e.O+=_e.v,_e.N+=_e.v>>1,_e.W+=_e.v>>1,_e.F!=null&&(_e.J+=_e.v),_e.ka=Ht-_e.j,_e.U=_e.va-_e.v,_e.T=gr-Ht,ze=_e.put(_e))}Me+1!=we.Ic||sr||(n(we.sa,we.ta-Xe,ct,Pt+16*we.R,Xe),n(we.qa,we.ra-gt,pt,We+8*we.B,gt),n(we.Ha,we.Ia-gt,cr,mr+8*we.B,gt))}if(!ze)return Or(Ae,6,"Output aborted.")}return 1}(p,x)),x.bc!=null&&x.bc(x),P&=1}return P?(p.cb=0,P):0}function Qi(p,x,P,M,H){H=p[x+P+32*M]+(H>>3),p[x+P+32*M]=-256&H?0>H?0:255:H}function ol(p,x,P,M,H,Y){Qi(p,x,0,P,M+H),Qi(p,x,1,P,M+Y),Qi(p,x,2,P,M-Y),Qi(p,x,3,P,M-H)}function en(p){return(20091*p>>16)+p}function Oi(p,x,P,M){var H,Y=0,X=s(16);for(H=0;4>H;++H){var Z=p[x+0]+p[x+8],re=p[x+0]-p[x+8],ae=(35468*p[x+4]>>16)-en(p[x+12]),xe=en(p[x+4])+(35468*p[x+12]>>16);X[Y+0]=Z+xe,X[Y+1]=re+ae,X[Y+2]=re-ae,X[Y+3]=Z-xe,Y+=4,x++}for(H=Y=0;4>H;++H)Z=(p=X[Y+0]+4)+X[Y+8],re=p-X[Y+8],ae=(35468*X[Y+4]>>16)-en(X[Y+12]),Qi(P,M,0,0,Z+(xe=en(X[Y+4])+(35468*X[Y+12]>>16))),Qi(P,M,1,0,re+ae),Qi(P,M,2,0,re-ae),Qi(P,M,3,0,Z-xe),Y++,M+=32}function ho(p,x,P,M){var H=p[x+0]+4,Y=35468*p[x+4]>>16,X=en(p[x+4]),Z=35468*p[x+1]>>16;ol(P,M,0,H+X,p=en(p[x+1]),Z),ol(P,M,1,H+Y,p,Z),ol(P,M,2,H-Y,p,Z),ol(P,M,3,H-X,p,Z)}function ll(p,x,P,M,H){Oi(p,x,P,M),H&&Oi(p,x+16,P,M+4)}function zu(p,x,P,M){bo(p,x+0,P,M,1),bo(p,x+32,P,M+128,1)}function pr(p,x,P,M){var H;for(p=p[x+0]+4,H=0;4>H;++H)for(x=0;4>x;++x)Qi(P,M,x,H,p)}function po(p,x,P,M){p[x+0]&&ji(p,x+0,P,M),p[x+16]&&ji(p,x+16,P,M+4),p[x+32]&&ji(p,x+32,P,M+128),p[x+48]&&ji(p,x+48,P,M+128+4)}function mo(p,x,P,M){var H,Y=s(16);for(H=0;4>H;++H){var X=p[x+0+H]+p[x+12+H],Z=p[x+4+H]+p[x+8+H],re=p[x+4+H]-p[x+8+H],ae=p[x+0+H]-p[x+12+H];Y[0+H]=X+Z,Y[8+H]=X-Z,Y[4+H]=ae+re,Y[12+H]=ae-re}for(H=0;4>H;++H)X=(p=Y[0+4*H]+3)+Y[3+4*H],Z=Y[1+4*H]+Y[2+4*H],re=Y[1+4*H]-Y[2+4*H],ae=p-Y[3+4*H],P[M+0]=X+Z>>3,P[M+16]=ae+re>>3,P[M+32]=X-Z>>3,P[M+48]=ae-re>>3,M+=64}function aa(p,x,P){var M,H=x-32,Y=_s,X=255-p[H-1];for(M=0;M<P;++M){var Z,re=Y,ae=X+p[x-1];for(Z=0;Z<P;++Z)p[x+Z]=re[ae+p[H+Z]];x+=32}}function Xh(p,x){aa(p,x,4)}function Zc(p,x){aa(p,x,8)}function Qh(p,x){aa(p,x,16)}function oa(p,x){var P;for(P=0;16>P;++P)n(p,x+32*P,p,x-32,16)}function ul(p,x){var P;for(P=16;0<P;--P)i(p,x,p[x-1],16),x+=32}function cl(p,x,P){var M;for(M=0;16>M;++M)i(x,P+32*M,p,16)}function Ma(p,x){var P,M=16;for(P=0;16>P;++P)M+=p[x-1+32*P]+p[x+P-32];cl(M>>5,p,x)}function Mr(p,x){var P,M=8;for(P=0;16>P;++P)M+=p[x-1+32*P];cl(M>>4,p,x)}function ef(p,x){var P,M=8;for(P=0;16>P;++P)M+=p[x+P-32];cl(M>>4,p,x)}function Wu(p,x){cl(128,p,x)}function Ft(p,x,P){return p+2*x+P+2>>2}function ja(p,x){var P,M=x-32;for(M=new Uint8Array([Ft(p[M-1],p[M+0],p[M+1]),Ft(p[M+0],p[M+1],p[M+2]),Ft(p[M+1],p[M+2],p[M+3]),Ft(p[M+2],p[M+3],p[M+4])]),P=0;4>P;++P)n(p,x+32*P,M,0,M.length)}function Jh(p,x){var P=p[x-1],M=p[x-1+32],H=p[x-1+64],Y=p[x-1+96];Te(p,x+0,16843009*Ft(p[x-1-32],P,M)),Te(p,x+32,16843009*Ft(P,M,H)),Te(p,x+64,16843009*Ft(M,H,Y)),Te(p,x+96,16843009*Ft(H,Y,Y))}function Ms(p,x){var P,M=4;for(P=0;4>P;++P)M+=p[x+P-32]+p[x-1+32*P];for(M>>=3,P=0;4>P;++P)i(p,x+32*P,M,4)}function tf(p,x){var P=p[x-1+0],M=p[x-1+32],H=p[x-1+64],Y=p[x-1-32],X=p[x+0-32],Z=p[x+1-32],re=p[x+2-32],ae=p[x+3-32];p[x+0+96]=Ft(M,H,p[x-1+96]),p[x+1+96]=p[x+0+64]=Ft(P,M,H),p[x+2+96]=p[x+1+64]=p[x+0+32]=Ft(Y,P,M),p[x+3+96]=p[x+2+64]=p[x+1+32]=p[x+0+0]=Ft(X,Y,P),p[x+3+64]=p[x+2+32]=p[x+1+0]=Ft(Z,X,Y),p[x+3+32]=p[x+2+0]=Ft(re,Z,X),p[x+3+0]=Ft(ae,re,Z)}function ys(p,x){var P=p[x+1-32],M=p[x+2-32],H=p[x+3-32],Y=p[x+4-32],X=p[x+5-32],Z=p[x+6-32],re=p[x+7-32];p[x+0+0]=Ft(p[x+0-32],P,M),p[x+1+0]=p[x+0+32]=Ft(P,M,H),p[x+2+0]=p[x+1+32]=p[x+0+64]=Ft(M,H,Y),p[x+3+0]=p[x+2+32]=p[x+1+64]=p[x+0+96]=Ft(H,Y,X),p[x+3+32]=p[x+2+64]=p[x+1+96]=Ft(Y,X,Z),p[x+3+64]=p[x+2+96]=Ft(X,Z,re),p[x+3+96]=Ft(Z,re,re)}function fl(p,x){var P=p[x-1+0],M=p[x-1+32],H=p[x-1+64],Y=p[x-1-32],X=p[x+0-32],Z=p[x+1-32],re=p[x+2-32],ae=p[x+3-32];p[x+0+0]=p[x+1+64]=Y+X+1>>1,p[x+1+0]=p[x+2+64]=X+Z+1>>1,p[x+2+0]=p[x+3+64]=Z+re+1>>1,p[x+3+0]=re+ae+1>>1,p[x+0+96]=Ft(H,M,P),p[x+0+64]=Ft(M,P,Y),p[x+0+32]=p[x+1+96]=Ft(P,Y,X),p[x+1+32]=p[x+2+96]=Ft(Y,X,Z),p[x+2+32]=p[x+3+96]=Ft(X,Z,re),p[x+3+32]=Ft(Z,re,ae)}function Hu(p,x){var P=p[x+0-32],M=p[x+1-32],H=p[x+2-32],Y=p[x+3-32],X=p[x+4-32],Z=p[x+5-32],re=p[x+6-32],ae=p[x+7-32];p[x+0+0]=P+M+1>>1,p[x+1+0]=p[x+0+64]=M+H+1>>1,p[x+2+0]=p[x+1+64]=H+Y+1>>1,p[x+3+0]=p[x+2+64]=Y+X+1>>1,p[x+0+32]=Ft(P,M,H),p[x+1+32]=p[x+0+96]=Ft(M,H,Y),p[x+2+32]=p[x+1+96]=Ft(H,Y,X),p[x+3+32]=p[x+2+96]=Ft(Y,X,Z),p[x+3+64]=Ft(X,Z,re),p[x+3+96]=Ft(Z,re,ae)}function hl(p,x){var P=p[x-1+0],M=p[x-1+32],H=p[x-1+64],Y=p[x-1+96];p[x+0+0]=P+M+1>>1,p[x+2+0]=p[x+0+32]=M+H+1>>1,p[x+2+32]=p[x+0+64]=H+Y+1>>1,p[x+1+0]=Ft(P,M,H),p[x+3+0]=p[x+1+32]=Ft(M,H,Y),p[x+3+32]=p[x+1+64]=Ft(H,Y,Y),p[x+3+64]=p[x+2+64]=p[x+0+96]=p[x+1+96]=p[x+2+96]=p[x+3+96]=Y}function dl(p,x){var P=p[x-1+0],M=p[x-1+32],H=p[x-1+64],Y=p[x-1+96],X=p[x-1-32],Z=p[x+0-32],re=p[x+1-32],ae=p[x+2-32];p[x+0+0]=p[x+2+32]=P+X+1>>1,p[x+0+32]=p[x+2+64]=M+P+1>>1,p[x+0+64]=p[x+2+96]=H+M+1>>1,p[x+0+96]=Y+H+1>>1,p[x+3+0]=Ft(Z,re,ae),p[x+2+0]=Ft(X,Z,re),p[x+1+0]=p[x+3+32]=Ft(P,X,Z),p[x+1+32]=p[x+3+64]=Ft(M,P,X),p[x+1+64]=p[x+3+96]=Ft(H,M,P),p[x+1+96]=Ft(Y,H,M)}function rf(p,x){var P;for(P=0;8>P;++P)n(p,x+32*P,p,x-32,8)}function la(p,x){var P;for(P=0;8>P;++P)i(p,x,p[x-1],8),x+=32}function xs(p,x,P){var M;for(M=0;8>M;++M)i(x,P+32*M,p,8)}function ua(p,x){var P,M=8;for(P=0;8>P;++P)M+=p[x+P-32]+p[x-1+32*P];xs(M>>4,p,x)}function qu(p,x){var P,M=4;for(P=0;8>P;++P)M+=p[x+P-32];xs(M>>3,p,x)}function hr(p,x){var P,M=4;for(P=0;8>P;++P)M+=p[x-1+32*P];xs(M>>3,p,x)}function $u(p,x){xs(128,p,x)}function pl(p,x,P){var M=p[x-P],H=p[x+0],Y=3*(H-M)+Uv[1020+p[x-2*P]-p[x+P]],X=qp[112+(Y+4>>3)];p[x-P]=_s[255+M+qp[112+(Y+3>>3)]],p[x+0]=_s[255+H-X]}function Gu(p,x,P,M){var H=p[x+0],Y=p[x+P];return zs[255+p[x-2*P]-p[x-P]]>M||zs[255+Y-H]>M}function Ku(p,x,P,M){return 4*zs[255+p[x-P]-p[x+0]]+zs[255+p[x-2*P]-p[x+P]]<=M}function Yu(p,x,P,M,H){var Y=p[x-3*P],X=p[x-2*P],Z=p[x-P],re=p[x+0],ae=p[x+P],xe=p[x+2*P],Pe=p[x+3*P];return 4*zs[255+Z-re]+zs[255+X-ae]>M?0:zs[255+p[x-4*P]-Y]<=H&&zs[255+Y-X]<=H&&zs[255+X-Z]<=H&&zs[255+Pe-xe]<=H&&zs[255+xe-ae]<=H&&zs[255+ae-re]<=H}function go(p,x,P,M){var H=2*M+1;for(M=0;16>M;++M)Ku(p,x+M,P,H)&&pl(p,x+M,P)}function ws(p,x,P,M){var H=2*M+1;for(M=0;16>M;++M)Ku(p,x+M*P,1,H)&&pl(p,x+M*P,1)}function kn(p,x,P,M){var H;for(H=3;0<H;--H)go(p,x+=4*P,P,M)}function nf(p,x,P,M){var H;for(H=3;0<H;--H)ws(p,x+=4,P,M)}function Ba(p,x,P,M,H,Y,X,Z){for(Y=2*Y+1;0<H--;){if(Yu(p,x,P,Y,X))if(Gu(p,x,P,Z))pl(p,x,P);else{var re=p,ae=x,xe=P,Pe=re[ae-2*xe],Ie=re[ae-xe],Ae=re[ae+0],qe=re[ae+xe],Me=re[ae+2*xe],we=27*(ze=Uv[1020+3*(Ae-Ie)+Uv[1020+Pe-qe]])+63>>7,_e=18*ze+63>>7,ze=9*ze+63>>7;re[ae-3*xe]=_s[255+re[ae-3*xe]+ze],re[ae-2*xe]=_s[255+Pe+_e],re[ae-xe]=_s[255+Ie+we],re[ae+0]=_s[255+Ae-we],re[ae+xe]=_s[255+qe-_e],re[ae+2*xe]=_s[255+Me-ze]}x+=M}}function Kn(p,x,P,M,H,Y,X,Z){for(Y=2*Y+1;0<H--;){if(Yu(p,x,P,Y,X))if(Gu(p,x,P,Z))pl(p,x,P);else{var re=p,ae=x,xe=P,Pe=re[ae-xe],Ie=re[ae+0],Ae=re[ae+xe],qe=qp[112+((Me=3*(Ie-Pe))+4>>3)],Me=qp[112+(Me+3>>3)],we=qe+1>>1;re[ae-2*xe]=_s[255+re[ae-2*xe]+we],re[ae-xe]=_s[255+Pe+Me],re[ae+0]=_s[255+Ie-qe],re[ae+xe]=_s[255+Ae-we]}x+=M}}function ml(p,x,P,M,H,Y){Ba(p,x,P,1,16,M,H,Y)}function ca(p,x,P,M,H,Y){Ba(p,x,1,P,16,M,H,Y)}function gl(p,x,P,M,H,Y){var X;for(X=3;0<X;--X)Kn(p,x+=4*P,P,1,16,M,H,Y)}function vo(p,x,P,M,H,Y){var X;for(X=3;0<X;--X)Kn(p,x+=4,1,P,16,M,H,Y)}function vl(p,x,P,M,H,Y,X,Z){Ba(p,x,H,1,8,Y,X,Z),Ba(P,M,H,1,8,Y,X,Z)}function Xu(p,x,P,M,H,Y,X,Z){Ba(p,x,1,H,8,Y,X,Z),Ba(P,M,1,H,8,Y,X,Z)}function yl(p,x,P,M,H,Y,X,Z){Kn(p,x+4*H,H,1,8,Y,X,Z),Kn(P,M+4*H,H,1,8,Y,X,Z)}function Va(p,x,P,M,H,Y,X,Z){Kn(p,x+4,1,H,8,Y,X,Z),Kn(P,M+4,1,H,8,Y,X,Z)}function yo(){this.ba=new Nn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ur,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function xl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function xo(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function wl(){this.ua=0,this.Wa=new ue,this.vb=new ue,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new G,this.yc=new N}function sf(){this.xb=this.a=0,this.l=new vs,this.ca=new Nn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new I,this.Pb=0,this.wd=new I,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new wl,this.ab=0,this.gc=a(4,xo),this.Oc=0}function fa(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new vs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ua(p,x,P,M,H,Y,X){for(p=p==null?0:p[x+0],x=0;x<X;++x)H[Y+x]=p+P[M+x]&255,p=H[Y+x]}function _l(p,x,P,M,H,Y,X){var Z;if(p==null)Ua(null,null,P,M,H,Y,X);else for(Z=0;Z<X;++Z)H[Y+Z]=p[x+Z]+P[M+Z]&255}function di(p,x,P,M,H,Y,X){if(p==null)Ua(null,null,P,M,H,Y,X);else{var Z,re=p[x+0],ae=re,xe=re;for(Z=0;Z<X;++Z)ae=xe+(re=p[x+Z])-ae,xe=P[M+Z]+(-256&ae?0>ae?0:255:ae)&255,ae=re,H[Y+Z]=xe}}function bl(p,x,P,M){var H=x.width,Y=x.o;if(e(p!=null&&x!=null),0>P||0>=M||P+M>Y)return null;if(!p.Cc){if(p.ga==null){var X;if(p.ga=new fa,(X=p.ga==null)||(X=x.width*x.o,e(p.Gb.length==0),p.Gb=s(X),p.Uc=0,p.Gb==null?X=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,X=1),X=!X),!X){X=p.ga;var Z=p.Fa,re=p.P,ae=p.qc,xe=p.mb,Pe=p.nb,Ie=re+1,Ae=ae-1,qe=X.l;if(e(Z!=null&&xe!=null&&x!=null),kl[0]=null,kl[1]=Ua,kl[2]=_l,kl[3]=di,X.ca=xe,X.tb=Pe,X.c=x.width,X.i=x.height,e(0<X.c&&0<X.i),1>=ae)x=0;else if(X.$a=Z[re+0]>>0&3,X.Z=Z[re+0]>>2&3,X.Lc=Z[re+0]>>4&3,re=Z[re+0]>>6&3,0>X.$a||1<X.$a||4<=X.Z||1<X.Lc||re)x=0;else if(qe.put=On,qe.ac=Jr,qe.bc=Fi,qe.ma=X,qe.width=x.width,qe.height=x.height,qe.Da=x.Da,qe.v=x.v,qe.va=x.va,qe.j=x.j,qe.o=x.o,X.$a)e:{e(X.$a==1),x=De();t:for(;;){if(x==null){x=0;break e}if(e(X!=null),X.mc=x,x.c=X.c,x.i=X.i,x.l=X.l,x.l.ma=X,x.l.width=X.c,x.l.height=X.i,x.a=0,Q(x.m,Z,Ie,Ae),!ke(X.c,X.i,1,x,null)||(x.ab==1&&x.gc[0].hc==3&&ne(x.s)?(X.ic=1,Z=x.c*x.i,x.Ta=null,x.Ua=0,x.V=s(Z),x.Ba=0,x.V==null?(x.a=1,x=0):x=1):(X.ic=0,x=Ce(x,X.c)),!x))break t;x=1;break e}X.mc=null,x=0}else x=Ae>=X.c*X.i;X=!x}if(X)return null;p.ga.Lc!=1?p.Ga=0:M=Y-P}e(p.ga!=null),e(P+M<=Y);e:{if(x=(Z=p.ga).c,Y=Z.l.o,Z.$a==0){if(Ie=p.rc,Ae=p.Vc,qe=p.Fa,re=p.P+1+P*x,ae=p.mb,xe=p.nb+P*x,e(re<=p.P+p.qc),Z.Z!=0)for(e(kl[Z.Z]!=null),X=0;X<M;++X)kl[Z.Z](Ie,Ae,qe,re,ae,xe,x),Ie=ae,Ae=xe,xe+=x,re+=x;else for(X=0;X<M;++X)n(ae,xe,qe,re,x),Ie=ae,Ae=xe,xe+=x,re+=x;p.rc=Ie,p.Vc=Ae}else{if(e(Z.mc!=null),x=P+M,e((X=Z.mc)!=null),e(x<=X.i),X.C>=x)x=1;else if(Z.ic||Ee(),Z.ic){Z=X.V,Ie=X.Ba,Ae=X.c;var Me=X.i,we=(qe=1,re=X.$/Ae,ae=X.$%Ae,xe=X.m,Pe=X.s,X.$),_e=Ae*Me,ze=Ae*x,Xe=Pe.wc,We=we<ze?Wr(Pe,ae,re):null;e(we<=_e),e(x<=Me),e(ne(Pe));t:for(;;){for(;!xe.h&&we<ze;){if(ae&Xe||(We=Wr(Pe,ae,re)),e(We!=null),q(xe),256>(Me=Zr(We.G[0],We.H[0],xe)))Z[Ie+we]=Me,++we,++ae>=Ae&&(ae=0,++re<=x&&!(re%16)&&oe(X,re));else{if(!(280>Me)){qe=0;break t}Me=hi(Me-256,xe);var gt,ct=Zr(We.G[4],We.H[4],xe);if(q(xe),!(we>=(ct=vn(Ae,ct=hi(ct,xe)))&&_e-we>=Me)){qe=0;break t}for(gt=0;gt<Me;++gt)Z[Ie+we+gt]=Z[Ie+we+gt-ct];for(we+=Me,ae+=Me;ae>=Ae;)ae-=Ae,++re<=x&&!(re%16)&&oe(X,re);we<ze&&ae&Xe&&(We=Wr(Pe,ae,re))}e(xe.h==U(xe))}oe(X,re>x?x:re);break t}!qe||xe.h&&we<_e?(qe=0,X.a=xe.h?5:3):X.$=we,x=qe}else x=ce(X,X.V,X.Ba,X.c,X.i,x,Le);if(!x){M=0;break e}}P+M>=Y&&(p.Cc=1),M=1}if(!M)return null;if(p.Cc&&((M=p.ga)!=null&&(M.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+P*H}function A(p,x,P,M,H,Y){for(;0<H--;){var X,Z=p,re=x+(P?1:0),ae=p,xe=x+(P?0:3);for(X=0;X<M;++X){var Pe=ae[xe+4*X];Pe!=255&&(Pe*=32897,Z[re+4*X+0]=Z[re+4*X+0]*Pe>>23,Z[re+4*X+1]=Z[re+4*X+1]*Pe>>23,Z[re+4*X+2]=Z[re+4*X+2]*Pe>>23)}x+=Y}}function W(p,x,P,M,H){for(;0<M--;){var Y;for(Y=0;Y<P;++Y){var X=p[x+2*Y+0],Z=15&(ae=p[x+2*Y+1]),re=4369*Z,ae=(240&ae|ae>>4)*re>>16;p[x+2*Y+0]=(240&X|X>>4)*re>>16&240|(15&X|X<<4)*re>>16>>4&15,p[x+2*Y+1]=240&ae|Z}x+=H}}function he(p,x,P,M,H,Y,X,Z){var re,ae,xe=255;for(ae=0;ae<H;++ae){for(re=0;re<M;++re){var Pe=p[x+re];Y[X+4*re]=Pe,xe&=Pe}x+=P,X+=Z}return xe!=255}function ve(p,x,P,M,H){var Y;for(Y=0;Y<H;++Y)P[M+Y]=p[x+Y]>>8}function Ee(){Us=A,Rr=W,Lr=he,un=ve}function je(p,x,P){y[p]=function(M,H,Y,X,Z,re,ae,xe,Pe,Ie,Ae,qe,Me,we,_e,ze,Xe){var We,gt=Xe-1>>1,ct=Z[re+0]|ae[xe+0]<<16,Pt=Pe[Ie+0]|Ae[qe+0]<<16;e(M!=null);var pt=3*ct+Pt+131074>>2;for(x(M[H+0],255&pt,pt>>16,Me,we),Y!=null&&(pt=3*Pt+ct+131074>>2,x(Y[X+0],255&pt,pt>>16,_e,ze)),We=1;We<=gt;++We){var cr=Z[re+We]|ae[xe+We]<<16,mr=Pe[Ie+We]|Ae[qe+We]<<16,sr=ct+cr+Pt+mr+524296,Qt=sr+2*(cr+Pt)>>3;pt=Qt+ct>>1,ct=(sr=sr+2*(ct+mr)>>3)+cr>>1,x(M[H+2*We-1],255&pt,pt>>16,Me,we+(2*We-1)*P),x(M[H+2*We-0],255&ct,ct>>16,Me,we+(2*We-0)*P),Y!=null&&(pt=sr+Pt>>1,ct=Qt+mr>>1,x(Y[X+2*We-1],255&pt,pt>>16,_e,ze+(2*We-1)*P),x(Y[X+2*We+0],255&ct,ct>>16,_e,ze+(2*We+0)*P)),ct=cr,Pt=mr}1&Xe||(pt=3*ct+Pt+131074>>2,x(M[H+Xe-1],255&pt,pt>>16,Me,we+(Xe-1)*P),Y!=null&&(pt=3*Pt+ct+131074>>2,x(Y[X+Xe-1],255&pt,pt>>16,_e,ze+(Xe-1)*P)))}}function Je(){Ws[$p]=XL,Ws[Gp]=P4,Ws[E4]=QL,Ws[Kp]=I4,Ws[Yp]=R4,Ws[zv]=L4,Ws[A4]=JL,Ws[Wv]=P4,Ws[Hv]=I4,Ws[Xp]=R4,Ws[qv]=L4}function ft(p){return p&-16384?0>p?0:255:p>>ZL}function m(p,x){return ft((19077*p>>8)+(26149*x>>8)-14234)}function R(p,x,P){return ft((19077*p>>8)-(6419*x>>8)-(13320*P>>8)+8708)}function V(p,x){return ft((19077*p>>8)+(33050*x>>8)-17685)}function J(p,x,P,M,H){M[H+0]=m(p,P),M[H+1]=R(p,x,P),M[H+2]=V(p,x)}function Se(p,x,P,M,H){M[H+0]=V(p,x),M[H+1]=R(p,x,P),M[H+2]=m(p,P)}function Re(p,x,P,M,H){var Y=R(p,x,P);x=Y<<3&224|V(p,x)>>3,M[H+0]=248&m(p,P)|Y>>5,M[H+1]=x}function Ze(p,x,P,M,H){var Y=240&V(p,x)|15;M[H+0]=240&m(p,P)|R(p,x,P)>>4,M[H+1]=Y}function jt(p,x,P,M,H){M[H+0]=255,J(p,x,P,M,H+1)}function Xt(p,x,P,M,H){Se(p,x,P,M,H),M[H+3]=255}function Bt(p,x,P,M,H){J(p,x,P,M,H),M[H+3]=255}function dr(p,x){return 0>p?0:p>x?x:p}function Cr(p,x,P){y[p]=function(M,H,Y,X,Z,re,ae,xe,Pe){for(var Ie=xe+(-2&Pe)*P;xe!=Ie;)x(M[H+0],Y[X+0],Z[re+0],ae,xe),x(M[H+1],Y[X+0],Z[re+0],ae,xe+P),H+=2,++X,++re,xe+=2*P;1&Pe&&x(M[H+0],Y[X+0],Z[re+0],ae,xe)}}function ha(p,x,P){return P==0?p==0?x==0?6:5:x==0?4:0:P}function Yn(p,x,P,M,H){switch(p>>>30){case 3:bo(x,P,M,H,0);break;case 2:ln(x,P,M,H);break;case 1:ji(x,P,M,H)}}function za(p,x){var P,M,H=x.M,Y=x.Nb,X=p.oc,Z=p.pc+40,re=p.oc,ae=p.pc+584,xe=p.oc,Pe=p.pc+600;for(P=0;16>P;++P)X[Z+32*P-1]=129;for(P=0;8>P;++P)re[ae+32*P-1]=129,xe[Pe+32*P-1]=129;for(0<H?X[Z-1-32]=re[ae-1-32]=xe[Pe-1-32]=129:(i(X,Z-32-1,127,21),i(re,ae-32-1,127,9),i(xe,Pe-32-1,127,9)),M=0;M<p.za;++M){var Ie=x.ya[x.aa+M];if(0<M){for(P=-1;16>P;++P)n(X,Z+32*P-4,X,Z+32*P+12,4);for(P=-1;8>P;++P)n(re,ae+32*P-4,re,ae+32*P+4,4),n(xe,Pe+32*P-4,xe,Pe+32*P+4,4)}var Ae=p.Gd,qe=p.Hd+M,Me=Ie.ad,we=Ie.Hc;if(0<H&&(n(X,Z-32,Ae[qe].y,0,16),n(re,ae-32,Ae[qe].f,0,8),n(xe,Pe-32,Ae[qe].ea,0,8)),Ie.Za){var _e=X,ze=Z-32+16;for(0<H&&(M>=p.za-1?i(_e,ze,Ae[qe].y[15],4):n(_e,ze,Ae[qe+1].y,0,4)),P=0;4>P;P++)_e[ze+128+P]=_e[ze+256+P]=_e[ze+384+P]=_e[ze+0+P];for(P=0;16>P;++P,we<<=2)_e=X,ze=Z+D4[P],da[Ie.Ob[P]](_e,ze),Yn(we,Me,16*+P,_e,ze)}else if(_e=ha(M,H,Ie.Ob[0]),Nl[_e](X,Z),we!=0)for(P=0;16>P;++P,we<<=2)Yn(we,Me,16*+P,X,Z+D4[P]);for(P=Ie.Gc,_e=ha(M,H,Ie.Dd),To[_e](re,ae),To[_e](xe,Pe),we=Me,_e=re,ze=ae,255&(Ie=P>>0)&&(170&Ie?nd(we,256,_e,ze):Bs(we,256,_e,ze)),Ie=xe,we=Pe,255&(P>>=8)&&(170&P?nd(Me,320,Ie,we):Bs(Me,320,Ie,we)),H<p.Ub-1&&(n(Ae[qe].y,0,X,Z+480,16),n(Ae[qe].f,0,re,ae+224,8),n(Ae[qe].ea,0,xe,Pe+224,8)),P=8*Y*p.B,Ae=p.sa,qe=p.ta+16*M+16*Y*p.R,Me=p.qa,Ie=p.ra+8*M+P,we=p.Ha,_e=p.Ia+8*M+P,P=0;16>P;++P)n(Ae,qe+P*p.R,X,Z+32*P,16);for(P=0;8>P;++P)n(Me,Ie+P*p.B,re,ae+32*P,8),n(we,_e+P*p.B,xe,Pe+32*P,8)}}function Wa(p,x,P,M,H,Y,X,Z,re){var ae=[0],xe=[0],Pe=0,Ie=re!=null?re.kd:0,Ae=re??new xl;if(p==null||12>P)return 7;Ae.data=p,Ae.w=x,Ae.ha=P,x=[x],P=[P],Ae.gb=[Ae.gb];e:{var qe=x,Me=P,we=Ae.gb;if(e(p!=null),e(Me!=null),e(we!=null),we[0]=0,12<=Me[0]&&!r(p,qe[0],"RIFF")){if(r(p,qe[0]+8,"WEBP")){we=3;break e}var _e=Ue(p,qe[0]+4);if(12>_e||4294967286<_e){we=3;break e}if(Ie&&_e>Me[0]-8){we=7;break e}we[0]=_e,qe[0]+=12,Me[0]-=12}we=0}if(we!=0)return we;for(_e=0<Ae.gb[0],P=P[0];;){e:{var ze=p;Me=x,we=P;var Xe=ae,We=xe,gt=qe=[0];if((pt=Pe=[Pe])[0]=0,8>we[0])we=7;else{if(!r(ze,Me[0],"VP8X")){if(Ue(ze,Me[0]+4)!=10){we=3;break e}if(18>we[0]){we=7;break e}var ct=Ue(ze,Me[0]+8),Pt=1+Be(ze,Me[0]+12);if(2147483648<=Pt*(ze=1+Be(ze,Me[0]+15))){we=3;break e}gt!=null&&(gt[0]=ct),Xe!=null&&(Xe[0]=Pt),We!=null&&(We[0]=ze),Me[0]+=18,we[0]-=18,pt[0]=1}we=0}}if(Pe=Pe[0],qe=qe[0],we!=0)return we;if(Me=!!(2&qe),!_e&&Pe)return 3;if(Y!=null&&(Y[0]=!!(16&qe)),X!=null&&(X[0]=Me),Z!=null&&(Z[0]=0),X=ae[0],qe=xe[0],Pe&&Me&&re==null){we=0;break}if(4>P){we=7;break}if(_e&&Pe||!_e&&!Pe&&!r(p,x[0],"ALPH")){P=[P],Ae.na=[Ae.na],Ae.P=[Ae.P],Ae.Sa=[Ae.Sa];e:{ct=p,we=x,_e=P;var pt=Ae.gb;Xe=Ae.na,We=Ae.P,gt=Ae.Sa,Pt=22,e(ct!=null),e(_e!=null),ze=we[0];var cr=_e[0];for(e(Xe!=null),e(gt!=null),Xe[0]=null,We[0]=null,gt[0]=0;;){if(we[0]=ze,_e[0]=cr,8>cr){we=7;break e}var mr=Ue(ct,ze+4);if(4294967286<mr){we=3;break e}var sr=8+mr+1&-2;if(Pt+=sr,0<pt&&Pt>pt){we=3;break e}if(!r(ct,ze,"VP8 ")||!r(ct,ze,"VP8L")){we=0;break e}if(cr[0]<sr){we=7;break e}r(ct,ze,"ALPH")||(Xe[0]=ct,We[0]=ze+8,gt[0]=mr),ze+=sr,cr-=sr}}if(P=P[0],Ae.na=Ae.na[0],Ae.P=Ae.P[0],Ae.Sa=Ae.Sa[0],we!=0)break}P=[P],Ae.Ja=[Ae.Ja],Ae.xa=[Ae.xa];e:if(pt=p,we=x,_e=P,Xe=Ae.gb[0],We=Ae.Ja,gt=Ae.xa,ct=we[0],ze=!r(pt,ct,"VP8 "),Pt=!r(pt,ct,"VP8L"),e(pt!=null),e(_e!=null),e(We!=null),e(gt!=null),8>_e[0])we=7;else{if(ze||Pt){if(pt=Ue(pt,ct+4),12<=Xe&&pt>Xe-12){we=3;break e}if(Ie&&pt>_e[0]-8){we=7;break e}We[0]=pt,we[0]+=8,_e[0]-=8,gt[0]=Pt}else gt[0]=5<=_e[0]&&pt[ct+0]==47&&!(pt[ct+4]>>5),We[0]=_e[0];we=0}if(P=P[0],Ae.Ja=Ae.Ja[0],Ae.xa=Ae.xa[0],x=x[0],we!=0)break;if(4294967286<Ae.Ja)return 3;if(Z==null||Me||(Z[0]=Ae.xa?2:1),X=[X],qe=[qe],Ae.xa){if(5>P){we=7;break}Z=X,Ie=qe,Me=Y,p==null||5>P?p=0:5<=P&&p[x+0]==47&&!(p[x+4]>>5)?(_e=[0],pt=[0],Xe=[0],Q(We=new I,p,x,P),vt(We,_e,pt,Xe)?(Z!=null&&(Z[0]=_e[0]),Ie!=null&&(Ie[0]=pt[0]),Me!=null&&(Me[0]=Xe[0]),p=1):p=0):p=0}else{if(10>P){we=7;break}Z=qe,p==null||10>P||!Bu(p,x+3,P-3)?p=0:(Ie=p[x+0]|p[x+1]<<8|p[x+2]<<16,Me=16383&(p[x+7]<<8|p[x+6]),p=16383&(p[x+9]<<8|p[x+8]),1&Ie||3<(Ie>>1&7)||!(Ie>>4&1)||Ie>>5>=Ae.Ja||!Me||!p?p=0:(X&&(X[0]=Me),Z&&(Z[0]=p),p=1))}if(!p||(X=X[0],qe=qe[0],Pe&&(ae[0]!=X||xe[0]!=qe)))return 3;re!=null&&(re[0]=Ae,re.offset=x-re.w,e(4294967286>x-re.w),e(re.offset==re.ha-P));break}return we==0||we==7&&Pe&&re==null?(Y!=null&&(Y[0]|=Ae.na!=null&&0<Ae.na.length),M!=null&&(M[0]=X),H!=null&&(H[0]=qe),0):we}function Zh(p,x,P){var M=x.width,H=x.height,Y=0,X=0,Z=M,re=H;if(x.Da=p!=null&&0<p.Da,x.Da&&(Z=p.cd,re=p.bd,Y=p.v,X=p.j,11>P||(Y&=-2,X&=-2),0>Y||0>X||0>=Z||0>=re||Y+Z>M||X+re>H))return 0;if(x.v=Y,x.j=X,x.va=Y+Z,x.o=X+re,x.U=Z,x.T=re,x.da=p!=null&&0<p.da,x.da){if(!$e(Z,re,P=[p.ib],Y=[p.hb]))return 0;x.ib=P[0],x.hb=Y[0]}return x.ob=p!=null&&p.ob,x.Kb=p==null||!p.Sd,x.da&&(x.ob=x.ib<3*M/4&&x.hb<3*H/4,x.Kb=0),1}function ed(p){if(p==null)return 2;if(11>p.S){var x=p.f.RGBA;x.fb+=(p.height-1)*x.A,x.A=-x.A}else x=p.f.kb,p=p.height,x.O+=(p-1)*x.fa,x.fa=-x.fa,x.N+=(p-1>>1)*x.Ab,x.Ab=-x.Ab,x.W+=(p-1>>1)*x.Db,x.Db=-x.Db,x.F!=null&&(x.J+=(p-1)*x.lb,x.lb=-x.lb);return 0}function af(p,x,P,M){if(M==null||0>=p||0>=x)return 2;if(P!=null){if(P.Da){var H=P.cd,Y=P.bd,X=-2&P.v,Z=-2&P.j;if(0>X||0>Z||0>=H||0>=Y||X+H>p||Z+Y>x)return 2;p=H,x=Y}if(P.da){if(!$e(p,x,H=[P.ib],Y=[P.hb]))return 2;p=H[0],x=Y[0]}}M.width=p,M.height=x;e:{var re=M.width,ae=M.height;if(p=M.S,0>=re||0>=ae||!(p>=$p&&13>p))p=2;else{if(0>=M.Rd&&M.sd==null){X=Y=H=x=0;var xe=(Z=re*O4[p])*ae;if(11>p||(Y=(ae+1)/2*(x=(re+1)/2),p==12&&(X=(H=re)*ae)),(ae=s(xe+2*Y+X))==null){p=1;break e}M.sd=ae,11>p?((re=M.f.RGBA).eb=ae,re.fb=0,re.A=Z,re.size=xe):((re=M.f.kb).y=ae,re.O=0,re.fa=Z,re.Fd=xe,re.f=ae,re.N=0+xe,re.Ab=x,re.Cd=Y,re.ea=ae,re.W=0+xe+Y,re.Db=x,re.Ed=Y,p==12&&(re.F=ae,re.J=0+xe+2*Y),re.Tc=X,re.lb=H)}if(x=1,H=M.S,Y=M.width,X=M.height,H>=$p&&13>H)if(11>H)p=M.f.RGBA,x&=(Z=Math.abs(p.A))*(X-1)+Y<=p.size,x&=Z>=Y*O4[H],x&=p.eb!=null;else{p=M.f.kb,Z=(Y+1)/2,xe=(X+1)/2,re=Math.abs(p.fa),ae=Math.abs(p.Ab);var Pe=Math.abs(p.Db),Ie=Math.abs(p.lb),Ae=Ie*(X-1)+Y;x&=re*(X-1)+Y<=p.Fd,x&=ae*(xe-1)+Z<=p.Cd,x=(x&=Pe*(xe-1)+Z<=p.Ed)&re>=Y&ae>=Z&Pe>=Z,x&=p.y!=null,x&=p.f!=null,x&=p.ea!=null,H==12&&(x&=Ie>=Y,x&=Ae<=p.Tc,x&=p.F!=null)}else x=0;p=x?0:2}}return p!=0||P!=null&&P.fd&&(p=ed(M)),p}var Xn=64,of=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],lf=24,uf=32,td=8,Ji=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];nt("Predictor0","PredictorAdd0"),y.Predictor0=function(){return 4278190080},y.Predictor1=function(p){return p},y.Predictor2=function(p,x,P){return x[P+0]},y.Predictor3=function(p,x,P){return x[P+1]},y.Predictor4=function(p,x,P){return x[P-1]},y.Predictor5=function(p,x,P){return lt(lt(p,x[P+1]),x[P+0])},y.Predictor6=function(p,x,P){return lt(p,x[P-1])},y.Predictor7=function(p,x,P){return lt(p,x[P+0])},y.Predictor8=function(p,x,P){return lt(x[P-1],x[P+0])},y.Predictor9=function(p,x,P){return lt(x[P+0],x[P+1])},y.Predictor10=function(p,x,P){return lt(lt(p,x[P-1]),lt(x[P+0],x[P+1]))},y.Predictor11=function(p,x,P){var M=x[P+0];return 0>=Rt(M>>24&255,p>>24&255,(x=x[P-1])>>24&255)+Rt(M>>16&255,p>>16&255,x>>16&255)+Rt(M>>8&255,p>>8&255,x>>8&255)+Rt(255&M,255&p,255&x)?M:p},y.Predictor12=function(p,x,P){var M=x[P+0];return(_t((p>>24&255)+(M>>24&255)-((x=x[P-1])>>24&255))<<24|_t((p>>16&255)+(M>>16&255)-(x>>16&255))<<16|_t((p>>8&255)+(M>>8&255)-(x>>8&255))<<8|_t((255&p)+(255&M)-(255&x)))>>>0},y.Predictor13=function(p,x,P){var M=x[P-1];return(St((p=lt(p,x[P+0]))>>24&255,M>>24&255)<<24|St(p>>16&255,M>>16&255)<<16|St(p>>8&255,M>>8&255)<<8|St(p>>0&255,M>>0&255))>>>0};var Vv=y.PredictorAdd0;y.PredictorAdd1=Tt,nt("Predictor2","PredictorAdd2"),nt("Predictor3","PredictorAdd3"),nt("Predictor4","PredictorAdd4"),nt("Predictor5","PredictorAdd5"),nt("Predictor6","PredictorAdd6"),nt("Predictor7","PredictorAdd7"),nt("Predictor8","PredictorAdd8"),nt("Predictor9","PredictorAdd9"),nt("Predictor10","PredictorAdd10"),nt("Predictor11","PredictorAdd11"),nt("Predictor12","PredictorAdd12"),nt("Predictor13","PredictorAdd13");var rd=y.PredictorAdd2;Wt("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),Wt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Vp,js=y.ColorIndexInverseTransform,cf=y.MapARGB,Up=y.VP8LColorIndexInverseTransformAlpha,zp=y.MapAlpha,Sl=y.VP8LPredictorsAdd=[];Sl.length=16,(y.VP8LPredictors=[]).length=16,(y.VP8LPredictorsAdd_C=[]).length=16,(y.VP8LPredictors_C=[]).length=16;var Qu,Zi,Mi,Tl,wo,_o,ff,bo,ln,nd,ji,Bs,hf,Wp,id,Ju,Zu,El,ec,df,tc,Al,sd,Vs,Us,Rr,Lr,un,Cn=s(511),So=s(2041),ad=s(225),pf=s(767),Hp=0,Uv=So,qp=ad,_s=pf,zs=Cn,$p=0,Gp=1,E4=2,Kp=3,Yp=4,zv=5,A4=6,Wv=7,Hv=8,Xp=9,qv=10,OL=[2,3,7],ML=[3,3,11],N4=[280,256,256,256,40],jL=[0,1,1,1,0],BL=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],VL=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],UL=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],zL=8,$v=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Gv=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],od=null,WL=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],HL=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],k4=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],qL=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],$L=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],GL=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],KL=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Nl=[],da=[],To=[],YL=1,C4=2,kl=[],Ws=[];je("UpsampleRgbLinePair",J,3),je("UpsampleBgrLinePair",Se,3),je("UpsampleRgbaLinePair",Bt,4),je("UpsampleBgraLinePair",Xt,4),je("UpsampleArgbLinePair",jt,4),je("UpsampleRgba4444LinePair",Ze,2),je("UpsampleRgb565LinePair",Re,2);var XL=y.UpsampleRgbLinePair,QL=y.UpsampleBgrLinePair,P4=y.UpsampleRgbaLinePair,I4=y.UpsampleBgraLinePair,R4=y.UpsampleArgbLinePair,L4=y.UpsampleRgba4444LinePair,JL=y.UpsampleRgb565LinePair,Qp=16,Jp=1<<Qp-1,ld=-227,Kv=482,ZL=6,F4=0,e8=s(256),t8=s(256),r8=s(256),n8=s(256),i8=s(Kv-ld),s8=s(Kv-ld);Cr("YuvToRgbRow",J,3),Cr("YuvToBgrRow",Se,3),Cr("YuvToRgbaRow",Bt,4),Cr("YuvToBgraRow",Xt,4),Cr("YuvToArgbRow",jt,4),Cr("YuvToRgba4444Row",Ze,2),Cr("YuvToRgb565Row",Re,2);var D4=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Zp=[0,2,8],a8=[8,7,6,4,4,2,2,2,1,1,1,1],o8=1;this.WebPDecodeRGBA=function(p,x,P,M,H){var Y=Gp,X=new yo,Z=new Nn;X.ba=Z,Z.S=Y,Z.width=[Z.width],Z.height=[Z.height];var re=Z.width,ae=Z.height,xe=new Li;if(xe==null||p==null)var Pe=2;else e(xe!=null),Pe=Wa(p,x,P,xe.width,xe.height,xe.Pd,xe.Qd,xe.format,null);if(Pe!=0?re=0:(re!=null&&(re[0]=xe.width[0]),ae!=null&&(ae[0]=xe.height[0]),re=1),re){Z.width=Z.width[0],Z.height=Z.height[0],M!=null&&(M[0]=Z.width),H!=null&&(H[0]=Z.height);e:{if(M=new vs,(H=new xl).data=p,H.w=x,H.ha=P,H.kd=1,x=[0],e(H!=null),((p=Wa(H.data,H.w,H.ha,null,null,null,x,null,H))==0||p==7)&&x[0]&&(p=4),(x=p)==0){if(e(X!=null),M.data=H.data,M.w=H.w+H.offset,M.ha=H.ha-H.offset,M.put=On,M.ac=Jr,M.bc=Fi,M.ma=X,H.xa){if((p=De())==null){X=1;break e}if(function(Ie,Ae){var qe=[0],Me=[0],we=[0];t:for(;;){if(Ie==null)return 0;if(Ae==null)return Ie.a=2,0;if(Ie.l=Ae,Ie.a=0,Q(Ie.m,Ae.data,Ae.w,Ae.ha),!vt(Ie.m,qe,Me,we)){Ie.a=3;break t}if(Ie.xb=C4,Ae.width=qe[0],Ae.height=Me[0],!ke(qe[0],Me[0],1,Ie,null))break t;return 1}return e(Ie.a!=0),0}(p,M)){if(M=(x=af(M.width,M.height,X.Oa,X.ba))==0){t:{M=p;r:for(;;){if(M==null){M=0;break t}if(e(M.s.yc!=null),e(M.s.Ya!=null),e(0<M.s.Wb),e((P=M.l)!=null),e((H=P.ma)!=null),M.xb!=0){if(M.ca=H.ba,M.tb=H.tb,e(M.ca!=null),!Zh(H.Oa,P,Kp)){M.a=2;break r}if(!Ce(M,P.width)||P.da)break r;if((P.da||Kt(M.ca.S))&&Ee(),11>M.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),M.ca.f.kb.F!=null&&Ee()),M.Pb&&0<M.s.ua&&M.s.vb.X==null&&!He(M.s.vb,M.s.Wa.Xa)){M.a=1;break r}M.xb=0}if(!ce(M,M.V,M.Ba,M.c,M.i,P.o,le))break r;H.Dc=M.Ma,M=1;break t}e(M.a!=0),M=0}M=!M}M&&(x=p.a)}else x=p.a}else{if((p=new Gn)==null){X=1;break e}if(p.Fa=H.na,p.P=H.P,p.qc=H.Sa,Vu(p,M)){if((x=af(M.width,M.height,X.Oa,X.ba))==0){if(p.Aa=0,P=X.Oa,e((H=p)!=null),P!=null){if(0<(re=0>(re=P.Md)?0:100<re?255:255*re/100)){for(ae=xe=0;4>ae;++ae)12>(Pe=H.pb[ae]).lc&&(Pe.ia=re*a8[0>Pe.lc?0:Pe.lc]>>3),xe|=Pe.ia;xe&&(alert("todo:VP8InitRandom"),H.ia=1)}H.Ga=P.Id,100<H.Ga?H.Ga=100:0>H.Ga&&(H.Ga=0)}Jc(p,M)||(x=p.a)}}else x=p.a}x==0&&X.Oa!=null&&X.Oa.fd&&(x=ed(X.ba))}X=x}Y=X!=0?null:11>Y?Z.f.RGBA.eb:Z.f.kb.y}else Y=null;return Y};var O4=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(y,C){for(var F="",E=0;E<4;E++)F+=String.fromCharCode(y[C++]);return F}function c(y,C){return(y[C+0]<<0|y[C+1]<<8|y[C+2]<<16)>>>0}function f(y,C){return(y[C+0]<<0|y[C+1]<<8|y[C+2]<<16|y[C+3]<<24)>>>0}new l;var d=[0],h=[0],v=[],g=new l,S=t,_=function(y,C){var F={},E=0,N=!1,D=0,G=0;if(F.frames=[],!function(O,U,z,q){for(var fe=0;fe<q;fe++)if(O[U+fe]!=z.charCodeAt(fe))return!0;return!1}(y,C,"RIFF",4)){var de,ie;for(f(y,C+=4),C+=8;C<y.length;){var ee=u(y,C),Q=f(y,C+=4);C+=4;var te=Q+(1&Q);switch(ee){case"VP8 ":case"VP8L":F.frames[E]===void 0&&(F.frames[E]={}),(I=F.frames[E]).src_off=N?G:C-8,I.src_size=D+Q+8,E++,N&&(N=!1,D=0,G=0);break;case"VP8X":(I=F.header={}).feature_flags=y[C];var pe=C+4;I.canvas_width=1+c(y,pe),pe+=3,I.canvas_height=1+c(y,pe),pe+=3;break;case"ALPH":N=!0,D=te+8,G=C-8;break;case"ANIM":(I=F.header).bgcolor=f(y,C),pe=C+4,I.loop_count=(de=y)[(ie=pe)+0]<<0|de[ie+1]<<8,pe+=2;break;case"ANMF":var be,I;(I=F.frames[E]={}).offset_x=2*c(y,C),C+=3,I.offset_y=2*c(y,C),C+=3,I.width=1+c(y,C),C+=3,I.height=1+c(y,C),C+=3,I.duration=c(y,C),C+=3,be=y[C++],I.dispose=1&be,I.blend=be>>1&1}ee!="ANMF"&&(C+=te)}return F}}(S,0);_.response=S,_.rgbaoutput=!0,_.dataurl=!1;var b=_.header?_.header:null,T=_.frames?_.frames:null;if(b){b.loop_counter=b.loop_count,d=[b.canvas_height],h=[b.canvas_width];for(var L=0;L<T.length&&T[L].blend!=0;L++);}var j=T[0],B=g.WebPDecodeRGBA(S,j.src_off,j.src_size,h,d);j.rgba=B,j.imgwidth=h[0],j.imgheight=d[0];for(var k=0;k<h[0]*d[0]*4;k++)v[k]=B[k];return this.width=h,this.height=d,this.data=v,this}(function(t){var e=function(){return typeof gw=="function"},r=function(d,h,v,g){var S=4,_=a;switch(g){case t.image_compression.FAST:S=1,_=s;break;case t.image_compression.MEDIUM:S=6,_=o;break;case t.image_compression.SLOW:S=9,_=l}d=n(d,h,v,_);var b=gw(d,{level:S});return t.__addimage__.arrayBufferToBinaryString(b)},n=function(d,h,v,g){for(var S,_,b,T=d.length/h,L=new Uint8Array(d.length+T),j=c(),B=0;B<T;B+=1){if(b=B*h,S=d.subarray(b,b+h),g)L.set(g(S,v,_),b+B);else{for(var k,y=j.length,C=[];k<y;k+=1)C[k]=j[k](S,v,_);var F=f(C.concat());L.set(C[F],b+B)}_=S}return L},i=function(d){var h=Array.apply([],d);return h.unshift(0),h},s=function(d,h){var v,g=[],S=d.length;g[0]=1;for(var _=0;_<S;_+=1)v=d[_-h]||0,g[_+1]=d[_]-v+256&255;return g},a=function(d,h,v){var g,S=[],_=d.length;S[0]=2;for(var b=0;b<_;b+=1)g=v&&v[b]||0,S[b+1]=d[b]-g+256&255;return S},o=function(d,h,v){var g,S,_=[],b=d.length;_[0]=3;for(var T=0;T<b;T+=1)g=d[T-h]||0,S=v&&v[T]||0,_[T+1]=d[T]+256-(g+S>>>1)&255;return _},l=function(d,h,v){var g,S,_,b,T=[],L=d.length;T[0]=4;for(var j=0;j<L;j+=1)g=d[j-h]||0,S=v&&v[j]||0,_=v&&v[j-h]||0,b=u(g,S,_),T[j+1]=d[j]-b+256&255;return T},u=function(d,h,v){if(d===h&&h===v)return d;var g=Math.abs(h-v),S=Math.abs(d-v),_=Math.abs(d+h-v-v);return g<=S&&g<=_?d:S<=_?h:v},c=function(){return[i,s,a,o,l]},f=function(d){var h=d.map(function(v){return v.reduce(function(g,S){return g+Math.abs(S)},0)});return h.indexOf(Math.min.apply(null,h))};t.processPNG=function(d,h,v,g){var S,_,b,T,L,j,B,k,y,C,F,E,N,D,G,de=this.decode.FLATE_DECODE,ie="";if(this.__addimage__.isArrayBuffer(d)&&(d=new Uint8Array(d)),this.__addimage__.isArrayBufferView(d)){if(d=(b=new xK(d)).imgData,_=b.bits,S=b.colorSpace,L=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){y=(k=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,F=new Uint8Array(y*b.colors),C=new Uint8Array(y);var ee,Q=b.pixelBitlength-b.bits;for(D=0,G=0;D<y;D++){for(N=k[D],ee=0;ee<Q;)F[G++]=N>>>ee&255,ee+=b.bits;C[D]=N>>>ee&255}}if(b.bits===16){y=(k=new Uint32Array(b.decodePixels().buffer)).length,F=new Uint8Array(y*(32/b.pixelBitlength)*b.colors),C=new Uint8Array(y*(32/b.pixelBitlength)),E=b.colors>1,D=0,G=0;for(var te=0;D<y;)N=k[D++],F[G++]=N>>>0&255,E&&(F[G++]=N>>>16&255,N=k[D++],F[G++]=N>>>0&255),C[te++]=N>>>16&255;_=8}g!==t.image_compression.NONE&&e()?(d=r(F,b.width*b.colors,b.colors,g),B=r(C,b.width,1,g)):(d=F,B=C,de=void 0)}if(b.colorType===3&&(S=this.color_spaces.INDEXED,j=b.palette,b.transparency.indexed)){var pe=b.transparency.indexed,be=0;for(D=0,y=pe.length;D<y;++D)be+=pe[D];if((be/=255)===y-1&&pe.indexOf(0)!==-1)T=[pe.indexOf(0)];else if(be!==y){for(k=b.decodePixels(),C=new Uint8Array(k.length),D=0,y=k.length;D<y;D++)C[D]=pe[k[D]];B=r(C,b.width,1)}}var I=function(O){var U;switch(O){case t.image_compression.FAST:U=11;break;case t.image_compression.MEDIUM:U=13;break;case t.image_compression.SLOW:U=14;break;default:U=12}return U}(g);return de===this.decode.FLATE_DECODE&&(ie="/Predictor "+I+" "),ie+="/Colors "+L+" /BitsPerComponent "+_+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(d)||this.__addimage__.isArrayBufferView(d))&&(d=this.__addimage__.arrayBufferToBinaryString(d)),(B&&this.__addimage__.isArrayBuffer(B)||this.__addimage__.isArrayBufferView(B))&&(B=this.__addimage__.arrayBufferToBinaryString(B)),{alias:v,data:d,index:h,filter:de,decodeParameters:ie,transparency:T,palette:j,sMask:B,predictor:I,width:b.width,height:b.height,bitsPerComponent:_,colorSpace:S}}}})(At.API),function(t){t.processGIF89A=function(e,r,n,i){var s=new wK(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:a,height:o},c=new fy(100).encode(u,100);return t.processJPEG.call(this,c,r,n,i)},t.processGIF87A=t.processGIF89A}(At.API),va.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},va.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Ir.log("bit decode error:"+r)}},va.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}r!==0&&(this.pos+=4-r)}},va.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*i*4,o=s>>4,l=15&s,u=this.palette[o];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},va.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},va.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,u=s>>15?255:0,c=n*this.width*4+4*i;this.data[c]=l,this.data[c+1]=o,this.data[c+2]=a,this.data[c+3]=u}this.pos+=t}},va.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&r)/r*255|0,u=(a>>11)/e*255|0,c=i*this.width*4+4*s;this.data[c]=u,this.data[c+1]=l,this.data[c+2]=o,this.data[c+3]=255}this.pos+=t}},va.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},va.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=a}},va.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var s=new va(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new fy(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)}}(At.API),m3.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var s=new m3(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new fy(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)}}(At.API),At.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,u=0;u<i;u+=4){var c=n[u],f=n[u+1],d=n[u+2],h=n[u+3];s[o++]=c,s[o++]=f,s[o++]=d,a[l++]=h}var v=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:v,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},At.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},_f=At.API,Um=_f.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,c=u.fof?u.fof:1,f=e.doKerning!==!1,d=0,h=t.length,v=0,g=o[0]||l,S=[];for(r=0;r<h;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?S.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(d=f&&xr(u[n])==="object"&&!isNaN(parseInt(u[n][v],10))?u[n][v]/c:0,S.push((o[n]||g)/l+d)),v=n;return S},f3=_f.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return _f.processArabic&&(t=_f.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:Um.apply(this,arguments).reduce(function(s,a){return s+a},0)},h3=function(t,e,r,n){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<r;)o+=e[s],s++;i.push(t.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>n&&(i.push(t.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},d3=function(t,e,r){r||(r={});var n,i,s,a,o,l,u,c=[],f=[c],d=r.textIndent||0,h=0,v=0,g=t.split(" "),S=Um.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var _=Array(l).join(" "),b=[];g.map(function(L){(L=L.split(/\s*\n/)).length>1?b=b.concat(L.map(function(j,B){return(B&&j.length?`
`:"")+j})):b.push(L[0])}),g=b,l=f3.apply(this,[_,r])}for(s=0,a=g.length;s<a;s++){var T=0;if(n=g[s],l&&n[0]==`
`&&(n=n.substr(1),T=1),d+h+(v=(i=Um.apply(this,[n,r])).reduce(function(L,j){return L+j},0))>e||T){if(v>e){for(o=h3.apply(this,[n,i,e-(d+h),e]),c.push(o.shift()),c=[o.pop()];o.length;)f.push([o.shift()]);v=i.slice(n.length-(c[0]?c[0].length:0)).reduce(function(L,j){return L+j},0)}else c=[n];f.push(c),d=v+l,h=S}else c.push(n),d+=h+v,h=S}return u=l?function(L,j){return(j?_:"")+L.join(" ")}:function(L){return L.join(" ")},f.map(u)},_f.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var f=this.internal.getFont(c.fontName,c.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var o,l,u=[];for(o=0,l=n.length;o<l;o++)u=u.concat(d3.apply(this,[n[o],a,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},i=0;i<e.length;i++)r[e[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=e[i];var s=function(f){return"0x"+parseInt(f,10).toString(16)},a=t.__fontmetrics__.compress=function(f){var d,h,v,g,S=["{"];for(var _ in f){if(d=f[_],isNaN(parseInt(_,10))?h="'"+_+"'":(_=parseInt(_,10),h=(h=s(_).slice(2)).slice(0,-1)+n[h.slice(-1)]),typeof d=="number")d<0?(v=s(d).slice(3),g="-"):(v=s(d).slice(2),g=""),v=g+v.slice(0,-1)+n[v.slice(-1)];else{if(xr(d)!=="object")throw new Error("Don't know what to do with value type "+xr(d)+".");v=a(d)}S.push(h+v)}return S.push("}"),S.join("")},o=t.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var d,h,v,g,S={},_=1,b=S,T=[],L="",j="",B=f.length-1,k=1;k<B;k+=1)(g=f[k])=="'"?d?(v=d.join(""),d=void 0):d=[]:d?d.push(g):g=="{"?(T.push([b,v]),b={},v=void 0):g=="}"?((h=T.pop())[0][h[1]]=b,v=void 0,b=h[0]):g=="-"?_=-1:v===void 0?r.hasOwnProperty(g)?(L+=r[g],v=parseInt(L,16)*_,_=1,L=""):L+=g:r.hasOwnProperty(g)?(j+=r[g],b[v]=parseInt(j,16)*_,_=1,v=void 0,j=""):j+=g;return S},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},c={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(f){var d=f.font,h=c.Unicode[d.postScriptName];h&&(d.metadata.Unicode={},d.metadata.Unicode.widths=h.widths,d.metadata.Unicode.kerning=h.kerning);var v=u.Unicode[d.postScriptName];v&&(d.metadata.Unicode.encoding=v,d.encoding=v.codePages[0])}])}(At.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(s0(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,n)}}])}(At),function(t){function e(){return(Lt.canvg?Promise.resolve(Lt.canvg):fw(()=>import("./index.es-DvAbuqyD.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}At.API.addSvgAsImage=function(r,n,i,s,a,o,l,u){if(isNaN(n)||isNaN(i))throw Ir.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw Ir.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=s,c.height=a;var f=c.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return e().then(function(v){return v.fromString(f,r,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(d)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),n,i,s,a,l,u)})}}(),At.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},At.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],u=0,c=0,f=0;function d(v,g){var S,_=!1;for(S=0;S<v.length;S+=1)v[S]===g&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=o.length;for(f=0;f<h;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(xr(t)==="object"){for(i in t)if(s=t[i],d(o,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&d(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(u=0;u<s.length;u+=1)if(n=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(c=0;c<s[u].length;c+=1)typeof s[u][c]!="number"&&(n=!1);n===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,g=[];for(v in r)r[v].explicitSet===!0&&(r[v].type==="name"?g.push("/"+v+" /"+r[v].value):g.push("/"+v+" "+r[v].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(At.API),function(t){var e=t.API,r=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,u=["","0","00","000","0000"],c=[""],f=0,d=s.length;f<d;++f){if(o=a.metadata.characterToGlyph(s.charCodeAt(f)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return c.join("");o=o.toString(16),c.push(u[4-o.length],o)}return c.join("")},n=function(s){var a,o,l,u,c,f,d;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,d=(o=Object.keys(s).sort(function(h,v){return h-v})).length;f<d;f++)a=o[f],l.length>=100&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(u=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+u+">"));return l.length&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),c+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,c=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,d=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),h="",v=0;v<d.length;v++)h+=String.fromCharCode(d[v]);var g=u();c({data:h,addLength1:!0,objectId:g}),l("endobj");var S=u();c({data:n(o.metadata.toUnicode),addLength1:!0,objectId:S}),l("endobj");var _=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Cf(o.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var b=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Cf(o.fontName)),l("/FontDescriptor "+_+" 0 R"),l("/W "+t.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+S+" 0 R"),l("/BaseFont /"+Cf(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+b+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,c=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,d="",h=0;h<f.length;h++)d+=String.fromCharCode(f[h]);var v=u();c({data:d,addLength1:!0,objectId:v}),l("endobj");var g=u();c({data:n(o.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var S=u();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+v+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Cf(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=u();for(var _=0;_<o.metadata.hmtx.widths.length;_++)o.metadata.hmtx.widths[_]=parseInt(o.metadata.hmtx.widths[_]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+Cf(o.fontName)+"/FontDescriptor "+S+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,u=s.y,c=s.options||{},f=s.mutex||{},d=f.pdfEscape,h=f.activeFontKey,v=f.fonts,g=h,S="",_=0,b="",T=v[g].encoding;if(v[g].encoding!=="Identity-H")return{text:o,x:l,y:u,options:c,mutex:f};for(b=o,g=h,Array.isArray(o)&&(b=o[0]),_=0;_<b.length;_+=1)v[g].metadata.hasOwnProperty("cmap")&&(a=v[g].metadata.cmap.unicode.codeMap[b[_].charCodeAt(0)]),a||b[_].charCodeAt(0)<256&&v[g].metadata.hasOwnProperty("Unicode")?S+=b[_]:S+="";var L="";return parseInt(g.slice(1))<14||T==="WinAnsiEncoding"?L=d(S,g).split("").map(function(j){return j.charCodeAt(0).toString(16)}).join(""):T==="Identity-H"&&(L=r(S,v[g])),f.isHex=!0,{text:L,x:l,y:u,options:c,mutex:f}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var u=0;for(u=0;u<a.length;u+=1)Array.isArray(a[u])&&a[u].length===3?o.push([i(Object.assign({},l,{text:a[u][0]})).text,a[u][1],a[u][2]]):o.push(i(Object.assign({},l,{text:a[u]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])}(At),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(At.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,s,a,o,l,u,c,f=e,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},S=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,T=0;this.__bidiEngine__={};var L=function(E){var N=E.charCodeAt(),D=N>>8,G=g[D];return G!==void 0?f[256*G+(255&N)]:D===252||D===253?"AL":_.test(D)?"L":D===8?"R":"N"},j=function(E){for(var N,D=0;D<E.length;D++){if((N=L(E.charAt(D)))==="L")return!1;if(N==="R")return!0}return!1},B=function(E,N,D,G){var de,ie,ee,Q,te=N[G];switch(te){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(te="AN");break;case"AL":b=!0,te="R";break;case"WS":te="N";break;case"CS":G<1||G+1>=N.length||(de=D[G-1])!=="EN"&&de!=="AN"||(ie=N[G+1])!=="EN"&&ie!=="AN"?te="N":b&&(ie="AN"),te=ie===de?ie:"N";break;case"ES":te=(de=G>0?D[G-1]:"B")==="EN"&&G+1<N.length&&N[G+1]==="EN"?"EN":"N";break;case"ET":if(G>0&&D[G-1]==="EN"){te="EN";break}if(b){te="N";break}for(ee=G+1,Q=N.length;ee<Q&&N[ee]==="ET";)ee++;te=ee<Q&&N[ee]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(Q=N.length,ee=G+1;ee<Q&&N[ee]==="NSM";)ee++;if(ee<Q){var pe=E[G],be=pe>=1425&&pe<=2303||pe===64286;if(de=N[ee],be&&(de==="R"||de==="AL")){te="R";break}}}te=G<1||(de=N[G-1])==="B"?"N":D[G-1];break;case"B":b=!1,i=!0,te=T;break;case"S":s=!0,te="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":te="N"}return te},k=function(E,N,D){var G=E.split("");return D&&y(G,D,{hiLevel:T}),G.reverse(),N&&N.reverse(),G.join("")},y=function(E,N,D){var G,de,ie,ee,Q,te=-1,pe=E.length,be=0,I=[],O=T?h:d,U=[];for(b=!1,i=!1,s=!1,de=0;de<pe;de++)U[de]=L(E[de]);for(ie=0;ie<pe;ie++){if(Q=be,I[ie]=B(E,U,I,ie),G=240&(be=O[Q][v[I[ie]]]),be&=15,N[ie]=ee=O[be][5],G>0)if(G===16){for(de=te;de<ie;de++)N[de]=1;te=-1}else te=-1;if(O[be][6])te===-1&&(te=ie);else if(te>-1){for(de=te;de<ie;de++)N[de]=ee;te=-1}U[ie]==="B"&&(N[ie]=0),D.hiLevel|=ee}s&&function(z,q,fe){for(var me=0;me<fe;me++)if(z[me]==="S"){q[me]=T;for(var ge=me-1;ge>=0&&z[ge]==="WS";ge--)q[ge]=T}}(U,N,pe)},C=function(E,N,D,G,de){if(!(de.hiLevel<E)){if(E===1&&T===1&&!i)return N.reverse(),void(D&&D.reverse());for(var ie,ee,Q,te,pe=N.length,be=0;be<pe;){if(G[be]>=E){for(Q=be+1;Q<pe&&G[Q]>=E;)Q++;for(te=be,ee=Q-1;te<ee;te++,ee--)ie=N[te],N[te]=N[ee],N[ee]=ie,D&&(ie=D[te],D[te]=D[ee],D[ee]=ie);be=Q}be++}}},F=function(E,N,D){var G=E.split(""),de={hiLevel:T};return D||(D=[]),y(G,D,de),function(ie,ee,Q){if(Q.hiLevel!==0&&c)for(var te,pe=0;pe<ie.length;pe++)ee[pe]===1&&(te=S.indexOf(ie[pe]))>=0&&(ie[pe]=S[te+1])}(G,D,de),C(2,G,N,D,de),C(1,G,N,D,de),G.join("")};return this.__bidiEngine__.doBidiReorder=function(E,N,D){if(function(de,ie){if(ie)for(var ee=0;ee<de.length;ee++)ie[ee]=ee;o===void 0&&(o=j(de)),u===void 0&&(u=j(de))}(E,N),a||!l||u)if(a&&l&&o^u)T=o?1:0,E=k(E,N,D);else if(!a&&l&&u)T=o?1:0,E=F(E,N,D),E=k(E,N);else if(!a||o||l||u){if(a&&!l&&o^u)E=k(E,N),o?(T=0,E=F(E,N,D)):(T=1,E=F(E,N,D),E=k(E,N));else if(a&&o&&!l&&u)T=1,E=F(E,N,D),E=k(E,N);else if(!a&&!l&&o^u){var G=c;o?(T=1,E=F(E,N,D),T=0,c=!1,E=F(E,N,D),c=G):(T=0,E=F(E,N,D),E=k(E,N),T=1,c=!1,E=F(E,N,D),c=G,E=k(E,N))}}else T=0,E=F(E,N,D);else T=o?1:0,E=F(E,N,D);return E},this.__bidiEngine__.setOptions=function(E){E&&(a=E.isInputVisual,l=E.isOutputVisual,o=E.isInputRtl,u=E.isOutputRtl,c=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text,s=(n.x,n.y,n.options||{}),a=(n.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([r.doBidiReorder(i[o])]);n.text=a}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(At),At.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Eu(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new DK(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new _K(this.contents),this.head=new SK(this),this.name=new kK(this),this.cmap=new ZI(this),this.toUnicode={},this.hhea=new TK(this),this.maxp=new CK(this),this.hmtx=new PK(this),this.post=new AK(this),this.os2=new EK(this),this.loca=new FK(this),this.glyf=new IK(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,u;for(u=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return a*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var Oa,Eu=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,s,a,o,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*a+256*o+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)r=e[n],s.push(this.writeByte(r));return s},t}(),_K=function(){var t;function e(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,s,a,o,l,u,c,f,d,h,v,g;for(g in h=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(h)/l),a=Math.floor(f/l),c=16*h-f,(i=new Eu).writeInt(this.scalarType),i.writeShort(h),i.writeShort(f),i.writeShort(a),i.writeShort(c),s=16*h,u=i.pos+s,o=null,v=[],r)for(d=r[g],i.writeString(g),i.writeInt(t(d)),i.writeInt(u),i.writeInt(d.length),v=v.concat(d),g==="head"&&(o=u),u+=d.length;u%4;)v.push(0),u++;return i.write(v),n=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(n),i.data},t=function(r){var n,i,s,a;for(r=eR.call(r);r.length%4;)r.push(0);for(s=new Eu(r),i=0,n=0,a=r.length;n<a;n=n+=4)i+=s.readUInt32();return 4294967295&i},e}(),bK={}.hasOwnProperty,fo=function(t,e){for(var r in e)bK.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Oa=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var SK=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fo(e,Oa),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new Eu).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),g3=function(){function t(e,r){var n,i,s,a,o,l,u,c,f,d,h,v,g,S,_,b,T;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(h=e.readUInt16(),d=h/2,e.pos+=6,s=function(){var L,j;for(j=[],l=L=0;0<=d?L<d:L>d;l=0<=d?++L:--L)j.push(e.readUInt16());return j}(),e.pos+=2,g=function(){var L,j;for(j=[],l=L=0;0<=d?L<d:L>d;l=0<=d?++L:--L)j.push(e.readUInt16());return j}(),u=function(){var L,j;for(j=[],l=L=0;0<=d?L<d:L>d;l=0<=d?++L:--L)j.push(e.readUInt16());return j}(),c=function(){var L,j;for(j=[],l=L=0;0<=d?L<d:L>d;l=0<=d?++L:--L)j.push(e.readUInt16());return j}(),i=(this.length-e.pos+this.offset)/2,o=function(){var L,j;for(j=[],l=L=0;0<=i?L<i:L>i;l=0<=i?++L:--L)j.push(e.readUInt16());return j}(),l=_=0,T=s.length;_<T;l=++_)for(S=s[l],n=b=v=g[l];v<=S?b<=S:b>=S;n=v<=S?++b:--b)c[l]===0?a=n+u[l]:(a=o[c[l]/2+(n-v)-(d-l)]||0)!==0&&(a+=u[l]),this.codeMap[n]=65535&a}e.pos=f}return t.encode=function(e,r){var n,i,s,a,o,l,u,c,f,d,h,v,g,S,_,b,T,L,j,B,k,y,C,F,E,N,D,G,de,ie,ee,Q,te,pe,be,I,O,U,z,q,fe,me,ge,Te,Oe,Be;switch(G=new Eu,a=Object.keys(e).sort(function(Ue,He){return Ue-He}),r){case"macroman":for(g=0,S=function(){var Ue=[];for(v=0;v<256;++v)Ue.push(0);return Ue}(),b={0:0},s={},de=0,te=a.length;de<te;de++)b[ge=e[i=a[de]]]==null&&(b[ge]=++g),s[i]={old:e[i],new:b[e[i]]},S[i]=b[e[i]];return G.writeUInt16(1),G.writeUInt16(0),G.writeUInt32(12),G.writeUInt16(0),G.writeUInt16(262),G.writeUInt16(0),G.write(S),{charMap:s,subtable:G.data,maxGlyphID:g+1};case"unicode":for(N=[],f=[],T=0,b={},n={},_=u=null,ie=0,pe=a.length;ie<pe;ie++)b[j=e[i=a[ie]]]==null&&(b[j]=++T),n[i]={old:j,new:b[j]},o=b[j]-i,_!=null&&o===u||(_&&f.push(_),N.push(i),u=o),_=i;for(_&&f.push(_),f.push(65535),N.push(65535),F=2*(C=N.length),y=2*Math.pow(Math.log(C)/Math.LN2,2),d=Math.log(y/2)/Math.LN2,k=2*C-y,l=[],B=[],h=[],v=ee=0,be=N.length;ee<be;v=++ee){if(E=N[v],c=f[v],E===65535){l.push(0),B.push(0);break}if(E-(D=n[E].new)>=32768)for(l.push(0),B.push(2*(h.length+C-v)),i=Q=E;E<=c?Q<=c:Q>=c;i=E<=c?++Q:--Q)h.push(n[i].new);else l.push(D-E),B.push(0)}for(G.writeUInt16(3),G.writeUInt16(1),G.writeUInt32(12),G.writeUInt16(4),G.writeUInt16(16+8*C+2*h.length),G.writeUInt16(0),G.writeUInt16(F),G.writeUInt16(y),G.writeUInt16(d),G.writeUInt16(k),fe=0,I=f.length;fe<I;fe++)i=f[fe],G.writeUInt16(i);for(G.writeUInt16(0),me=0,O=N.length;me<O;me++)i=N[me],G.writeUInt16(i);for(Te=0,U=l.length;Te<U;Te++)o=l[Te],G.writeUInt16(o);for(Oe=0,z=B.length;Oe<z;Oe++)L=B[Oe],G.writeUInt16(L);for(Be=0,q=h.length;Be<q;Be++)g=h[Be],G.writeUInt16(g);return{charMap:n,subtable:G.data,maxGlyphID:T+1}}},t}(),ZI=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fo(e,Oa),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,i,s;for(r.pos=this.offset,this.version=r.readUInt16(),s=r.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)n=new g3(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var i,s;return n==null&&(n="macroman"),i=g3.encode(r,n),(s=new Eu).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),TK=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fo(e,Oa),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),EK=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fo(e,Oa),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(r.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(r.readInt());return i}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(r.readInt());return i}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),AK=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fo(e,Oa),e.prototype.tag="post",e.prototype.parse=function(r){var n,i,s;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var a;for(i=r.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],s=[];r.pos<this.offset+this.length;)n=r.readByte(),s.push(this.names.push(r.readString(n)));return s;case 151552:return i=r.readUInt16(),this.offsets=r.read(i);case 196608:break;case 262144:return this.map=(function(){var o,l,u;for(u=[],a=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;a=0<=l?++o:--o)u.push(r.readUInt32());return u}).call(this)}},e}(),NK=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},kK=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fo(e,Oa),e.prototype.tag="name",e.prototype.parse=function(r){var n,i,s,a,o,l,u,c,f,d,h;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),i=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)i.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(u={},a=f=0,d=i.length;f<d;a=++f)s=i[a],r.pos=s.offset,c=r.readString(s.length),o=new NK(c,s),u[h=s.nameID]==null&&(u[h]=[]),u[s.nameID].push(o);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),CK=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fo(e,Oa),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),PK=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fo(e,Oa),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,i,s,a,o,l,u;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,f;for(f=[],n=c=0;0<=s?c<s:c>s;n=0<=s?++c:--c)f.push(r.readInt16());return f}(),this.widths=(function(){var c,f,d,h;for(h=[],c=0,f=(d=this.metrics).length;c<f;c++)a=d[c],h.push(a.advance);return h}).call(this),i=this.widths[this.widths.length-1],u=[],n=o=0;0<=s?o<s:o>s;n=0<=s?++o:--o)u.push(this.widths.push(i));return u},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),eR=[].slice,IK=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fo(e,Oa),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,i,s,a,o,l,u,c,f,d;return r in this.cache?this.cache[r]:(a=this.file.loca,n=this.file.contents,i=a.indexOf(r),(s=a.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+i,o=(l=new Eu(n.read(s))).readShort(),c=l.readShort(),d=l.readShort(),u=l.readShort(),f=l.readShort(),this.cache[r]=o===-1?new LK(l,c,d,u,f):new RK(l,o,c,d,u,f),this.cache[r]))},e.prototype.encode=function(r,n,i){var s,a,o,l,u;for(o=[],a=[],l=0,u=n.length;l<u;l++)s=r[n[l]],a.push(o.length),s&&(o=o.concat(s.encode(i)));return a.push(o.length),{table:o,offsets:a}},e}(),RK=function(){function t(e,r,n,i,s,a){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),LK=function(){function t(e,r,n,i,s){var a,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Eu(eR.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),FK=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fo(e,Oa),e.prototype.tag="loca",e.prototype.parse=function(r){var n,i;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=2)a.push(2*r.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=4)a.push(r.readUInt32());return a}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var i=new Uint32Array(this.offsets.length),s=0,a=0,o=0;o<i.length;++o)if(i[o]=s,a<n.length&&n[a]==o){++a,i[o]=s;var l=this.offsets[o],u=this.offsets[o+1]-l;u>0&&(s+=u)}for(var c=new Array(4*i.length),f=0;f<i.length;++f)c[4*f+3]=255&i[f],c[4*f+2]=(65280&i[f])>>8,c[4*f+1]=(16711680&i[f])>>16,c[4*f]=(4278190080&i[f])>>24;return c},e}(),DK=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in l=this.glyphsFor(r))n=l[s],i[s]=n;return i},t.prototype.encode=function(e,r){var n,i,s,a,o,l,u,c,f,d,h,v,g,S,_;for(i in n=ZI.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),h={0:0},_=n.charMap)h[(l=_[i]).old]=l.new;for(v in d=n.maxGlyphID,a)v in h||(h[v]=d++);return c=function(b){var T,L;for(T in L={},b)L[b[T]]=T;return L}(h),f=Object.keys(c).sort(function(b,T){return b-T}),g=function(){var b,T,L;for(L=[],b=0,T=f.length;b<T;b++)o=f[b],L.push(c[o]);return L}(),s=this.font.glyf.encode(a,g,h),u=this.font.loca.encode(s.offsets,g),S={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(S["OS/2"]=this.font.os2.raw()),this.font.directory.encode(S)},t}();At.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,s,a;if(Array.isArray(r))return"["+function(){var o,l,u;for(u=[],o=0,l=r.length;o<l;o++)n=r[o],u.push(e.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)a=r[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+r},e}();const OK=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:dK,AcroFormAppearance:wt,AcroFormButton:Rn,AcroFormCheckBox:l0,AcroFormChoiceField:bc,AcroFormComboBox:Tc,AcroFormEditBox:a0,AcroFormListBox:Sc,AcroFormPasswordField:u0,AcroFormPushButton:o0,AcroFormRadioButton:Ec,AcroFormTextField:gu,GState:np,ShadingPattern:Kl,TilingPattern:gc,default:At,jsPDF:At},Symbol.toStringTag,{value:"Module"}));var MK={exports:{}};const jK=w8(OK);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(t,e){(function(n,i){t.exports=i(function(){try{return jK}catch{}}())})(typeof globalThis<"u"?globalThis:typeof Bd<"u"?Bd:typeof window<"u"?window:typeof self<"u"?self:Bd,function(r){return function(){var n={172:function(o,l){var u=this&&this.__extends||function(){var d=function(h,v){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,S){g.__proto__=S}||function(g,S){for(var _ in S)Object.prototype.hasOwnProperty.call(S,_)&&(g[_]=S[_])},d(h,v)};return function(h,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");d(h,v);function g(){this.constructor=h}h.prototype=v===null?Object.create(v):(g.prototype=v.prototype,new g)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.CellHookData=l.HookData=void 0;var c=function(){function d(h,v,g){this.table=v,this.pageNumber=v.pageNumber,this.pageCount=this.pageNumber,this.settings=v.settings,this.cursor=g,this.doc=h.getDocument()}return d}();l.HookData=c;var f=function(d){u(h,d);function h(v,g,S,_,b,T){var L=d.call(this,v,g,T)||this;return L.cell=S,L.row=_,L.column=b,L.section=_.section,L}return h}(c);l.CellHookData=f},340:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0});var c=u(4),f=u(136),d=u(744),h=u(776),v=u(664),g=u(972);function S(_){_.API.autoTable=function(){for(var b=[],T=0;T<arguments.length;T++)b[T]=arguments[T];var L;b.length===1?L=b[0]:(console.error("Use of deprecated autoTable initiation"),L=b[2]||{},L.columns=b[0],L.body=b[1]);var j=(0,h.parseInput)(this,L),B=(0,g.createTable)(this,j);return(0,v.drawTable)(this,B),this},_.API.lastAutoTable=!1,_.API.previousAutoTable=!1,_.API.autoTable.previous=!1,_.API.autoTableText=function(b,T,L,j){(0,f.default)(b,T,L,j,this)},_.API.autoTableSetDefaults=function(b){return d.DocHandler.setDefaults(b,this),this},_.autoTableSetDefaults=function(b,T){d.DocHandler.setDefaults(b,T)},_.API.autoTableHtmlToJson=function(b,T){var L;if(T===void 0&&(T=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var j=new d.DocHandler(this),B=(0,c.parseHtml)(j,b,window,T,!1),k=B.head,y=B.body,C=((L=k[0])===null||L===void 0?void 0:L.map(function(F){return F.content}))||[];return{columns:C,rows:y,data:y}},_.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var b=this.lastAutoTable;return b&&b.finalY?b.finalY:0},_.API.autoTableAddPageContent=function(b){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),_.API.autoTable.globalDefaults||(_.API.autoTable.globalDefaults={}),_.API.autoTable.globalDefaults.addPageContent=b,this},_.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}l.default=S},136:function(o,l){Object.defineProperty(l,"__esModule",{value:!0});function u(c,f,d,h,v){h=h||{};var g=1.15,S=v.internal.scaleFactor,_=v.internal.getFontSize()/S,b=v.getLineHeightFactor?v.getLineHeightFactor():g,T=_*b,L=/\r\n|\r|\n/g,j="",B=1;if((h.valign==="middle"||h.valign==="bottom"||h.halign==="center"||h.halign==="right")&&(j=typeof c=="string"?c.split(L):c,B=j.length||1),d+=_*(2-g),h.valign==="middle"?d-=B/2*T:h.valign==="bottom"&&(d-=B*T),h.halign==="center"||h.halign==="right"){var k=_;if(h.halign==="center"&&(k*=.5),j&&B>=1){for(var y=0;y<j.length;y++)v.text(j[y],f-v.getStringUnitWidth(j[y])*k,d),d+=T;return v}f-=v.getStringUnitWidth(c)*k}return h.halign==="justify"?v.text(c,f,d,{maxWidth:h.maxWidth||100,align:"justify"}):v.text(c,f,d),v}l.default=u},420:function(o,l){Object.defineProperty(l,"__esModule",{value:!0}),l.getPageAvailableWidth=l.parseSpacing=l.getFillStyle=l.addTableBorder=l.getStringWidth=void 0;function u(v,g,S){S.applyStyles(g,!0);var _=Array.isArray(v)?v:[v],b=_.map(function(T){return S.getTextWidth(T)}).reduce(function(T,L){return Math.max(T,L)},0);return b}l.getStringWidth=u;function c(v,g,S,_){var b=g.settings.tableLineWidth,T=g.settings.tableLineColor;v.applyStyles({lineWidth:b,lineColor:T});var L=f(b,!1);L&&v.rect(S.x,S.y,g.getWidth(v.pageSize().width),_.y-S.y,L)}l.addTableBorder=c;function f(v,g){var S=v>0,_=g||g===0;return S&&_?"DF":S?"S":_?"F":null}l.getFillStyle=f;function d(v,g){var S,_,b,T;if(v=v||g,Array.isArray(v)){if(v.length>=4)return{top:v[0],right:v[1],bottom:v[2],left:v[3]};if(v.length===3)return{top:v[0],right:v[1],bottom:v[2],left:v[1]};if(v.length===2)return{top:v[0],right:v[1],bottom:v[0],left:v[1]};v.length===1?v=v[0]:v=g}return typeof v=="object"?(typeof v.vertical=="number"&&(v.top=v.vertical,v.bottom=v.vertical),typeof v.horizontal=="number"&&(v.right=v.horizontal,v.left=v.horizontal),{left:(S=v.left)!==null&&S!==void 0?S:g,top:(_=v.top)!==null&&_!==void 0?_:g,right:(b=v.right)!==null&&b!==void 0?b:g,bottom:(T=v.bottom)!==null&&T!==void 0?T:g}):(typeof v!="number"&&(v=g),{top:v,right:v,bottom:v,left:v})}l.parseSpacing=d;function h(v,g){var S=d(g.settings.margin,0);return v.pageSize().width-(S.left+S.right)}l.getPageAvailableWidth=h},796:function(o,l){var u=this&&this.__extends||function(){var h=function(v,g){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,_){S.__proto__=_}||function(S,_){for(var b in _)Object.prototype.hasOwnProperty.call(_,b)&&(S[b]=_[b])},h(v,g)};return function(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");h(v,g);function S(){this.constructor=v}v.prototype=g===null?Object.create(g):(S.prototype=g.prototype,new S)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.getTheme=l.defaultStyles=l.HtmlRowInput=void 0;var c=function(h){u(v,h);function v(g){var S=h.call(this)||this;return S._element=g,S}return v}(Array);l.HtmlRowInput=c;function f(h){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/h,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}l.defaultStyles=f;function d(h){var v={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return v[h]}l.getTheme=d},903:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.parseCss=void 0;var c=u(420);function f(S,_,b,T,L){var j={},B=1.3333333333333333,k=h(_,function(te){return L.getComputedStyle(te).backgroundColor});k!=null&&(j.fillColor=k);var y=h(_,function(te){return L.getComputedStyle(te).color});y!=null&&(j.textColor=y);var C=g(T,b);C&&(j.cellPadding=C);var F="borderTopColor",E=B*b,N=T.borderTopWidth;if(T.borderBottomWidth===N&&T.borderRightWidth===N&&T.borderLeftWidth===N){var D=(parseFloat(N)||0)/E;D&&(j.lineWidth=D)}else j.lineWidth={top:(parseFloat(T.borderTopWidth)||0)/E,right:(parseFloat(T.borderRightWidth)||0)/E,bottom:(parseFloat(T.borderBottomWidth)||0)/E,left:(parseFloat(T.borderLeftWidth)||0)/E},j.lineWidth.top||(j.lineWidth.right?F="borderRightColor":j.lineWidth.bottom?F="borderBottomColor":j.lineWidth.left&&(F="borderLeftColor"));var G=h(_,function(te){return L.getComputedStyle(te)[F]});G!=null&&(j.lineColor=G);var de=["left","right","center","justify"];de.indexOf(T.textAlign)!==-1&&(j.halign=T.textAlign),de=["middle","bottom","top"],de.indexOf(T.verticalAlign)!==-1&&(j.valign=T.verticalAlign);var ie=parseInt(T.fontSize||"");isNaN(ie)||(j.fontSize=ie/B);var ee=d(T);ee&&(j.fontStyle=ee);var Q=(T.fontFamily||"").toLowerCase();return S.indexOf(Q)!==-1&&(j.font=Q),j}l.parseCss=f;function d(S){var _="";return(S.fontWeight==="bold"||S.fontWeight==="bolder"||parseInt(S.fontWeight)>=700)&&(_="bold"),(S.fontStyle==="italic"||S.fontStyle==="oblique")&&(_+="italic"),_}function h(S,_){var b=v(S,_);if(!b)return null;var T=b.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!T||!Array.isArray(T))return null;var L=[parseInt(T[1]),parseInt(T[2]),parseInt(T[3])],j=parseInt(T[4]);return j===0||isNaN(L[0])||isNaN(L[1])||isNaN(L[2])?null:L}function v(S,_){var b=_(S);return b==="rgba(0, 0, 0, 0)"||b==="transparent"||b==="initial"||b==="inherit"?S.parentElement==null?null:v(S.parentElement,_):b}function g(S,_){var b=[S.paddingTop,S.paddingRight,S.paddingBottom,S.paddingLeft],T=96/(72/_),L=(parseInt(S.lineHeight)-parseInt(S.fontSize))/_/2,j=b.map(function(k){return parseInt(k||"0")/T}),B=(0,c.parseSpacing)(j,0);return L>B.top&&(B.top=L),L>B.bottom&&(B.bottom=L),B}},744:function(o,l){Object.defineProperty(l,"__esModule",{value:!0}),l.DocHandler=void 0;var u={},c=function(){function f(d){this.jsPDFDocument=d,this.userStyles={textColor:d.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:d.internal.getFontSize(),fontStyle:d.internal.getFont().fontStyle,font:d.internal.getFont().fontName,lineWidth:d.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:d.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return f.setDefaults=function(d,h){h===void 0&&(h=null),h?h.__autoTableDocumentDefaults=d:u=d},f.unifyColor=function(d){return Array.isArray(d)?d:typeof d=="number"?[d,d,d]:typeof d=="string"?[d]:null},f.prototype.applyStyles=function(d,h){var v,g,S;h===void 0&&(h=!1),d.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(d.fontStyle);var _=this.jsPDFDocument.internal.getFont(),b=_.fontStyle,T=_.fontName;if(d.font&&(T=d.font),d.fontStyle){b=d.fontStyle;var L=this.getFontList()[T];L&&L.indexOf(b)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(L[0]),b=L[0])}if(this.jsPDFDocument.setFont(T,b),d.fontSize&&this.jsPDFDocument.setFontSize(d.fontSize),!h){var j=f.unifyColor(d.fillColor);j&&(v=this.jsPDFDocument).setFillColor.apply(v,j),j=f.unifyColor(d.textColor),j&&(g=this.jsPDFDocument).setTextColor.apply(g,j),j=f.unifyColor(d.lineColor),j&&(S=this.jsPDFDocument).setDrawColor.apply(S,j),typeof d.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(d.lineWidth)}},f.prototype.splitTextToSize=function(d,h,v){return this.jsPDFDocument.splitTextToSize(d,h,v)},f.prototype.rect=function(d,h,v,g,S){return this.jsPDFDocument.rect(d,h,v,g,S)},f.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},f.prototype.getTextWidth=function(d){return this.jsPDFDocument.getTextWidth(d)},f.prototype.getDocument=function(){return this.jsPDFDocument},f.prototype.setPage=function(d){this.jsPDFDocument.setPage(d)},f.prototype.addPage=function(){return this.jsPDFDocument.addPage()},f.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},f.prototype.getGlobalOptions=function(){return u||{}},f.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},f.prototype.pageSize=function(){var d=this.jsPDFDocument.internal.pageSize;return d.width==null&&(d={width:d.getWidth(),height:d.getHeight()}),d},f.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},f.prototype.getLineHeightFactor=function(){var d=this.jsPDFDocument;return d.getLineHeightFactor?d.getLineHeightFactor():1.15},f.prototype.getLineHeight=function(d){return d/this.scaleFactor()*this.getLineHeightFactor()},f.prototype.pageNumber=function(){var d=this.jsPDFDocument.internal.getCurrentPageInfo();return d?d.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},f}();l.DocHandler=c},4:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.parseHtml=void 0;var c=u(903),f=u(796);function d(g,S,_,b,T){var L,j;b===void 0&&(b=!1),T===void 0&&(T=!1);var B;typeof S=="string"?B=_.document.querySelector(S):B=S;var k=Object.keys(g.getFontList()),y=g.scaleFactor(),C=[],F=[],E=[];if(!B)return console.error("Html table could not be found with input: ",S),{head:C,body:F,foot:E};for(var N=0;N<B.rows.length;N++){var D=B.rows[N],G=(j=(L=D==null?void 0:D.parentElement)===null||L===void 0?void 0:L.tagName)===null||j===void 0?void 0:j.toLowerCase(),de=h(k,y,_,D,b,T);de&&(G==="thead"?C.push(de):G==="tfoot"?E.push(de):F.push(de))}return{head:C,body:F,foot:E}}l.parseHtml=d;function h(g,S,_,b,T,L){for(var j=new f.HtmlRowInput(b),B=0;B<b.cells.length;B++){var k=b.cells[B],y=_.getComputedStyle(k);if(T||y.display!=="none"){var C=void 0;L&&(C=(0,c.parseCss)(g,k,S,y,_)),j.push({rowSpan:k.rowSpan,colSpan:k.colSpan,styles:C,_element:k,content:v(k)})}}var F=_.getComputedStyle(b);if(j.length>0&&(T||F.display!=="none"))return j}function v(g){var S=g.cloneNode(!0);return S.innerHTML=S.innerHTML.replace(/\n/g,"").replace(/ +/g," "),S.innerHTML=S.innerHTML.split(/<br.*?>/).map(function(_){return _.trim()}).join(`
`),S.innerText||S.textContent||""}},776:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.parseInput=void 0;var c=u(4),f=u(356),d=u(420),h=u(744),v=u(792);function g(B,k){var y=new h.DocHandler(B),C=y.getDocumentOptions(),F=y.getGlobalOptions();(0,v.default)(y,F,C,k);var E=(0,f.assign)({},F,C,k),N;typeof window<"u"&&(N=window);var D=S(F,C,k),G=_(F,C,k),de=b(y,E),ie=L(y,E,N);return{id:k.tableId,content:ie,hooks:G,styles:D,settings:de}}l.parseInput=g;function S(B,k,y){for(var C={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},F=function(G){if(G==="columnStyles"){var de=B[G],ie=k[G],ee=y[G];C.columnStyles=(0,f.assign)({},de,ie,ee)}else{var Q=[B,k,y],te=Q.map(function(pe){return pe[G]||{}});C[G]=(0,f.assign)({},te[0],te[1],te[2])}},E=0,N=Object.keys(C);E<N.length;E++){var D=N[E];F(D)}return C}function _(B,k,y){for(var C=[B,k,y],F={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},E=0,N=C;E<N.length;E++){var D=N[E];D.didParseCell&&F.didParseCell.push(D.didParseCell),D.willDrawCell&&F.willDrawCell.push(D.willDrawCell),D.didDrawCell&&F.didDrawCell.push(D.didDrawCell),D.willDrawPage&&F.willDrawPage.push(D.willDrawPage),D.didDrawPage&&F.didDrawPage.push(D.didDrawPage)}return F}function b(B,k){var y,C,F,E,N,D,G,de,ie,ee,Q,te,pe=(0,d.parseSpacing)(k.margin,40/B.scaleFactor()),be=(y=T(B,k.startY))!==null&&y!==void 0?y:pe.top,I;k.showFoot===!0?I="everyPage":k.showFoot===!1?I="never":I=(C=k.showFoot)!==null&&C!==void 0?C:"everyPage";var O;k.showHead===!0?O="everyPage":k.showHead===!1?O="never":O=(F=k.showHead)!==null&&F!==void 0?F:"everyPage";var U=(E=k.useCss)!==null&&E!==void 0?E:!1,z=k.theme||(U?"plain":"striped"),q=!!k.horizontalPageBreak,fe=(N=k.horizontalPageBreakRepeat)!==null&&N!==void 0?N:null;return{includeHiddenHtml:(D=k.includeHiddenHtml)!==null&&D!==void 0?D:!1,useCss:U,theme:z,startY:be,margin:pe,pageBreak:(G=k.pageBreak)!==null&&G!==void 0?G:"auto",rowPageBreak:(de=k.rowPageBreak)!==null&&de!==void 0?de:"auto",tableWidth:(ie=k.tableWidth)!==null&&ie!==void 0?ie:"auto",showHead:O,showFoot:I,tableLineWidth:(ee=k.tableLineWidth)!==null&&ee!==void 0?ee:0,tableLineColor:(Q=k.tableLineColor)!==null&&Q!==void 0?Q:200,horizontalPageBreak:q,horizontalPageBreakRepeat:fe,horizontalPageBreakBehaviour:(te=k.horizontalPageBreakBehaviour)!==null&&te!==void 0?te:"afterAllRows"}}function T(B,k){var y=B.getLastAutoTable(),C=B.scaleFactor(),F=B.pageNumber(),E=!1;if(y&&y.startPageNumber){var N=y.startPageNumber+y.pageNumber-1;E=N===F}return typeof k=="number"?k:(k==null||k===!1)&&E&&(y==null?void 0:y.finalY)!=null?y.finalY+20/C:null}function L(B,k,y){var C=k.head||[],F=k.body||[],E=k.foot||[];if(k.html){var N=k.includeHiddenHtml;if(y){var D=(0,c.parseHtml)(B,k.html,y,N,k.useCss)||{};C=D.head||C,F=D.body||C,E=D.foot||C}else console.error("Cannot parse html in non browser environment")}var G=k.columns||j(C,F,E);return{columns:G,head:C,body:F,foot:E}}function j(B,k,y){var C=B[0]||k[0]||y[0]||[],F=[];return Object.keys(C).filter(function(E){return E!=="_element"}).forEach(function(E){var N=1,D;Array.isArray(C)?D=C[parseInt(E)]:D=C[E],typeof D=="object"&&!Array.isArray(D)&&(N=(D==null?void 0:D.colSpan)||1);for(var G=0;G<N;G++){var de=void 0;Array.isArray(C)?de=F.length:de=E+(G>0?"_".concat(G):"");var ie={dataKey:de};F.push(ie)}}),F}},792:function(o,l){Object.defineProperty(l,"__esModule",{value:!0});function u(f,d,h,v){for(var g=function(T){T&&typeof T!="object"&&console.error("The options parameter should be of type object, is: "+typeof T),typeof T.extendWidth<"u"&&(T.tableWidth=T.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof T.margins<"u"&&(typeof T.margin>"u"&&(T.margin=T.margins),console.error("Use of deprecated option: margins, use margin instead.")),T.startY&&typeof T.startY!="number"&&(console.error("Invalid value for startY option",T.startY),delete T.startY),!T.didDrawPage&&(T.afterPageContent||T.beforePageContent||T.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),T.didDrawPage=function(E){f.applyStyles(f.userStyles),T.beforePageContent&&T.beforePageContent(E),f.applyStyles(f.userStyles),T.afterPageContent&&T.afterPageContent(E),f.applyStyles(f.userStyles),T.afterPageAdd&&E.pageNumber>1&&E.afterPageAdd(E),f.applyStyles(f.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(E){T[E]&&console.error('The "'.concat(E,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(E){var N=E[0],D=E[1];T[D]&&(console.error("Use of deprecated option ".concat(D,". Use ").concat(N," instead")),T[N]=T[D])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(E){var N=typeof E=="string"?E:E[0],D=typeof E=="string"?E:E[1];typeof T[N]<"u"&&(typeof T.styles[D]>"u"&&(T.styles[D]=T[N]),console.error("Use of deprecated option: "+N+", use the style "+D+" instead."))});for(var L=0,j=["styles","bodyStyles","headStyles","footStyles"];L<j.length;L++){var B=j[L];c(T[B]||{})}for(var k=T.columnStyles||{},y=0,C=Object.keys(k);y<C.length;y++){var F=C[y];c(k[F]||{})}},S=0,_=[d,h,v];S<_.length;S++){var b=_[S];g(b)}}l.default=u;function c(f){f.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),f.minCellHeight||(f.minCellHeight=f.rowHeight)):f.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),f.cellWidth||(f.cellWidth=f.columnWidth))}},260:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.Column=l.Cell=l.Row=l.Table=void 0;var c=u(796),f=u(172),d=u(420),h=function(){function _(b,T){this.pageNumber=1,this.pageCount=1,this.id=b.id,this.settings=b.settings,this.styles=b.styles,this.hooks=b.hooks,this.columns=T.columns,this.head=T.head,this.body=T.body,this.foot=T.foot}return _.prototype.getHeadHeight=function(b){return this.head.reduce(function(T,L){return T+L.getMaxCellHeight(b)},0)},_.prototype.getFootHeight=function(b){return this.foot.reduce(function(T,L){return T+L.getMaxCellHeight(b)},0)},_.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},_.prototype.callCellHooks=function(b,T,L,j,B,k){for(var y=0,C=T;y<C.length;y++){var F=C[y],E=new f.CellHookData(b,this,L,j,B,k),N=F(E)===!1;if(L.text=Array.isArray(L.text)?L.text:[L.text],N)return!1}return!0},_.prototype.callEndPageHooks=function(b,T){b.applyStyles(b.userStyles);for(var L=0,j=this.hooks.didDrawPage;L<j.length;L++){var B=j[L];B(new f.HookData(b,this,T))}},_.prototype.callWillDrawPageHooks=function(b,T){for(var L=0,j=this.hooks.willDrawPage;L<j.length;L++){var B=j[L];B(new f.HookData(b,this,T))}},_.prototype.getWidth=function(b){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var T=this.columns.reduce(function(j,B){return j+B.wrappedWidth},0);return T}else{var L=this.settings.margin;return b-L.left-L.right}},_}();l.Table=h;var v=function(){function _(b,T,L,j,B){B===void 0&&(B=!1),this.height=0,this.raw=b,b instanceof c.HtmlRowInput&&(this.raw=b._element,this.element=b._element),this.index=T,this.section=L,this.cells=j,this.spansMultiplePages=B}return _.prototype.getMaxCellHeight=function(b){var T=this;return b.reduce(function(L,j){var B;return Math.max(L,((B=T.cells[j.index])===null||B===void 0?void 0:B.height)||0)},0)},_.prototype.hasRowSpan=function(b){var T=this;return b.filter(function(L){var j=T.cells[L.index];return j?j.rowSpan>1:!1}).length>0},_.prototype.canEntireRowFit=function(b,T){return this.getMaxCellHeight(T)<=b},_.prototype.getMinimumRowHeight=function(b,T){var L=this;return b.reduce(function(j,B){var k=L.cells[B.index];if(!k)return 0;var y=T.getLineHeight(k.styles.fontSize),C=k.padding("vertical"),F=C+y;return F>j?F:j},0)},_}();l.Row=v;var g=function(){function _(b,T,L){var j,B;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=T,this.section=L,this.raw=b;var k=b;b!=null&&typeof b=="object"&&!Array.isArray(b)?(this.rowSpan=b.rowSpan||1,this.colSpan=b.colSpan||1,k=(B=(j=b.content)!==null&&j!==void 0?j:b.title)!==null&&B!==void 0?B:b,b._element&&(this.raw=b._element)):(this.rowSpan=1,this.colSpan=1);var y=k!=null?""+k:"",C=/\r\n|\r|\n/g;this.text=y.split(C)}return _.prototype.getTextPos=function(){var b;if(this.styles.valign==="top")b=this.y+this.padding("top");else if(this.styles.valign==="bottom")b=this.y+this.height-this.padding("bottom");else{var T=this.height-this.padding("vertical");b=this.y+T/2+this.padding("top")}var L;if(this.styles.halign==="right")L=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var j=this.width-this.padding("horizontal");L=this.x+j/2+this.padding("left")}else L=this.x+this.padding("left");return{x:L,y:b}},_.prototype.getContentHeight=function(b,T){T===void 0&&(T=1.15);var L=Array.isArray(this.text)?this.text.length:1,j=this.styles.fontSize/b*T,B=L*j+this.padding("vertical");return Math.max(B,this.styles.minCellHeight)},_.prototype.padding=function(b){var T=(0,d.parseSpacing)(this.styles.cellPadding,0);return b==="vertical"?T.top+T.bottom:b==="horizontal"?T.left+T.right:T[b]},_}();l.Cell=g;var S=function(){function _(b,T,L){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=b,this.raw=T,this.index=L}return _.prototype.getMaxCustomCellWidth=function(b){for(var T=0,L=0,j=b.allRows();L<j.length;L++){var B=j[L],k=B.cells[this.index];k&&typeof k.styles.cellWidth=="number"&&(T=Math.max(T,k.styles.cellWidth))}return T},_}();l.Column=S},356:function(o,l){Object.defineProperty(l,"__esModule",{value:!0}),l.assign=void 0;function u(c,f,d,h,v){if(c==null)throw new TypeError("Cannot convert undefined or null to object");for(var g=Object(c),S=1;S<arguments.length;S++){var _=arguments[S];if(_!=null)for(var b in _)Object.prototype.hasOwnProperty.call(_,b)&&(g[b]=_[b])}return g}l.assign=u},972:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.createTable=void 0;var c=u(744),f=u(260),d=u(324),h=u(796),v=u(356);function g(B,k){var y=new c.DocHandler(B),C=S(k,y.scaleFactor()),F=new f.Table(k,C);return(0,d.calculateWidths)(y,F),y.applyStyles(y.userStyles),F}l.createTable=g;function S(B,k){var y=B.content,C=L(y.columns);if(y.head.length===0){var F=b(C,"head");F&&y.head.push(F)}if(y.foot.length===0){var F=b(C,"foot");F&&y.foot.push(F)}var E=B.settings.theme,N=B.styles;return{columns:C,head:_("head",y.head,C,N,E,k),body:_("body",y.body,C,N,E,k),foot:_("foot",y.foot,C,N,E,k)}}function _(B,k,y,C,F,E){var N={},D=k.map(function(G,de){for(var ie=0,ee={},Q=0,te=0,pe=0,be=y;pe<be.length;pe++){var I=be[pe];if(N[I.index]==null||N[I.index].left===0)if(te===0){var O=void 0;Array.isArray(G)?O=G[I.index-Q-ie]:O=G[I.dataKey];var U={};typeof O=="object"&&!Array.isArray(O)&&(U=(O==null?void 0:O.styles)||{});var z=j(B,I,de,F,C,E,U),q=new f.Cell(O,z,B);ee[I.dataKey]=q,ee[I.index]=q,te=q.colSpan-1,N[I.index]={left:q.rowSpan-1,times:te}}else te--,Q++;else N[I.index].left--,te=N[I.index].times,ie++}return new f.Row(G,de,B,ee)});return D}function b(B,k){var y={};return B.forEach(function(C){if(C.raw!=null){var F=T(k,C.raw);F!=null&&(y[C.dataKey]=F)}}),Object.keys(y).length>0?y:null}function T(B,k){if(B==="head"){if(typeof k=="object")return k.header||k.title||null;if(typeof k=="string"||typeof k=="number")return k}else if(B==="foot"&&typeof k=="object")return k.footer;return null}function L(B){return B.map(function(k,y){var C,F,E;return typeof k=="object"?E=(F=(C=k.dataKey)!==null&&C!==void 0?C:k.key)!==null&&F!==void 0?F:y:E=y,new f.Column(E,k,y)})}function j(B,k,y,C,F,E,N){var D=(0,h.getTheme)(C),G;B==="head"?G=F.headStyles:B==="body"?G=F.bodyStyles:B==="foot"&&(G=F.footStyles);var de=(0,v.assign)({},D.table,D[B],F.styles,G),ie=F.columnStyles[k.dataKey]||F.columnStyles[k.index]||{},ee=B==="body"?ie:{},Q=B==="body"&&y%2===0?(0,v.assign)({},D.alternateRow,F.alternateRowStyles):{},te=(0,h.defaultStyles)(E),pe=(0,v.assign)({},te,de,Q,ee);return(0,v.assign)(pe,N)}},664:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.addPage=l.drawTable=void 0;var c=u(420),f=u(260),d=u(744),h=u(356),v=u(136),g=u(224);function S(ie,ee){var Q=ee.settings,te=Q.startY,pe=Q.margin,be={x:pe.left,y:te},I=ee.getHeadHeight(ee.columns)+ee.getFootHeight(ee.columns),O=te+pe.bottom+I;if(Q.pageBreak==="avoid"){var U=ee.body,z=U.reduce(function(me,ge){return me+ge.height},0);O+=z}var q=new d.DocHandler(ie);(Q.pageBreak==="always"||Q.startY!=null&&O>q.pageSize().height)&&(de(q),be.y=pe.top),ee.callWillDrawPageHooks(q,be);var fe=(0,h.assign)({},be);ee.startPageNumber=q.pageNumber(),Q.horizontalPageBreak?_(q,ee,fe,be):(q.applyStyles(q.userStyles),(Q.showHead==="firstPage"||Q.showHead==="everyPage")&&ee.head.forEach(function(me){return F(q,ee,me,be,ee.columns)}),q.applyStyles(q.userStyles),ee.body.forEach(function(me,ge){var Te=ge===ee.body.length-1;C(q,ee,me,Te,fe,be,ee.columns)}),q.applyStyles(q.userStyles),(Q.showFoot==="lastPage"||Q.showFoot==="everyPage")&&ee.foot.forEach(function(me){return F(q,ee,me,be,ee.columns)})),(0,c.addTableBorder)(q,ee,fe,be),ee.callEndPageHooks(q,be),ee.finalY=be.y,ie.lastAutoTable=ee,ie.previousAutoTable=ee,ie.autoTable&&(ie.autoTable.previous=ee),q.applyStyles(q.userStyles)}l.drawTable=S;function _(ie,ee,Q,te){var pe=(0,g.calculateAllColumnsCanFitInPage)(ie,ee),be=ee.settings;if(be.horizontalPageBreakBehaviour==="afterAllRows")pe.forEach(function(z,q){ie.applyStyles(ie.userStyles),q>0?G(ie,ee,Q,te,z.columns,!0):b(ie,ee,te,z.columns),T(ie,ee,Q,te,z.columns),j(ie,ee,te,z.columns)});else for(var I=-1,O=pe[0],U=function(){var z=I;if(O){ie.applyStyles(ie.userStyles);var q=O.columns;I>=0?G(ie,ee,Q,te,q,!0):b(ie,ee,te,q),z=L(ie,ee,I+1,te,q),j(ie,ee,te,q)}var fe=z-I;pe.slice(1).forEach(function(me){ie.applyStyles(ie.userStyles),G(ie,ee,Q,te,me.columns,!0),L(ie,ee,I+1,te,me.columns,fe),j(ie,ee,te,me.columns)}),I=z};I<ee.body.length-1;)U()}function b(ie,ee,Q,te){var pe=ee.settings;ie.applyStyles(ie.userStyles),(pe.showHead==="firstPage"||pe.showHead==="everyPage")&&ee.head.forEach(function(be){return F(ie,ee,be,Q,te)})}function T(ie,ee,Q,te,pe){ie.applyStyles(ie.userStyles),ee.body.forEach(function(be,I){var O=I===ee.body.length-1;C(ie,ee,be,O,Q,te,pe)})}function L(ie,ee,Q,te,pe,be){ie.applyStyles(ie.userStyles),be=be??ee.body.length;var I=Math.min(Q+be,ee.body.length),O=-1;return ee.body.slice(Q,I).forEach(function(U,z){var q=Q+z===ee.body.length-1,fe=D(ie,ee,q,te);U.canEntireRowFit(fe,pe)&&(F(ie,ee,U,te,pe),O=Q+z)}),O}function j(ie,ee,Q,te){var pe=ee.settings;ie.applyStyles(ie.userStyles),(pe.showFoot==="lastPage"||pe.showFoot==="everyPage")&&ee.foot.forEach(function(be){return F(ie,ee,be,Q,te)})}function B(ie,ee,Q){var te=Q.getLineHeight(ie.styles.fontSize),pe=ie.padding("vertical"),be=Math.floor((ee-pe)/te);return Math.max(0,be)}function k(ie,ee,Q,te){var pe={};ie.spansMultiplePages=!0,ie.height=0;for(var be=0,I=0,O=Q.columns;I<O.length;I++){var U=O[I],z=ie.cells[U.index];if(z){Array.isArray(z.text)||(z.text=[z.text]);var q=new f.Cell(z.raw,z.styles,z.section);q=(0,h.assign)(q,z),q.text=[];var fe=B(z,ee,te);z.text.length>fe&&(q.text=z.text.splice(fe,z.text.length));var me=te.scaleFactor(),ge=te.getLineHeightFactor();z.contentHeight=z.getContentHeight(me,ge),z.contentHeight>=ee&&(z.contentHeight=ee,q.styles.minCellHeight-=ee),z.contentHeight>ie.height&&(ie.height=z.contentHeight),q.contentHeight=q.getContentHeight(me,ge),q.contentHeight>be&&(be=q.contentHeight),pe[U.index]=q}}var Te=new f.Row(ie.raw,-1,ie.section,pe,!0);Te.height=be;for(var Oe=0,Be=Q.columns;Oe<Be.length;Oe++){var U=Be[Oe],q=Te.cells[U.index];q&&(q.height=Te.height);var z=ie.cells[U.index];z&&(z.height=ie.height)}return Te}function y(ie,ee,Q,te){var pe=ie.pageSize().height,be=te.settings.margin,I=be.top+be.bottom,O=pe-I;ee.section==="body"&&(O-=te.getHeadHeight(te.columns)+te.getFootHeight(te.columns));var U=ee.getMinimumRowHeight(te.columns,ie),z=U<Q;if(U>O)return console.error("Will not be able to print row ".concat(ee.index," correctly since it's minimum height is larger than page height")),!0;if(!z)return!1;var q=ee.hasRowSpan(te.columns),fe=ee.getMaxCellHeight(te.columns)>O;return fe?(q&&console.error("The content of row ".concat(ee.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(q||te.settings.rowPageBreak==="avoid")}function C(ie,ee,Q,te,pe,be,I){var O=D(ie,ee,te,be);if(Q.canEntireRowFit(O,I))F(ie,ee,Q,be,I);else if(y(ie,Q,O,ee)){var U=k(Q,O,ee,ie);F(ie,ee,Q,be,I),G(ie,ee,pe,be,I),C(ie,ee,U,te,pe,be,I)}else G(ie,ee,pe,be,I),C(ie,ee,Q,te,pe,be,I)}function F(ie,ee,Q,te,pe){te.x=ee.settings.margin.left;for(var be=0,I=pe;be<I.length;be++){var O=I[be],U=Q.cells[O.index];if(!U){te.x+=O.width;continue}ie.applyStyles(U.styles),U.x=te.x,U.y=te.y;var z=ee.callCellHooks(ie,ee.hooks.willDrawCell,U,Q,O,te);if(z===!1){te.x+=O.width;continue}E(ie,U,te);var q=U.getTextPos();(0,v.default)(U.text,q.x,q.y,{halign:U.styles.halign,valign:U.styles.valign,maxWidth:Math.ceil(U.width-U.padding("left")-U.padding("right"))},ie.getDocument()),ee.callCellHooks(ie,ee.hooks.didDrawCell,U,Q,O,te),te.x+=O.width}te.y+=Q.height}function E(ie,ee,Q){var te=ee.styles;if(ie.getDocument().setFillColor(ie.getDocument().getFillColor()),typeof te.lineWidth=="number"){var pe=(0,c.getFillStyle)(te.lineWidth,te.fillColor);pe&&ie.rect(ee.x,Q.y,ee.width,ee.height,pe)}else typeof te.lineWidth=="object"&&(te.fillColor&&ie.rect(ee.x,Q.y,ee.width,ee.height,"F"),N(ie,ee,Q,te.lineWidth))}function N(ie,ee,Q,te){var pe,be,I,O;te.top&&(pe=Q.x,be=Q.y,I=Q.x+ee.width,O=Q.y,te.right&&(I+=.5*te.right),te.left&&(pe-=.5*te.left),U(te.top,pe,be,I,O)),te.bottom&&(pe=Q.x,be=Q.y+ee.height,I=Q.x+ee.width,O=Q.y+ee.height,te.right&&(I+=.5*te.right),te.left&&(pe-=.5*te.left),U(te.bottom,pe,be,I,O)),te.left&&(pe=Q.x,be=Q.y,I=Q.x,O=Q.y+ee.height,te.top&&(be-=.5*te.top),te.bottom&&(O+=.5*te.bottom),U(te.left,pe,be,I,O)),te.right&&(pe=Q.x+ee.width,be=Q.y,I=Q.x+ee.width,O=Q.y+ee.height,te.top&&(be-=.5*te.top),te.bottom&&(O+=.5*te.bottom),U(te.right,pe,be,I,O));function U(z,q,fe,me,ge){ie.getDocument().setLineWidth(z),ie.getDocument().line(q,fe,me,ge,"S")}}function D(ie,ee,Q,te){var pe=ee.settings.margin.bottom,be=ee.settings.showFoot;return(be==="everyPage"||be==="lastPage"&&Q)&&(pe+=ee.getFootHeight(ee.columns)),ie.pageSize().height-te.y-pe}function G(ie,ee,Q,te,pe,be){pe===void 0&&(pe=[]),be===void 0&&(be=!1),ie.applyStyles(ie.userStyles),ee.settings.showFoot==="everyPage"&&!be&&ee.foot.forEach(function(O){return F(ie,ee,O,te,pe)}),ee.callEndPageHooks(ie,te);var I=ee.settings.margin;(0,c.addTableBorder)(ie,ee,Q,te),de(ie),ee.pageNumber++,ee.pageCount++,te.x=I.left,te.y=I.top,Q.y=I.top,ee.callWillDrawPageHooks(ie,te),ee.settings.showHead==="everyPage"&&(ee.head.forEach(function(O){return F(ie,ee,O,te,pe)}),ie.applyStyles(ie.userStyles))}l.addPage=G;function de(ie){var ee=ie.pageNumber();ie.setPage(ee+1);var Q=ie.pageNumber();return Q===ee?(ie.addPage(),!0):!1}},224:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.calculateAllColumnsCanFitInPage=void 0;var c=u(420);function f(h,v,g){var S;g===void 0&&(g={});var _=(0,c.getPageAvailableWidth)(h,v),b=new Map,T=[],L=[],j=[];v.settings.horizontalPageBreakRepeat,Array.isArray(v.settings.horizontalPageBreakRepeat)?j=v.settings.horizontalPageBreakRepeat:(typeof v.settings.horizontalPageBreakRepeat=="string"||typeof v.settings.horizontalPageBreakRepeat=="number")&&(j=[v.settings.horizontalPageBreakRepeat]),j.forEach(function(C){var F=v.columns.find(function(E){return E.dataKey===C||E.index===C});F&&!b.has(F.index)&&(b.set(F.index,!0),T.push(F.index),L.push(v.columns[F.index]),_-=F.wrappedWidth)});for(var B=!0,k=(S=g==null?void 0:g.start)!==null&&S!==void 0?S:0;k<v.columns.length;){if(b.has(k)){k++;continue}var y=v.columns[k].wrappedWidth;if(B||_>=y)B=!1,T.push(k),L.push(v.columns[k]),_-=y;else break;k++}return{colIndexes:T,columns:L,lastIndex:k-1}}function d(h,v){for(var g=[],S=0;S<v.columns.length;S++){var _=f(h,v,{start:S});_.columns.length&&(g.push(_),S=_.lastIndex)}return g}l.calculateAllColumnsCanFitInPage=d},324:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.ellipsize=l.resizeColumns=l.calculateWidths=void 0;var c=u(420);function f(T,L){d(T,L);var j=[],B=0;L.columns.forEach(function(y){var C=y.getMaxCustomCellWidth(L);C?y.width=C:(y.width=y.wrappedWidth,j.push(y)),B+=y.width});var k=L.getWidth(T.pageSize().width)-B;k&&(k=h(j,k,function(y){return Math.max(y.minReadableWidth,y.minWidth)})),k&&(k=h(j,k,function(y){return y.minWidth})),k=Math.abs(k),!L.settings.horizontalPageBreak&&k>.1/T.scaleFactor()&&(k=k<1?k:Math.round(k),console.warn("Of the table content, ".concat(k," units width could not fit page"))),g(L),S(L,T),v(L)}l.calculateWidths=f;function d(T,L){var j=T.scaleFactor(),B=L.settings.horizontalPageBreak,k=(0,c.getPageAvailableWidth)(T,L);L.allRows().forEach(function(y){for(var C=0,F=L.columns;C<F.length;C++){var E=F[C],N=y.cells[E.index];if(N){var D=L.hooks.didParseCell;L.callCellHooks(T,D,N,y,E,null);var G=N.padding("horizontal");N.contentWidth=(0,c.getStringWidth)(N.text,N.styles,T)+G;var de=(0,c.getStringWidth)(N.text.join(" ").split(/[^\S\u00A0]+/),N.styles,T);if(N.minReadableWidth=de+N.padding("horizontal"),typeof N.styles.cellWidth=="number")N.minWidth=N.styles.cellWidth,N.wrappedWidth=N.styles.cellWidth;else if(N.styles.cellWidth==="wrap"||B===!0)N.contentWidth>k?(N.minWidth=k,N.wrappedWidth=k):(N.minWidth=N.contentWidth,N.wrappedWidth=N.contentWidth);else{var ie=10/j;N.minWidth=N.styles.minCellWidth||ie,N.wrappedWidth=N.contentWidth,N.minWidth>N.wrappedWidth&&(N.wrappedWidth=N.minWidth)}}}}),L.allRows().forEach(function(y){for(var C=0,F=L.columns;C<F.length;C++){var E=F[C],N=y.cells[E.index];if(N&&N.colSpan===1)E.wrappedWidth=Math.max(E.wrappedWidth,N.wrappedWidth),E.minWidth=Math.max(E.minWidth,N.minWidth),E.minReadableWidth=Math.max(E.minReadableWidth,N.minReadableWidth);else{var D=L.styles.columnStyles[E.dataKey]||L.styles.columnStyles[E.index]||{},G=D.cellWidth||D.minCellWidth;G&&typeof G=="number"&&(E.minWidth=G,E.wrappedWidth=G)}N&&(N.colSpan>1&&!E.minWidth&&(E.minWidth=N.minWidth),N.colSpan>1&&!E.wrappedWidth&&(E.wrappedWidth=N.minWidth))}})}function h(T,L,j){for(var B=L,k=T.reduce(function(ie,ee){return ie+ee.wrappedWidth},0),y=0;y<T.length;y++){var C=T[y],F=C.wrappedWidth/k,E=B*F,N=C.width+E,D=j(C),G=N<D?D:N;L-=G-C.width,C.width=G}if(L=Math.round(L*1e10)/1e10,L){var de=T.filter(function(ie){return L<0?ie.width>j(ie):!0});de.length&&(L=h(de,L,j))}return L}l.resizeColumns=h;function v(T){for(var L={},j=1,B=T.allRows(),k=0;k<B.length;k++)for(var y=B[k],C=0,F=T.columns;C<F.length;C++){var E=F[C],N=L[E.index];if(j>1)j--,delete y.cells[E.index];else if(N)N.cell.height+=y.height,j=N.cell.colSpan,delete y.cells[E.index],N.left--,N.left<=1&&delete L[E.index];else{var D=y.cells[E.index];if(!D)continue;if(D.height=y.height,D.rowSpan>1){var G=B.length-k,de=D.rowSpan>G?G:D.rowSpan;L[E.index]={cell:D,left:de,row:y}}}}}function g(T){for(var L=T.allRows(),j=0;j<L.length;j++)for(var B=L[j],k=null,y=0,C=0,F=0;F<T.columns.length;F++){var E=T.columns[F];if(C-=1,C>1&&T.columns[F+1])y+=E.width,delete B.cells[E.index];else if(k){var N=k;delete B.cells[E.index],k=null,N.width=E.width+y}else{var N=B.cells[E.index];if(!N)continue;if(C=N.colSpan,y=0,N.colSpan>1){k=N,y+=E.width;continue}N.width=E.width+y}}}function S(T,L){for(var j={count:0,height:0},B=0,k=T.allRows();B<k.length;B++){for(var y=k[B],C=0,F=T.columns;C<F.length;C++){var E=F[C],N=y.cells[E.index];if(N){L.applyStyles(N.styles,!0);var D=N.width-N.padding("horizontal");if(N.styles.overflow==="linebreak")N.text=L.splitTextToSize(N.text,D+1/L.scaleFactor(),{fontSize:N.styles.fontSize});else if(N.styles.overflow==="ellipsize")N.text=_(N.text,D,N.styles,L,"...");else if(N.styles.overflow==="hidden")N.text=_(N.text,D,N.styles,L,"");else if(typeof N.styles.overflow=="function"){var G=N.styles.overflow(N.text,D);typeof G=="string"?N.text=[G]:N.text=G}N.contentHeight=N.getContentHeight(L.scaleFactor(),L.getLineHeightFactor());var de=N.contentHeight/N.rowSpan;N.rowSpan>1&&j.count*j.height<de*N.rowSpan?j={height:de,count:N.rowSpan}:j&&j.count>0&&j.height>de&&(de=j.height),de>y.height&&(y.height=de)}}j.count--}}function _(T,L,j,B,k){return T.map(function(y){return b(y,L,j,B,k)})}l.ellipsize=_;function b(T,L,j,B,k){var y=1e4*B.scaleFactor();if(L=Math.ceil(L*y)/y,L>=(0,c.getStringWidth)(T,j,B))return T;for(;L<(0,c.getStringWidth)(T+k,j,B)&&!(T.length<=1);)T=T.substring(0,T.length-1);return T.trim()+k}},964:function(o){if(typeof r>"u"){var l=new Error("Cannot find module 'undefined'");throw l.code="MODULE_NOT_FOUND",l}o.exports=r}},i={};function s(o){var l=i[o];if(l!==void 0)return l.exports;var u=i[o]={exports:{}};return n[o].call(u.exports,u,u.exports,s),u.exports}var a={};return function(){var o=a;Object.defineProperty(o,"__esModule",{value:!0}),o.Cell=o.Column=o.Row=o.Table=o.CellHookData=o.__drawTable=o.__createTable=o.applyPlugin=void 0;var l=s(340),u=s(776),c=s(664),f=s(972),d=s(260);Object.defineProperty(o,"Table",{enumerable:!0,get:function(){return d.Table}});var h=s(172);Object.defineProperty(o,"CellHookData",{enumerable:!0,get:function(){return h.CellHookData}});var v=s(260);Object.defineProperty(o,"Cell",{enumerable:!0,get:function(){return v.Cell}}),Object.defineProperty(o,"Column",{enumerable:!0,get:function(){return v.Column}}),Object.defineProperty(o,"Row",{enumerable:!0,get:function(){return v.Row}});function g(L){(0,l.default)(L)}o.applyPlugin=g;function S(L,j){var B=(0,u.parseInput)(L,j),k=(0,f.createTable)(L,B);(0,c.drawTable)(L,k)}function _(L,j){var B=(0,u.parseInput)(L,j);return(0,f.createTable)(L,B)}o.__createTable=_;function b(L,j){(0,c.drawTable)(L,j)}o.__drawTable=b;try{var T=s(964);T.jsPDF&&(T=T.jsPDF),g(T)}catch{}o.default=S}(),a}()})})(MK);function BK(){return w.jsx("div",{className:"flex justify-center py-6",children:w.jsx("div",{className:"w-10 h-10 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})})}function zm({icon:t,label:e,value:r,bgColor:n,trend:i}){return w.jsx("div",{className:`${n} rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1`,children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-sm font-medium text-white/80 mb-1",children:e}),w.jsx("p",{className:"text-3xl font-bold text-white",children:r}),i&&w.jsxs("div",{className:"flex items-center mt-2 text-white/90 text-sm",children:[w.jsx(EG,{className:"w-4 h-4 mr-1"}),w.jsx("span",{children:i})]})]}),w.jsx("div",{className:"bg-white/20 p-4 rounded-lg",children:w.jsx(t,{className:"w-8 h-8 text-white"})})]})})}function VK({users:t}){const e=t.reduce((i,s)=>(s.bloodGroup&&(i[s.bloodGroup]=(i[s.bloodGroup]||0)+1),i),{}),r=Object.values(e).reduce((i,s)=>i+s,0),n=["bg-red-500","bg-pink-500","bg-purple-500","bg-indigo-500","bg-blue-500","bg-cyan-500","bg-teal-500","bg-green-500"];return w.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg",children:[w.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[w.jsx(LI,{className:"w-5 h-5 mr-2 text-red-500"}),"Blood Group Distribution"]}),w.jsx("div",{className:"space-y-3",children:Object.entries(e).sort((i,s)=>s[1]-i[1]).map(([i,s],a)=>w.jsxs("div",{className:"flex items-center",children:[w.jsx("span",{className:"w-16 text-sm font-medium",children:i}),w.jsx("div",{className:"flex-1 mx-3 bg-gray-200 dark:bg-gray-700 rounded-full h-6 overflow-hidden",children:w.jsx("div",{className:`${n[a%n.length]} h-full flex items-center justify-end px-2 transition-all duration-500`,style:{width:`${s/r*100}%`},children:w.jsx("span",{className:"text-xs font-semibold text-white",children:s})})}),w.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400 w-12 text-right",children:[(s/r*100).toFixed(0),"%"]})]},i))})]})}function UK({users:t}){const e=t.reduce((r,n)=>(n.organType&&(r[n.organType]=(r[n.organType]||0)+1),r),{});return w.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg",children:[w.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[w.jsx(RI,{className:"w-5 h-5 mr-2 text-blue-500"}),"Organ Types"]}),w.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(e).map(([r,n])=>w.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-700 dark:to-gray-600 rounded-lg p-4 text-center",children:[w.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:n}),w.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1 capitalize",children:r})]},r))})]})}function zK({users:t}){const e=[...t].slice(0,5);return w.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg",children:[w.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[w.jsx(aG,{className:"w-5 h-5 mr-2 text-green-500"}),"Recent Users"]}),w.jsx("div",{className:"space-y-3",children:e.map(r=>{var n;return w.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[w.jsxs("div",{className:"flex items-center space-x-3",children:[w.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center text-white font-semibold",children:((n=r.fullName)==null?void 0:n.charAt(0))||"U"}),w.jsxs("div",{children:[w.jsx("p",{className:"font-medium text-sm",children:r.fullName}),w.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:r.role})]})]}),w.jsx("div",{className:"text-right",children:w.jsx("p",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:r.bloodGroup||""})})]},r.id)})})]})}function WK(){const[t,e]=ye.useState([]),[r,n]=ye.useState(!0),[i,s]=ye.useState(""),[a,o]=ye.useState(""),[l,u]=ye.useState(""),[c,f]=ye.useState(null),[d,h]=ye.useState({}),[v,g]=ye.useState("overview");ye.useEffect(()=>{n(!0);const y=K0(Zl(Ti,"users"),BC("fullName")),C=bv(y,F=>{e(F.docs.map(E=>({id:E.id,...E.data()}))),n(!1)},F=>{console.error(F),n(!1)});return()=>C()},[]);const S=t.filter(y=>{var C,F;return!(i&&y.role!==i||a&&((C=y.bloodGroup)==null?void 0:C.toLowerCase())!==a.toLowerCase()||l&&!((F=y.fullName)!=null&&F.toLowerCase().includes(l.toLowerCase())))}),_=t.reduce((y,C)=>(y[C.role]=(y[C.role]||0)+1,y),{}),b=y=>{const C=["Name","Email","Role","Blood Group","Organ","Mobile"],F=y.map(de=>[de.fullName,de.email||"",de.role,de.bloodGroup||"",de.organType||"",de.mobile||""]),E=[C.join(","),...F.map(de=>de.map(ie=>`"${ie}"`).join(","))].join(`
`),N=new Blob([E],{type:"text/csv"}),D=URL.createObjectURL(N),G=document.createElement("a");G.href=D,G.download="users.csv",G.click(),URL.revokeObjectURL(D)},T=y=>{const C=new At;C.setFontSize(20),C.setTextColor(59,130,246),C.text("User Management Report",14,20),C.setFontSize(10),C.setTextColor(100),C.text(`Generated: ${new Date().toLocaleString()}`,14,28),C.setFontSize(12),C.setTextColor(0),C.text(`Total Users: ${y.length}`,14,38),C.text(`Donors: ${_.donor||0}`,14,45),C.text(`Recipients: ${_.recipient||0}`,14,52),C.text(`Doctors: ${_.doctor||0}`,14,59);const F=y.map(N=>[N.fullName||"",N.email||"",N.role||"",N.bloodGroup||"",N.organType||"",N.mobile||""]);C.autoTable({head:[["Name","Email","Role","Blood Group","Organ","Mobile"]],body:F,startY:68,theme:"grid",headStyles:{fillColor:[59,130,246],textColor:255,fontStyle:"bold",halign:"center"},styles:{fontSize:9,cellPadding:3},alternateRowStyles:{fillColor:[245,245,245]},columnStyles:{0:{cellWidth:35},1:{cellWidth:45},2:{cellWidth:25},3:{cellWidth:25},4:{cellWidth:25},5:{cellWidth:30}}});const E=C.internal.getNumberOfPages();for(let N=1;N<=E;N++)C.setPage(N),C.setFontSize(8),C.setTextColor(128),C.text(`Page ${N} of ${E}`,C.internal.pageSize.width/2,C.internal.pageSize.height-10,{align:"center"});C.save(`users_report_${new Date().toISOString().split("T")[0]}.pdf`)},L=y=>{f(y.id),h({fullName:y.fullName||"",bloodGroup:y.bloodGroup||"",organType:y.organType||"",mobile:y.mobile||""})},j=()=>{f(null),h({})},B=async y=>{try{await xg(ea(Ti,"users",y),d),f(null),h({})}catch(C){alert("Failed to update user: "+C.message)}},k=async y=>{if(window.confirm("Are you sure you want to delete this user?"))try{await jU(ea(Ti,"users",y))}catch(C){alert("Failed to delete user: "+C.message)}};return r?w.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center",children:w.jsx(BK,{})}):w.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 dark:text-white",children:w.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[w.jsxs("div",{className:"mb-8",children:[w.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"Admin Dashboard"}),w.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Comprehensive user management and analytics"})]}),w.jsxs("div",{className:"flex gap-2 mb-6 bg-white dark:bg-gray-800 p-1 rounded-lg w-fit shadow-md",children:[w.jsx("button",{onClick:()=>g("overview"),className:`px-6 py-2 rounded-md transition-all font-medium ${v==="overview"?"bg-blue-600 text-white shadow-lg":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"Overview"}),w.jsx("button",{onClick:()=>g("table"),className:`px-6 py-2 rounded-md transition-all font-medium ${v==="table"?"bg-blue-600 text-white shadow-lg":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"User Table"})]}),v==="overview"?w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[w.jsx(zm,{icon:CG,label:"Total Users",value:t.length,bgColor:"bg-gradient-to-br from-blue-500 to-blue-600",trend:"+12% this month"}),w.jsx(zm,{icon:LI,label:"Donors",value:_.donor||0,bgColor:"bg-gradient-to-br from-red-500 to-pink-600"}),w.jsx(zm,{icon:NG,label:"Recipients",value:_.recipient||0,bgColor:"bg-gradient-to-br from-green-500 to-emerald-600"}),w.jsx(zm,{icon:RI,label:"Doctors",value:_.doctor||0,bgColor:"bg-gradient-to-br from-purple-500 to-indigo-600"})]}),w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[w.jsx(VK,{users:t}),w.jsx(UK,{users:t})]}),w.jsx(zK,{users:t})]}):w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg mb-6",children:w.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[w.jsxs("div",{className:"flex-1 min-w-[250px] relative",children:[w.jsx(_G,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),w.jsx("input",{type:"text",placeholder:"Search by name...",value:l,onChange:y=>u(y.target.value),className:"w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),w.jsxs("select",{value:i,onChange:y=>s(y.target.value),className:"px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white cursor-pointer focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[w.jsx("option",{value:"",children:"All Roles"}),w.jsx("option",{value:"donor",children:"Donor"}),w.jsx("option",{value:"recipient",children:"Recipient"}),w.jsx("option",{value:"doctor",children:"Doctor"}),w.jsx("option",{value:"admin",children:"Admin"})]}),w.jsxs("select",{value:a,onChange:y=>o(y.target.value),className:"px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white cursor-pointer focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[w.jsx("option",{value:"",children:"All Blood Groups"}),["A+","A-","B+","B-","AB+","AB-","O+","O-"].map(y=>w.jsx("option",{value:y,children:y},y))]}),w.jsxs("button",{onClick:()=>{u(""),s(""),o("")},className:"px-4 py-3 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors flex items-center gap-2",children:[w.jsx(pG,{className:"w-4 h-4"}),"Reset"]}),w.jsxs("div",{className:"flex gap-2 ml-auto",children:[w.jsxs("button",{onClick:()=>b(S),className:"px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 shadow-lg",children:[w.jsx(lG,{className:"w-4 h-4"}),"Excel"]}),w.jsxs("button",{onClick:()=>T(S),className:"px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 shadow-lg",children:[w.jsx(hG,{className:"w-4 h-4"}),"PDF"]})]})]})}),w.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:w.jsx("div",{className:"overflow-x-auto",children:w.jsxs("table",{className:"min-w-full",children:[w.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:w.jsx("tr",{children:["Name","Email","Role","Blood Group","Organ","Mobile","Actions"].map(y=>w.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:y},y))})}),w.jsxs("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[S.length===0&&w.jsx("tr",{children:w.jsx("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-500 dark:text-gray-400",children:"No users found"})}),S.map(y=>{var C;return w.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c===y.id?w.jsx("input",{type:"text",value:d.fullName,onChange:F=>h({...d,fullName:F.target.value}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-600 dark:text-white"}):w.jsxs("div",{className:"flex items-center",children:[w.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center text-white font-semibold mr-3",children:((C=y.fullName)==null?void 0:C.charAt(0))||"U"}),w.jsx("span",{className:"font-medium",children:y.fullName||""})]})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:y.email||""}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${y.role==="donor"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":y.role==="recipient"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":y.role==="doctor"?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}`,children:y.role})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c===y.id?w.jsxs("select",{value:d.bloodGroup,onChange:F=>h({...d,bloodGroup:F.target.value}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-600 dark:text-white",children:[w.jsx("option",{value:"",children:"Select"}),["A+","A-","B+","B-","AB+","AB-","O+","O-"].map(F=>w.jsx("option",{value:F,children:F},F))]}):w.jsx("span",{className:"font-semibold text-red-600 dark:text-red-400",children:y.bloodGroup||""})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c===y.id?w.jsx("input",{type:"text",value:d.organType,onChange:F=>h({...d,organType:F.target.value}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-600 dark:text-white"}):w.jsx("span",{className:"capitalize",children:y.organType||""})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c===y.id?w.jsx("input",{type:"text",value:d.mobile,onChange:F=>h({...d,mobile:F.target.value}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-600 dark:text-white"}):y.mobile||""}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:w.jsx("div",{className:"flex gap-2",children:c===y.id?w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:()=>B(y.id),className:"p-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",title:"Save",children:w.jsx(xG,{className:"w-4 h-4"})}),w.jsx("button",{onClick:j,className:"p-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",title:"Cancel",children:w.jsx(IG,{className:"w-4 h-4"})})]}):w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:()=>L(y),className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",title:"Edit",children:w.jsx(vG,{className:"w-4 h-4"})}),w.jsx("button",{onClick:()=>k(y.id),className:"p-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",title:"Delete",children:w.jsx(SG,{className:"w-4 h-4"})})]})})})]},y.id)})]})]})})})]})]})})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var _1={};_1.version="0.18.5";var tR=1252,HK=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],rR=function(t){HK.indexOf(t)!=-1&&(tR=t)};function qK(){rR(1252)}var ip=function(t){rR(t)};function $K(){ip(1200),qK()}var Wm=function(e){return String.fromCharCode(e)},v3=function(e){return String.fromCharCode(e)},b1,tu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function sp(t){for(var e="",r=0,n=0,i=0,s=0,a=0,o=0,l=0,u=0;u<t.length;)r=t.charCodeAt(u++),s=r>>2,n=t.charCodeAt(u++),a=(r&3)<<4|n>>4,i=t.charCodeAt(u++),o=(n&15)<<2|i>>6,l=i&63,isNaN(n)?o=l=64:isNaN(i)&&(l=64),e+=tu.charAt(s)+tu.charAt(a)+tu.charAt(o)+tu.charAt(l);return e}function Zo(t){var e="",r=0,n=0,i=0,s=0,a=0,o=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<t.length;)s=tu.indexOf(t.charAt(u++)),a=tu.indexOf(t.charAt(u++)),r=s<<2|a>>4,e+=String.fromCharCode(r),o=tu.indexOf(t.charAt(u++)),n=(a&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(n)),l=tu.indexOf(t.charAt(u++)),i=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var fr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),al=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function jc(t){return fr?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function y3(t){return fr?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Na=function(e){return fr?al(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function Rv(t){if(typeof ArrayBuffer>"u")return Na(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function Fp(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function GK(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var ii=fr?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:al(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),i=0;for(e=0,r=0;e<t.length;r+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function KK(t){for(var e=[],r=0,n=t.length+250,i=jc(t.length+255),s=0;s<t.length;++s){var a=t.charCodeAt(s);if(a<128)i[r++]=a;else if(a<2048)i[r++]=192|a>>6&31,i[r++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=t.charCodeAt(++s)&1023;i[r++]=240|a>>8&7,i[r++]=128|a>>2&63,i[r++]=128|o>>6&15|(a&3)<<4,i[r++]=128|o&63}else i[r++]=224|a>>12&15,i[r++]=128|a>>6&63,i[r++]=128|a&63;r>n&&(e.push(i.slice(0,r)),r=0,i=jc(65535),n=65530)}return e.push(i.slice(0,r)),ii(e)}var c0=/\u0000/g,Hm=/[\u0001-\u0006]/g;function lh(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function ka(t,e){var r=""+t;return r.length>=e?r:an("0",e-r.length)+r}function i4(t,e){var r=""+t;return r.length>=e?r:an(" ",e-r.length)+r}function S1(t,e){var r=""+t;return r.length>=e?r:r+an(" ",e-r.length)}function YK(t,e){var r=""+Math.round(t);return r.length>=e?r:an("0",e-r.length)+r}function XK(t,e){var r=""+t;return r.length>=e?r:an("0",e-r.length)+r}var x3=Math.pow(2,32);function bf(t,e){if(t>x3||t<-x3)return YK(t,e);var r=Math.round(t);return XK(r,e)}function T1(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var w3=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],hy=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function QK(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var on={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},_3={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},JK={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function E1(t,e,r){for(var n=t<0?-1:1,i=t*n,s=0,a=1,o=0,l=1,u=0,c=0,f=Math.floor(i);u<e&&(f=Math.floor(i),o=f*a+s,c=f*u+l,!(i-f<5e-8));)i=1/(i-f),s=a,a=o,l=u,u=c;if(c>e&&(u>e?(c=l,o=s):(c=u,o=a)),!r)return[0,n*o,c];var d=Math.floor(n*o/c);return[d,n*o-d*c,c]}function qm(t,e,r){if(t>2958465||t<0)return null;var n=t|0,i=Math.floor(86400*(t-n)),s=0,a=[],o={D:n,T:i,u:86400*(t-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++n,++o.D)),n===60)a=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)a=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),a=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),n<60&&(s=(s+6)%7),r&&(s=sY(l,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=s,o}var nR=new Date(1899,11,31,0,0,0),ZK=nR.getTime(),eY=new Date(1900,2,1,0,0,0);function iR(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=eY&&(r+=24*60*60*1e3),(r-(ZK+(t.getTimezoneOffset()-nR.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function s4(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function tY(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function rY(t){var e=t<0?12:11,r=s4(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function nY(t){var e=s4(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function iY(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=rY(t):e===10?r=t.toFixed(10).substr(0,12):r=nY(t),s4(tY(r.toUpperCase()))}function Sw(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):iY(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Au(14,iR(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function sY(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function aY(t,e,r,n){var i="",s=0,a=0,o=r.y,l,u=0;switch(t){case 98:o=r.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,u=2;break;default:l=o%1e4,u=4;break}break;case 109:switch(e.length){case 1:case 2:l=r.m,u=e.length;break;case 3:return hy[r.m-1][1];case 5:return hy[r.m-1][0];default:return hy[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=r.d,u=e.length;break;case 3:return w3[r.q][0];default:return w3[r.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(r.H+11)%12,u=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=r.H,u=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=r.M,u=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?ka(r.S,e.length):(n>=2?a=n===3?1e3:100:a=n===1?10:1,s=Math.round(a*(r.S+r.u)),s>=60*a&&(s=0),e==="s"?s===0?"0":""+s/a:(i=ka(s,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}u=e.length===3?1:2;break;case 101:l=o,u=1;break}var c=u>0?ka(l,u):"";return c}function ru(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var sR=/%/g;function oY(t,e,r){var n=e.replace(sR,""),i=e.length-n.length;return Bo(t,n,r*Math.pow(10,2*i))+an("%",i)}function lY(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Bo(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function aR(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+aR(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),r.indexOf("e")===-1){var a=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+s):r+="E+"+(a-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,c){return l+u+c.substr(0,(i+s)%i)+"."+c.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var oR=/# (\?+)( ?)\/( ?)(\d+)/;function uY(t,e,r){var n=parseInt(t[4],10),i=Math.round(e*n),s=Math.floor(i/n),a=i-s*n,o=n;return r+(s===0?"":""+s)+" "+(a===0?an(" ",t[1].length+1+t[4].length):i4(a,t[1].length)+t[2]+"/"+t[3]+ka(o,t[4].length))}function cY(t,e,r){return r+(e===0?"":""+e)+an(" ",t[1].length+2+t[4].length)}var lR=/^#*0*\.([0#]+)/,uR=/\).*[0#]/,cR=/\(###\) ###\\?-####/;function Ui(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function b3(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function S3(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function fY(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function hY(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function $s(t,e,r){if(t.charCodeAt(0)===40&&!e.match(uR)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?$s("n",n,r):"("+$s("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return lY(t,e,r);if(e.indexOf("%")!==-1)return oY(t,e,r);if(e.indexOf("E")!==-1)return aR(e,r);if(e.charCodeAt(0)===36)return"$"+$s(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,a,o,l=Math.abs(r),u=r<0?"-":"";if(e.match(/^00+$/))return u+bf(l,e.length);if(e.match(/^[#?]+$/))return i=bf(r,0),i==="0"&&(i=""),i.length>e.length?i:Ui(e.substr(0,e.length-i.length))+i;if(s=e.match(oR))return uY(s,l,u);if(e.match(/^#+0+$/))return u+bf(l,e.length-e.indexOf("0"));if(s=e.match(lR))return i=b3(r,s[1].length).replace(/^([^\.]+)$/,"$1."+Ui(s[1])).replace(/\.$/,"."+Ui(s[1])).replace(/\.(\d*)$/,function(v,g){return"."+g+an("0",Ui(s[1]).length-g.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return u+b3(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return u+ru(bf(l,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+$s(t,e,-r):ru(""+(Math.floor(r)+fY(r,s[1].length)))+"."+ka(S3(r,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return $s(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=lh($s(t,e.replace(/[\\-]/g,""),r)),a=0,lh(lh(e.replace(/\\/g,"")).replace(/[0#]/g,function(v){return a<i.length?i.charAt(a++):v==="0"?"0":""}));if(e.match(cR))return i=$s(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var c="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=E1(l,Math.pow(10,a)-1,!1),i=""+u,c=Bo("n",s[1],o[1]),c.charAt(c.length-1)==" "&&(c=c.substr(0,c.length-1)+"0"),i+=c+s[2]+"/"+s[3],c=S1(o[2],a),c.length<s[4].length&&(c=Ui(s[4].substr(s[4].length-c.length))+c),i+=c,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=E1(l,Math.pow(10,a)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?i4(o[1],a)+s[2]+"/"+s[3]+S1(o[2],a):an(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=bf(r,0),e.length<=i.length?i:Ui(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var f=e.indexOf(".")-a,d=e.length-i.length-f;return Ui(e.substr(0,f)+i+e.substr(e.length-d))}if(s=e.match(/^00,000\.([#0]*0)$/))return a=S3(r,s[1].length),r<0?"-"+$s(t,e,-r):ru(hY(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?ka(0,3-v.length):"")+v})+"."+ka(a,s[1].length);switch(e){case"###,##0.00":return $s(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var h=ru(bf(l,0));return h!=="0"?u+h:"";case"###,###.00":return $s(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return $s(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function dY(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Bo(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function pY(t,e,r){var n=e.replace(sR,""),i=e.length-n.length;return Bo(t,n,r*Math.pow(10,2*i))+an("%",i)}function fR(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+fR(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),!r.match(/[Ee]/)){var a=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+s):r+="E+"+(a-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,c){return l+u+c.substr(0,(i+s)%i)+"."+c.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Ga(t,e,r){if(t.charCodeAt(0)===40&&!e.match(uR)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ga("n",n,r):"("+Ga("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return dY(t,e,r);if(e.indexOf("%")!==-1)return pY(t,e,r);if(e.indexOf("E")!==-1)return fR(e,r);if(e.charCodeAt(0)===36)return"$"+Ga(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,a,o,l=Math.abs(r),u=r<0?"-":"";if(e.match(/^00+$/))return u+ka(l,e.length);if(e.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>e.length?i:Ui(e.substr(0,e.length-i.length))+i;if(s=e.match(oR))return cY(s,l,u);if(e.match(/^#+0+$/))return u+ka(l,e.length-e.indexOf("0"));if(s=e.match(lR))return i=(""+r).replace(/^([^\.]+)$/,"$1."+Ui(s[1])).replace(/\.$/,"."+Ui(s[1])),i=i.replace(/\.(\d*)$/,function(v,g){return"."+g+an("0",Ui(s[1]).length-g.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return u+ru(""+l);if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ga(t,e,-r):ru(""+r)+"."+an("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Ga(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=lh(Ga(t,e.replace(/[\\-]/g,""),r)),a=0,lh(lh(e.replace(/\\/g,"")).replace(/[0#]/g,function(v){return a<i.length?i.charAt(a++):v==="0"?"0":""}));if(e.match(cR))return i=Ga(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var c="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=E1(l,Math.pow(10,a)-1,!1),i=""+u,c=Bo("n",s[1],o[1]),c.charAt(c.length-1)==" "&&(c=c.substr(0,c.length-1)+"0"),i+=c+s[2]+"/"+s[3],c=S1(o[2],a),c.length<s[4].length&&(c=Ui(s[4].substr(s[4].length-c.length))+c),i+=c,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=E1(l,Math.pow(10,a)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?i4(o[1],a)+s[2]+"/"+s[3]+S1(o[2],a):an(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+r,e.length<=i.length?i:Ui(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var f=e.indexOf(".")-a,d=e.length-i.length-f;return Ui(e.substr(0,f)+i+e.substr(e.length-d))}if(s=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Ga(t,e,-r):ru(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(v){return"00,"+(v.length<3?ka(0,3-v.length):"")+v})+"."+ka(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var h=ru(""+l);return h!=="0"?u+h:"";default:if(e.match(/\.[0#?]*$/))return Ga(t,e.slice(0,e.lastIndexOf(".")),r)+Ui(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Bo(t,e,r){return(r|0)===r?Ga(t,e,r):$s(t,e,r)}function mY(t){for(var e=[],r=!1,n=0,i=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(i,n-i),i=n+1}if(e[e.length]=t.substr(i),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var hR=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function dR(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":T1(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(hR))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function gY(t,e,r,n){for(var i=[],s="",a=0,o="",l="t",u,c,f,d="H";a<t.length;)switch(o=t.charAt(a)){case"G":if(!T1(t,a))throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(f=t.charCodeAt(++a))!==34&&a<t.length;)s+=String.fromCharCode(f);i[i.length]={t:"t",v:s},++a;break;case"\\":var h=t.charAt(++a),v=h==="("||h===")"?h:"t";i[i.length]={t:v,v:h},++a;break;case"_":i[i.length]={t:"t",v:" "},a+=2;break;case"@":i[i.length]={t:"T",v:e},++a;break;case"B":case"b":if(t.charAt(a+1)==="1"||t.charAt(a+1)==="2"){if(u==null&&(u=qm(e,r,t.charAt(a+1)==="2"),u==null))return"";i[i.length]={t:"X",v:t.substr(a,2)},l=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||u==null&&(u=qm(e,r),u==null))return"";for(s=o;++a<t.length&&t.charAt(a).toLowerCase()===o;)s+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=d),i[i.length]={t:o,v:s},l=o;break;case"A":case"a":case"":var g={t:o,v:o};if(u==null&&(u=qm(e,r)),t.substr(a,3).toUpperCase()==="A/P"?(u!=null&&(g.v=u.H>=12?"P":"A"),g.t="T",d="h",a+=3):t.substr(a,5).toUpperCase()==="AM/PM"?(u!=null&&(g.v=u.H>=12?"PM":"AM"),g.t="T",a+=5,d="h"):t.substr(a,5).toUpperCase()==="/"?(u!=null&&(g.v=u.H>=12?"":""),g.t="T",a+=5,d="h"):(g.t="t",++a),u==null&&g.t==="T")return"";i[i.length]=g,l=o;break;case"[":for(s=o;t.charAt(a++)!=="]"&&a<t.length;)s+=t.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(hR)){if(u==null&&(u=qm(e,r),u==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",dR(t)||(i[i.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=o;++a<t.length&&(o=t.charAt(a))==="0";)s+=o;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++a<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(a))>-1;)s+=o;i[i.length]={t:"n",v:s};break;case"?":for(s=o;t.charAt(++a)===o;)s+=o;i[i.length]={t:o,v:s},l=o;break;case"*":++a,(t.charAt(a)==" "||t.charAt(a)=="*")&&++a;break;case"(":case")":i[i.length]={t:n===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;a<t.length&&"0123456789".indexOf(t.charAt(++a))>-1;)s+=t.charAt(a);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:o,v:o},++a;break;case"$":i[i.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"t",v:o},++a;break}var S=0,_=0,b;for(a=i.length-1,l="t";a>=0;--a)switch(i[a].t){case"h":case"H":i[a].t=d,l="h",S<1&&(S=1);break;case"s":(b=i[a].v.match(/\.0+$/))&&(_=Math.max(_,b[0].length-1)),S<3&&(S=3);case"d":case"y":case"M":case"e":l=i[a].t;break;case"m":l==="s"&&(i[a].t="M",S<2&&(S=2));break;case"X":break;case"Z":S<1&&i[a].v.match(/[Hh]/)&&(S=1),S<2&&i[a].v.match(/[Mm]/)&&(S=2),S<3&&i[a].v.match(/[Ss]/)&&(S=3)}switch(S){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var T="",L;for(a=0;a<i.length;++a)switch(i[a].t){case"t":case"T":case" ":case"D":break;case"X":i[a].v="",i[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[a].v=aY(i[a].t.charCodeAt(0),i[a].v,u,_),i[a].t="t";break;case"n":case"?":for(L=a+1;i[L]!=null&&((o=i[L].t)==="?"||o==="D"||(o===" "||o==="t")&&i[L+1]!=null&&(i[L+1].t==="?"||i[L+1].t==="t"&&i[L+1].v==="/")||i[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[L].v==="/"||i[L].v===" "&&i[L+1]!=null&&i[L+1].t=="?"));)i[a].v+=i[L].v,i[L]={v:"",t:";"},++L;T+=i[a].v,a=L-1;break;case"G":i[a].t="t",i[a].v=Sw(e,r);break}var j="",B,k;if(T.length>0){T.charCodeAt(0)==40?(B=e<0&&T.charCodeAt(0)===45?-e:e,k=Bo("n",T,B)):(B=e<0&&n>1?-e:e,k=Bo("n",T,B),B<0&&i[0]&&i[0].t=="t"&&(k=k.substr(1),i[0].v="-"+i[0].v)),L=k.length-1;var y=i.length;for(a=0;a<i.length;++a)if(i[a]!=null&&i[a].t!="t"&&i[a].v.indexOf(".")>-1){y=a;break}var C=i.length;if(y===i.length&&k.indexOf("E")===-1){for(a=i.length-1;a>=0;--a)i[a]==null||"n?".indexOf(i[a].t)===-1||(L>=i[a].v.length-1?(L-=i[a].v.length,i[a].v=k.substr(L+1,i[a].v.length)):L<0?i[a].v="":(i[a].v=k.substr(0,L+1),L=-1),i[a].t="t",C=a);L>=0&&C<i.length&&(i[C].v=k.substr(0,L+1)+i[C].v)}else if(y!==i.length&&k.indexOf("E")===-1){for(L=k.indexOf(".")-1,a=y;a>=0;--a)if(!(i[a]==null||"n?".indexOf(i[a].t)===-1)){for(c=i[a].v.indexOf(".")>-1&&a===y?i[a].v.indexOf(".")-1:i[a].v.length-1,j=i[a].v.substr(c+1);c>=0;--c)L>=0&&(i[a].v.charAt(c)==="0"||i[a].v.charAt(c)==="#")&&(j=k.charAt(L--)+j);i[a].v=j,i[a].t="t",C=a}for(L>=0&&C<i.length&&(i[C].v=k.substr(0,L+1)+i[C].v),L=k.indexOf(".")+1,a=y;a<i.length;++a)if(!(i[a]==null||"n?(".indexOf(i[a].t)===-1&&a!==y)){for(c=i[a].v.indexOf(".")>-1&&a===y?i[a].v.indexOf(".")+1:0,j=i[a].v.substr(0,c);c<i[a].v.length;++c)L<k.length&&(j+=k.charAt(L++));i[a].v=j,i[a].t="t",C=a}}}for(a=0;a<i.length;++a)i[a]!=null&&"n?".indexOf(i[a].t)>-1&&(B=n>1&&e<0&&a>0&&i[a-1].v==="-"?-e:e,i[a].v=Bo(i[a].t,i[a].v,B),i[a].t="t");var F="";for(a=0;a!==i.length;++a)i[a]!=null&&(F+=i[a].v);return F}var T3=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function E3(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function vY(t,e){var r=mY(t),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var a=r[0].match(T3),o=r[1].match(T3);return E3(e,a)?[n,r[0]]:E3(e,o)?[n,r[1]]:[n,r[a!=null&&o!=null?2:1]]}return[n,s]}function Au(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:on)[t],n==null&&(n=r.table&&r.table[_3[t]]||on[_3[t]]),n==null&&(n=JK[t]||"General");break}if(T1(n,0))return Sw(e,r);e instanceof Date&&(e=iR(e,r.date1904));var i=vY(n,e);if(T1(i[1]))return Sw(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return gY(i[1],e,r,i[0])}function pR(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(on[r]==null){e<0&&(e=r);continue}if(on[r]==t){e=r;break}}e<0&&(e=391)}return on[e]=t,e}function Lv(t){for(var e=0;e!=392;++e)t[e]!==void 0&&pR(t[e],e)}function Fv(){on=QK()}var mR=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function yY(t){var e=typeof t=="number"?on[t]:t;return e=e.replace(mR,"(\\d+)"),new RegExp("^"+e+"$")}function xY(t,e,r){var n=-1,i=-1,s=-1,a=-1,o=-1,l=-1;(e.match(mR)||[]).forEach(function(f,d){var h=parseInt(r[d+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=h;break;case"d":s=h;break;case"h":a=h;break;case"s":l=h;break;case"m":a>=0?o=h:i=h;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var c=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return a==-1&&o==-1&&l==-1?u:n==-1&&i==-1&&s==-1?c:u+"T"+c}var wY=function(){var t={};t.version="1.2.0";function e(){for(var k=0,y=new Array(256),C=0;C!=256;++C)k=C,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,y[C]=k;return typeof Int32Array<"u"?new Int32Array(y):y}var r=e();function n(k){var y=0,C=0,F=0,E=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(F=0;F!=256;++F)E[F]=k[F];for(F=0;F!=256;++F)for(C=k[F],y=256+F;y<4096;y+=256)C=E[y]=C>>>8^k[C&255];var N=[];for(F=1;F!=16;++F)N[F-1]=typeof Int32Array<"u"?E.subarray(F*256,F*256+256):E.slice(F*256,F*256+256);return N}var i=n(r),s=i[0],a=i[1],o=i[2],l=i[3],u=i[4],c=i[5],f=i[6],d=i[7],h=i[8],v=i[9],g=i[10],S=i[11],_=i[12],b=i[13],T=i[14];function L(k,y){for(var C=y^-1,F=0,E=k.length;F<E;)C=C>>>8^r[(C^k.charCodeAt(F++))&255];return~C}function j(k,y){for(var C=y^-1,F=k.length-15,E=0;E<F;)C=T[k[E++]^C&255]^b[k[E++]^C>>8&255]^_[k[E++]^C>>16&255]^S[k[E++]^C>>>24]^g[k[E++]]^v[k[E++]]^h[k[E++]]^d[k[E++]]^f[k[E++]]^c[k[E++]]^u[k[E++]]^l[k[E++]]^o[k[E++]]^a[k[E++]]^s[k[E++]]^r[k[E++]];for(F+=15;E<F;)C=C>>>8^r[(C^k[E++])&255];return~C}function B(k,y){for(var C=y^-1,F=0,E=k.length,N=0,D=0;F<E;)N=k.charCodeAt(F++),N<128?C=C>>>8^r[(C^N)&255]:N<2048?(C=C>>>8^r[(C^(192|N>>6&31))&255],C=C>>>8^r[(C^(128|N&63))&255]):N>=55296&&N<57344?(N=(N&1023)+64,D=k.charCodeAt(F++)&1023,C=C>>>8^r[(C^(240|N>>8&7))&255],C=C>>>8^r[(C^(128|N>>2&63))&255],C=C>>>8^r[(C^(128|D>>6&15|(N&3)<<4))&255],C=C>>>8^r[(C^(128|D&63))&255]):(C=C>>>8^r[(C^(224|N>>12&15))&255],C=C>>>8^r[(C^(128|N>>6&63))&255],C=C>>>8^r[(C^(128|N&63))&255]);return~C}return t.table=r,t.bstr=L,t.buf=j,t.str=B,t}(),kr=function(){var e={};e.version="1.2.1";function r(K,le){for(var ne=K.split("/"),se=le.split("/"),oe=0,ce=0,Ne=Math.min(ne.length,se.length);oe<Ne;++oe){if(ce=ne[oe].length-se[oe].length)return ce;if(ne[oe]!=se[oe])return ne[oe]<se[oe]?-1:1}return ne.length-se.length}function n(K){if(K.charAt(K.length-1)=="/")return K.slice(0,-1).indexOf("/")===-1?K:n(K.slice(0,-1));var le=K.lastIndexOf("/");return le===-1?K:K.slice(0,le+1)}function i(K){if(K.charAt(K.length-1)=="/")return i(K.slice(0,-1));var le=K.lastIndexOf("/");return le===-1?K:K.slice(le+1)}function s(K,le){typeof le=="string"&&(le=new Date(le));var ne=le.getHours();ne=ne<<6|le.getMinutes(),ne=ne<<5|le.getSeconds()>>>1,K.write_shift(2,ne);var se=le.getFullYear()-1980;se=se<<4|le.getMonth()+1,se=se<<5|le.getDate(),K.write_shift(2,se)}function a(K){var le=K.read_shift(2)&65535,ne=K.read_shift(2)&65535,se=new Date,oe=ne&31;ne>>>=5;var ce=ne&15;ne>>>=4,se.setMilliseconds(0),se.setFullYear(ne+1980),se.setMonth(ce-1),se.setDate(oe);var Ne=le&31;le>>>=5;var De=le&63;return le>>>=6,se.setHours(le),se.setMinutes(De),se.setSeconds(Ne<<1),se}function o(K){As(K,0);for(var le={},ne=0;K.l<=K.length-4;){var se=K.read_shift(2),oe=K.read_shift(2),ce=K.l+oe,Ne={};switch(se){case 21589:ne=K.read_shift(1),ne&1&&(Ne.mtime=K.read_shift(4)),oe>5&&(ne&2&&(Ne.atime=K.read_shift(4)),ne&4&&(Ne.ctime=K.read_shift(4))),Ne.mtime&&(Ne.mt=new Date(Ne.mtime*1e3));break}K.l=ce,le[se]=Ne}return le}var l;function u(){return l||(l={})}function c(K,le){if(K[0]==80&&K[1]==75)return Er(K,le);if((K[0]|32)==109&&(K[1]|32)==105)return Fi(K,le);if(K.length<512)throw new Error("CFB file size "+K.length+" < 512");var ne=3,se=512,oe=0,ce=0,Ne=0,De=0,ke=0,Ce=[],Le=K.slice(0,512);As(Le,0);var Qe=f(Le);switch(ne=Qe[0],ne){case 3:se=512;break;case 4:se=4096;break;case 0:if(Qe[1]==0)return Er(K,le);default:throw new Error("Major Version: Expected 3 or 4 saw "+ne)}se!==512&&(Le=K.slice(0,se),As(Le,28));var it=K.slice(0,se);d(Le,ne);var dt=Le.read_shift(4,"i");if(ne===3&&dt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+dt);Le.l+=4,Ne=Le.read_shift(4,"i"),Le.l+=4,Le.chk("00100000","Mini Stream Cutoff Size: "),De=Le.read_shift(4,"i"),oe=Le.read_shift(4,"i"),ke=Le.read_shift(4,"i"),ce=Le.read_shift(4,"i");for(var tt=-1,ut=0;ut<109&&(tt=Le.read_shift(4,"i"),!(tt<0));++ut)Ce[ut]=tt;var It=h(K,se);S(ke,ce,It,se,Ce);var rr=b(It,Ne,Ce,se);rr[Ne].name="!Directory",oe>0&&De!==D&&(rr[De].name="!MiniFAT"),rr[Ce[0]].name="!FAT",rr.fat_addrs=Ce,rr.ssz=se;var nr={},Ar=[],Di=[],sa=[];T(Ne,rr,It,Ar,oe,nr,Di,De),v(Di,sa,Ar),Ar.shift();var gs={FileIndex:Di,FullPaths:sa};return le&&le.raw&&(gs.raw={header:it,sectors:It}),gs}function f(K){if(K[K.l]==80&&K[K.l+1]==75)return[0,0];K.chk(G,"Header Signature: "),K.l+=16;var le=K.read_shift(2,"u");return[K.read_shift(2,"u"),le]}function d(K,le){var ne=9;switch(K.l+=2,ne=K.read_shift(2)){case 9:if(le!=3)throw new Error("Sector Shift: Expected 9 saw "+ne);break;case 12:if(le!=4)throw new Error("Sector Shift: Expected 12 saw "+ne);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ne)}K.chk("0600","Mini Sector Shift: "),K.chk("000000000000","Reserved: ")}function h(K,le){for(var ne=Math.ceil(K.length/le)-1,se=[],oe=1;oe<ne;++oe)se[oe-1]=K.slice(oe*le,(oe+1)*le);return se[ne-1]=K.slice(ne*le),se}function v(K,le,ne){for(var se=0,oe=0,ce=0,Ne=0,De=0,ke=ne.length,Ce=[],Le=[];se<ke;++se)Ce[se]=Le[se]=se,le[se]=ne[se];for(;De<Le.length;++De)se=Le[De],oe=K[se].L,ce=K[se].R,Ne=K[se].C,Ce[se]===se&&(oe!==-1&&Ce[oe]!==oe&&(Ce[se]=Ce[oe]),ce!==-1&&Ce[ce]!==ce&&(Ce[se]=Ce[ce])),Ne!==-1&&(Ce[Ne]=se),oe!==-1&&se!=Ce[se]&&(Ce[oe]=Ce[se],Le.lastIndexOf(oe)<De&&Le.push(oe)),ce!==-1&&se!=Ce[se]&&(Ce[ce]=Ce[se],Le.lastIndexOf(ce)<De&&Le.push(ce));for(se=1;se<ke;++se)Ce[se]===se&&(ce!==-1&&Ce[ce]!==ce?Ce[se]=Ce[ce]:oe!==-1&&Ce[oe]!==oe&&(Ce[se]=Ce[oe]));for(se=1;se<ke;++se)if(K[se].type!==0){if(De=se,De!=Ce[De])do De=Ce[De],le[se]=le[De]+"/"+le[se];while(De!==0&&Ce[De]!==-1&&De!=Ce[De]);Ce[se]=-1}for(le[0]+="/",se=1;se<ke;++se)K[se].type!==2&&(le[se]+="/")}function g(K,le,ne){for(var se=K.start,oe=K.size,ce=[],Ne=se;ne&&oe>0&&Ne>=0;)ce.push(le.slice(Ne*N,Ne*N+N)),oe-=N,Ne=uc(ne,Ne*4);return ce.length===0?Ve(0):ii(ce).slice(0,K.size)}function S(K,le,ne,se,oe){var ce=D;if(K===D){if(le!==0)throw new Error("DIFAT chain shorter than expected")}else if(K!==-1){var Ne=ne[K],De=(se>>>2)-1;if(!Ne)return;for(var ke=0;ke<De&&(ce=uc(Ne,ke*4))!==D;++ke)oe.push(ce);S(uc(Ne,se-4),le-1,ne,se,oe)}}function _(K,le,ne,se,oe){var ce=[],Ne=[];oe||(oe=[]);var De=se-1,ke=0,Ce=0;for(ke=le;ke>=0;){oe[ke]=!0,ce[ce.length]=ke,Ne.push(K[ke]);var Le=ne[Math.floor(ke*4/se)];if(Ce=ke*4&De,se<4+Ce)throw new Error("FAT boundary crossed: "+ke+" 4 "+se);if(!K[Le])break;ke=uc(K[Le],Ce)}return{nodes:ce,data:L3([Ne])}}function b(K,le,ne,se){var oe=K.length,ce=[],Ne=[],De=[],ke=[],Ce=se-1,Le=0,Qe=0,it=0,dt=0;for(Le=0;Le<oe;++Le)if(De=[],it=Le+le,it>=oe&&(it-=oe),!Ne[it]){ke=[];var tt=[];for(Qe=it;Qe>=0;){tt[Qe]=!0,Ne[Qe]=!0,De[De.length]=Qe,ke.push(K[Qe]);var ut=ne[Math.floor(Qe*4/se)];if(dt=Qe*4&Ce,se<4+dt)throw new Error("FAT boundary crossed: "+Qe+" 4 "+se);if(!K[ut]||(Qe=uc(K[ut],dt),tt[Qe]))break}ce[it]={nodes:De,data:L3([ke])}}return ce}function T(K,le,ne,se,oe,ce,Ne,De){for(var ke=0,Ce=se.length?2:0,Le=le[K].data,Qe=0,it=0,dt;Qe<Le.length;Qe+=128){var tt=Le.slice(Qe,Qe+128);As(tt,64),it=tt.read_shift(2),dt=c4(tt,0,it-Ce),se.push(dt);var ut={name:dt,type:tt.read_shift(1),color:tt.read_shift(1),L:tt.read_shift(4,"i"),R:tt.read_shift(4,"i"),C:tt.read_shift(4,"i"),clsid:tt.read_shift(16),state:tt.read_shift(4,"i"),start:0,size:0},It=tt.read_shift(2)+tt.read_shift(2)+tt.read_shift(2)+tt.read_shift(2);It!==0&&(ut.ct=L(tt,tt.l-8));var rr=tt.read_shift(2)+tt.read_shift(2)+tt.read_shift(2)+tt.read_shift(2);rr!==0&&(ut.mt=L(tt,tt.l-8)),ut.start=tt.read_shift(4,"i"),ut.size=tt.read_shift(4,"i"),ut.size<0&&ut.start<0&&(ut.size=ut.type=0,ut.start=D,ut.name=""),ut.type===5?(ke=ut.start,oe>0&&ke!==D&&(le[ke].name="!StreamData")):ut.size>=4096?(ut.storage="fat",le[ut.start]===void 0&&(le[ut.start]=_(ne,ut.start,le.fat_addrs,le.ssz)),le[ut.start].name=ut.name,ut.content=le[ut.start].data.slice(0,ut.size)):(ut.storage="minifat",ut.size<0?ut.size=0:ke!==D&&ut.start!==D&&le[ke]&&(ut.content=g(ut,le[ke].data,(le[De]||{}).data))),ut.content&&As(ut.content,0),ce[dt]=ut,Ne.push(ut)}}function L(K,le){return new Date((ks(K,le+4)/1e7*Math.pow(2,32)+ks(K,le)/1e7-11644473600)*1e3)}function j(K,le){return u(),c(l.readFileSync(K),le)}function B(K,le){var ne=le&&le.type;switch(ne||fr&&Buffer.isBuffer(K)&&(ne="buffer"),ne||"base64"){case"file":return j(K,le);case"base64":return c(Na(Zo(K)),le);case"binary":return c(Na(K),le)}return c(K,le)}function k(K,le){var ne=le||{},se=ne.root||"Root Entry";if(K.FullPaths||(K.FullPaths=[]),K.FileIndex||(K.FileIndex=[]),K.FullPaths.length!==K.FileIndex.length)throw new Error("inconsistent CFB structure");K.FullPaths.length===0&&(K.FullPaths[0]=se+"/",K.FileIndex[0]={name:se,type:5}),ne.CLSID&&(K.FileIndex[0].clsid=ne.CLSID),y(K)}function y(K){var le="Sh33tJ5";if(!kr.find(K,"/"+le)){var ne=Ve(4);ne[0]=55,ne[1]=ne[3]=50,ne[2]=54,K.FileIndex.push({name:le,type:2,content:ne,size:4,L:69,R:69,C:69}),K.FullPaths.push(K.FullPaths[0]+le),C(K)}}function C(K,le){k(K);for(var ne=!1,se=!1,oe=K.FullPaths.length-1;oe>=0;--oe){var ce=K.FileIndex[oe];switch(ce.type){case 0:se?ne=!0:(K.FileIndex.pop(),K.FullPaths.pop());break;case 1:case 2:case 5:se=!0,isNaN(ce.R*ce.L*ce.C)&&(ne=!0),ce.R>-1&&ce.L>-1&&ce.R==ce.L&&(ne=!0);break;default:ne=!0;break}}if(!(!ne&&!le)){var Ne=new Date(1987,1,19),De=0,ke=Object.create?Object.create(null):{},Ce=[];for(oe=0;oe<K.FullPaths.length;++oe)ke[K.FullPaths[oe]]=!0,K.FileIndex[oe].type!==0&&Ce.push([K.FullPaths[oe],K.FileIndex[oe]]);for(oe=0;oe<Ce.length;++oe){var Le=n(Ce[oe][0]);se=ke[Le],se||(Ce.push([Le,{name:i(Le).replace("/",""),type:1,clsid:ie,ct:Ne,mt:Ne,content:null}]),ke[Le]=!0)}for(Ce.sort(function(dt,tt){return r(dt[0],tt[0])}),K.FullPaths=[],K.FileIndex=[],oe=0;oe<Ce.length;++oe)K.FullPaths[oe]=Ce[oe][0],K.FileIndex[oe]=Ce[oe][1];for(oe=0;oe<Ce.length;++oe){var Qe=K.FileIndex[oe],it=K.FullPaths[oe];if(Qe.name=i(it).replace("/",""),Qe.L=Qe.R=Qe.C=-(Qe.color=1),Qe.size=Qe.content?Qe.content.length:0,Qe.start=0,Qe.clsid=Qe.clsid||ie,oe===0)Qe.C=Ce.length>1?1:-1,Qe.size=0,Qe.type=5;else if(it.slice(-1)=="/"){for(De=oe+1;De<Ce.length&&n(K.FullPaths[De])!=it;++De);for(Qe.C=De>=Ce.length?-1:De,De=oe+1;De<Ce.length&&n(K.FullPaths[De])!=n(it);++De);Qe.R=De>=Ce.length?-1:De,Qe.type=1}else n(K.FullPaths[oe+1]||"")==n(it)&&(Qe.R=oe+1),Qe.type=2}}}function F(K,le){var ne=le||{};if(ne.fileType=="mad")return vt(K,ne);switch(C(K),ne.fileType){case"zip":return Li(K,ne)}var se=function(dt){for(var tt=0,ut=0,It=0;It<dt.FileIndex.length;++It){var rr=dt.FileIndex[It];if(rr.content){var nr=rr.content.length;nr>0&&(nr<4096?tt+=nr+63>>6:ut+=nr+511>>9)}}for(var Ar=dt.FullPaths.length+3>>2,Di=tt+7>>3,sa=tt+127>>7,gs=Di+ut+Ar+sa,Xi=gs+127>>7,vs=Xi<=109?0:Math.ceil((Xi-109)/127);gs+Xi+vs+127>>7>Xi;)vs=++Xi<=109?0:Math.ceil((Xi-109)/127);var Gn=[1,vs,Xi,sa,Ar,ut,tt,0];return dt.FileIndex[0].size=tt<<6,Gn[7]=(dt.FileIndex[0].start=Gn[0]+Gn[1]+Gn[2]+Gn[3]+Gn[4]+Gn[5])+(Gn[6]+7>>3),Gn}(K),oe=Ve(se[7]<<9),ce=0,Ne=0;{for(ce=0;ce<8;++ce)oe.write_shift(1,de[ce]);for(ce=0;ce<8;++ce)oe.write_shift(2,0);for(oe.write_shift(2,62),oe.write_shift(2,3),oe.write_shift(2,65534),oe.write_shift(2,9),oe.write_shift(2,6),ce=0;ce<3;++ce)oe.write_shift(2,0);for(oe.write_shift(4,0),oe.write_shift(4,se[2]),oe.write_shift(4,se[0]+se[1]+se[2]+se[3]-1),oe.write_shift(4,0),oe.write_shift(4,4096),oe.write_shift(4,se[3]?se[0]+se[1]+se[2]-1:D),oe.write_shift(4,se[3]),oe.write_shift(-4,se[1]?se[0]-1:D),oe.write_shift(4,se[1]),ce=0;ce<109;++ce)oe.write_shift(-4,ce<se[2]?se[1]+ce:-1)}if(se[1])for(Ne=0;Ne<se[1];++Ne){for(;ce<236+Ne*127;++ce)oe.write_shift(-4,ce<se[2]?se[1]+ce:-1);oe.write_shift(-4,Ne===se[1]-1?D:Ne+1)}var De=function(dt){for(Ne+=dt;ce<Ne-1;++ce)oe.write_shift(-4,ce+1);dt&&(++ce,oe.write_shift(-4,D))};for(Ne=ce=0,Ne+=se[1];ce<Ne;++ce)oe.write_shift(-4,ee.DIFSECT);for(Ne+=se[2];ce<Ne;++ce)oe.write_shift(-4,ee.FATSECT);De(se[3]),De(se[4]);for(var ke=0,Ce=0,Le=K.FileIndex[0];ke<K.FileIndex.length;++ke)Le=K.FileIndex[ke],Le.content&&(Ce=Le.content.length,!(Ce<4096)&&(Le.start=Ne,De(Ce+511>>9)));for(De(se[6]+7>>3);oe.l&511;)oe.write_shift(-4,ee.ENDOFCHAIN);for(Ne=ce=0,ke=0;ke<K.FileIndex.length;++ke)Le=K.FileIndex[ke],Le.content&&(Ce=Le.content.length,!(!Ce||Ce>=4096)&&(Le.start=Ne,De(Ce+63>>6)));for(;oe.l&511;)oe.write_shift(-4,ee.ENDOFCHAIN);for(ce=0;ce<se[4]<<2;++ce){var Qe=K.FullPaths[ce];if(!Qe||Qe.length===0){for(ke=0;ke<17;++ke)oe.write_shift(4,0);for(ke=0;ke<3;++ke)oe.write_shift(4,-1);for(ke=0;ke<12;++ke)oe.write_shift(4,0);continue}Le=K.FileIndex[ce],ce===0&&(Le.start=Le.size?Le.start-1:D);var it=ce===0&&ne.root||Le.name;if(Ce=2*(it.length+1),oe.write_shift(64,it,"utf16le"),oe.write_shift(2,Ce),oe.write_shift(1,Le.type),oe.write_shift(1,Le.color),oe.write_shift(-4,Le.L),oe.write_shift(-4,Le.R),oe.write_shift(-4,Le.C),Le.clsid)oe.write_shift(16,Le.clsid,"hex");else for(ke=0;ke<4;++ke)oe.write_shift(4,0);oe.write_shift(4,Le.state||0),oe.write_shift(4,0),oe.write_shift(4,0),oe.write_shift(4,0),oe.write_shift(4,0),oe.write_shift(4,Le.start),oe.write_shift(4,Le.size),oe.write_shift(4,0)}for(ce=1;ce<K.FileIndex.length;++ce)if(Le=K.FileIndex[ce],Le.size>=4096)if(oe.l=Le.start+1<<9,fr&&Buffer.isBuffer(Le.content))Le.content.copy(oe,oe.l,0,Le.size),oe.l+=Le.size+511&-512;else{for(ke=0;ke<Le.size;++ke)oe.write_shift(1,Le.content[ke]);for(;ke&511;++ke)oe.write_shift(1,0)}for(ce=1;ce<K.FileIndex.length;++ce)if(Le=K.FileIndex[ce],Le.size>0&&Le.size<4096)if(fr&&Buffer.isBuffer(Le.content))Le.content.copy(oe,oe.l,0,Le.size),oe.l+=Le.size+63&-64;else{for(ke=0;ke<Le.size;++ke)oe.write_shift(1,Le.content[ke]);for(;ke&63;++ke)oe.write_shift(1,0)}if(fr)oe.l=oe.length;else for(;oe.l<oe.length;)oe.write_shift(1,0);return oe}function E(K,le){var ne=K.FullPaths.map(function(ke){return ke.toUpperCase()}),se=ne.map(function(ke){var Ce=ke.split("/");return Ce[Ce.length-(ke.slice(-1)=="/"?2:1)]}),oe=!1;le.charCodeAt(0)===47?(oe=!0,le=ne[0].slice(0,-1)+le):oe=le.indexOf("/")!==-1;var ce=le.toUpperCase(),Ne=oe===!0?ne.indexOf(ce):se.indexOf(ce);if(Ne!==-1)return K.FileIndex[Ne];var De=!ce.match(Hm);for(ce=ce.replace(c0,""),De&&(ce=ce.replace(Hm,"!")),Ne=0;Ne<ne.length;++Ne)if((De?ne[Ne].replace(Hm,"!"):ne[Ne]).replace(c0,"")==ce||(De?se[Ne].replace(Hm,"!"):se[Ne]).replace(c0,"")==ce)return K.FileIndex[Ne];return null}var N=64,D=-2,G="d0cf11e0a1b11ae1",de=[208,207,17,224,161,177,26,225],ie="00000000000000000000000000000000",ee={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:D,FREESECT:-1,HEADER_SIGNATURE:G,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ie,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Q(K,le,ne){u();var se=F(K,ne);l.writeFileSync(le,se)}function te(K){for(var le=new Array(K.length),ne=0;ne<K.length;++ne)le[ne]=String.fromCharCode(K[ne]);return le.join("")}function pe(K,le){var ne=F(K,le);switch(le&&le.type||"buffer"){case"file":return u(),l.writeFileSync(le.filename,ne),ne;case"binary":return typeof ne=="string"?ne:te(ne);case"base64":return sp(typeof ne=="string"?ne:te(ne));case"buffer":if(fr)return Buffer.isBuffer(ne)?ne:al(ne);case"array":return typeof ne=="string"?Na(ne):ne}return ne}var be;function I(K){try{var le=K.InflateRaw,ne=new le;if(ne._processChunk(new Uint8Array([3,0]),ne._finishFlushFlag),ne.bytesRead)be=K;else throw new Error("zlib does not expose bytesRead")}catch(se){console.error("cannot use native zlib: "+(se.message||se))}}function O(K,le){if(!be)return Kt(K,le);var ne=be.InflateRaw,se=new ne,oe=se._processChunk(K.slice(K.l),se._finishFlushFlag);return K.l+=se.bytesRead,oe}function U(K){return be?be.deflateRawSync(K):Wt(K)}var z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],q=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],fe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function me(K){var le=(K<<1|K<<11)&139536|(K<<5|K<<15)&558144;return(le>>16|le>>8|le)&255}for(var ge=typeof Uint8Array<"u",Te=ge?new Uint8Array(256):[],Oe=0;Oe<256;++Oe)Te[Oe]=me(Oe);function Be(K,le){var ne=Te[K&255];return le<=8?ne>>>8-le:(ne=ne<<8|Te[K>>8&255],le<=16?ne>>>16-le:(ne=ne<<8|Te[K>>16&255],ne>>>24-le))}function Ue(K,le){var ne=le&7,se=le>>>3;return(K[se]|(ne<=6?0:K[se+1]<<8))>>>ne&3}function He(K,le){var ne=le&7,se=le>>>3;return(K[se]|(ne<=5?0:K[se+1]<<8))>>>ne&7}function Fe(K,le){var ne=le&7,se=le>>>3;return(K[se]|(ne<=4?0:K[se+1]<<8))>>>ne&15}function ue(K,le){var ne=le&7,se=le>>>3;return(K[se]|(ne<=3?0:K[se+1]<<8))>>>ne&31}function $e(K,le){var ne=le&7,se=le>>>3;return(K[se]|(ne<=1?0:K[se+1]<<8))>>>ne&127}function mt(K,le,ne){var se=le&7,oe=le>>>3,ce=(1<<ne)-1,Ne=K[oe]>>>se;return ne<8-se||(Ne|=K[oe+1]<<8-se,ne<16-se)||(Ne|=K[oe+2]<<16-se,ne<24-se)||(Ne|=K[oe+3]<<24-se),Ne&ce}function Ye(K,le,ne){var se=le&7,oe=le>>>3;return se<=5?K[oe]|=(ne&7)<<se:(K[oe]|=ne<<se&255,K[oe+1]=(ne&7)>>8-se),le+3}function nt(K,le,ne){var se=le&7,oe=le>>>3;return ne=(ne&1)<<se,K[oe]|=ne,le+1}function ot(K,le,ne){var se=le&7,oe=le>>>3;return ne<<=se,K[oe]|=ne&255,ne>>>=8,K[oe+1]=ne,le+8}function lt(K,le,ne){var se=le&7,oe=le>>>3;return ne<<=se,K[oe]|=ne&255,ne>>>=8,K[oe+1]=ne&255,K[oe+2]=ne>>>8,le+16}function _t(K,le){var ne=K.length,se=2*ne>le?2*ne:le+5,oe=0;if(ne>=le)return K;if(fr){var ce=y3(se);if(K.copy)K.copy(ce);else for(;oe<K.length;++oe)ce[oe]=K[oe];return ce}else if(ge){var Ne=new Uint8Array(se);if(Ne.set)Ne.set(K);else for(;oe<ne;++oe)Ne[oe]=K[oe];return Ne}return K.length=se,K}function St(K){for(var le=new Array(K),ne=0;ne<K;++ne)le[ne]=0;return le}function Rt(K,le,ne){var se=1,oe=0,ce=0,Ne=0,De=0,ke=K.length,Ce=ge?new Uint16Array(32):St(32);for(ce=0;ce<32;++ce)Ce[ce]=0;for(ce=ke;ce<ne;++ce)K[ce]=0;ke=K.length;var Le=ge?new Uint16Array(ke):St(ke);for(ce=0;ce<ke;++ce)Ce[oe=K[ce]]++,se<oe&&(se=oe),Le[ce]=0;for(Ce[0]=0,ce=1;ce<=se;++ce)Ce[ce+16]=De=De+Ce[ce-1]<<1;for(ce=0;ce<ke;++ce)De=K[ce],De!=0&&(Le[ce]=Ce[De+16]++);var Qe=0;for(ce=0;ce<ke;++ce)if(Qe=K[ce],Qe!=0)for(De=Be(Le[ce],se)>>se-Qe,Ne=(1<<se+4-Qe)-1;Ne>=0;--Ne)le[De|Ne<<Qe]=Qe&15|ce<<4;return se}var Tt=ge?new Uint16Array(512):St(512),kt=ge?new Uint16Array(32):St(32);if(!ge){for(var qt=0;qt<512;++qt)Tt[qt]=0;for(qt=0;qt<32;++qt)kt[qt]=0}(function(){for(var K=[],le=0;le<32;le++)K.push(5);Rt(K,kt,32);var ne=[];for(le=0;le<=143;le++)ne.push(8);for(;le<=255;le++)ne.push(9);for(;le<=279;le++)ne.push(7);for(;le<=287;le++)ne.push(8);Rt(ne,Tt,288)})();var Ct=function(){for(var le=ge?new Uint8Array(32768):[],ne=0,se=0;ne<fe.length-1;++ne)for(;se<fe[ne+1];++se)le[se]=ne;for(;se<32768;++se)le[se]=29;var oe=ge?new Uint8Array(259):[];for(ne=0,se=0;ne<q.length-1;++ne)for(;se<q[ne+1];++se)oe[se]=ne;function ce(De,ke){for(var Ce=0;Ce<De.length;){var Le=Math.min(65535,De.length-Ce),Qe=Ce+Le==De.length;for(ke.write_shift(1,+Qe),ke.write_shift(2,Le),ke.write_shift(2,~Le&65535);Le-- >0;)ke[ke.l++]=De[Ce++]}return ke.l}function Ne(De,ke){for(var Ce=0,Le=0,Qe=ge?new Uint16Array(32768):[];Le<De.length;){var it=Math.min(65535,De.length-Le);if(it<10){for(Ce=Ye(ke,Ce,+(Le+it==De.length)),Ce&7&&(Ce+=8-(Ce&7)),ke.l=Ce/8|0,ke.write_shift(2,it),ke.write_shift(2,~it&65535);it-- >0;)ke[ke.l++]=De[Le++];Ce=ke.l*8;continue}Ce=Ye(ke,Ce,+(Le+it==De.length)+2);for(var dt=0;it-- >0;){var tt=De[Le];dt=(dt<<5^tt)&32767;var ut=-1,It=0;if((ut=Qe[dt])&&(ut|=Le&-32768,ut>Le&&(ut-=32768),ut<Le))for(;De[ut+It]==De[Le+It]&&It<250;)++It;if(It>2){tt=oe[It],tt<=22?Ce=ot(ke,Ce,Te[tt+1]>>1)-1:(ot(ke,Ce,3),Ce+=5,ot(ke,Ce,Te[tt-23]>>5),Ce+=3);var rr=tt<8?0:tt-4>>2;rr>0&&(lt(ke,Ce,It-q[tt]),Ce+=rr),tt=le[Le-ut],Ce=ot(ke,Ce,Te[tt]>>3),Ce-=3;var nr=tt<4?0:tt-2>>1;nr>0&&(lt(ke,Ce,Le-ut-fe[tt]),Ce+=nr);for(var Ar=0;Ar<It;++Ar)Qe[dt]=Le&32767,dt=(dt<<5^De[Le])&32767,++Le;it-=It-1}else tt<=143?tt=tt+48:Ce=nt(ke,Ce,1),Ce=ot(ke,Ce,Te[tt]),Qe[dt]=Le&32767,++Le}Ce=ot(ke,Ce,0)-1}return ke.l=(Ce+7)/8|0,ke.l}return function(ke,Ce){return ke.length<8?ce(ke,Ce):Ne(ke,Ce)}}();function Wt(K){var le=Ve(50+Math.floor(K.length*1.1)),ne=Ct(K,le);return le.slice(0,ne)}var ht=ge?new Uint16Array(32768):St(32768),Dr=ge?new Uint16Array(32768):St(32768),Gt=ge?new Uint16Array(128):St(128),$n=1,tr=1;function Tr(K,le){var ne=ue(K,le)+257;le+=5;var se=ue(K,le)+1;le+=5;var oe=Fe(K,le)+4;le+=4;for(var ce=0,Ne=ge?new Uint8Array(19):St(19),De=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ke=1,Ce=ge?new Uint8Array(8):St(8),Le=ge?new Uint8Array(8):St(8),Qe=Ne.length,it=0;it<oe;++it)Ne[z[it]]=ce=He(K,le),ke<ce&&(ke=ce),Ce[ce]++,le+=3;var dt=0;for(Ce[0]=0,it=1;it<=ke;++it)Le[it]=dt=dt+Ce[it-1]<<1;for(it=0;it<Qe;++it)(dt=Ne[it])!=0&&(De[it]=Le[dt]++);var tt=0;for(it=0;it<Qe;++it)if(tt=Ne[it],tt!=0){dt=Te[De[it]]>>8-tt;for(var ut=(1<<7-tt)-1;ut>=0;--ut)Gt[dt|ut<<tt]=tt&7|it<<3}var It=[];for(ke=1;It.length<ne+se;)switch(dt=Gt[$e(K,le)],le+=dt&7,dt>>>=3){case 16:for(ce=3+Ue(K,le),le+=2,dt=It[It.length-1];ce-- >0;)It.push(dt);break;case 17:for(ce=3+He(K,le),le+=3;ce-- >0;)It.push(0);break;case 18:for(ce=11+$e(K,le),le+=7;ce-- >0;)It.push(0);break;default:It.push(dt),ke<dt&&(ke=dt);break}var rr=It.slice(0,ne),nr=It.slice(ne);for(it=ne;it<286;++it)rr[it]=0;for(it=se;it<30;++it)nr[it]=0;return $n=Rt(rr,ht,286),tr=Rt(nr,Dr,30),le}function Ki(K,le){if(K[0]==3&&!(K[1]&3))return[jc(le),2];for(var ne=0,se=0,oe=y3(le||1<<18),ce=0,Ne=oe.length>>>0,De=0,ke=0;!(se&1);){if(se=He(K,ne),ne+=3,se>>>1)se>>1==1?(De=9,ke=5):(ne=Tr(K,ne),De=$n,ke=tr);else{ne&7&&(ne+=8-(ne&7));var Ce=K[ne>>>3]|K[(ne>>>3)+1]<<8;if(ne+=32,Ce>0)for(!le&&Ne<ce+Ce&&(oe=_t(oe,ce+Ce),Ne=oe.length);Ce-- >0;)oe[ce++]=K[ne>>>3],ne+=8;continue}for(;;){!le&&Ne<ce+32767&&(oe=_t(oe,ce+32767),Ne=oe.length);var Le=mt(K,ne,De),Qe=se>>>1==1?Tt[Le]:ht[Le];if(ne+=Qe&15,Qe>>>=4,!(Qe>>>8&255))oe[ce++]=Qe;else{if(Qe==256)break;Qe-=257;var it=Qe<8?0:Qe-4>>2;it>5&&(it=0);var dt=ce+q[Qe];it>0&&(dt+=mt(K,ne,it),ne+=it),Le=mt(K,ne,ke),Qe=se>>>1==1?kt[Le]:Dr[Le],ne+=Qe&15,Qe>>>=4;var tt=Qe<4?0:Qe-2>>1,ut=fe[Qe];for(tt>0&&(ut+=mt(K,ne,tt),ne+=tt),!le&&Ne<dt&&(oe=_t(oe,dt+100),Ne=oe.length);ce<dt;)oe[ce]=oe[ce-ut],++ce}}}return le?[oe,ne+7>>>3]:[oe.slice(0,ce),ne+7>>>3]}function Kt(K,le){var ne=K.slice(K.l||0),se=Ki(ne,le);return K.l+=se[1],se[0]}function ms(K,le){if(K)typeof console<"u"&&console.error(le);else throw new Error(le)}function Er(K,le){var ne=K;As(ne,0);var se=[],oe=[],ce={FileIndex:se,FullPaths:oe};k(ce,{root:le.root});for(var Ne=ne.length-4;(ne[Ne]!=80||ne[Ne+1]!=75||ne[Ne+2]!=5||ne[Ne+3]!=6)&&Ne>=0;)--Ne;ne.l=Ne+4,ne.l+=4;var De=ne.read_shift(2);ne.l+=6;var ke=ne.read_shift(4);for(ne.l=ke,Ne=0;Ne<De;++Ne){ne.l+=20;var Ce=ne.read_shift(4),Le=ne.read_shift(4),Qe=ne.read_shift(2),it=ne.read_shift(2),dt=ne.read_shift(2);ne.l+=8;var tt=ne.read_shift(4),ut=o(ne.slice(ne.l+Qe,ne.l+Qe+it));ne.l+=Qe+it+dt;var It=ne.l;ne.l=tt+4,Nn(ne,Ce,Le,ce,ut),ne.l=It}return ce}function Nn(K,le,ne,se,oe){K.l+=2;var ce=K.read_shift(2),Ne=K.read_shift(2),De=a(K);if(ce&8257)throw new Error("Unsupported ZIP encryption");for(var ke=K.read_shift(4),Ce=K.read_shift(4),Le=K.read_shift(4),Qe=K.read_shift(2),it=K.read_shift(2),dt="",tt=0;tt<Qe;++tt)dt+=String.fromCharCode(K[K.l++]);if(it){var ut=o(K.slice(K.l,K.l+it));(ut[21589]||{}).mt&&(De=ut[21589].mt),((oe||{})[21589]||{}).mt&&(De=oe[21589].mt)}K.l+=it;var It=K.slice(K.l,K.l+Ce);switch(Ne){case 8:It=O(K,Le);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ne)}var rr=!1;ce&8&&(ke=K.read_shift(4),ke==134695760&&(ke=K.read_shift(4),rr=!0),Ce=K.read_shift(4),Le=K.read_shift(4)),Ce!=le&&ms(rr,"Bad compressed size: "+le+" != "+Ce),Le!=ne&&ms(rr,"Bad uncompressed size: "+ne+" != "+Le),vn(se,dt,It,{unsafe:!0,mt:De})}function Li(K,le){var ne=le||{},se=[],oe=[],ce=Ve(1),Ne=ne.compression?8:0,De=0,ke=0,Ce=0,Le=0,Qe=0,it=K.FullPaths[0],dt=it,tt=K.FileIndex[0],ut=[],It=0;for(ke=1;ke<K.FullPaths.length;++ke)if(dt=K.FullPaths[ke].slice(it.length),tt=K.FileIndex[ke],!(!tt.size||!tt.content||dt=="Sh33tJ5")){var rr=Le,nr=Ve(dt.length);for(Ce=0;Ce<dt.length;++Ce)nr.write_shift(1,dt.charCodeAt(Ce)&127);nr=nr.slice(0,nr.l),ut[Qe]=wY.buf(tt.content,0);var Ar=tt.content;Ne==8&&(Ar=U(Ar)),ce=Ve(30),ce.write_shift(4,67324752),ce.write_shift(2,20),ce.write_shift(2,De),ce.write_shift(2,Ne),tt.mt?s(ce,tt.mt):ce.write_shift(4,0),ce.write_shift(-4,ut[Qe]),ce.write_shift(4,Ar.length),ce.write_shift(4,tt.content.length),ce.write_shift(2,nr.length),ce.write_shift(2,0),Le+=ce.length,se.push(ce),Le+=nr.length,se.push(nr),Le+=Ar.length,se.push(Ar),ce=Ve(46),ce.write_shift(4,33639248),ce.write_shift(2,0),ce.write_shift(2,20),ce.write_shift(2,De),ce.write_shift(2,Ne),ce.write_shift(4,0),ce.write_shift(-4,ut[Qe]),ce.write_shift(4,Ar.length),ce.write_shift(4,tt.content.length),ce.write_shift(2,nr.length),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(4,0),ce.write_shift(4,rr),It+=ce.l,oe.push(ce),It+=nr.length,oe.push(nr),++Qe}return ce=Ve(22),ce.write_shift(4,101010256),ce.write_shift(2,0),ce.write_shift(2,0),ce.write_shift(2,Qe),ce.write_shift(2,Qe),ce.write_shift(4,It),ce.write_shift(4,Le),ce.write_shift(2,0),ii([ii(se),ii(oe),ce])}var ur={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Et(K,le){if(K.ctype)return K.ctype;var ne=K.name||"",se=ne.match(/\.([^\.]+)$/);return se&&ur[se[1]]||le&&(se=(ne=le).match(/[\.\\]([^\.\\])+$/),se&&ur[se[1]])?ur[se[1]]:"application/octet-stream"}function Zt(K){for(var le=sp(K),ne=[],se=0;se<le.length;se+=76)ne.push(le.slice(se,se+76));return ne.join(`\r
`)+`\r
`}function Yi(K){var le=K.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ce){var Le=Ce.charCodeAt(0).toString(16).toUpperCase();return"="+(Le.length==1?"0"+Le:Le)});le=le.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),le.charAt(0)==`
`&&(le="=0D"+le.slice(1)),le=le.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ne=[],se=le.split(`\r
`),oe=0;oe<se.length;++oe){var ce=se[oe];if(ce.length==0){ne.push("");continue}for(var Ne=0;Ne<ce.length;){var De=76,ke=ce.slice(Ne,Ne+De);ke.charAt(De-1)=="="?De--:ke.charAt(De-2)=="="?De-=2:ke.charAt(De-3)=="="&&(De-=3),ke=ce.slice(Ne,Ne+De),Ne+=De,Ne<ce.length&&(ke+="="),ne.push(ke)}}return ne.join(`\r
`)}function Jr(K){for(var le=[],ne=0;ne<K.length;++ne){for(var se=K[ne];ne<=K.length&&se.charAt(se.length-1)=="=";)se=se.slice(0,se.length-1)+K[++ne];le.push(se)}for(var oe=0;oe<le.length;++oe)le[oe]=le[oe].replace(/[=][0-9A-Fa-f]{2}/g,function(ce){return String.fromCharCode(parseInt(ce.slice(1),16))});return Na(le.join(`\r
`))}function On(K,le,ne){for(var se="",oe="",ce="",Ne,De=0;De<10;++De){var ke=le[De];if(!ke||ke.match(/^\s*$/))break;var Ce=ke.match(/^(.*?):\s*([^\s].*)$/);if(Ce)switch(Ce[1].toLowerCase()){case"content-location":se=Ce[2].trim();break;case"content-type":ce=Ce[2].trim();break;case"content-transfer-encoding":oe=Ce[2].trim();break}}switch(++De,oe.toLowerCase()){case"base64":Ne=Na(Zo(le.slice(De).join("")));break;case"quoted-printable":Ne=Jr(le.slice(De));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+oe)}var Le=vn(K,se.slice(ne.length),Ne,{unsafe:!0});ce&&(Le.ctype=ce)}function Fi(K,le){if(te(K.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ne=le&&le.root||"",se=(fr&&Buffer.isBuffer(K)?K.toString("binary"):te(K)).split(`\r
`),oe=0,ce="";for(oe=0;oe<se.length;++oe)if(ce=se[oe],!!/^Content-Location:/i.test(ce)&&(ce=ce.slice(ce.indexOf("file")),ne||(ne=ce.slice(0,ce.lastIndexOf("/")+1)),ce.slice(0,ne.length)!=ne))for(;ne.length>0&&(ne=ne.slice(0,ne.length-1),ne=ne.slice(0,ne.lastIndexOf("/")+1),ce.slice(0,ne.length)!=ne););var Ne=(se[1]||"").match(/boundary="(.*?)"/);if(!Ne)throw new Error("MAD cannot find boundary");var De="--"+(Ne[1]||""),ke=[],Ce=[],Le={FileIndex:ke,FullPaths:Ce};k(Le);var Qe,it=0;for(oe=0;oe<se.length;++oe){var dt=se[oe];dt!==De&&dt!==De+"--"||(it++&&On(Le,se.slice(Qe,oe),ne),Qe=oe)}return Le}function vt(K,le){var ne=le||{},se=ne.boundary||"SheetJS";se="------="+se;for(var oe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+se.slice(2)+'"',"","",""],ce=K.FullPaths[0],Ne=ce,De=K.FileIndex[0],ke=1;ke<K.FullPaths.length;++ke)if(Ne=K.FullPaths[ke].slice(ce.length),De=K.FileIndex[ke],!(!De.size||!De.content||Ne=="Sh33tJ5")){Ne=Ne.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(It){return"_x"+It.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(It){return"_u"+It.charCodeAt(0).toString(16)+"_"});for(var Ce=De.content,Le=fr&&Buffer.isBuffer(Ce)?Ce.toString("binary"):te(Ce),Qe=0,it=Math.min(1024,Le.length),dt=0,tt=0;tt<=it;++tt)(dt=Le.charCodeAt(tt))>=32&&dt<128&&++Qe;var ut=Qe>=it*4/5;oe.push(se),oe.push("Content-Location: "+(ne.root||"file:///C:/SheetJS/")+Ne),oe.push("Content-Transfer-Encoding: "+(ut?"quoted-printable":"base64")),oe.push("Content-Type: "+Et(De,Ne)),oe.push(""),oe.push(ut?Yi(Le):Zt(Le))}return oe.push(se+`--\r
`),oe.join(`\r
`)}function hi(K){var le={};return k(le,K),le}function vn(K,le,ne,se){var oe=se&&se.unsafe;oe||k(K);var ce=!oe&&kr.find(K,le);if(!ce){var Ne=K.FullPaths[0];le.slice(0,Ne.length)==Ne?Ne=le:(Ne.slice(-1)!="/"&&(Ne+="/"),Ne=(Ne+le).replace("//","/")),ce={name:i(le),type:2},K.FileIndex.push(ce),K.FullPaths.push(Ne),oe||kr.utils.cfb_gc(K)}return ce.content=ne,ce.size=ne?ne.length:0,se&&(se.CLSID&&(ce.clsid=se.CLSID),se.mt&&(ce.mt=se.mt),se.ct&&(ce.ct=se.ct)),ce}function Zr(K,le){k(K);var ne=kr.find(K,le);if(ne){for(var se=0;se<K.FileIndex.length;++se)if(K.FileIndex[se]==ne)return K.FileIndex.splice(se,1),K.FullPaths.splice(se,1),!0}return!1}function $r(K,le,ne){k(K);var se=kr.find(K,le);if(se){for(var oe=0;oe<K.FileIndex.length;++oe)if(K.FileIndex[oe]==se)return K.FileIndex[oe].name=i(ne),K.FullPaths[oe]=ne,!0}return!1}function Wr(K){C(K,!0)}return e.find=E,e.read=B,e.parse=c,e.write=pe,e.writeFile=Q,e.utils={cfb_new:hi,cfb_add:vn,cfb_del:Zr,cfb_mov:$r,cfb_gc:Wr,ReadShift:h0,CheckField:LR,prep_blob:As,bconcat:ii,use_zlib:I,_deflateRaw:Wt,_inflateRaw:Kt,consts:ee},e}();function _Y(t){return typeof t=="string"?Rv(t):Array.isArray(t)?GK(t):t}function Dp(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=Rv(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?op(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var i=new Blob([_Y(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:t,saveAs:!0});var a=document.createElement("a");if(a.download!=null)return a.download=t,a.href=s,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(t);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=Fp(e)),o.write(e),o.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+t)}function fi(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function A3(t,e){for(var r=[],n=fi(t),i=0;i!==n.length;++i)r[t[n[i]][e]]==null&&(r[t[n[i]][e]]=n[i]);return r}function a4(t){for(var e=[],r=fi(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function Dv(t){for(var e=[],r=fi(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function bY(t){for(var e=[],r=fi(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var A1=new Date(1899,11,30,0,0,0);function hs(t,e){var r=t.getTime(),n=A1.getTime()+(t.getTimezoneOffset()-A1.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var gR=new Date,SY=A1.getTime()+(gR.getTimezoneOffset()-A1.getTimezoneOffset())*6e4,N3=gR.getTimezoneOffset();function vR(t){var e=new Date;return e.setTime(t*24*60*60*1e3+SY),e.getTimezoneOffset()!==N3&&e.setTime(e.getTime()+(e.getTimezoneOffset()-N3)*6e4),e}var k3=new Date("2017-02-19T19:06:09.000Z"),yR=isNaN(k3.getFullYear())?new Date("2/19/17"):k3,TY=yR.getFullYear()==2017;function qi(t,e){var r=new Date(t);if(TY)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(yR.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function Ov(t,e){if(fr&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],i=0;i!=t.length;++i)n.push(String.fromCharCode(t[i]));return n.join("")}function ds(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=ds(t[r]));return e}function an(t,e){for(var r="";r.length<e;)r+=t;return r}function Vo(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,s){return r=-r,s}),!isNaN(e=Number(n)))?e/r:e}var EY=["january","february","march","april","may","june","july","august","september","october","november","december"];function ap(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return r;var a=t.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&EY.indexOf(a)==-1)return r}else if(a.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||s>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}function $t(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return fr?n=al(r):n=KK(r),kr.utils.cfb_add(t,e,n)}kr.utils.cfb_add(t,e,r)}else t.file(e,r)}function o4(){return kr.utils.cfb_new()}var An=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,AY={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},l4=a4(AY),u4=/[&<>'"]/g,NY=/[\u0000-\u0008\u000b-\u001f]/g;function wr(t){var e=t+"";return e.replace(u4,function(r){return l4[r]}).replace(NY,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function C3(t){return wr(t).replace(/ /g,"_x0020_")}var xR=/[\u0000-\u001f]/g;function kY(t){var e=t+"";return e.replace(u4,function(r){return l4[r]}).replace(/\n/g,"<br/>").replace(xR,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function CY(t){var e=t+"";return e.replace(u4,function(r){return l4[r]}).replace(xR,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function PY(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function IY(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function dy(t){for(var e="",r=0,n=0,i=0,s=0,a=0,o=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(i=t.charCodeAt(r++),n>191&&n<224){a=(n&31)<<6,a|=i&63,e+=String.fromCharCode(a);continue}if(s=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|s&63);continue}a=t.charCodeAt(r++),o=((n&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function P3(t){var e=jc(2*t.length),r,n,i=1,s=0,a=0,o;for(n=0;n<t.length;n+=i)i=1,(o=t.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(t.charCodeAt(n+1)&63),i=2):o<240?(r=(o&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),i=3):(i=4,r=(o&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,a=55296+(r>>>10&1023),r=56320+(r&1023)),a!==0&&(e[s++]=a&255,e[s++]=a>>>8,a=0),e[s++]=r%256,e[s++]=r>>>8;return e.slice(0,s).toString("ucs2")}function I3(t){return al(t,"binary").toString("utf8")}var $m="foo bar baz",f0=fr&&(I3($m)==dy($m)&&I3||P3($m)==dy($m)&&P3)||dy,op=fr?function(t){return al(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,i=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},RY=function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)n=n.replace(t[i][0],t[i][1]);return n}}(),wR=/(^\s|\s$|\n)/;function si(t,e){return"<"+t+(e.match(wR)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function lp(t){return fi(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function st(t,e,r){return"<"+t+(r!=null?lp(r):"")+(e!=null?(e.match(wR)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function Tw(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function LY(t,e){switch(typeof t){case"string":var r=st("vt:lpwstr",wr(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return st((t|0)==t?"vt:i4":"vt:r8",wr(String(t)));case"boolean":return st("vt:bool",t?"true":"false")}if(t instanceof Date)return st("vt:filetime",Tw(t));throw new Error("Unable to serialize "+t)}var zn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},$h=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Ns={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function FY(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function DY(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,a=n?-e:e;isFinite(a)?a==0?i=s=0:(i=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var o=0;o<=5;++o,s/=256)t[r+o]=s&255;t[r+6]=(i&15)<<4|s&15,t[r+7]=i>>4|n}var R3=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var i=0,s=t[0][n].length;i<s;i+=r)e.push.apply(e,t[0][n].slice(i,i+r));return e},L3=fr?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:al(e)})):R3(t)}:R3,F3=function(t,e,r){for(var n=[],i=e;i<r;i+=2)n.push(String.fromCharCode(jd(t,i)));return n.join("").replace(c0,"")},c4=fr?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(c0,""):F3(t,e,r)}:F3,D3=function(t,e,r){for(var n=[],i=e;i<e+r;++i)n.push(("0"+t[i].toString(16)).slice(-2));return n.join("")},_R=fr?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):D3(t,e,r)}:D3,O3=function(t,e,r){for(var n=[],i=e;i<r;i++)n.push(String.fromCharCode(Pf(t,i)));return n.join("")},Op=fr?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):O3(e,r,n)}:O3,bR=function(t,e){var r=ks(t,e);return r>0?Op(t,e+4,e+4+r-1):""},SR=bR,TR=function(t,e){var r=ks(t,e);return r>0?Op(t,e+4,e+4+r-1):""},ER=TR,AR=function(t,e){var r=2*ks(t,e);return r>0?Op(t,e+4,e+4+r-1):""},NR=AR,kR=function(e,r){var n=ks(e,r);return n>0?c4(e,r+4,r+4+n):""},CR=kR,PR=function(t,e){var r=ks(t,e);return r>0?Op(t,e+4,e+4+r):""},IR=PR,RR=function(t,e){return FY(t,e)},N1=RR,f4=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};fr&&(SR=function(e,r){if(!Buffer.isBuffer(e))return bR(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},ER=function(e,r){if(!Buffer.isBuffer(e))return TR(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},NR=function(e,r){if(!Buffer.isBuffer(e))return AR(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},CR=function(e,r){if(!Buffer.isBuffer(e))return kR(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},IR=function(e,r){if(!Buffer.isBuffer(e))return PR(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},N1=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):RR(e,r)},f4=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Pf=function(t,e){return t[e]},jd=function(t,e){return t[e+1]*256+t[e]},OY=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},ks=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},uc=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},MY=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function h0(t,e){var r="",n,i,s=[],a,o,l,u;switch(e){case"dbcs":if(u=this.l,fr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)r+=String.fromCharCode(jd(this,u)),u+=2;t*=2;break;case"utf8":r=Op(this,this.l,this.l+t);break;case"utf16le":t*=2,r=c4(this,this.l,this.l+t);break;case"wstr":return h0.call(this,t,"dbcs");case"lpstr-ansi":r=SR(this,this.l),t=4+ks(this,this.l);break;case"lpstr-cp":r=ER(this,this.l),t=4+ks(this,this.l);break;case"lpwstr":r=NR(this,this.l),t=4+2*ks(this,this.l);break;case"lpp4":t=4+ks(this,this.l),r=CR(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+ks(this,this.l),r=IR(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(a=Pf(this,this.l+t++))!==0;)s.push(Wm(a));r=s.join("");break;case"_wstr":for(t=0,r="";(a=jd(this,this.l+t))!==0;)s.push(Wm(a)),t+=2;t+=2,r=s.join("");break;case"dbcs-cont":for(r="",u=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return a=Pf(this,u),this.l=u+1,o=h0.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Wm(jd(this,u))),u+=2}r=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return a=Pf(this,u),this.l=u+1,o=h0.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Wm(Pf(this,u))),u+=1}r=s.join("");break;default:switch(t){case 1:return n=Pf(this,this.l),this.l++,n;case 2:return n=(e==="i"?OY:jd)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||!(this[this.l+3]&128)?(n=(t>0?uc:MY)(this,this.l),this.l+=4,n):(i=ks(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=N1(this,this.l):i=N1([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:r=_R(this,this.l,t);break}}return this.l+=t,r}var jY=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},BY=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},VY=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function UY(t,e,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=e.length;++i)VY(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(r==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var a=e.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,jY(this,e,this.l);break;case 8:if(n=8,r==="f"){DY(this,e,this.l);break}case 16:break;case-4:n=4,BY(this,e,this.l);break}return this.l+=n,this}function LR(t,e){var r=_R(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function As(t,e){t.l=e,t.read_shift=h0,t.chk=LR,t.write_shift=UY}function co(t,e){t.l+=e}function Ve(t){var e=jc(t);return As(e,0),e}function fs(){var t=[],e=fr?256:2048,r=function(u){var c=Ve(u);return As(c,0),c},n=r(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},s=function(u){return n&&u<n.length-n.l?n:(i(),n=r(Math.max(u+1,e)))},a=function(){return i(),ii(t)},o=function(u){i(),n=u,n.l==null&&(n.l=n.length),s(e)};return{next:s,push:o,end:a,_bufs:t}}function Ke(t,e,r,n){var i=+e,s;if(!isNaN(i)){n||(n=Fte[i].p||(r||[]).length||0),s=1+(i>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var a=t.next(s);i<=127?a.write_shift(1,i):(a.write_shift(1,(i&127)+128),a.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(n>=128)a.write_shift(1,(n&127)+128),n>>=7;else{a.write_shift(1,n);break}n>0&&f4(r)&&t.push(r)}}function d0(t,e,r){var n=ds(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function M3(t,e,r){var n=ds(t);return n.s=d0(n.s,e.s,r),n.e=d0(n.e,e.s,r),n}function p0(t,e){if(t.cRel&&t.c<0)for(t=ds(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=ds(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=Sr(t);return!t.cRel&&t.cRel!=null&&(r=HY(r)),!t.rRel&&t.rRel!=null&&(r=zY(r)),r}function py(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+ki(t.s.c)+":"+(t.e.cRel?"":"$")+ki(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+li(t.s.r)+":"+(t.e.rRel?"":"$")+li(t.e.r):p0(t.s,e.biff)+":"+p0(t.e,e.biff)}function h4(t){return parseInt(WY(t),10)-1}function li(t){return""+(t+1)}function zY(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function WY(t){return t.replace(/\$(\d+)$/,"$1")}function d4(t){for(var e=qY(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function ki(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function HY(t){return t.replace(/^([A-Z])/,"$$$1")}function qY(t){return t.replace(/^\$([A-Z])/,"$1")}function $Y(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Wn(t){for(var e=0,r=0,n=0;n<t.length;++n){var i=t.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:e-1}}function Sr(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function Fs(t){var e=t.indexOf(":");return e==-1?{s:Wn(t),e:Wn(t)}:{s:Wn(t.slice(0,e)),e:Wn(t.slice(e+1))}}function En(t,e){return typeof e>"u"||typeof e=="number"?En(t.s,t.e):(typeof t!="string"&&(t=Sr(t)),typeof e!="string"&&(e=Sr(e)),t==e?t:t+":"+e)}function zr(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,s=t.length;for(r=0;n<s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.s.c=--r,r=0;n<s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(e.s.r=--r,n===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.e.c=--r,r=0;n!=s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return e.e.r=--r,e}function j3(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Au(t.z,r?hs(e):e)}catch{}try{return t.w=Au((t.XF||{}).numFmtId||(r?14:0),r?hs(e):e)}catch{return""+e}}function el(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?Mp[t.v]||t.v:e==null?j3(t,t.v):j3(t,e))}function $c(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function FR(t,e,r){var n=r||{},i=t?Array.isArray(t):n.dense,s=t||(i?[]:{}),a=0,o=0;if(s&&n.origin!=null){if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?Wn(n.origin):n.origin;a=l.r,o=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var c=zr(s["!ref"]);u.s.c=c.s.c,u.s.r=c.s.r,u.e.c=Math.max(u.e.c,c.e.c),u.e.r=Math.max(u.e.r,c.e.r),a==-1&&(u.e.r=a=c.e.r+1)}for(var f=0;f!=e.length;++f)if(e[f]){if(!Array.isArray(e[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var d=0;d!=e[f].length;++d)if(!(typeof e[f][d]>"u")){var h={v:e[f][d]},v=a+f,g=o+d;if(u.s.r>v&&(u.s.r=v),u.s.c>g&&(u.s.c=g),u.e.r<v&&(u.e.r=v),u.e.c<g&&(u.e.c=g),e[f][d]&&typeof e[f][d]=="object"&&!Array.isArray(e[f][d])&&!(e[f][d]instanceof Date))h=e[f][d];else if(Array.isArray(h.v)&&(h.f=e[f][d][1],h.v=h.v[0]),h.v===null)if(h.f)h.t="n";else if(n.nullError)h.t="e",h.v=0;else if(n.sheetStubs)h.t="z";else continue;else typeof h.v=="number"?h.t="n":typeof h.v=="boolean"?h.t="b":h.v instanceof Date?(h.z=n.dateNF||on[14],n.cellDates?(h.t="d",h.w=Au(h.z,hs(h.v))):(h.t="n",h.v=hs(h.v),h.w=Au(h.z,h.v))):h.t="s";if(i)s[v]||(s[v]=[]),s[v][g]&&s[v][g].z&&(h.z=s[v][g].z),s[v][g]=h;else{var S=Sr({c:g,r:v});s[S]&&s[S].z&&(h.z=s[S].z),s[S]=h}}}return u.s.c<1e7&&(s["!ref"]=En(u)),s}function Gh(t,e){return FR(null,t,e)}function GY(t){return t.read_shift(4,"i")}function Ia(t,e){return e||(e=Ve(4)),e.write_shift(4,t),e}function Ci(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Hn(t,e){var r=!1;return e==null&&(r=!0,e=Ve(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function KY(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function YY(t,e){return e||(e=Ve(4)),e.write_shift(2,0),e.write_shift(2,0),e}function p4(t,e){var r=t.l,n=t.read_shift(1),i=Ci(t),s=[],a={t:i,h:i};if(n&1){for(var o=t.read_shift(4),l=0;l!=o;++l)s.push(KY(t));a.r=s}else a.r=[{ich:0,ifnt:0}];return t.l=r+e,a}function XY(t,e){var r=!1;return e==null&&(r=!0,e=Ve(15+4*t.t.length)),e.write_shift(1,0),Hn(t.t,e),r?e.slice(0,e.l):e}var QY=p4;function JY(t,e){var r=!1;return e==null&&(r=!0,e=Ve(23+4*t.t.length)),e.write_shift(1,1),Hn(t.t,e),e.write_shift(4,1),YY({},e),r?e.slice(0,e.l):e}function ia(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function Gc(t,e){return e==null&&(e=Ve(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function Kc(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function Yc(t,e){return e==null&&(e=Ve(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var ZY=Ci,DR=Hn;function m4(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function k1(t,e){var r=!1;return e==null&&(r=!0,e=Ve(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var eX=Ci,Ew=m4,g4=k1;function OR(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var i=n===0?N1([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):uc(e,0)>>2;return r?i/100:i}function MR(t,e){e==null&&(e=Ve(4));var r=0,n=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?i:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function jR(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function tX(t,e){return e||(e=Ve(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var Xc=jR,Kh=tX;function Yh(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Bc(t,e){return(e||Ve(8)).write_shift(8,t,"f")}function rX(t){var e={},r=t.read_shift(1),n=r>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),a=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var u=fX[i];u&&(e.rgb=Y3(u));break;case 2:e.rgb=Y3([a,o,l]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function C1(t,e){if(e||(e=Ve(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function nX(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function iX(t,e){e||(e=Ve(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}var BR=2,Ts=3,Gm=11,P1=19,Km=64,sX=65,aX=71,oX=4108,lX=4126,ti=80,B3={1:{n:"CodePage",t:BR},2:{n:"Category",t:ti},3:{n:"PresentationFormat",t:ti},4:{n:"ByteCount",t:Ts},5:{n:"LineCount",t:Ts},6:{n:"ParagraphCount",t:Ts},7:{n:"SlideCount",t:Ts},8:{n:"NoteCount",t:Ts},9:{n:"HiddenCount",t:Ts},10:{n:"MultimediaClipCount",t:Ts},11:{n:"ScaleCrop",t:Gm},12:{n:"HeadingPairs",t:oX},13:{n:"TitlesOfParts",t:lX},14:{n:"Manager",t:ti},15:{n:"Company",t:ti},16:{n:"LinksUpToDate",t:Gm},17:{n:"CharacterCount",t:Ts},19:{n:"SharedDoc",t:Gm},22:{n:"HyperlinksChanged",t:Gm},23:{n:"AppVersion",t:Ts,p:"version"},24:{n:"DigSig",t:sX},26:{n:"ContentType",t:ti},27:{n:"ContentStatus",t:ti},28:{n:"Language",t:ti},29:{n:"Version",t:ti},255:{},2147483648:{n:"Locale",t:P1},2147483651:{n:"Behavior",t:P1},1919054434:{}},V3={1:{n:"CodePage",t:BR},2:{n:"Title",t:ti},3:{n:"Subject",t:ti},4:{n:"Author",t:ti},5:{n:"Keywords",t:ti},6:{n:"Comments",t:ti},7:{n:"Template",t:ti},8:{n:"LastAuthor",t:ti},9:{n:"RevNumber",t:ti},10:{n:"EditTime",t:Km},11:{n:"LastPrinted",t:Km},12:{n:"CreatedDate",t:Km},13:{n:"ModifiedDate",t:Km},14:{n:"PageCount",t:Ts},15:{n:"WordCount",t:Ts},16:{n:"CharCount",t:Ts},17:{n:"Thumbnail",t:aX},18:{n:"Application",t:ti},19:{n:"DocSecurity",t:Ts},255:{},2147483648:{n:"Locale",t:P1},2147483651:{n:"Behavior",t:P1},1919054434:{}};function uX(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var cX=uX([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),fX=ds(cX),Mp={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},hX={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Ym={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function VR(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function UR(t,e){var r=bY(hX),n=[],i;n[n.length]=An,n[n.length]=st("Types",null,{xmlns:zn.CT,"xmlns:xsd":zn.xsd,"xmlns:xsi":zn.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return st("Default",null,{Extension:l[0],ContentType:l[1]})}));var s=function(l){t[l]&&t[l].length>0&&(i=t[l][0],n[n.length]=st("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Ym[l][e.bookType]||Ym[l].xlsx}))},a=function(l){(t[l]||[]).forEach(function(u){n[n.length]=st("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:Ym[l][e.bookType]||Ym[l].xlsx})})},o=function(l){(t[l]||[]).forEach(function(u){n[n.length]=st("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[l][0]})})};return s("workbooks"),a("sheets"),a("charts"),o("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),a("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var or={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function zR(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function uh(t){var e=[An,st("Relationships",null,{xmlns:zn.RELS})];return fi(t["!id"]).forEach(function(r){e[e.length]=st("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function yr(t,e,r,n,i,s){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=n,i.Target=r,[or.HLINK,or.XPATH,or.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}function dX(t){var e=[An];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function U3(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function pX(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function mX(t){var e=[An];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(U3(t[r][0],t[r][1])),e.push(pX("",t[r][0]));return e.push(U3("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function WR(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+_1.version+"</meta:generator></office:meta></office:document-meta>"}var Ac=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function my(t,e,r,n,i){i[t]!=null||e==null||e===""||(i[t]=e,e=wr(e),n[n.length]=r?st(t,e,r):si(t,e))}function HR(t,e){var r=e||{},n=[An,st("cp:coreProperties",null,{"xmlns:cp":zn.CORE_PROPS,"xmlns:dc":zn.dc,"xmlns:dcterms":zn.dcterms,"xmlns:dcmitype":zn.dcmitype,"xmlns:xsi":zn.xsi})],i={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&my("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:Tw(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),t.ModifiedDate!=null&&my("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:Tw(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var s=0;s!=Ac.length;++s){var a=Ac[s],o=r.Props&&r.Props[a[1]]!=null?r.Props[a[1]]:t?t[a[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&my(a[0],o,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var ch=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],qR=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function $R(t){var e=[],r=st;return t||(t={}),t.Application="SheetJS",e[e.length]=An,e[e.length]=st("Properties",null,{xmlns:zn.EXT_PROPS,"xmlns:vt":zn.vt}),ch.forEach(function(n){if(t[n[1]]!==void 0){var i;switch(n[2]){case"string":i=wr(String(t[n[1]]));break;case"bool":i=t[n[1]]?"true":"false";break}i!==void 0&&(e[e.length]=r(n[0],i))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+wr(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function GR(t){var e=[An,st("Properties",null,{xmlns:zn.CUST_PROPS,"xmlns:vt":zn.vt})];if(!t)return e.join("");var r=1;return fi(t).forEach(function(i){++r,e[e.length]=st("property",LY(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:wr(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var z3={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function gX(t,e){var r=[];return fi(z3).map(function(n){for(var i=0;i<Ac.length;++i)if(Ac[i][1]==n)return Ac[i];for(i=0;i<ch.length;++i)if(ch[i][1]==n)return ch[i];throw n}).forEach(function(n){if(t[n[1]]!=null){var i=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(si(z3[n[1]]||n[1],i))}}),st("DocumentProperties",r.join(""),{xmlns:Ns.o})}function vX(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return t&&fi(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)){for(var a=0;a<Ac.length;++a)if(s==Ac[a][1])return;for(a=0;a<ch.length;++a)if(s==ch[a][1])return;for(a=0;a<r.length;++a)if(s==r[a])return;var o=t[s],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),i.push(st(C3(s),o,{"dt:dt":l}))}}),e&&fi(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(t&&Object.prototype.hasOwnProperty.call(t,s))){var a=e[s],o="string";typeof a=="number"?(o="float",a=String(a)):a===!0||a===!1?(o="boolean",a=a?"1":"0"):a instanceof Date?(o="dateTime.tz",a=a.toISOString()):a=String(a),i.push(st(C3(s),a,{"dt:dt":o}))}}),"<"+n+' xmlns="'+Ns.o+'">'+i.join("")+"</"+n+">"}function yX(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),i=(r-n)/Math.pow(2,32);n*=1e7,i*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),i+=s);var a=Ve(8);return a.write_shift(4,n),a.write_shift(4,i),a}function W3(t,e){var r=Ve(4),n=Ve(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=Ve(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=yX(e);break;case 31:case 80:for(n=Ve(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return ii([r,n])}var KR=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function xX(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function H3(t,e,r){var n=Ve(8),i=[],s=[],a=8,o=0,l=Ve(8),u=Ve(8);if(l.write_shift(4,2),l.write_shift(4,1200),u.write_shift(4,1),s.push(l),i.push(u),a+=8+l.length,!e){u=Ve(8),u.write_shift(4,0),i.unshift(u);var c=[Ve(4)];for(c[0].write_shift(4,t.length),o=0;o<t.length;++o){var f=t[o][0];for(l=Ve(8+2*(f.length+1)+(f.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,f.length+1),l.write_shift(0,f,"dbcs");l.l!=l.length;)l.write_shift(1,0);c.push(l)}l=ii(c),s.unshift(l),a+=8+l.length}for(o=0;o<t.length;++o)if(!(e&&!e[t[o][0]])&&!(KR.indexOf(t[o][0])>-1||qR.indexOf(t[o][0])>-1)&&t[o][1]!=null){var d=t[o][1],h=0;if(e){h=+e[t[o][0]];var v=r[h];if(v.p=="version"&&typeof d=="string"){var g=d.split(".");d=(+g[0]<<16)+(+g[1]||0)}l=W3(v.t,d)}else{var S=xX(d);S==-1&&(S=31,d=String(d)),l=W3(S,d)}s.push(l),u=Ve(8),u.write_shift(4,e?h:2+o),i.push(u),a+=8+l.length}var _=8*(s.length+1);for(o=0;o<s.length;++o)i[o].write_shift(4,_),_+=s[o].length;return n.write_shift(4,a),n.write_shift(4,s.length),ii([n].concat(i).concat(s))}function q3(t,e,r,n,i,s){var a=Ve(i?68:48),o=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,kr.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,i?2:1),a.write_shift(16,e,"hex"),a.write_shift(4,i?68:48);var l=H3(t,r,n);if(o.push(l),i){var u=H3(i,null,null);a.write_shift(16,s,"hex"),a.write_shift(4,68+l.length),o.push(u)}return ii(o)}function wX(t,e){e||(e=Ve(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function _X(t,e){return t.read_shift(e)===1}function zi(t,e){return e||(e=Ve(2)),e.write_shift(2,+!!t),e}function YR(t){return t.read_shift(2,"u")}function Ks(t,e){return e||(e=Ve(2)),e.write_shift(2,t),e}function XR(t,e,r){return r||(r=Ve(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function QR(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=t.read_shift(1);s&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var a=n?t.read_shift(n,i):"";return a}function bX(t){var e=t.t||"",r=Ve(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=Ve(2*e.length);n.write_shift(2*e.length,e,"utf16le");var i=[r,n];return ii(i)}function SX(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function TX(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):SX(t,n,r)}function EX(t,e,r){if(r.biff>5)return TX(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function JR(t,e,r){return r||(r=Ve(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function $3(t,e){e||(e=Ve(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function AX(t){var e=Ve(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),s=i>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var a=[8,6815827,6619237,4849780,83];for(r=0;r<a.length;++r)e.write_shift(4,a[r]);if(s==28)n=n.slice(1),$3(n,e);else if(s&2){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<a.length;++r)e.write_shift(1,parseInt(a[r],16));var o=i>-1?n.slice(0,i):n;for(e.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)e.write_shift(2,o.charCodeAt(r));e.write_shift(2,0),s&8&&$3(i>-1?n.slice(i+1):"",e)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<a.length;++r)e.write_shift(1,parseInt(a[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)e.write_shift(1,n.charCodeAt(r+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function Vc(t,e,r,n){return n||(n=Ve(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function NX(t,e,r){var n=r.biff>8?4:2,i=t.read_shift(n),s=t.read_shift(n,"i"),a=t.read_shift(n,"i");return[i,s,a]}function kX(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2);return{s:{c:n,r:e},e:{c:i,r}}}function ZR(t,e){return e||(e=Ve(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function v4(t,e,r){var n=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=Ve(i);return s.write_shift(2,n),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function CX(t,e){var r=!e||e.biff==8,n=Ve(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function PX(t,e){var r=!e||e.biff>=8?2:1,n=Ve(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function IX(t,e){var r=Ve(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],i=0;i<t.length;++i)n[i]=bX(t[i]);var s=ii([r].concat(n));return s.parts=[r.length].concat(n.map(function(a){return a.length})),s}function RX(){var t=Ve(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function LX(t){var e=Ve(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function FX(t,e){var r=t.name||"Arial",n=e&&e.biff==5,i=n?15+r.length:16+2*r.length,s=Ve(i);return s.write_shift(2,t.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),s}function DX(t,e,r,n){var i=Ve(10);return Vc(t,e,n,i),i.write_shift(4,r),i}function OX(t,e,r,n,i){var s=!i||i.biff==8,a=Ve(8+ +s+(1+s)*r.length);return Vc(t,e,n,a),a.write_shift(2,r.length),s&&a.write_shift(1,1),a.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),a}function MX(t,e,r,n){var i=r&&r.biff==5;n||(n=Ve(i?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(i?1:2,e.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}function jX(t,e){var r=e.biff==8||!e.biff?4:2,n=Ve(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function G3(t,e,r,n){var i=r&&r.biff==5;n||(n=Ve(i?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var s=0;return t.numFmtId>0&&i&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function BX(t){var e=Ve(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function VX(t,e,r,n,i,s){var a=Ve(8);return Vc(t,e,n,a),XR(r,s,a),a}function UX(t,e,r,n){var i=Ve(14);return Vc(t,e,n,i),Bc(r,i),i}function zX(t,e,r){if(r.biff<8)return WX(t,e,r);for(var n=[],i=t.l+e,s=t.read_shift(r.biff>8?4:2);s--!==0;)n.push(NX(t,r.biff>8?12:6,r));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return n}function WX(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=QR(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function HX(t){var e=Ve(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)ZR(t[r],e);return e}function qX(t){var e=Ve(24),r=Wn(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(n[i],16));return ii([e,AX(t[1])])}function $X(t){var e=t[1].Tooltip,r=Ve(10+2*(e.length+1));r.write_shift(2,2048);var n=Wn(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var i=0;i<e.length;++i)r.write_shift(2,e.charCodeAt(i));return r.write_shift(2,0),r}function GX(t){return t||(t=Ve(4)),t.write_shift(2,1),t.write_shift(2,1),t}function KX(t,e,r){if(!r.cellStyles)return co(t,e);var n=r&&r.biff>=12?4:2,i=t.read_shift(n),s=t.read_shift(n),a=t.read_shift(n),o=t.read_shift(n),l=t.read_shift(2);n==2&&(t.l+=2);var u={s:i,e:s,w:a,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(u.level=l>>8&7),u}function YX(t,e){var r=Ve(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function XX(t){for(var e=Ve(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}function QX(t,e,r){var n=Ve(15);return Bp(n,t,e),n.write_shift(8,r,"f"),n}function JX(t,e,r){var n=Ve(9);return Bp(n,t,e),n.write_shift(2,r),n}var ZX=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=a4({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var u=[],c=jc(1);switch(l.type){case"base64":c=Na(Zo(o));break;case"binary":c=Na(o);break;case"buffer":case"array":c=o;break}As(c,0);var f=c.read_shift(1),d=!!(f&136),h=!1,v=!1;switch(f){case 2:break;case 3:break;case 48:h=!0,d=!0;break;case 49:h=!0,d=!0;break;case 131:break;case 139:break;case 140:v=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,S=521;f==2&&(g=c.read_shift(2)),c.l+=3,f!=2&&(g=c.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(S=c.read_shift(2));var _=c.read_shift(2),b=l.codepage||1252;f!=2&&(c.l+=16,c.read_shift(1),c[c.l]!==0&&(b=t[c[c.l]]),c.l+=1,c.l+=2),v&&(c.l+=36);for(var T=[],L={},j=Math.min(c.length,f==2?521:S-10-(h?264:0)),B=v?32:11;c.l<j&&c[c.l]!=13;)switch(L={},L.name=b1.utils.decode(b,c.slice(c.l,c.l+B)).replace(/[\u0000\r\n].*$/g,""),c.l+=B,L.type=String.fromCharCode(c.read_shift(1)),f!=2&&!v&&(L.offset=c.read_shift(4)),L.len=c.read_shift(1),f==2&&(L.offset=c.read_shift(2)),L.dec=c.read_shift(1),L.name.length&&T.push(L),f!=2&&(c.l+=v?13:14),L.type){case"B":(!h||L.len!=8)&&l.WTF&&console.log("Skipping "+L.name+":"+L.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+L.name+":"+L.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+L.type)}if(c[c.l]!==13&&(c.l=S-1),c.read_shift(1)!==13)throw new Error("DBF Terminator not found "+c.l+" "+c[c.l]);c.l=S;var k=0,y=0;for(u[0]=[],y=0;y!=T.length;++y)u[0][y]=T[y].name;for(;g-- >0;){if(c[c.l]===42){c.l+=_;continue}for(++c.l,u[++k]=[],y=0,y=0;y!=T.length;++y){var C=c.slice(c.l,c.l+T[y].len);c.l+=T[y].len,As(C,0);var F=b1.utils.decode(b,C);switch(T[y].type){case"C":F.trim().length&&(u[k][y]=F.replace(/\s+$/,""));break;case"D":F.length===8?u[k][y]=new Date(+F.slice(0,4),+F.slice(4,6)-1,+F.slice(6,8)):u[k][y]=F;break;case"F":u[k][y]=parseFloat(F.trim());break;case"+":case"I":u[k][y]=v?C.read_shift(-4,"i")^2147483648:C.read_shift(4,"i");break;case"L":switch(F.trim().toUpperCase()){case"Y":case"T":u[k][y]=!0;break;case"N":case"F":u[k][y]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+F+"|")}break;case"M":if(!d)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[k][y]="##MEMO##"+(v?parseInt(F.trim(),10):C.read_shift(4));break;case"N":F=F.replace(/\u0000/g,"").trim(),F&&F!="."&&(u[k][y]=+F||0);break;case"@":u[k][y]=new Date(C.read_shift(-8,"f")-621356832e5);break;case"T":u[k][y]=new Date((C.read_shift(4)-2440588)*864e5+C.read_shift(4));break;case"Y":u[k][y]=C.read_shift(4,"i")/1e4+C.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[k][y]=-C.read_shift(-8,"f");break;case"B":if(h&&T[y].len==8){u[k][y]=C.read_shift(8,"f");break}case"G":case"P":C.l+=T[y].len;break;case"0":if(T[y].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+T[y].type)}}}if(f!=2&&c.l<c.length&&c[c.l++]!=26)throw new Error("DBF EOF Marker missing "+(c.l-1)+" of "+c.length+" "+c[c.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=T,u}function n(o,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var c=Gh(r(o,u),u);return c["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,c}function i(o,l){try{return $c(n(o,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,l){var u=l||{};if(+u.codepage>=0&&ip(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var c=fs(),f=D1(o,{header:1,raw:!0,cellDates:!0}),d=f[0],h=f.slice(1),v=o["!cols"]||[],g=0,S=0,_=0,b=1;for(g=0;g<d.length;++g){if(((v[g]||{}).DBF||{}).name){d[g]=v[g].DBF.name,++_;continue}if(d[g]!=null){if(++_,typeof d[g]=="number"&&(d[g]=d[g].toString(10)),typeof d[g]!="string")throw new Error("DBF Invalid column name "+d[g]+" |"+typeof d[g]+"|");if(d.indexOf(d[g])!==g){for(S=0;S<1024;++S)if(d.indexOf(d[g]+"_"+S)==-1){d[g]+="_"+S;break}}}}var T=zr(o["!ref"]),L=[],j=[],B=[];for(g=0;g<=T.e.c-T.s.c;++g){var k="",y="",C=0,F=[];for(S=0;S<h.length;++S)h[S][g]!=null&&F.push(h[S][g]);if(F.length==0||d[g]==null){L[g]="?";continue}for(S=0;S<F.length;++S){switch(typeof F[S]){case"number":y="B";break;case"string":y="C";break;case"boolean":y="L";break;case"object":y=F[S]instanceof Date?"D":"C";break;default:y="C"}C=Math.max(C,String(F[S]).length),k=k&&k!=y?"C":y}C>250&&(C=250),y=((v[g]||{}).DBF||{}).type,y=="C"&&v[g].DBF.len>C&&(C=v[g].DBF.len),k=="B"&&y=="N"&&(k="N",B[g]=v[g].DBF.dec,C=v[g].DBF.len),j[g]=k=="C"||y=="N"?C:s[k]||0,b+=j[g],L[g]=k}var E=c.next(32);for(E.write_shift(4,318902576),E.write_shift(4,h.length),E.write_shift(2,296+32*_),E.write_shift(2,b),g=0;g<4;++g)E.write_shift(4,0);for(E.write_shift(4,0|(+e[tR]||3)<<8),g=0,S=0;g<d.length;++g)if(d[g]!=null){var N=c.next(32),D=(d[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);N.write_shift(1,D,"sbcs"),N.write_shift(1,L[g]=="?"?"C":L[g],"sbcs"),N.write_shift(4,S),N.write_shift(1,j[g]||s[L[g]]||0),N.write_shift(1,B[g]||0),N.write_shift(1,2),N.write_shift(4,0),N.write_shift(1,0),N.write_shift(4,0),N.write_shift(4,0),S+=j[g]||s[L[g]]||0}var G=c.next(264);for(G.write_shift(4,13),g=0;g<65;++g)G.write_shift(4,0);for(g=0;g<h.length;++g){var de=c.next(b);for(de.write_shift(1,0),S=0;S<d.length;++S)if(d[S]!=null)switch(L[S]){case"L":de.write_shift(1,h[g][S]==null?63:h[g][S]?84:70);break;case"B":de.write_shift(8,h[g][S]||0,"f");break;case"N":var ie="0";for(typeof h[g][S]=="number"&&(ie=h[g][S].toFixed(B[S]||0)),_=0;_<j[S]-ie.length;++_)de.write_shift(1,32);de.write_shift(1,ie,"sbcs");break;case"D":h[g][S]?(de.write_shift(4,("0000"+h[g][S].getFullYear()).slice(-4),"sbcs"),de.write_shift(2,("00"+(h[g][S].getMonth()+1)).slice(-2),"sbcs"),de.write_shift(2,("00"+h[g][S].getDate()).slice(-2),"sbcs")):de.write_shift(8,"00000000","sbcs");break;case"C":var ee=String(h[g][S]!=null?h[g][S]:"").slice(0,j[S]);for(de.write_shift(1,ee,"sbcs"),_=0;_<j[S]-ee.length;++_)de.write_shift(1,32);break}}return c.next(1).write_shift(1,26),c.end()}return{to_workbook:i,to_sheet:n,from_sheet:a}}(),eQ=function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+fi(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(d,h){var v=t[h];return typeof v=="number"?v3(v):v},n=function(d,h,v){var g=h.charCodeAt(0)-32<<4|v.charCodeAt(0)-48;return g==59?d:v3(g)};t["|"]=254;function i(d,h){switch(h.type){case"base64":return s(Zo(d),h);case"binary":return s(d,h);case"buffer":return s(fr&&Buffer.isBuffer(d)?d.toString("binary"):Fp(d),h);case"array":return s(Ov(d),h)}throw new Error("Unrecognized type "+h.type)}function s(d,h){var v=d.split(/[\n\r]+/),g=-1,S=-1,_=0,b=0,T=[],L=[],j=null,B={},k=[],y=[],C=[],F=0,E;for(+h.codepage>=0&&ip(+h.codepage);_!==v.length;++_){F=0;var N=v[_].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),D=N.replace(/;;/g,"\0").split(";").map(function(z){return z.replace(/\u0000/g,";")}),G=D[0],de;if(N.length>0)switch(G){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":D[1].charAt(0)=="P"&&L.push(N.slice(3).replace(/;;/g,";"));break;case"C":var ie=!1,ee=!1,Q=!1,te=!1,pe=-1,be=-1;for(b=1;b<D.length;++b)switch(D[b].charAt(0)){case"A":break;case"X":S=parseInt(D[b].slice(1))-1,ee=!0;break;case"Y":for(g=parseInt(D[b].slice(1))-1,ee||(S=0),E=T.length;E<=g;++E)T[E]=[];break;case"K":de=D[b].slice(1),de.charAt(0)==='"'?de=de.slice(1,de.length-1):de==="TRUE"?de=!0:de==="FALSE"?de=!1:isNaN(Vo(de))?isNaN(ap(de).getDate())||(de=qi(de)):(de=Vo(de),j!==null&&dR(j)&&(de=vR(de))),ie=!0;break;case"E":te=!0;var I=JQ(D[b].slice(1),{r:g,c:S});T[g][S]=[T[g][S],I];break;case"S":Q=!0,T[g][S]=[T[g][S],"S5S"];break;case"G":break;case"R":pe=parseInt(D[b].slice(1))-1;break;case"C":be=parseInt(D[b].slice(1))-1;break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+N)}if(ie&&(T[g][S]&&T[g][S].length==2?T[g][S][0]=de:T[g][S]=de,j=null),Q){if(te)throw new Error("SYLK shared formula cannot have own formula");var O=pe>-1&&T[pe][be];if(!O||!O[1])throw new Error("SYLK shared formula cannot find base");T[g][S][1]=ZQ(O[1],{r:g-pe,c:S-be})}break;case"F":var U=0;for(b=1;b<D.length;++b)switch(D[b].charAt(0)){case"X":S=parseInt(D[b].slice(1))-1,++U;break;case"Y":for(g=parseInt(D[b].slice(1))-1,E=T.length;E<=g;++E)T[E]=[];break;case"M":F=parseInt(D[b].slice(1))/20;break;case"F":break;case"G":break;case"P":j=L[parseInt(D[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(C=D[b].slice(1).split(" "),E=parseInt(C[0],10);E<=parseInt(C[1],10);++E)F=parseInt(C[2],10),y[E-1]=F===0?{hidden:!0}:{wch:F},y4(y[E-1]);break;case"C":S=parseInt(D[b].slice(1))-1,y[S]||(y[S]={});break;case"R":g=parseInt(D[b].slice(1))-1,k[g]||(k[g]={}),F>0?(k[g].hpt=F,k[g].hpx=iL(F)):F===0&&(k[g].hidden=!0);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+N)}U<1&&(j=null);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+N)}}return k.length>0&&(B["!rows"]=k),y.length>0&&(B["!cols"]=y),h&&h.sheetRows&&(T=T.slice(0,h.sheetRows)),[T,B]}function a(d,h){var v=i(d,h),g=v[0],S=v[1],_=Gh(g,h);return fi(S).forEach(function(b){_[b]=S[b]}),_}function o(d,h){return $c(a(d,h),h)}function l(d,h,v,g){var S="C;Y"+(v+1)+";X"+(g+1)+";K";switch(d.t){case"n":S+=d.v||0,d.f&&!d.F&&(S+=";E"+w4(d.f,{r:v,c:g}));break;case"b":S+=d.v?"TRUE":"FALSE";break;case"e":S+=d.w||d.v;break;case"d":S+='"'+(d.w||d.v)+'"';break;case"s":S+='"'+d.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return S}function u(d,h){h.forEach(function(v,g){var S="F;W"+(g+1)+" "+(g+1)+" ";v.hidden?S+="0":(typeof v.width=="number"&&!v.wpx&&(v.wpx=I1(v.width)),typeof v.wpx=="number"&&!v.wch&&(v.wch=R1(v.wpx)),typeof v.wch=="number"&&(S+=Math.round(v.wch))),S.charAt(S.length-1)!=" "&&d.push(S)})}function c(d,h){h.forEach(function(v,g){var S="F;";v.hidden?S+="M0;":v.hpt?S+="M"+20*v.hpt+";":v.hpx&&(S+="M"+20*L1(v.hpx)+";"),S.length>2&&d.push(S+"R"+(g+1))})}function f(d,h){var v=["ID;PWXL;N;E"],g=[],S=zr(d["!ref"]),_,b=Array.isArray(d),T=`\r
`;v.push("P;PGeneral"),v.push("F;P0;DG0G8;M255"),d["!cols"]&&u(v,d["!cols"]),d["!rows"]&&c(v,d["!rows"]),v.push("B;Y"+(S.e.r-S.s.r+1)+";X"+(S.e.c-S.s.c+1)+";D"+[S.s.c,S.s.r,S.e.c,S.e.r].join(" "));for(var L=S.s.r;L<=S.e.r;++L)for(var j=S.s.c;j<=S.e.c;++j){var B=Sr({r:L,c:j});_=b?(d[L]||[])[j]:d[B],!(!_||_.v==null&&(!_.f||_.F))&&g.push(l(_,d,L,j))}return v.join(T)+T+g.join(T)+T+"E"+T}return{to_workbook:o,to_sheet:a,from_sheet:f}}(),tQ=function(){function t(s,a){switch(a.type){case"base64":return e(Zo(s),a);case"binary":return e(s,a);case"buffer":return e(fr&&Buffer.isBuffer(s)?s.toString("binary"):Fp(s),a);case"array":return e(Ov(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){for(var o=s.split(`
`),l=-1,u=-1,c=0,f=[];c!==o.length;++c){if(o[c].trim()==="BOT"){f[++l]=[],u=0;continue}if(!(l<0)){var d=o[c].trim().split(","),h=d[0],v=d[1];++c;for(var g=o[c]||"";(g.match(/["]/g)||[]).length&1&&c<o.length-1;)g+=`
`+o[++c];switch(g=g.trim(),+h){case-1:if(g==="BOT"){f[++l]=[],u=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[l][u]=!0:g==="FALSE"?f[l][u]=!1:isNaN(Vo(v))?isNaN(ap(v).getDate())?f[l][u]=v:f[l][u]=qi(v):f[l][u]=Vo(v),++u;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[l][u++]=g!==""?g:null;break}if(g==="EOD")break}}return a&&a.sheetRows&&(f=f.slice(0,a.sheetRows)),f}function r(s,a){return Gh(t(s,a),a)}function n(s,a){return $c(r(s,a),a)}var i=function(){var s=function(l,u,c,f,d){l.push(u),l.push(c+","+f),l.push('"'+d.replace(/"/g,'""')+'"')},a=function(l,u,c,f){l.push(u+","+c),l.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var u=[],c=zr(l["!ref"]),f,d=Array.isArray(l);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,c.e.r-c.s.r+1,""),s(u,"TUPLES",0,c.e.c-c.s.c+1,""),s(u,"DATA",0,0,"");for(var h=c.s.r;h<=c.e.r;++h){a(u,-1,0,"BOT");for(var v=c.s.c;v<=c.e.c;++v){var g=Sr({r:h,c:v});if(f=d?(l[h]||[])[v]:l[g],!f){a(u,1,0,"");continue}switch(f.t){case"n":var S=f.w;!S&&f.v!=null&&(S=f.v),S==null?f.f&&!f.F?a(u,1,0,"="+f.f):a(u,1,0,""):a(u,0,S,"V");break;case"b":a(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":a(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Au(f.z||on[14],hs(qi(f.v)))),a(u,0,f.w,"V");break;default:a(u,1,0,"")}}}a(u,-1,0,"EOD");var _=`\r
`,b=u.join(_);return b}}();return{to_workbook:n,to_sheet:r,from_sheet:i}}(),eL=function(){function t(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,d){for(var h=f.split(`
`),v=-1,g=-1,S=0,_=[];S!==h.length;++S){var b=h[S].trim().split(":");if(b[0]==="cell"){var T=Wn(b[1]);if(_.length<=T.r)for(v=_.length;v<=T.r;++v)_[v]||(_[v]=[]);switch(v=T.r,g=T.c,b[2]){case"t":_[v][g]=t(b[3]);break;case"v":_[v][g]=+b[3];break;case"vtf":var L=b[b.length-1];case"vtc":switch(b[3]){case"nl":_[v][g]=!!+b[4];break;default:_[v][g]=+b[4];break}b[2]=="vtf"&&(_[v][g]=[_[v][g],L])}}}return d&&d.sheetRows&&(_=_.slice(0,d.sheetRows)),_}function n(f,d){return Gh(r(f,d),d)}function i(f,d){return $c(n(f,d),d)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var d=[],h=[],v,g="",S=Fs(f["!ref"]),_=Array.isArray(f),b=S.s.r;b<=S.e.r;++b)for(var T=S.s.c;T<=S.e.c;++T)if(g=Sr({r:b,c:T}),v=_?(f[b]||[])[T]:f[g],!(!v||v.v==null||v.t==="z")){switch(h=["cell",g,"t"],v.t){case"s":case"str":h.push(e(v.v));break;case"n":v.f?(h[2]="vtf",h[3]="n",h[4]=v.v,h[5]=e(v.f)):(h[2]="v",h[3]=v.v);break;case"b":h[2]="vt"+(v.f?"f":"c"),h[3]="nl",h[4]=v.v?"1":"0",h[5]=e(v.f||(v.v?"TRUE":"FALSE"));break;case"d":var L=hs(qi(v.v));h[2]="vtc",h[3]="nd",h[4]=""+L,h[5]=v.w||Au(v.z||on[14],L);break;case"e":continue}d.push(h.join(":"))}return d.push("sheet:c:"+(S.e.c-S.s.c+1)+":r:"+(S.e.r-S.s.r+1)+":tvf:1"),d.push("valueformat:1:text-wiki"),d.join(`
`)}function c(f){return[s,a,o,a,u(f),l].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:c}}(),rQ=function(){function t(c,f,d,h,v){v.raw?f[d][h]=c:c===""||(c==="TRUE"?f[d][h]=!0:c==="FALSE"?f[d][h]=!1:isNaN(Vo(c))?isNaN(ap(c).getDate())?f[d][h]=c:f[d][h]=qi(c):f[d][h]=Vo(c))}function e(c,f){var d=f||{},h=[];if(!c||c.length===0)return h;for(var v=c.split(/[\r\n]/),g=v.length-1;g>=0&&v[g].length===0;)--g;for(var S=10,_=0,b=0;b<=g;++b)_=v[b].indexOf(" "),_==-1?_=v[b].length:_++,S=Math.max(S,_);for(b=0;b<=g;++b){h[b]=[];var T=0;for(t(v[b].slice(0,S).trim(),h,b,T,d),T=1;T<=(v[b].length-S)/10+1;++T)t(v[b].slice(S+(T-1)*10,S+T*10).trim(),h,b,T,d)}return d.sheetRows&&(h=h.slice(0,d.sheetRows)),h}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(c){for(var f={},d=!1,h=0,v=0;h<c.length;++h)(v=c.charCodeAt(h))==34?d=!d:!d&&v in r&&(f[v]=(f[v]||0)+1);v=[];for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&v.push([f[h],h]);if(!v.length){f=n;for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&v.push([f[h],h])}return v.sort(function(g,S){return g[0]-S[0]||n[g[1]]-n[S[1]]}),r[v.pop()[1]]||44}function s(c,f){var d=f||{},h="",v=d.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};c.slice(0,4)=="sep="?c.charCodeAt(5)==13&&c.charCodeAt(6)==10?(h=c.charAt(4),c=c.slice(7)):c.charCodeAt(5)==13||c.charCodeAt(5)==10?(h=c.charAt(4),c=c.slice(6)):h=i(c.slice(0,1024)):d&&d.FS?h=d.FS:h=i(c.slice(0,1024));var S=0,_=0,b=0,T=0,L=0,j=h.charCodeAt(0),B=!1,k=0,y=c.charCodeAt(0);c=c.replace(/\r\n/mg,`
`);var C=d.dateNF!=null?yY(d.dateNF):null;function F(){var E=c.slice(T,L),N={};if(E.charAt(0)=='"'&&E.charAt(E.length-1)=='"'&&(E=E.slice(1,-1).replace(/""/g,'"')),E.length===0)N.t="z";else if(d.raw)N.t="s",N.v=E;else if(E.trim().length===0)N.t="s",N.v=E;else if(E.charCodeAt(0)==61)E.charCodeAt(1)==34&&E.charCodeAt(E.length-1)==34?(N.t="s",N.v=E.slice(2,-1).replace(/""/g,'"')):eJ(E)?(N.t="n",N.f=E.slice(1)):(N.t="s",N.v=E);else if(E=="TRUE")N.t="b",N.v=!0;else if(E=="FALSE")N.t="b",N.v=!1;else if(!isNaN(b=Vo(E)))N.t="n",d.cellText!==!1&&(N.w=E),N.v=b;else if(!isNaN(ap(E).getDate())||C&&E.match(C)){N.z=d.dateNF||on[14];var D=0;C&&E.match(C)&&(E=xY(E,d.dateNF,E.match(C)||[]),D=1),d.cellDates?(N.t="d",N.v=qi(E,D)):(N.t="n",N.v=hs(qi(E,D))),d.cellText!==!1&&(N.w=Au(N.z,N.v instanceof Date?hs(N.v):N.v)),d.cellNF||delete N.z}else N.t="s",N.v=E;if(N.t=="z"||(d.dense?(v[S]||(v[S]=[]),v[S][_]=N):v[Sr({c:_,r:S})]=N),T=L+1,y=c.charCodeAt(T),g.e.c<_&&(g.e.c=_),g.e.r<S&&(g.e.r=S),k==j)++_;else if(_=0,++S,d.sheetRows&&d.sheetRows<=S)return!0}e:for(;L<c.length;++L)switch(k=c.charCodeAt(L)){case 34:y===34&&(B=!B);break;case j:case 10:case 13:if(!B&&F())break e;break}return L-T>0&&F(),v["!ref"]=En(g),v}function a(c,f){return!(f&&f.PRN)||f.FS||c.slice(0,4)=="sep="||c.indexOf("	")>=0||c.indexOf(",")>=0||c.indexOf(";")>=0?s(c,f):Gh(e(c,f),f)}function o(c,f){var d="",h=f.type=="string"?[0,0,0,0]:pre(c,f);switch(f.type){case"base64":d=Zo(c);break;case"binary":d=c;break;case"buffer":f.codepage==65001?d=c.toString("utf8"):f.codepage&&typeof b1<"u"||(d=fr&&Buffer.isBuffer(c)?c.toString("binary"):Fp(c));break;case"array":d=Ov(c);break;case"string":d=c;break;default:throw new Error("Unrecognized type "+f.type)}return h[0]==239&&h[1]==187&&h[2]==191?d=f0(d.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?d=f0(d):f.type=="binary"&&typeof b1<"u",d.slice(0,19)=="socialcalc:version:"?eL.to_sheet(f.type=="string"?d:f0(d),f):a(d,f)}function l(c,f){return $c(o(c,f),f)}function u(c){for(var f=[],d=zr(c["!ref"]),h,v=Array.isArray(c),g=d.s.r;g<=d.e.r;++g){for(var S=[],_=d.s.c;_<=d.e.c;++_){var b=Sr({r:g,c:_});if(h=v?(c[g]||[])[_]:c[b],!h||h.v==null){S.push("          ");continue}for(var T=(h.w||(el(h),h.w)||"").slice(0,10);T.length<10;)T+=" ";S.push(T+(_===0?" ":""))}f.push(S.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:u}}(),K3=function(){function t(I,O,U){if(I){As(I,I.l||0);for(var z=U.Enum||pe;I.l<I.length;){var q=I.read_shift(2),fe=z[q]||z[65535],me=I.read_shift(2),ge=I.l+me,Te=fe.f&&fe.f(I,me,U);if(I.l=ge,O(Te,fe,q))return}}}function e(I,O){switch(O.type){case"base64":return r(Na(Zo(I)),O);case"binary":return r(Na(I),O);case"buffer":case"array":return r(I,O)}throw"Unsupported type "+O.type}function r(I,O){if(!I)return I;var U=O||{},z=U.dense?[]:{},q="Sheet1",fe="",me=0,ge={},Te=[],Oe=[],Be={s:{r:0,c:0},e:{r:0,c:0}},Ue=U.sheetRows||0;if(I[2]==0&&(I[3]==8||I[3]==9)&&I.length>=16&&I[14]==5&&I[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(I[2]==2)U.Enum=pe,t(I,function($e,mt,Ye){switch(Ye){case 0:U.vers=$e,$e>=4096&&(U.qpro=!0);break;case 6:Be=$e;break;case 204:$e&&(fe=$e);break;case 222:fe=$e;break;case 15:case 51:U.qpro||($e[1].v=$e[1].v.slice(1));case 13:case 14:case 16:Ye==14&&($e[2]&112)==112&&($e[2]&15)>1&&($e[2]&15)<15&&($e[1].z=U.dateNF||on[14],U.cellDates&&($e[1].t="d",$e[1].v=vR($e[1].v))),U.qpro&&$e[3]>me&&(z["!ref"]=En(Be),ge[q]=z,Te.push(q),z=U.dense?[]:{},Be={s:{r:0,c:0},e:{r:0,c:0}},me=$e[3],q=fe||"Sheet"+(me+1),fe="");var nt=U.dense?(z[$e[0].r]||[])[$e[0].c]:z[Sr($e[0])];if(nt){nt.t=$e[1].t,nt.v=$e[1].v,$e[1].z!=null&&(nt.z=$e[1].z),$e[1].f!=null&&(nt.f=$e[1].f);break}U.dense?(z[$e[0].r]||(z[$e[0].r]=[]),z[$e[0].r][$e[0].c]=$e[1]):z[Sr($e[0])]=$e[1];break}},U);else if(I[2]==26||I[2]==14)U.Enum=be,I[2]==14&&(U.qpro=!0,I.l=0),t(I,function($e,mt,Ye){switch(Ye){case 204:q=$e;break;case 22:$e[1].v=$e[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if($e[3]>me&&(z["!ref"]=En(Be),ge[q]=z,Te.push(q),z=U.dense?[]:{},Be={s:{r:0,c:0},e:{r:0,c:0}},me=$e[3],q="Sheet"+(me+1)),Ue>0&&$e[0].r>=Ue)break;U.dense?(z[$e[0].r]||(z[$e[0].r]=[]),z[$e[0].r][$e[0].c]=$e[1]):z[Sr($e[0])]=$e[1],Be.e.c<$e[0].c&&(Be.e.c=$e[0].c),Be.e.r<$e[0].r&&(Be.e.r=$e[0].r);break;case 27:$e[14e3]&&(Oe[$e[14e3][0]]=$e[14e3][1]);break;case 1537:Oe[$e[0]]=$e[1],$e[0]==me&&(q=$e[1]);break}},U);else throw new Error("Unrecognized LOTUS BOF "+I[2]);if(z["!ref"]=En(Be),ge[fe||q]=z,Te.push(fe||q),!Oe.length)return{SheetNames:Te,Sheets:ge};for(var He={},Fe=[],ue=0;ue<Oe.length;++ue)ge[Te[ue]]?(Fe.push(Oe[ue]||Te[ue]),He[Oe[ue]]=ge[Oe[ue]]||ge[Te[ue]]):(Fe.push(Oe[ue]),He[Oe[ue]]={"!ref":"A1"});return{SheetNames:Fe,Sheets:He}}function n(I,O){var U=O||{};if(+U.codepage>=0&&ip(+U.codepage),U.type=="string")throw new Error("Cannot write WK1 to JS string");var z=fs(),q=zr(I["!ref"]),fe=Array.isArray(I),me=[];at(z,0,s(1030)),at(z,6,l(q));for(var ge=Math.min(q.e.r,8191),Te=q.s.r;Te<=ge;++Te)for(var Oe=li(Te),Be=q.s.c;Be<=q.e.c;++Be){Te===q.s.r&&(me[Be]=ki(Be));var Ue=me[Be]+Oe,He=fe?(I[Te]||[])[Be]:I[Ue];if(!(!He||He.t=="z"))if(He.t=="n")(He.v|0)==He.v&&He.v>=-32768&&He.v<=32767?at(z,13,h(Te,Be,He.v)):at(z,14,g(Te,Be,He.v));else{var Fe=el(He);at(z,15,f(Te,Be,Fe.slice(0,239)))}}return at(z,1),z.end()}function i(I,O){var U=O||{};if(+U.codepage>=0&&ip(+U.codepage),U.type=="string")throw new Error("Cannot write WK3 to JS string");var z=fs();at(z,0,a(I));for(var q=0,fe=0;q<I.SheetNames.length;++q)(I.Sheets[I.SheetNames[q]]||{})["!ref"]&&at(z,27,te(I.SheetNames[q],fe++));var me=0;for(q=0;q<I.SheetNames.length;++q){var ge=I.Sheets[I.SheetNames[q]];if(!(!ge||!ge["!ref"])){for(var Te=zr(ge["!ref"]),Oe=Array.isArray(ge),Be=[],Ue=Math.min(Te.e.r,8191),He=Te.s.r;He<=Ue;++He)for(var Fe=li(He),ue=Te.s.c;ue<=Te.e.c;++ue){He===Te.s.r&&(Be[ue]=ki(ue));var $e=Be[ue]+Fe,mt=Oe?(ge[He]||[])[ue]:ge[$e];if(!(!mt||mt.t=="z"))if(mt.t=="n")at(z,23,F(He,ue,me,mt.v));else{var Ye=el(mt);at(z,22,k(He,ue,me,Ye.slice(0,239)))}}++me}}return at(z,1),z.end()}function s(I){var O=Ve(2);return O.write_shift(2,I),O}function a(I){var O=Ve(26);O.write_shift(2,4096),O.write_shift(2,4),O.write_shift(4,0);for(var U=0,z=0,q=0,fe=0;fe<I.SheetNames.length;++fe){var me=I.SheetNames[fe],ge=I.Sheets[me];if(!(!ge||!ge["!ref"])){++q;var Te=Fs(ge["!ref"]);U<Te.e.r&&(U=Te.e.r),z<Te.e.c&&(z=Te.e.c)}}return U>8191&&(U=8191),O.write_shift(2,U),O.write_shift(1,q),O.write_shift(1,z),O.write_shift(2,0),O.write_shift(2,0),O.write_shift(1,1),O.write_shift(1,2),O.write_shift(4,0),O.write_shift(4,0),O}function o(I,O,U){var z={s:{c:0,r:0},e:{c:0,r:0}};return O==8&&U.qpro?(z.s.c=I.read_shift(1),I.l++,z.s.r=I.read_shift(2),z.e.c=I.read_shift(1),I.l++,z.e.r=I.read_shift(2),z):(z.s.c=I.read_shift(2),z.s.r=I.read_shift(2),O==12&&U.qpro&&(I.l+=2),z.e.c=I.read_shift(2),z.e.r=I.read_shift(2),O==12&&U.qpro&&(I.l+=2),z.s.c==65535&&(z.s.c=z.e.c=z.s.r=z.e.r=0),z)}function l(I){var O=Ve(8);return O.write_shift(2,I.s.c),O.write_shift(2,I.s.r),O.write_shift(2,I.e.c),O.write_shift(2,I.e.r),O}function u(I,O,U){var z=[{c:0,r:0},{t:"n",v:0},0,0];return U.qpro&&U.vers!=20768?(z[0].c=I.read_shift(1),z[3]=I.read_shift(1),z[0].r=I.read_shift(2),I.l+=2):(z[2]=I.read_shift(1),z[0].c=I.read_shift(2),z[0].r=I.read_shift(2)),z}function c(I,O,U){var z=I.l+O,q=u(I,O,U);if(q[1].t="s",U.vers==20768){I.l++;var fe=I.read_shift(1);return q[1].v=I.read_shift(fe,"utf8"),q}return U.qpro&&I.l++,q[1].v=I.read_shift(z-I.l,"cstr"),q}function f(I,O,U){var z=Ve(7+U.length);z.write_shift(1,255),z.write_shift(2,O),z.write_shift(2,I),z.write_shift(1,39);for(var q=0;q<z.length;++q){var fe=U.charCodeAt(q);z.write_shift(1,fe>=128?95:fe)}return z.write_shift(1,0),z}function d(I,O,U){var z=u(I,O,U);return z[1].v=I.read_shift(2,"i"),z}function h(I,O,U){var z=Ve(7);return z.write_shift(1,255),z.write_shift(2,O),z.write_shift(2,I),z.write_shift(2,U,"i"),z}function v(I,O,U){var z=u(I,O,U);return z[1].v=I.read_shift(8,"f"),z}function g(I,O,U){var z=Ve(13);return z.write_shift(1,255),z.write_shift(2,O),z.write_shift(2,I),z.write_shift(8,U,"f"),z}function S(I,O,U){var z=I.l+O,q=u(I,O,U);if(q[1].v=I.read_shift(8,"f"),U.qpro)I.l=z;else{var fe=I.read_shift(2);L(I.slice(I.l,I.l+fe),q),I.l+=fe}return q}function _(I,O,U){var z=O&32768;return O&=-32769,O=(z?I:0)+(O>=8192?O-16384:O),(z?"":"$")+(U?ki(O):li(O))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},T=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function L(I,O){As(I,0);for(var U=[],z=0,q="",fe="",me="",ge="";I.l<I.length;){var Te=I[I.l++];switch(Te){case 0:U.push(I.read_shift(8,"f"));break;case 1:fe=_(O[0].c,I.read_shift(2),!0),q=_(O[0].r,I.read_shift(2),!1),U.push(fe+q);break;case 2:{var Oe=_(O[0].c,I.read_shift(2),!0),Be=_(O[0].r,I.read_shift(2),!1);fe=_(O[0].c,I.read_shift(2),!0),q=_(O[0].r,I.read_shift(2),!1),U.push(Oe+Be+":"+fe+q)}break;case 3:if(I.l<I.length){console.error("WK1 premature formula end");return}break;case 4:U.push("("+U.pop()+")");break;case 5:U.push(I.read_shift(2));break;case 6:{for(var Ue="";Te=I[I.l++];)Ue+=String.fromCharCode(Te);U.push('"'+Ue.replace(/"/g,'""')+'"')}break;case 8:U.push("-"+U.pop());break;case 23:U.push("+"+U.pop());break;case 22:U.push("NOT("+U.pop()+")");break;case 20:case 21:ge=U.pop(),me=U.pop(),U.push(["AND","OR"][Te-20]+"("+me+","+ge+")");break;default:if(Te<32&&T[Te])ge=U.pop(),me=U.pop(),U.push(me+T[Te]+ge);else if(b[Te]){if(z=b[Te][1],z==69&&(z=I[I.l++]),z>U.length){console.error("WK1 bad formula parse 0x"+Te.toString(16)+":|"+U.join("|")+"|");return}var He=U.slice(-z);U.length-=z,U.push(b[Te][0]+"("+He.join(",")+")")}else return Te<=7?console.error("WK1 invalid opcode "+Te.toString(16)):Te<=24?console.error("WK1 unsupported op "+Te.toString(16)):Te<=30?console.error("WK1 invalid opcode "+Te.toString(16)):Te<=115?console.error("WK1 unsupported function opcode "+Te.toString(16)):console.error("WK1 unrecognized opcode "+Te.toString(16))}}U.length==1?O[1].f=""+U[0]:console.error("WK1 bad formula parse |"+U.join("|")+"|")}function j(I){var O=[{c:0,r:0},{t:"n",v:0},0];return O[0].r=I.read_shift(2),O[3]=I[I.l++],O[0].c=I[I.l++],O}function B(I,O){var U=j(I);return U[1].t="s",U[1].v=I.read_shift(O-4,"cstr"),U}function k(I,O,U,z){var q=Ve(6+z.length);q.write_shift(2,I),q.write_shift(1,U),q.write_shift(1,O),q.write_shift(1,39);for(var fe=0;fe<z.length;++fe){var me=z.charCodeAt(fe);q.write_shift(1,me>=128?95:me)}return q.write_shift(1,0),q}function y(I,O){var U=j(I);U[1].v=I.read_shift(2);var z=U[1].v>>1;if(U[1].v&1)switch(z&7){case 0:z=(z>>3)*5e3;break;case 1:z=(z>>3)*500;break;case 2:z=(z>>3)/20;break;case 3:z=(z>>3)/200;break;case 4:z=(z>>3)/2e3;break;case 5:z=(z>>3)/2e4;break;case 6:z=(z>>3)/16;break;case 7:z=(z>>3)/64;break}return U[1].v=z,U}function C(I,O){var U=j(I),z=I.read_shift(4),q=I.read_shift(4),fe=I.read_shift(2);if(fe==65535)return z===0&&q===3221225472?(U[1].t="e",U[1].v=15):z===0&&q===3489660928?(U[1].t="e",U[1].v=42):U[1].v=0,U;var me=fe&32768;return fe=(fe&32767)-16446,U[1].v=(1-me*2)*(q*Math.pow(2,fe+32)+z*Math.pow(2,fe)),U}function F(I,O,U,z){var q=Ve(14);if(q.write_shift(2,I),q.write_shift(1,U),q.write_shift(1,O),z==0)return q.write_shift(4,0),q.write_shift(4,0),q.write_shift(2,65535),q;var fe=0,me=0,ge=0,Te=0;return z<0&&(fe=1,z=-z),me=Math.log2(z)|0,z/=Math.pow(2,me-31),Te=z>>>0,Te&2147483648||(z/=2,++me,Te=z>>>0),z-=Te,Te|=2147483648,Te>>>=0,z*=Math.pow(2,32),ge=z>>>0,q.write_shift(4,ge),q.write_shift(4,Te),me+=16383+(fe?32768:0),q.write_shift(2,me),q}function E(I,O){var U=C(I);return I.l+=O-14,U}function N(I,O){var U=j(I),z=I.read_shift(4);return U[1].v=z>>6,U}function D(I,O){var U=j(I),z=I.read_shift(8,"f");return U[1].v=z,U}function G(I,O){var U=D(I);return I.l+=O-10,U}function de(I,O){return I[I.l+O-1]==0?I.read_shift(O,"cstr"):""}function ie(I,O){var U=I[I.l++];U>O-1&&(U=O-1);for(var z="";z.length<U;)z+=String.fromCharCode(I[I.l++]);return z}function ee(I,O,U){if(!(!U.qpro||O<21)){var z=I.read_shift(1);I.l+=17,I.l+=1,I.l+=2;var q=I.read_shift(O-21,"cstr");return[z,q]}}function Q(I,O){for(var U={},z=I.l+O;I.l<z;){var q=I.read_shift(2);if(q==14e3){for(U[q]=[0,""],U[q][0]=I.read_shift(2);I[I.l];)U[q][1]+=String.fromCharCode(I[I.l]),I.l++;I.l++}}return U}function te(I,O){var U=Ve(5+I.length);U.write_shift(2,14e3),U.write_shift(2,O);for(var z=0;z<I.length;++z){var q=I.charCodeAt(z);U[U.l++]=q>127?95:q}return U[U.l++]=0,U}var pe={0:{n:"BOF",f:YR},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:d},14:{n:"NUMBER",f:v},15:{n:"LABEL",f:c},16:{n:"FORMULA",f:S},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:c},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:de},222:{n:"SHEETNAMELP",f:ie},65535:{n:""}},be={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:B},23:{n:"NUMBER17",f:C},24:{n:"NUMBER18",f:y},25:{n:"FORMULA19",f:E},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Q},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:N},38:{n:"??"},39:{n:"NUMBER27",f:D},40:{n:"FORMULA28",f:G},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:de},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ee},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}}(),nQ=/^\s|\s$|[\t\n\r]/;function tL(t,e){if(!e.bookSST)return"";var r=[An];r[r.length]=st("sst",null,{xmlns:$h[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var i=t[n],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(nQ)&&(s+=' xml:space="preserve"'),s+=">"+wr(i.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function iQ(t){return[t.read_shift(4),t.read_shift(4)]}function sQ(t,e){return e||(e=Ve(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var aQ=XY;function oQ(t){var e=fs();Ke(e,159,sQ(t));for(var r=0;r<t.length;++r)Ke(e,19,aQ(t[r]));return Ke(e,160),e.end()}function lQ(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function rL(t){var e=0,r,n=lQ(t),i=n.length+1,s,a,o,l,u;for(r=jc(i),r[0]=n.length,s=1;s!=i;++s)r[s]=n[s-1];for(s=i-1;s>=0;--s)a=r[s],o=e&16384?1:0,l=e<<1&32767,u=o|l,e=u^a;return e^52811}var uQ=function(){function t(i,s){switch(s.type){case"base64":return e(Zo(i),s);case"binary":return e(i,s);case"buffer":return e(fr&&Buffer.isBuffer(i)?i.toString("binary"):Fp(i),s);case"array":return e(Ov(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var a=s||{},o=a.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(c,f){Array.isArray(o)&&(o[f]=[]);for(var d=/\\\w+\b/g,h=0,v,g=-1;v=d.exec(c);){switch(v[0]){case"\\cell":var S=c.slice(h,d.lastIndex-v[0].length);if(S[0]==" "&&(S=S.slice(1)),++g,S.length){var _={v:S,t:"s"};Array.isArray(o)?o[f][g]=_:o[Sr({r:f,c:g})]=_}break}h=d.lastIndex}g>u.e.c&&(u.e.c=g)}),o["!ref"]=En(u),o}function r(i,s){return $c(t(i,s),s)}function n(i){for(var s=["{\\rtf1\\ansi"],a=zr(i["!ref"]),o,l=Array.isArray(i),u=a.s.r;u<=a.e.r;++u){s.push("\\trowd\\trautofit1");for(var c=a.s.c;c<=a.e.c;++c)s.push("\\cellx"+(c+1));for(s.push("\\pard\\intbl"),c=a.s.c;c<=a.e.c;++c){var f=Sr({r:u,c});o=l?(i[u]||[])[c]:i[f],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(el(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}}();function Y3(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}var cQ=6,Uo=cQ;function I1(t){return Math.floor((t+Math.round(128/Uo)/256)*Uo)}function R1(t){return Math.floor((t-5)/Uo*100+.5)/100}function Aw(t){return Math.round((t*Uo+5)/Uo*256)/256}function y4(t){t.width?(t.wpx=I1(t.width),t.wch=R1(t.wpx),t.MDW=Uo):t.wpx?(t.wch=R1(t.wpx),t.width=Aw(t.wch),t.MDW=Uo):typeof t.wch=="number"&&(t.width=Aw(t.wch),t.wpx=I1(t.width),t.MDW=Uo),t.customWidth&&delete t.customWidth}var fQ=96,nL=fQ;function L1(t){return t*96/nL}function iL(t){return t*nL/96}function hQ(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=st("numFmt",null,{numFmtId:n,formatCode:wr(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=st("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function dQ(t){var e=[];return e[e.length]=st("cellXfs",null),t.forEach(function(r){e[e.length]=st("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=st("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function sL(t,e){var r=[An,st("styleSheet",null,{xmlns:$h[0],"xmlns:vt":zn.vt})],n;return t.SSF&&(n=hQ(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=dQ(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function pQ(t,e){var r=t.read_shift(2),n=Ci(t);return[r,n]}function mQ(t,e,r){r||(r=Ve(6+4*e.length)),r.write_shift(2,t),Hn(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function gQ(t,e,r){var n={};n.sz=t.read_shift(2)/20;var i=nX(t);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var s=t.read_shift(2);switch(s===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var a=t.read_shift(1);a!=0&&(n.underline=a);var o=t.read_shift(1);o>0&&(n.family=o);var l=t.read_shift(1);switch(l>0&&(n.charset=l),t.l++,n.color=rX(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Ci(t),n}function vQ(t,e){e||(e=Ve(25+4*32)),e.write_shift(2,t.sz*20),iX(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),C1(t.color,e);var n=0;return n=2,e.write_shift(1,n),Hn(t.name,e),e.length>e.l?e.slice(0,e.l):e}var yQ=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],gy,xQ=co;function X3(t,e){e||(e=Ve(4*3+8*7+16*1)),gy||(gy=a4(yQ));var r=gy[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(C1({auto:1},e),C1({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function wQ(t,e){var r=t.l+e,n=t.read_shift(2),i=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:i}}function aL(t,e,r){r||(r=Ve(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Ed(t,e){return e||(e=Ve(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var _Q=co;function bQ(t,e){return e||(e=Ve(51)),e.write_shift(1,0),Ed(null,e),Ed(null,e),Ed(null,e),Ed(null,e),Ed(null,e),e.length>e.l?e.slice(0,e.l):e}function SQ(t,e){return e||(e=Ve(12+4*10)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),k1(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function TQ(t,e,r){var n=Ve(2052);return n.write_shift(4,t),k1(e,n),k1(r,n),n.length>n.l?n.slice(0,n.l):n}function EQ(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&++r}),r!=0&&(Ke(t,615,Ia(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&Ke(t,44,mQ(i,e[i]))}),Ke(t,616))}}function AQ(t){var e=1;Ke(t,611,Ia(e)),Ke(t,43,vQ({sz:12,color:{theme:1},name:"Calibri",family:2})),Ke(t,612)}function NQ(t){var e=2;Ke(t,603,Ia(e)),Ke(t,45,X3({patternType:"none"})),Ke(t,45,X3({patternType:"gray125"})),Ke(t,604)}function kQ(t){var e=1;Ke(t,613,Ia(e)),Ke(t,46,bQ()),Ke(t,614)}function CQ(t){var e=1;Ke(t,626,Ia(e)),Ke(t,47,aL({numFmtId:0},65535)),Ke(t,627)}function PQ(t,e){Ke(t,617,Ia(e.length)),e.forEach(function(r){Ke(t,47,aL(r,0))}),Ke(t,618)}function IQ(t){var e=1;Ke(t,619,Ia(e)),Ke(t,48,SQ({xfId:0,name:"Normal"})),Ke(t,620)}function RQ(t){var e=0;Ke(t,505,Ia(e)),Ke(t,506)}function LQ(t){var e=0;Ke(t,508,TQ(e,"TableStyleMedium9","PivotStyleMedium4")),Ke(t,509)}function FQ(t,e){var r=fs();return Ke(r,278),EQ(r,t.SSF),AQ(r),NQ(r),kQ(r),CQ(r),PQ(r,e.cellXfs),IQ(r),RQ(r),LQ(r),Ke(r,279),r.end()}function oL(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[An];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function DQ(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Ci(t)}}function OQ(t){var e=Ve(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Hn(t.name,e),e.slice(0,e.l)}function MQ(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function jQ(t){var e=Ve(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function BQ(t,e){var r=Ve(8+2*e.length);return r.write_shift(4,t),Hn(e,r),r.slice(0,r.l)}function VQ(t){return t.l+=4,t.read_shift(4)!=0}function UQ(t,e){var r=Ve(8);return r.write_shift(4,t),r.write_shift(4,1),r}function zQ(){var t=fs();return Ke(t,332),Ke(t,334,Ia(1)),Ke(t,335,OQ({name:"XLDAPR",version:12e4,flags:3496657072})),Ke(t,336),Ke(t,339,BQ(1,"XLDAPR")),Ke(t,52),Ke(t,35,Ia(514)),Ke(t,4096,Ia(0)),Ke(t,4097,Ks(1)),Ke(t,36),Ke(t,53),Ke(t,340),Ke(t,337,UQ(1)),Ke(t,51,jQ([[1,0]])),Ke(t,338),Ke(t,333),t.end()}function lL(){var t=[An];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function WQ(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=Sr(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var Xf=1024;function uL(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[st("xml",null,{"xmlns:v":Ns.v,"xmlns:o":Ns.o,"xmlns:x":Ns.x,"xmlns:mv":Ns.mv}).replace(/\/>/,">"),st("o:shapelayout",st("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),st("v:shapetype",[st("v:stroke",null,{joinstyle:"miter"}),st("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Xf<t*1e3;)Xf+=1e3;return e.forEach(function(s){var a=Wn(s[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?st("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=st("v:fill",l,o),c={on:"t",obscured:"t"};++Xf,i=i.concat(["<v:shape"+lp({id:"_x0000_s"+Xf,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,st("v:shadow",null,c),st("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",si("x:Anchor",[a.c+1,0,a.r+1,0,a.c+3,20,a.r+5,20].join(",")),si("x:AutoFill","False"),si("x:Row",String(a.r)),si("x:Column",String(a.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function cL(t){var e=[An,st("comments",null,{xmlns:$h[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(i){var s=wr(i.a);r.indexOf(s)==-1&&(r.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var i=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(i=r.indexOf(wr(l.a))),s.push(l.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(si("t",wr(s[0]||"")));else{for(var a=`Comment:
    `+s[0]+`
`,o=1;o<s.length;++o)a+=`Reply:
    `+s[o]+`
`;e.push(si("t",wr(a)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function HQ(t,e,r){var n=[An,st("ThreadedComments",null,{xmlns:zn.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var s="";(i[1]||[]).forEach(function(a,o){if(!a.T){delete a.ID;return}a.a&&e.indexOf(a.a)==-1&&e.push(a.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?s=l.id:l.parentId=s,a.ID=l.id,a.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(a.a)).slice(-12)+"}"),n.push(st("threadedComment",si("text",a.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function qQ(t){var e=[An,st("personList",null,{xmlns:zn.TCMNT,"xmlns:x":$h[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(st("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function $Q(t){var e={};e.iauthor=t.read_shift(4);var r=Xc(t);return e.rfx=r.s,e.ref=Sr(r.s),t.l+=16,e}function GQ(t,e){return e==null&&(e=Ve(36)),e.write_shift(4,t[1].iauthor),Kh(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var KQ=Ci;function YQ(t){return Hn(t.slice(0,54))}function XQ(t){var e=fs(),r=[];return Ke(e,628),Ke(e,630),t.forEach(function(n){n[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),Ke(e,632,YQ(i.a)))})}),Ke(e,631),Ke(e,633),t.forEach(function(n){n[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var s={s:Wn(n[0]),e:Wn(n[0])};Ke(e,635,GQ([s,i])),i.t&&i.t.length>0&&Ke(e,637,JY(i)),Ke(e,636),delete i.iauthor})}),Ke(e,634),Ke(e,629),e.end()}function QQ(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&kr.utils.cfb_add(t,i,e.FileIndex[n].content)}})}var fL=["xlsb","xlsm","xlam","biff8","xla"],JQ=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,i,s,a){var o=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,c=a.length>0?parseInt(a,10)|0:0;return o?c+=e.c:--c,l?u+=e.r:--u,i+(o?"":"$")+ki(c)+(l?"":"$")+li(u)}return function(i,s){return e=s,i.replace(t,r)}}(),x4=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,w4=function(){return function(e,r){return e.replace(x4,function(n,i,s,a,o,l){var u=d4(a)-(s?0:r.c),c=h4(l)-(o?0:r.r),f=c==0?"":o?c+1:"["+c+"]",d=u==0?"":s?u+1:"["+u+"]";return i+"R"+f+"C"+d})}}();function ZQ(t,e){return t.replace(x4,function(r,n,i,s,a,o){return n+(i=="$"?i+s:ki(d4(s)+e.c))+(a=="$"?a+o:li(h4(o)+e.r))})}function eJ(t){return t.length!=1}function wn(t){t.l+=1}function Nu(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function hL(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return dL(t);r.biff==12&&(n=4)}var i=t.read_shift(n),s=t.read_shift(n),a=Nu(t),o=Nu(t);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function dL(t){var e=Nu(t),r=Nu(t),n=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function tJ(t,e,r){if(r.biff<8)return dL(t);var n=t.read_shift(r.biff==12?4:2),i=t.read_shift(r.biff==12?4:2),s=Nu(t),a=Nu(t);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function pL(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return rJ(t);var n=t.read_shift(r&&r.biff==12?4:2),i=Nu(t);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function rJ(t){var e=Nu(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function nJ(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function iJ(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return sJ(t);var i=t.read_shift(n>=12?4:2),s=t.read_shift(2),a=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;i>524287;)i-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:a,rRel:o}}function sJ(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:i,rRel:n}}function aJ(t,e,r){var n=(t[t.l++]&96)>>5,i=hL(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function oJ(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var a=hL(t,s,r);return[n,i,a]}function lJ(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function uJ(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[n,i]}function cJ(t,e,r){var n=(t[t.l++]&96)>>5,i=tJ(t,e-1,r);return[n,i]}function fJ(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function Q3(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function hJ(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),i=[],s=0;s<=n;++s)i.push(t.read_shift(r&&r.biff==2?1:2));return i}function dJ(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function pJ(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function mJ(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function gJ(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function mL(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function vJ(t){return t.read_shift(2),mL(t)}function yJ(t){return t.read_shift(2),mL(t)}function xJ(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=pL(t,0,r);return[n,i]}function wJ(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=iJ(t,0,r);return[n,i]}function _J(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var s=pL(t,0,r);return[n,i,s]}function bJ(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(r&&r.biff<=3?1:2);return[bZ[i],yL[i],n]}function SJ(t,e,r){var n=t[t.l++],i=t.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:TJ(t);return[i,(s[0]===0?yL:_Z)[s[1]]]}function TJ(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function EJ(t,e,r){t.l+=r&&r.biff==2?3:4}function AJ(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function NJ(t){return t.l++,Mp[t.read_shift(1)]}function kJ(t){return t.l++,t.read_shift(2)}function CJ(t){return t.l++,t.read_shift(1)!==0}function PJ(t){return t.l++,Yh(t)}function IJ(t,e,r){return t.l++,QR(t,e-1,r)}function RJ(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=_X(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=Mp[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=Yh(t);break;case 2:r[1]=EX(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function LJ(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),i=[],s=0;s!=n;++s)i.push((r.biff==12?Xc:kX)(t));return i}function FJ(t,e,r){var n=0,i=0;r.biff==12?(n=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var s=0,a=[];s!=n&&(a[s]=[]);++s)for(var o=0;o!=i;++o)a[s][o]=RJ(t,r.biff);return a}function DJ(t,e,r){var n=t.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,s=t.read_shift(i);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,s]}function OJ(t,e,r){if(r.biff==5)return MJ(t);var n=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[n,i,s]}function MJ(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function jJ(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function BJ(t,e,r){var n=t.read_shift(1)>>>5&3,i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function VJ(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function UJ(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[n,i]}var zJ=co,WJ=co,HJ=co;function jp(t,e,r){return t.l+=2,[nJ(t)]}function _4(t){return t.l+=6,[]}var qJ=jp,$J=_4,GJ=_4,KJ=jp;function gL(t){return t.l+=2,[YR(t),t.read_shift(2)&1]}var YJ=jp,XJ=gL,QJ=_4,JJ=jp,ZJ=jp,eZ=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function tZ(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),a=eZ[r>>2&31];return{ixti:e,coltype:r&3,rt:a,idx:n,c:i,C:s}}function rZ(t){return t.l+=2,[t.read_shift(4)]}function nZ(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function iZ(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function sZ(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function aZ(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function oZ(t){return t.l+=4,[0,0]}var J3={1:{n:"PtgExp",f:AJ},2:{n:"PtgTbl",f:HJ},3:{n:"PtgAdd",f:wn},4:{n:"PtgSub",f:wn},5:{n:"PtgMul",f:wn},6:{n:"PtgDiv",f:wn},7:{n:"PtgPower",f:wn},8:{n:"PtgConcat",f:wn},9:{n:"PtgLt",f:wn},10:{n:"PtgLe",f:wn},11:{n:"PtgEq",f:wn},12:{n:"PtgGe",f:wn},13:{n:"PtgGt",f:wn},14:{n:"PtgNe",f:wn},15:{n:"PtgIsect",f:wn},16:{n:"PtgUnion",f:wn},17:{n:"PtgRange",f:wn},18:{n:"PtgUplus",f:wn},19:{n:"PtgUminus",f:wn},20:{n:"PtgPercent",f:wn},21:{n:"PtgParen",f:wn},22:{n:"PtgMissArg",f:wn},23:{n:"PtgStr",f:IJ},26:{n:"PtgSheet",f:nZ},27:{n:"PtgEndSheet",f:iZ},28:{n:"PtgErr",f:NJ},29:{n:"PtgBool",f:CJ},30:{n:"PtgInt",f:kJ},31:{n:"PtgNum",f:PJ},32:{n:"PtgArray",f:fJ},33:{n:"PtgFunc",f:bJ},34:{n:"PtgFuncVar",f:SJ},35:{n:"PtgName",f:DJ},36:{n:"PtgRef",f:xJ},37:{n:"PtgArea",f:aJ},38:{n:"PtgMemArea",f:jJ},39:{n:"PtgMemErr",f:zJ},40:{n:"PtgMemNoMem",f:WJ},41:{n:"PtgMemFunc",f:BJ},42:{n:"PtgRefErr",f:VJ},43:{n:"PtgAreaErr",f:lJ},44:{n:"PtgRefN",f:wJ},45:{n:"PtgAreaN",f:cJ},46:{n:"PtgMemAreaN",f:sZ},47:{n:"PtgMemNoMemN",f:aZ},57:{n:"PtgNameX",f:OJ},58:{n:"PtgRef3d",f:_J},59:{n:"PtgArea3d",f:oJ},60:{n:"PtgRefErr3d",f:UJ},61:{n:"PtgAreaErr3d",f:uJ},255:{}},lZ={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},uZ={1:{n:"PtgElfLel",f:gL},2:{n:"PtgElfRw",f:JJ},3:{n:"PtgElfCol",f:qJ},6:{n:"PtgElfRwV",f:ZJ},7:{n:"PtgElfColV",f:KJ},10:{n:"PtgElfRadical",f:YJ},11:{n:"PtgElfRadicalS",f:QJ},13:{n:"PtgElfColS",f:$J},15:{n:"PtgElfColSV",f:GJ},16:{n:"PtgElfRadicalLel",f:XJ},25:{n:"PtgList",f:tZ},29:{n:"PtgSxName",f:rZ},255:{}},cZ={0:{n:"PtgAttrNoop",f:oZ},1:{n:"PtgAttrSemi",f:gJ},2:{n:"PtgAttrIf",f:pJ},4:{n:"PtgAttrChoose",f:hJ},8:{n:"PtgAttrGoto",f:dJ},16:{n:"PtgAttrSum",f:EJ},32:{n:"PtgAttrBaxcel",f:Q3},33:{n:"PtgAttrBaxcel",f:Q3},64:{n:"PtgAttrSpace",f:vJ},65:{n:"PtgAttrSpaceSemi",f:yJ},128:{n:"PtgAttrIfError",f:mJ},255:{}};function fZ(t,e,r,n){if(n.biff<8)return co(t,e);for(var i=t.l+e,s=[],a=0;a!==r.length;++a)switch(r[a][0]){case"PtgArray":r[a][1]=FJ(t,0,n),s.push(r[a][1]);break;case"PtgMemArea":r[a][2]=LJ(t,r[a][1],n),s.push(r[a][2]);break;case"PtgExp":n&&n.biff==12&&(r[a][1][1]=t.read_shift(4),s.push(r[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[a][0]}return e=i-t.l,e!==0&&s.push(co(t,e)),s}function hZ(t,e,r){for(var n=t.l+e,i,s,a=[];n!=t.l;)e=n-t.l,s=t[t.l],i=J3[s]||J3[lZ[s]],(s===24||s===25)&&(i=(s===24?uZ:cZ)[t[t.l+1]]),!i||!i.f?co(t,e):a.push([i.n,i.f(t,e,r)]);return a}function dZ(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],i=[],s=0;s<n.length;++s){var a=n[s];if(a)switch(a[0]){case 2:i.push('"'+a[1].replace(/"/g,'""')+'"');break;default:i.push(a[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var pZ={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function mZ(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function vL(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(t[n[0]][0]){case 357:return i=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[n[0]][0][3]?(i=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function Z3(t,e,r){var n=vL(t,e,r);return n=="#REF"?n:mZ(n,r)}function Ph(t,e,r,n,i){var s=i&&i.biff||8,a={s:{c:0,r:0}},o=[],l,u,c,f=0,d=0,h,v="";if(!t[0]||!t[0][0])return"";for(var g=-1,S="",_=0,b=t[0].length;_<b;++_){var T=t[0][_];switch(T[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),u=o.pop(),g>=0){switch(t[0][g][1][0]){case 0:S=an(" ",t[0][g][1][1]);break;case 1:S=an("\r",t[0][g][1][1]);break;default:if(S="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][g][1][0])}u=u+S,g=-1}o.push(u+pZ[T[0]]+l);break;case"PtgIsect":l=o.pop(),u=o.pop(),o.push(u+" "+l);break;case"PtgUnion":l=o.pop(),u=o.pop(),o.push(u+","+l);break;case"PtgRange":l=o.pop(),u=o.pop(),o.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":c=d0(T[1][1],a,i),o.push(p0(c,s));break;case"PtgRefN":c=r?d0(T[1][1],r,i):T[1][1],o.push(p0(c,s));break;case"PtgRef3d":f=T[1][1],c=d0(T[1][2],a,i),v=Z3(n,f,i),o.push(v+"!"+p0(c,s));break;case"PtgFunc":case"PtgFuncVar":var L=T[1][0],j=T[1][1];L||(L=0),L&=127;var B=L==0?[]:o.slice(-L);o.length-=L,j==="User"&&(j=B.shift()),o.push(j+"("+B.join(",")+")");break;case"PtgBool":o.push(T[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(T[1]);break;case"PtgNum":o.push(String(T[1]));break;case"PtgStr":o.push('"'+T[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(T[1]);break;case"PtgAreaN":h=M3(T[1][1],r?{s:r}:a,i),o.push(py(h,i));break;case"PtgArea":h=M3(T[1][1],a,i),o.push(py(h,i));break;case"PtgArea3d":f=T[1][1],h=T[1][2],v=Z3(n,f,i),o.push(v+"!"+py(h,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":d=T[1][2];var k=(n.names||[])[d-1]||(n[0]||[])[d],y=k?k.Name:"SH33TJSNAME"+String(d);y&&y.slice(0,6)=="_xlfn."&&!i.xlfn&&(y=y.slice(6)),o.push(y);break;case"PtgNameX":var C=T[1][1];d=T[1][2];var F;if(i.biff<=5)C<0&&(C=-C),n[C]&&(F=n[C][d]);else{var E="";if(((n[C]||[])[0]||[])[0]==14849||(((n[C]||[])[0]||[])[0]==1025?n[C][d]&&n[C][d].itab>0&&(E=n.SheetNames[n[C][d].itab-1]+"!"):E=n.SheetNames[d-1]+"!"),n[C]&&n[C][d])E+=n[C][d].Name;else if(n[0]&&n[0][d])E+=n[0][d].Name;else{var N=(vL(n,C,i)||"").split(";;");N[d-1]?E=N[d-1]:E+="SH33TJSERRX"}o.push(E);break}F||(F={Name:"SH33TJSERRY"}),o.push(F.Name);break;case"PtgParen":var D="(",G=")";if(g>=0){switch(S="",t[0][g][1][0]){case 2:D=an(" ",t[0][g][1][1])+D;break;case 3:D=an("\r",t[0][g][1][1])+D;break;case 4:G=an(" ",t[0][g][1][1])+G;break;case 5:G=an("\r",t[0][g][1][1])+G;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][g][1][0])}g=-1}o.push(D+o.pop()+G);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":c={c:T[1][1],r:T[1][0]};var de={c:r.c,r:r.r};if(n.sharedf[Sr(c)]){var ie=n.sharedf[Sr(c)];o.push(Ph(ie,a,de,n,i))}else{var ee=!1;for(l=0;l!=n.arrayf.length;++l)if(u=n.arrayf[l],!(c.c<u[0].s.c||c.c>u[0].e.c)&&!(c.r<u[0].s.r||c.r>u[0].e.r)){o.push(Ph(u[1],a,de,n,i)),ee=!0;break}ee||o.push(T[1])}break;case"PtgArray":o.push("{"+dZ(T[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=_;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+T[1].idx+"[#"+T[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(T));default:throw new Error("Unrecognized Formula Token: "+String(T))}var Q=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&g>=0&&Q.indexOf(t[0][_][0])==-1){T=t[0][g];var te=!0;switch(T[1][0]){case 4:te=!1;case 0:S=an(" ",T[1][1]);break;case 5:te=!1;case 1:S=an("\r",T[1][1]);break;default:if(S="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+T[1][0])}o.push((te?S:"")+o.pop()+(te?"":S)),g=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function gZ(t){if(t==null){var e=Ve(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return Bc(t);return Bc(0)}function vZ(t,e,r,n,i){var s=Vc(e,r,i),a=gZ(t.v),o=Ve(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var u=Ve(t.bf.length),c=0;c<t.bf.length;++c)u[c]=t.bf[c];var f=ii([s,a,o,u]);return f}function Mv(t,e,r){var n=t.read_shift(4),i=hZ(t,n,r),s=t.read_shift(4),a=s>0?fZ(t,s,i,r):null;return[i,a]}var yZ=Mv,jv=Mv,xZ=Mv,wZ=Mv,_Z={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},yL={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},bZ={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function SZ(t){var e="of:="+t.replace(x4,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function TZ(t){return t.replace(/\./,"!")}var m0=typeof Map<"u";function b4(t,e,r){var n=0,i=t.length;if(r){if(m0?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var s=m0?r.get(e):r[e];n<s.length;++n)if(t[s[n]].t===e)return t.Count++,s[n]}}else for(;n<i;++n)if(t[n].t===e)return t.Count++,n;return t[i]={t:e},t.Count++,t.Unique++,r&&(m0?(r.has(e)||r.set(e,[]),r.get(e).push(i)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(i))),i}function Bv(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(Uo=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=R1(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=Aw(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function xL(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function ju(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],i=60,s=t.length;if(n==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){pR(e.z,i),r.ssf[i]=e.z,r.revssf[e.z]=n=i;break}}for(i=0;i!=s;++i)if(t[i].numFmtId===n)return i;return t[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function EZ(t,e,r){if(t&&t["!ref"]){var n=zr(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function AZ(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+En(t[r])+'"/>';return e+"</mergeCells>"}function NZ(t,e,r,n,i){var s=!1,a={},o=null;if(n.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[r];try{e.Workbook&&(l=e.Workbook.Sheets[r].CodeName||l)}catch{}s=!0,a.codeName=op(wr(l))}if(t&&t["!outline"]){var u={summaryBelow:1,summaryRight:1};t["!outline"].above&&(u.summaryBelow=0),t["!outline"].left&&(u.summaryRight=0),o=(o||"")+st("outlinePr",null,u)}!s&&!o||(i[i.length]=st("sheetPr",o,a))}var kZ=["objects","scenarios","selectLockedCells","selectUnlockedCells"],CZ=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function PZ(t){var e={sheet:1};return kZ.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),CZ.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=rL(t.password).toString(16).toUpperCase()),st("sheetProtection",null,e)}function IZ(t){return xL(t),st("pageMargins",null,t)}function RZ(t,e){for(var r=["<cols>"],n,i=0;i!=e.length;++i)(n=e[i])&&(r[r.length]=st("col",null,Bv(i,n)));return r[r.length]="</cols>",r.join("")}function LZ(t,e,r,n){var i=typeof t.ref=="string"?t.ref:En(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,a=Fs(i);a.s.r==a.e.r&&(a.e.r=Fs(e["!ref"]).e.r,i=En(a));for(var o=0;o<s.length;++o){var l=s[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+i;break}}return o==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),st("autoFilter",null,{ref:i})}function FZ(t,e,r,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),st("sheetViews",st("sheetView",null,i),{})}function DZ(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",s=t.t,a=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=Mp[t.v];break;case"d":n&&n.cellDates?i=qi(t.v,-1).toISOString():(t=ds(t),t.t="n",i=""+(t.v=hs(qi(t.v)))),typeof t.z>"u"&&(t.z=on[14]);break;default:i=t.v;break}var o=si("v",wr(i)),l={r:e},u=ju(n.cellXfs,t,n);switch(u!==0&&(l.s=u),t.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=si("v",""+b4(n.Strings,t.v,n.revStrings)),l.t="s";break}l.t="str";break}if(t.t!=s&&(t.t=s,t.v=a),typeof t.f=="string"&&t.f){var c=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;o=st("f",wr(t.f),c)+(t.v!=null?o:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(l.cm=1),st("c",o,l)}function OZ(t,e,r,n){var i=[],s=[],a=zr(t["!ref"]),o="",l,u="",c=[],f=0,d=0,h=t["!rows"],v=Array.isArray(t),g={r:u},S,_=-1;for(d=a.s.c;d<=a.e.c;++d)c[d]=ki(d);for(f=a.s.r;f<=a.e.r;++f){for(s=[],u=li(f),d=a.s.c;d<=a.e.c;++d){l=c[d]+u;var b=v?(t[f]||[])[d]:t[l];b!==void 0&&(o=DZ(b,l,t,e))!=null&&s.push(o)}(s.length>0||h&&h[f])&&(g={r:u},h&&h[f]&&(S=h[f],S.hidden&&(g.hidden=1),_=-1,S.hpx?_=L1(S.hpx):S.hpt&&(_=S.hpt),_>-1&&(g.ht=_,g.customHeight=1),S.level&&(g.outlineLevel=S.level)),i[i.length]=st("row",s.join(""),g))}if(h)for(;f<h.length;++f)h&&h[f]&&(g={r:f+1},S=h[f],S.hidden&&(g.hidden=1),_=-1,S.hpx?_=L1(S.hpx):S.hpt&&(_=S.hpt),_>-1&&(g.ht=_,g.customHeight=1),S.level&&(g.outlineLevel=S.level),i[i.length]=st("row","",g));return i.join("")}function wL(t,e,r,n){var i=[An,st("worksheet",null,{xmlns:$h[0],"xmlns:r":zn.r})],s=r.SheetNames[t],a=0,o="",l=r.Sheets[s];l==null&&(l={});var u=l["!ref"]||"A1",c=zr(u);if(c.e.c>16383||c.e.r>1048575){if(e.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575),u=En(c)}n||(n={}),l["!comments"]=[];var f=[];NZ(l,r,t,e,i),i[i.length]=st("dimension",null,{ref:u}),i[i.length]=FZ(l,e,t,r),e.sheetFormat&&(i[i.length]=st("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=RZ(l,l["!cols"])),i[a=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=OZ(l,e),o.length>0&&(i[i.length]=o)),i.length>a+1&&(i[i.length]="</sheetData>",i[a]=i[a].replace("/>",">")),l["!protect"]&&(i[i.length]=PZ(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=LZ(l["!autofilter"],l,r,t)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=AZ(l["!merges"]));var d=-1,h,v=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(g){g[1].Target&&(h={ref:g[0]},g[1].Target.charAt(0)!="#"&&(v=yr(n,-1,wr(g[1].Target).replace(/#.*$/,""),or.HLINK),h["r:id"]="rId"+v),(d=g[1].Target.indexOf("#"))>-1&&(h.location=wr(g[1].Target.slice(d+1))),g[1].Tooltip&&(h.tooltip=wr(g[1].Tooltip)),i[i.length]=st("hyperlink",null,h))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=IZ(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=si("ignoredErrors",st("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(v=yr(n,-1,"../drawings/drawing"+(t+1)+".xml",or.DRAW),i[i.length]=st("drawing",null,{"r:id":"rId"+v}),l["!drawing"]=f),l["!comments"].length>0&&(v=yr(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",or.VML),i[i.length]=st("legacyDrawing",null,{"r:id":"rId"+v}),l["!legacy"]=v),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function MZ(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=i/20),r}function jZ(t,e,r){var n=Ve(145),i=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var s=320;i.hpx?s=L1(i.hpx)*20:i.hpt&&(s=i.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var a=0;i.level&&(a|=i.level),i.hidden&&(a|=16),(i.hpx||i.hpt)&&(a|=32),n.write_shift(1,a),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var u={r:t,c:0},c=0;c<16;++c)if(!(e.s.c>c+1<<10||e.e.c<c<<10)){for(var f=-1,d=-1,h=c<<10;h<c+1<<10;++h){u.c=h;var v=Array.isArray(r)?(r[u.r]||[])[u.c]:r[Sr(u)];v&&(f<0&&(f=h),d=h)}f<0||(++o,n.write_shift(4,f),n.write_shift(4,d))}var g=n.l;return n.l=l,n.write_shift(4,o),n.l=g,n.length>n.l?n.slice(0,n.l):n}function BZ(t,e,r,n){var i=jZ(n,r,e);(i.length>17||(e["!rows"]||[])[n])&&Ke(t,0,i)}var VZ=Xc,UZ=Kh;function zZ(){}function WZ(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=ZY(t),r}function HZ(t,e,r){r==null&&(r=Ve(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var i=1;i<3;++i)r.write_shift(1,0);return C1({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),DR(t,r),r.slice(0,r.l)}function qZ(t){var e=ia(t);return[e]}function $Z(t,e,r){return r==null&&(r=Ve(8)),Gc(e,r)}function GZ(t){var e=Kc(t);return[e]}function KZ(t,e,r){return r==null&&(r=Ve(4)),Yc(e,r)}function YZ(t){var e=ia(t),r=t.read_shift(1);return[e,r,"b"]}function XZ(t,e,r){return r==null&&(r=Ve(9)),Gc(e,r),r.write_shift(1,t.v?1:0),r}function QZ(t){var e=Kc(t),r=t.read_shift(1);return[e,r,"b"]}function JZ(t,e,r){return r==null&&(r=Ve(5)),Yc(e,r),r.write_shift(1,t.v?1:0),r}function ZZ(t){var e=ia(t),r=t.read_shift(1);return[e,r,"e"]}function eee(t,e,r){return r==null&&(r=Ve(9)),Gc(e,r),r.write_shift(1,t.v),r}function tee(t){var e=Kc(t),r=t.read_shift(1);return[e,r,"e"]}function ree(t,e,r){return r==null&&(r=Ve(8)),Yc(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function nee(t){var e=ia(t),r=t.read_shift(4);return[e,r,"s"]}function iee(t,e,r){return r==null&&(r=Ve(12)),Gc(e,r),r.write_shift(4,e.v),r}function see(t){var e=Kc(t),r=t.read_shift(4);return[e,r,"s"]}function aee(t,e,r){return r==null&&(r=Ve(8)),Yc(e,r),r.write_shift(4,e.v),r}function oee(t){var e=ia(t),r=Yh(t);return[e,r,"n"]}function lee(t,e,r){return r==null&&(r=Ve(16)),Gc(e,r),Bc(t.v,r),r}function uee(t){var e=Kc(t),r=Yh(t);return[e,r,"n"]}function cee(t,e,r){return r==null&&(r=Ve(12)),Yc(e,r),Bc(t.v,r),r}function fee(t){var e=ia(t),r=OR(t);return[e,r,"n"]}function hee(t,e,r){return r==null&&(r=Ve(12)),Gc(e,r),MR(t.v,r),r}function dee(t){var e=Kc(t),r=OR(t);return[e,r,"n"]}function pee(t,e,r){return r==null&&(r=Ve(8)),Yc(e,r),MR(t.v,r),r}function mee(t){var e=ia(t),r=p4(t);return[e,r,"is"]}function gee(t){var e=ia(t),r=Ci(t);return[e,r,"str"]}function vee(t,e,r){return r==null&&(r=Ve(12+4*t.v.length)),Gc(e,r),Hn(t.v,r),r.length>r.l?r.slice(0,r.l):r}function yee(t){var e=Kc(t),r=Ci(t);return[e,r,"str"]}function xee(t,e,r){return r==null&&(r=Ve(8+4*t.v.length)),Yc(e,r),Hn(t.v,r),r.length>r.l?r.slice(0,r.l):r}function wee(t,e,r){var n=t.l+e,i=ia(t);i.r=r["!row"];var s=t.read_shift(1),a=[i,s,"b"];if(r.cellFormula){t.l+=2;var o=jv(t,n-t.l,r);a[3]=Ph(o,null,i,r.supbooks,r)}else t.l=n;return a}function _ee(t,e,r){var n=t.l+e,i=ia(t);i.r=r["!row"];var s=t.read_shift(1),a=[i,s,"e"];if(r.cellFormula){t.l+=2;var o=jv(t,n-t.l,r);a[3]=Ph(o,null,i,r.supbooks,r)}else t.l=n;return a}function bee(t,e,r){var n=t.l+e,i=ia(t);i.r=r["!row"];var s=Yh(t),a=[i,s,"n"];if(r.cellFormula){t.l+=2;var o=jv(t,n-t.l,r);a[3]=Ph(o,null,i,r.supbooks,r)}else t.l=n;return a}function See(t,e,r){var n=t.l+e,i=ia(t);i.r=r["!row"];var s=Ci(t),a=[i,s,"str"];if(r.cellFormula){t.l+=2;var o=jv(t,n-t.l,r);a[3]=Ph(o,null,i,r.supbooks,r)}else t.l=n;return a}var Tee=Xc,Eee=Kh;function Aee(t,e){return e==null&&(e=Ve(4)),e.write_shift(4,t),e}function Nee(t,e){var r=t.l+e,n=Xc(t),i=m4(t),s=Ci(t),a=Ci(t),o=Ci(t);t.l=r;var l={rfx:n,relId:i,loc:s,display:o};return a&&(l.Tooltip=a),l}function kee(t,e){var r=Ve(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Kh({s:Wn(t[0]),e:Wn(t[0])},r),g4("rId"+e,r);var n=t[1].Target.indexOf("#"),i=n==-1?"":t[1].Target.slice(n+1);return Hn(i||"",r),Hn(t[1].Tooltip||"",r),Hn("",r),r.slice(0,r.l)}function Cee(){}function Pee(t,e,r){var n=t.l+e,i=jR(t),s=t.read_shift(1),a=[i];if(a[2]=s,r.cellFormula){var o=yZ(t,n-t.l,r);a[1]=o}else t.l=n;return a}function Iee(t,e,r){var n=t.l+e,i=Xc(t),s=[i];if(r.cellFormula){var a=wZ(t,n-t.l,r);s[1]=a,t.l=n}else t.l=n;return s}function Ree(t,e,r){r==null&&(r=Ve(18));var n=Bv(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),r.write_shift(2,i),r}var _L=["left","right","top","bottom","header","footer"];function Lee(t){var e={};return _L.forEach(function(r){e[r]=Yh(t)}),e}function Fee(t,e){return e==null&&(e=Ve(6*8)),xL(t),_L.forEach(function(r){Bc(t[r],e)}),e}function Dee(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function Oee(t,e,r){r==null&&(r=Ve(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function Mee(t){var e=Ve(24);return e.write_shift(4,4),e.write_shift(4,1),Kh(t,e),e}function jee(t,e){return e==null&&(e=Ve(16*4+2)),e.write_shift(2,t.password?rL(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function Bee(){}function Vee(){}function Uee(t,e,r,n,i,s,a){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=ds(e),e.z=e.z||on[14],e.v=hs(qi(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var l={r,c:n};switch(l.s=ju(i.cellXfs,e,i),e.l&&s["!links"].push([Sr(l),e.l]),e.c&&s["!comments"].push([Sr(l),e.c]),e.t){case"s":case"str":return i.bookSST?(o=b4(i.Strings,e.v,i.revStrings),l.t="s",l.v=o,a?Ke(t,18,aee(e,l)):Ke(t,7,iee(e,l))):(l.t="str",a?Ke(t,17,xee(e,l)):Ke(t,6,vee(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?a?Ke(t,13,pee(e,l)):Ke(t,2,hee(e,l)):a?Ke(t,16,cee(e,l)):Ke(t,5,lee(e,l)),!0;case"b":return l.t="b",a?Ke(t,15,JZ(e,l)):Ke(t,4,XZ(e,l)),!0;case"e":return l.t="e",a?Ke(t,14,ree(e,l)):Ke(t,3,eee(e,l)),!0}return a?Ke(t,12,KZ(e,l)):Ke(t,1,$Z(e,l)),!0}function zee(t,e,r,n){var i=zr(e["!ref"]||"A1"),s,a="",o=[];Ke(t,145);var l=Array.isArray(e),u=i.e.r;e["!rows"]&&(u=Math.max(i.e.r,e["!rows"].length-1));for(var c=i.s.r;c<=u;++c){a=li(c),BZ(t,e,i,c);var f=!1;if(c<=i.e.r)for(var d=i.s.c;d<=i.e.c;++d){c===i.s.r&&(o[d]=ki(d)),s=o[d]+a;var h=l?(e[c]||[])[d]:e[s];if(!h){f=!1;continue}f=Uee(t,h,c,d,n,e,f)}}Ke(t,146)}function Wee(t,e){!e||!e["!merges"]||(Ke(t,177,Aee(e["!merges"].length)),e["!merges"].forEach(function(r){Ke(t,176,Eee(r))}),Ke(t,178))}function Hee(t,e){!e||!e["!cols"]||(Ke(t,390),e["!cols"].forEach(function(r,n){r&&Ke(t,60,Ree(n,r))}),Ke(t,391))}function qee(t,e){!e||!e["!ref"]||(Ke(t,648),Ke(t,649,Mee(zr(e["!ref"]))),Ke(t,650))}function $ee(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var i=yr(r,-1,n[1].Target.replace(/#.*$/,""),or.HLINK);Ke(t,494,kee(n,i))}}),delete e["!links"]}function Gee(t,e,r,n){if(e["!comments"].length>0){var i=yr(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",or.VML);Ke(t,551,g4("rId"+i)),e["!legacy"]=i}}function Kee(t,e,r,n){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:En(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,o=Fs(s);o.s.r==o.e.r&&(o.e.r=Fs(e["!ref"]).e.r,s=En(o));for(var l=0;l<a.length;++l){var u=a[l];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+s;break}}l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),Ke(t,161,Kh(zr(s))),Ke(t,162)}}function Yee(t,e,r){Ke(t,133),Ke(t,137,Oee(e,r)),Ke(t,138),Ke(t,134)}function Xee(t,e){e["!protect"]&&Ke(t,535,jee(e["!protect"]))}function Qee(t,e,r,n){var i=fs(),s=r.SheetNames[t],a=r.Sheets[s]||{},o=s;try{r&&r.Workbook&&(o=r.Workbook.Sheets[t].CodeName||o)}catch{}var l=zr(a["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],Ke(i,129),(r.vbaraw||a["!outline"])&&Ke(i,147,HZ(o,a["!outline"])),Ke(i,148,UZ(l)),Yee(i,a,r.Workbook),Hee(i,a),zee(i,a,t,e),Xee(i,a),Kee(i,a,r,t),Wee(i,a),$ee(i,a,n),a["!margins"]&&Ke(i,476,Fee(a["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&qee(i,a),Gee(i,a,t,n),Ke(i,130),i.end()}function Jee(t,e){t.l+=10;var r=Ci(t);return{name:r}}var Zee=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function ete(t){return!t.Workbook||!t.Workbook.WBProps?"false":IY(t.Workbook.WBProps.date1904)?"true":"false"}var tte="][*?/\\".split("");function bL(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return tte.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function rte(t,e,r){t.forEach(function(n,i){bL(n);for(var s=0;s<i;++s)if(n==t[s])throw new Error("Duplicate Sheet Name: "+n);if(r){var a=e&&e[i]&&e[i].CodeName||n;if(a.charCodeAt(0)==95&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}function nte(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];rte(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)EZ(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}function SL(t){var e=[An];e[e.length]=st("workbook",null,{xmlns:$h[0],"xmlns:r":zn.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(Zee.forEach(function(o){t.Workbook.WBProps[o[0]]!=null&&t.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=t.Workbook.WBProps[o[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=st("workbookPr",null,n);var i=t.Workbook&&t.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=t.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==t.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=t.SheetNames.length;++s){var a={name:wr(t.SheetNames[s].slice(0,31))};if(a.sheetId=""+(s+1),a["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden";break}e[e.length]=st("sheet",null,a)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(e[e.length]=st("definedName",wr(o.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function ite(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=Ew(t),r.name=Ci(t),r}function ste(t,e){return e||(e=Ve(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),g4(t.strRelID,e),Hn(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function ate(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var i=e>8?Ci(t):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function ote(t,e){e||(e=Ve(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),DR(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function lte(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=eX(t),a=xZ(t,0,r),o=m4(t);t.l=n;var l={Name:s,Ptg:a};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function ute(t,e){Ke(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,i={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};Ke(t,156,ste(i))}Ke(t,144)}function cte(t,e){e||(e=Ve(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return Hn("SheetJS",e),Hn(_1.version,e),Hn(_1.version,e),Hn("7262",e),e.length>e.l?e.slice(0,e.l):e}function fte(t,e){e||(e=Ve(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function hte(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,i=-1,s=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&i==-1?i=n:r[n].Hidden==1&&s==-1&&(s=n);s>i||(Ke(t,135),Ke(t,158,fte(i)),Ke(t,136))}}function dte(t,e){var r=fs();return Ke(r,131),Ke(r,128,cte()),Ke(r,153,ote(t.Workbook&&t.Workbook.WBProps||null)),hte(r,t),ute(r,t),Ke(r,132),r.end()}function pte(t,e,r){return(e.slice(-4)===".bin"?dte:SL)(t)}function mte(t,e,r,n,i){return(e.slice(-4)===".bin"?Qee:wL)(t,r,n,i)}function gte(t,e,r){return(e.slice(-4)===".bin"?FQ:sL)(t,r)}function vte(t,e,r){return(e.slice(-4)===".bin"?oQ:tL)(t,r)}function yte(t,e,r){return(e.slice(-4)===".bin"?XQ:cL)(t)}function xte(t){return(t.slice(-4)===".bin"?zQ:lL)()}function wte(t,e){var r=[];return t.Props&&r.push(gX(t.Props,e)),t.Custprops&&r.push(vX(t.Props,t.Custprops)),r.join("")}function _te(){return""}function bte(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,i){var s=[];s.push(st("NumberFormat",null,{"ss:Format":wr(on[n.numFmtId])}));var a={"ss:ID":"s"+(21+i)};r.push(st("Style",s.join(""),a))}),st("Styles",r.join(""))}function TL(t){return st("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+w4(t.Ref,{r:0,c:0})})}function Ste(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var i=e[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push(TL(i)))}return st("Names",r.join(""))}function Tte(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,s=[],a=0;a<i.length;++a){var o=i[a];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||s.push(TL(o)))}return s.join("")}function Ete(t,e,r,n){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(st("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(st("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(st("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)i.push(st("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==r&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(si("ProtectContents","True")),t["!protect"].objects&&i.push(si("ProtectObjects","True")),t["!protect"].scenarios&&i.push(si("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(si("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(si("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(a){t["!protect"][a[0]]&&i.push("<"+a[1]+"/>")})),i.length==0?"":st("WorksheetOptions",i.join(""),{xmlns:Ns.x})}function Ate(t){return t.map(function(e){var r=PY(e.t||""),n=st("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return st("Comment",n,{"ss:Author":e.a})}).join("")}function Nte(t,e,r,n,i,s,a){if(!t||t.v==null&&t.f==null)return"";var o={};if(t.f&&(o["ss:Formula"]="="+wr(w4(t.f,a))),t.F&&t.F.slice(0,e.length)==e){var l=Wn(t.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==a.r?"":"["+(l.r-a.r)+"]")+"C"+(l.c==a.c?"":"["+(l.c-a.c)+"]")}if(t.l&&t.l.Target&&(o["ss:HRef"]=wr(t.l.Target),t.l.Tooltip&&(o["x:HRefScreenTip"]=wr(t.l.Tooltip))),r["!merges"])for(var u=r["!merges"],c=0;c!=u.length;++c)u[c].s.c!=a.c||u[c].s.r!=a.r||(u[c].e.c>u[c].s.c&&(o["ss:MergeAcross"]=u[c].e.c-u[c].s.c),u[c].e.r>u[c].s.r&&(o["ss:MergeDown"]=u[c].e.r-u[c].s.r));var f="",d="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",d=String(t.v);break;case"b":f="Boolean",d=t.v?"1":"0";break;case"e":f="Error",d=Mp[t.v];break;case"d":f="DateTime",d=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||on[14]);break;case"s":f="String",d=CY(t.v||"");break}var h=ju(n.cellXfs,t,n);o["ss:StyleID"]="s"+(21+h),o["ss:Index"]=a.c+1;var v=t.v!=null?d:"",g=t.t=="z"?"":'<Data ss:Type="'+f+'">'+v+"</Data>";return(t.c||[]).length>0&&(g+=Ate(t.c)),st("Cell",g,o)}function kte(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=iL(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function Cte(t,e,r,n){if(!t["!ref"])return"";var i=zr(t["!ref"]),s=t["!merges"]||[],a=0,o=[];t["!cols"]&&t["!cols"].forEach(function(S,_){y4(S);var b=!!S.width,T=Bv(_,S),L={"ss:Index":_+1};b&&(L["ss:Width"]=I1(T.width)),S.hidden&&(L["ss:Hidden"]="1"),o.push(st("Column",null,L))});for(var l=Array.isArray(t),u=i.s.r;u<=i.e.r;++u){for(var c=[kte(u,(t["!rows"]||[])[u])],f=i.s.c;f<=i.e.c;++f){var d=!1;for(a=0;a!=s.length;++a)if(!(s[a].s.c>f)&&!(s[a].s.r>u)&&!(s[a].e.c<f)&&!(s[a].e.r<u)){(s[a].s.c!=f||s[a].s.r!=u)&&(d=!0);break}if(!d){var h={r:u,c:f},v=Sr(h),g=l?(t[u]||[])[f]:t[v];c.push(Nte(g,v,t,e,r,n,h))}}c.push("</Row>"),c.length>2&&o.push(c.join(""))}return o.join("")}function Pte(t,e,r){var n=[],i=r.SheetNames[t],s=r.Sheets[i],a=s?Tte(s,e,t,r):"";return a.length>0&&n.push("<Names>"+a+"</Names>"),a=s?Cte(s,e,t,r):"",a.length>0&&n.push("<Table>"+a+"</Table>"),n.push(Ete(s,e,t,r)),n.join("")}function Ite(t,e){e||(e={}),t.SSF||(t.SSF=ds(on)),t.SSF&&(Fv(),Lv(t.SSF),e.revssf=Dv(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],ju(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(wte(t,e)),r.push(_te()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(st("Worksheet",Pte(n,e,t),{"ss:Name":wr(t.SheetNames[n])}));return r[2]=bte(t,e),r[3]=Ste(t),An+st("Workbook",r.join(""),{xmlns:Ns.ss,"xmlns:o":Ns.o,"xmlns:x":Ns.x,"xmlns:ss":Ns.ss,"xmlns:dt":Ns.dt,"xmlns:html":Ns.html})}var vy={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Rte(t,e){var r=[],n=[],i=[],s=0,a,o=A3(B3,"n"),l=A3(V3,"n");if(t.Props)for(a=fi(t.Props),s=0;s<a.length;++s)(Object.prototype.hasOwnProperty.call(o,a[s])?r:Object.prototype.hasOwnProperty.call(l,a[s])?n:i).push([a[s],t.Props[a[s]]]);if(t.Custprops)for(a=fi(t.Custprops),s=0;s<a.length;++s)Object.prototype.hasOwnProperty.call(t.Props||{},a[s])||(Object.prototype.hasOwnProperty.call(o,a[s])?r:Object.prototype.hasOwnProperty.call(l,a[s])?n:i).push([a[s],t.Custprops[a[s]]]);var u=[];for(s=0;s<i.length;++s)KR.indexOf(i[s][0])>-1||qR.indexOf(i[s][0])>-1||i[s][1]!=null&&u.push(i[s]);n.length&&kr.utils.cfb_add(e,"/SummaryInformation",q3(n,vy.SI,l,V3)),(r.length||u.length)&&kr.utils.cfb_add(e,"/DocumentSummaryInformation",q3(r,vy.DSI,o,B3,u.length?u:null,vy.UDI))}function Lte(t,e){var r=e||{},n=kr.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return kr.utils.cfb_add(n,i,EL(t,r)),r.biff==8&&(t.Props||t.Custprops)&&Rte(t,n),r.biff==8&&t.vbaraw&&QQ(n,kr.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var Fte={0:{f:MZ},1:{f:qZ},2:{f:fee},3:{f:ZZ},4:{f:YZ},5:{f:oee},6:{f:gee},7:{f:nee},8:{f:See},9:{f:bee},10:{f:wee},11:{f:_ee},12:{f:GZ},13:{f:dee},14:{f:tee},15:{f:QZ},16:{f:uee},17:{f:yee},18:{f:see},19:{f:p4},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:lte},40:{},42:{},43:{f:gQ},44:{f:pQ},45:{f:xQ},46:{f:_Q},47:{f:wQ},48:{},49:{f:GY},50:{},51:{f:MQ},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:KX},62:{f:mee},63:{f:WQ},64:{f:Bee},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:co,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Dee},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:WZ},148:{f:VZ,p:16},151:{f:Cee},152:{},153:{f:ate},154:{},155:{},156:{f:ite},157:{},158:{},159:{T:1,f:iQ},160:{T:-1},161:{T:1,f:Xc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Tee},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:DQ},336:{T:-1},337:{f:VQ,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Ew},357:{},358:{},359:{},360:{T:1},361:{},362:{f:zX},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Pee},427:{f:Iee},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Lee},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:zZ},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Nee},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Ew},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:KQ},633:{T:1},634:{T:-1},635:{T:1,f:$Q},636:{T:-1},637:{f:QY},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Jee},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Vee},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function at(t,e,r,n){var i=e;if(!isNaN(i)){var s=n||(r||[]).length||0,a=t.next(4);a.write_shift(2,i),a.write_shift(2,s),s>0&&f4(r)&&t.push(r)}}function Dte(t,e,r,n){var i=(r||[]).length||0;if(i<=8224)return at(t,e,r,i);var s=e;if(!isNaN(s)){for(var a=r.parts||[],o=0,l=0,u=0;u+(a[o]||8224)<=8224;)u+=a[o]||8224,o++;var c=t.next(4);for(c.write_shift(2,s),c.write_shift(2,u),t.push(r.slice(l,l+u)),l+=u;l<i;){for(c=t.next(4),c.write_shift(2,60),u=0;u+(a[o]||8224)<=8224;)u+=a[o]||8224,o++;c.write_shift(2,u),t.push(r.slice(l,l+u)),l+=u}}}function Bp(t,e,r){return t||(t=Ve(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function Ote(t,e,r,n){var i=Ve(9);return Bp(i,t,e),XR(r,n||"b",i),i}function Mte(t,e,r){var n=Ve(8+2*r.length);return Bp(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function jte(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?hs(qi(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?at(t,2,JX(r,n,i)):at(t,3,QX(r,n,i));return;case"b":case"e":at(t,5,Ote(r,n,e.v,e.t));return;case"s":case"str":at(t,4,Mte(r,n,(e.v||"").slice(0,255)));return}at(t,1,Bp(null,r,n))}function Bte(t,e,r,n){var i=Array.isArray(e),s=zr(e["!ref"]||"A1"),a,o="",l=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),a=En(s)}for(var u=s.s.r;u<=s.e.r;++u){o=li(u);for(var c=s.s.c;c<=s.e.c;++c){u===s.s.r&&(l[c]=ki(c)),a=l[c]+o;var f=i?(e[u]||[])[c]:e[a];f&&jte(t,f,u,c)}}}function Vte(t,e){for(var r=e||{},n=fs(),i=0,s=0;s<t.SheetNames.length;++s)t.SheetNames[s]==r.sheet&&(i=s);if(i==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return at(n,r.biff==4?1033:r.biff==3?521:9,v4(t,16,r)),Bte(n,t.Sheets[t.SheetNames[i]],i,r),at(n,10),n.end()}function Ute(t,e,r){at(t,49,FX({sz:12,name:"Arial"},r))}function zte(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&at(t,1054,MX(i,e[i],r))})}function Wte(t,e){var r=Ve(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),at(t,2151,r),r=Ve(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),ZR(zr(e["!ref"]||"A1"),r),r.write_shift(4,4),at(t,2152,r)}function Hte(t,e){for(var r=0;r<16;++r)at(t,224,G3({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){at(t,224,G3(n,0,e))})}function qte(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];at(t,440,qX(n)),n[1].Tooltip&&at(t,2048,$X(n))}delete e["!links"]}function $te(t,e){if(e){var r=0;e.forEach(function(n,i){++r<=256&&n&&at(t,125,YX(Bv(i,n),i))})}}function Gte(t,e,r,n,i){var s=16+ju(i.cellXfs,e,i);if(e.v==null&&!e.bf){at(t,513,Vc(r,n,s));return}if(e.bf)at(t,6,vZ(e,r,n,i,s));else switch(e.t){case"d":case"n":var a=e.t=="d"?hs(qi(e.v)):e.v;at(t,515,UX(r,n,a,s));break;case"b":case"e":at(t,517,VX(r,n,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var o=b4(i.Strings,e.v,i.revStrings);at(t,253,DX(r,n,o,s))}else at(t,516,OX(r,n,(e.v||"").slice(0,255),s,i));break;default:at(t,513,Vc(r,n,s))}}function Kte(t,e,r){var n=fs(),i=r.SheetNames[t],s=r.Sheets[i]||{},a=(r||{}).Workbook||{},o=(a.Sheets||[])[t]||{},l=Array.isArray(s),u=e.biff==8,c,f="",d=[],h=zr(s["!ref"]||"A1"),v=u?65536:16384;if(h.e.c>255||h.e.r>=v){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");h.e.c=Math.min(h.e.c,255),h.e.r=Math.min(h.e.c,v-1)}at(n,2057,v4(r,16,e)),at(n,13,Ks(1)),at(n,12,Ks(100)),at(n,15,zi(!0)),at(n,17,zi(!1)),at(n,16,Bc(.001)),at(n,95,zi(!0)),at(n,42,zi(!1)),at(n,43,zi(!1)),at(n,130,Ks(1)),at(n,128,BX()),at(n,131,zi(!1)),at(n,132,zi(!1)),u&&$te(n,s["!cols"]),at(n,512,jX(h,e)),u&&(s["!links"]=[]);for(var g=h.s.r;g<=h.e.r;++g){f=li(g);for(var S=h.s.c;S<=h.e.c;++S){g===h.s.r&&(d[S]=ki(S)),c=d[S]+f;var _=l?(s[g]||[])[S]:s[c];_&&(Gte(n,_,g,S,e),u&&_.l&&s["!links"].push([c,_.l]))}}var b=o.CodeName||o.name||i;return u&&at(n,574,LX((a.Views||[])[0])),u&&(s["!merges"]||[]).length&&at(n,229,HX(s["!merges"])),u&&qte(n,s),at(n,442,JR(b)),u&&Wte(n,s),at(n,10),n.end()}function Yte(t,e,r){var n=fs(),i=(t||{}).Workbook||{},s=i.Sheets||[],a=i.WBProps||{},o=r.biff==8,l=r.biff==5;if(at(n,2057,v4(t,5,r)),r.bookType=="xla"&&at(n,135),at(n,225,o?Ks(1200):null),at(n,193,wX(2)),l&&at(n,191),l&&at(n,192),at(n,226),at(n,92,CX("SheetJS",r)),at(n,66,Ks(o?1200:1252)),o&&at(n,353,Ks(0)),o&&at(n,448),at(n,317,XX(t.SheetNames.length)),o&&t.vbaraw&&at(n,211),o&&t.vbaraw){var u=a.CodeName||"ThisWorkbook";at(n,442,JR(u))}at(n,156,Ks(17)),at(n,25,zi(!1)),at(n,18,zi(!1)),at(n,19,Ks(0)),o&&at(n,431,zi(!1)),o&&at(n,444,Ks(0)),at(n,61,RX()),at(n,64,zi(!1)),at(n,141,Ks(0)),at(n,34,zi(ete(t)=="true")),at(n,14,zi(!0)),o&&at(n,439,zi(!1)),at(n,218,Ks(0)),Ute(n,t,r),zte(n,t.SSF,r),Hte(n,r),o&&at(n,352,zi(!1));var c=n.end(),f=fs();o&&at(f,140,GX()),o&&r.Strings&&Dte(f,252,IX(r.Strings)),at(f,10);var d=f.end(),h=fs(),v=0,g=0;for(g=0;g<t.SheetNames.length;++g)v+=(o?12:11)+(o?2:1)*t.SheetNames[g].length;var S=c.length+v+d.length;for(g=0;g<t.SheetNames.length;++g){var _=s[g]||{};at(h,133,PX({pos:S,hs:_.Hidden||0,dt:0,name:t.SheetNames[g]},r)),S+=e[g].length}var b=h.end();if(v!=b.length)throw new Error("BS8 "+v+" != "+b.length);var T=[];return c.length&&T.push(c),b.length&&T.push(b),d.length&&T.push(d),ii(T)}function Xte(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=ds(on)),t&&t.SSF&&(Fv(),Lv(t.SSF),r.revssf=Dv(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,S4(r),r.cellXfs=[],ju(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)n[n.length]=Kte(i,r,t);return n.unshift(Yte(t,n,r)),ii(n)}function EL(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var i=Fs(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return Xte(t,e);case 4:case 3:case 2:return Vte(t,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function Qte(t,e,r,n){for(var i=t["!merges"]||[],s=[],a=e.s.c;a<=e.e.c;++a){for(var o=0,l=0,u=0;u<i.length;++u)if(!(i[u].s.r>r||i[u].s.c>a)&&!(i[u].e.r<r||i[u].e.c<a)){if(i[u].s.r<r||i[u].s.c<a){o=-1;break}o=i[u].e.r-i[u].s.r+1,l=i[u].e.c-i[u].s.c+1;break}if(!(o<0)){var c=Sr({r,c:a}),f=n.dense?(t[r]||[])[a]:t[c],d=f&&f.v!=null&&(f.h||kY(f.w||(el(f),f.w)||""))||"",h={};o>1&&(h.rowspan=o),l>1&&(h.colspan=l),n.editable?d='<span contenteditable="true">'+d+"</span>":f&&(h["data-t"]=f&&f.t||"z",f.v!=null&&(h["data-v"]=f.v),f.z!=null&&(h["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(d='<a href="'+f.l.Target+'">'+d+"</a>")),h.id=(n.id||"sjs")+"-"+c,s.push(st("td",d,h))}}var v="<tr>";return v+s.join("")+"</tr>"}var Jte='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Zte="</body></html>";function ere(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function AL(t,e){var r=e||{},n=r.header!=null?r.header:Jte,i=r.footer!=null?r.footer:Zte,s=[n],a=Fs(t["!ref"]);r.dense=Array.isArray(t),s.push(ere(t,a,r));for(var o=a.s.r;o<=a.e.r;++o)s.push(Qte(t,a,o,r));return s.push("</table>"+i),s.join("")}function NL(t,e,r){var n=r||{},i=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var a=typeof n.origin=="string"?Wn(n.origin):n.origin;i=a.r,s=a.c}var o=e.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var c=Fs(t["!ref"]);u.s.r=Math.min(u.s.r,c.s.r),u.s.c=Math.min(u.s.c,c.s.c),u.e.r=Math.max(u.e.r,c.e.r),u.e.c=Math.max(u.e.c,c.e.c),i==-1&&(u.e.r=i=c.e.r+1)}var f=[],d=0,h=t["!rows"]||(t["!rows"]=[]),v=0,g=0,S=0,_=0,b=0,T=0;for(t["!cols"]||(t["!cols"]=[]);v<o.length&&g<l;++v){var L=o[v];if(eA(L)){if(n.display)continue;h[g]={hidden:!0}}var j=L.children;for(S=_=0;S<j.length;++S){var B=j[S];if(!(n.display&&eA(B))){var k=B.hasAttribute("data-v")?B.getAttribute("data-v"):B.hasAttribute("v")?B.getAttribute("v"):RY(B.innerHTML),y=B.getAttribute("data-z")||B.getAttribute("z");for(d=0;d<f.length;++d){var C=f[d];C.s.c==_+s&&C.s.r<g+i&&g+i<=C.e.r&&(_=C.e.c+1-s,d=-1)}T=+B.getAttribute("colspan")||1,((b=+B.getAttribute("rowspan")||1)>1||T>1)&&f.push({s:{r:g+i,c:_+s},e:{r:g+i+(b||1)-1,c:_+s+(T||1)-1}});var F={t:"s",v:k},E=B.getAttribute("data-t")||B.getAttribute("t")||"";k!=null&&(k.length==0?F.t=E||"z":n.raw||k.trim().length==0||E=="s"||(k==="TRUE"?F={t:"b",v:!0}:k==="FALSE"?F={t:"b",v:!1}:isNaN(Vo(k))?isNaN(ap(k).getDate())||(F={t:"d",v:qi(k)},n.cellDates||(F={t:"n",v:hs(F.v)}),F.z=n.dateNF||on[14]):F={t:"n",v:Vo(k)})),F.z===void 0&&y!=null&&(F.z=y);var N="",D=B.getElementsByTagName("A");if(D&&D.length)for(var G=0;G<D.length&&!(D[G].hasAttribute("href")&&(N=D[G].getAttribute("href"),N.charAt(0)!="#"));++G);N&&N.charAt(0)!="#"&&(F.l={Target:N}),n.dense?(t[g+i]||(t[g+i]=[]),t[g+i][_+s]=F):t[Sr({c:_+s,r:g+i})]=F,u.e.c<_+s&&(u.e.c=_+s),_+=T}}++g}return f.length&&(t["!merges"]=(t["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,g-1+i),t["!ref"]=En(u),g>=l&&(t["!fullref"]=En((u.e.r=o.length-v+g-1+i,u))),t}function kL(t,e){var r=e||{},n=r.dense?[]:{};return NL(n,t,e)}function tre(t,e){return $c(kL(t,e),e)}function eA(t){var e="",r=rre(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function rre(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var nre=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+lp({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return An+e}}(),tA=function(){var t=function(s){return wr(s).replace(/  +/g,function(a){return'<text:s text:c="'+a.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(s,a,o){var l=[];l.push('      <table:table table:name="'+wr(a.SheetNames[o])+`" table:style-name="ta1">
`);var u=0,c=0,f=Fs(s["!ref"]||"A1"),d=s["!merges"]||[],h=0,v=Array.isArray(s);if(s["!cols"])for(c=0;c<=f.e.c;++c)l.push("        <table:table-column"+(s["!cols"][c]?' table:style-name="co'+s["!cols"][c].ods+'"':"")+`></table:table-column>
`);var g="",S=s["!rows"]||[];for(u=0;u<f.s.r;++u)g=S[u]?' table:style-name="ro'+S[u].ods+'"':"",l.push("        <table:table-row"+g+`></table:table-row>
`);for(;u<=f.e.r;++u){for(g=S[u]?' table:style-name="ro'+S[u].ods+'"':"",l.push("        <table:table-row"+g+`>
`),c=0;c<f.s.c;++c)l.push(e);for(;c<=f.e.c;++c){var _=!1,b={},T="";for(h=0;h!=d.length;++h)if(!(d[h].s.c>c)&&!(d[h].s.r>u)&&!(d[h].e.c<c)&&!(d[h].e.r<u)){(d[h].s.c!=c||d[h].s.r!=u)&&(_=!0),b["table:number-columns-spanned"]=d[h].e.c-d[h].s.c+1,b["table:number-rows-spanned"]=d[h].e.r-d[h].s.r+1;break}if(_){l.push(r);continue}var L=Sr({r:u,c}),j=v?(s[u]||[])[c]:s[L];if(j&&j.f&&(b["table:formula"]=wr(SZ(j.f)),j.F&&j.F.slice(0,L.length)==L)){var B=Fs(j.F);b["table:number-matrix-columns-spanned"]=B.e.c-B.s.c+1,b["table:number-matrix-rows-spanned"]=B.e.r-B.s.r+1}if(!j){l.push(e);continue}switch(j.t){case"b":T=j.v?"TRUE":"FALSE",b["office:value-type"]="boolean",b["office:boolean-value"]=j.v?"true":"false";break;case"n":T=j.w||String(j.v||0),b["office:value-type"]="float",b["office:value"]=j.v||0;break;case"s":case"str":T=j.v==null?"":j.v,b["office:value-type"]="string";break;case"d":T=j.w||qi(j.v).toISOString(),b["office:value-type"]="date",b["office:date-value"]=qi(j.v).toISOString(),b["table:style-name"]="ce1";break;default:l.push(e);continue}var k=t(T);if(j.l&&j.l.Target){var y=j.l.Target;y=y.charAt(0)=="#"?"#"+TZ(y.slice(1)):y,y.charAt(0)!="#"&&!y.match(/^\w+:/)&&(y="../"+y),k=st("text:a",k,{"xlink:href":y.replace(/&/g,"&amp;")})}l.push("          "+st("table:table-cell",st("text:p",k,{}),b)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(s,a){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var o=0;a.SheetNames.map(function(u){return a.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var c=0;c<u["!cols"].length;++c)if(u["!cols"][c]){var f=u["!cols"][c];if(f.width==null&&f.wpx==null&&f.wch==null)continue;y4(f),f.ods=o;var d=u["!cols"][c].wpx+"px";s.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+d+`"/>
`),s.push(`  </style:style>
`),++o}}});var l=0;a.SheetNames.map(function(u){return a.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var c=0;c<u["!rows"].length;++c)if(u["!rows"][c]){u["!rows"][c].ods=l;var f=u["!rows"][c].hpx+"px";s.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),s.push(`  </style:style>
`),++l}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(a,o){var l=[An],u=lp({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),c=lp({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+u+c+`>
`),l.push(WR().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+u+`>
`),i(l,a),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var f=0;f!=a.SheetNames.length;++f)l.push(n(a.Sheets[a.SheetNames[f]],a,f));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function CL(t,e){if(e.bookType=="fods")return tA(t,e);var r=o4(),n="",i=[],s=[];return n="mimetype",$t(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",$t(r,n,tA(t,e)),i.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",$t(r,n,nre(t,e)),i.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",$t(r,n,An+WR()),i.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",$t(r,n,mX(s)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",$t(r,n,dX(i)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function F1(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function ire(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Na(op(t))}function sre(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function ku(t){var e=t.reduce(function(i,s){return i+s.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(i){r.set(i,n),n+=i.length}),r}function are(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var s=0;i>=1;++s,i/=256)t[e+s]=i&255;t[e+15]|=r>=0?0:128}function up(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function vr(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function fh(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function Pn(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],i=up(t,r),s=i&7;i=Math.floor(i/8);var a=0,o;if(i==0)break;switch(s){case 0:{for(var l=r[0];t[r[0]++]>=128;);o=t.slice(l,r[0])}break;case 5:a=4,o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 1:a=8,o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 2:a=up(t,r),o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(n))}var u={data:o,type:s};e[i]==null?e[i]=[u]:e[i].push(u)}return e}function Jn(t){var e=[];return t.forEach(function(r,n){r.forEach(function(i){i.data&&(e.push(vr(n*8+i.type)),i.type==2&&e.push(vr(i.data.length)),e.push(i.data))})}),ku(e)}function ya(t){for(var e,r=[],n=[0];n[0]<t.length;){var i=up(t,n),s=Pn(t.slice(n[0],n[0]+i));n[0]+=i;var a={id:fh(s[1][0].data),messages:[]};s[2].forEach(function(o){var l=Pn(o.data),u=fh(l[3][0].data);a.messages.push({meta:l,data:t.slice(n[0],n[0]+u)}),n[0]+=u}),(e=s[3])!=null&&e[0]&&(a.merge=fh(s[3][0].data)>>>0>0),r.push(a)}return r}function Sf(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:vr(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:vr(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(a){i.push(a.data),a.meta[3]=[{type:0,data:vr(a.data.length)}],n[2].push({data:Jn(a.meta),type:2})});var s=Jn(n);e.push(vr(s.length)),e.push(s),i.forEach(function(a){return e.push(a)})}),ku(e)}function ore(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=up(e,r),i=[];r[0]<e.length;){var s=e[r[0]]&3;if(s==0){var a=e[r[0]++]>>2;if(a<60)++a;else{var o=a-59;a=e[r[0]],o>1&&(a|=e[r[0]+1]<<8),o>2&&(a|=e[r[0]+2]<<16),o>3&&(a|=e[r[0]+3]<<24),a>>>=0,a++,r[0]+=o}i.push(e.slice(r[0],r[0]+a)),r[0]+=a;continue}else{var l=0,u=0;if(s==1?(u=(e[r[0]]>>2&7)+4,l=(e[r[0]++]&224)<<3,l|=e[r[0]++]):(u=(e[r[0]++]>>2)+1,s==2?(l=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(l=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),i=[ku(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(i.push(i[0].slice(-l)),u-=l;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-l,-l+u))}}var c=ku(i);if(c.length!=n)throw new Error("Unexpected length: ".concat(c.length," != ").concat(n));return c}function xa(t){for(var e=[],r=0;r<t.length;){var n=t[r++],i=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(ore(n,t.slice(r,r+i))),r+=i}if(r!==t.length)throw new Error("data is not a valid framed stream!");return ku(e)}function Tf(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),i=new Uint8Array(4);e.push(i);var s=vr(n),a=s.length;e.push(s),n<=60?(a++,e.push(new Uint8Array([n-1<<2]))):n<=256?(a+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(a+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(a+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(a+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),a+=n,i[0]=0,i[1]=a&255,i[2]=a>>8&255,i[3]=a>>16&255,r+=n}return ku(e)}function yy(t,e){var r=new Uint8Array(32),n=F1(r),i=12,s=0;switch(r[0]=5,t.t){case"n":r[1]=2,are(r,i,t.v),s|=1,i+=16;break;case"b":r[1]=6,n.setFloat64(i,t.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(i,e.indexOf(t.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,s,!0),r.slice(0,i)}function xy(t,e){var r=new Uint8Array(32),n=F1(r),i=12,s=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(i,t.v,!0),s|=32,i+=8;break;case"b":r[2]=6,n.setFloat64(i,t.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(i,e.indexOf(t.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,s,!0),r.slice(0,i)}function jl(t){var e=Pn(t);return up(e[1][0].data)}function lre(t,e,r){var n,i,s,a;if(!((n=t[6])!=null&&n[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((a=(s=t[8])==null?void 0:s[0])==null?void 0:a.data)&&fh(t[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,u=F1(t[7][0].data),c=0,f=[],d=F1(t[4][0].data),h=0,v=[],g=0;g<e.length;++g){if(e[g]==null){u.setUint16(g*2,65535,!0),d.setUint16(g*2,65535);continue}u.setUint16(g*2,c,!0),d.setUint16(g*2,h,!0);var S,_;switch(typeof e[g]){case"string":S=yy({t:"s",v:e[g]},r),_=xy({t:"s",v:e[g]},r);break;case"number":S=yy({t:"n",v:e[g]},r),_=xy({t:"n",v:e[g]},r);break;case"boolean":S=yy({t:"b",v:e[g]},r),_=xy({t:"b",v:e[g]},r);break;default:throw new Error("Unsupported value "+e[g])}f.push(S),c+=S.length,v.push(_),h+=_.length,++l}for(t[2][0].data=vr(l);g<t[7][0].data.length/2;++g)u.setUint16(g*2,65535,!0),d.setUint16(g*2,65535,!0);return t[6][0].data=ku(f),t[3][0].data=ku(v),l}function ure(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Fs(r["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(En(n)));var s=D1(r,{range:n,header:1}),a=["~Sh33tJ5~"];s.forEach(function(O){return O.forEach(function(U){typeof U=="string"&&a.push(U)})});var o={},l=[],u=kr.read(e.numbers,{type:"base64"});u.FileIndex.map(function(O,U){return[O,u.FullPaths[U]]}).forEach(function(O){var U=O[0],z=O[1];if(U.type==2&&U.name.match(/\.iwa/)){var q=U.content,fe=xa(q),me=ya(fe);me.forEach(function(ge){l.push(ge.id),o[ge.id]={deps:[],location:z,type:fh(ge.messages[0].meta[1][0].data)}})}}),l.sort(function(O,U){return O-U});var c=l.filter(function(O){return O>1}).map(function(O){return[O,vr(O)]});u.FileIndex.map(function(O,U){return[O,u.FullPaths[U]]}).forEach(function(O){var U=O[0];if(O[1],!!U.name.match(/\.iwa/)){var z=ya(xa(U.content));z.forEach(function(q){q.messages.forEach(function(fe){c.forEach(function(me){q.messages.some(function(ge){return fh(ge.meta[1][0].data)!=11006&&sre(ge.data,me[1])})&&o[me[0]].deps.push(q.id)})})})}});for(var f=kr.find(u,o[1].location),d=ya(xa(f.content)),h,v=0;v<d.length;++v){var g=d[v];g.id==1&&(h=g)}var S=jl(Pn(h.messages[0].data)[1][0].data);for(f=kr.find(u,o[S].location),d=ya(xa(f.content)),v=0;v<d.length;++v)g=d[v],g.id==S&&(h=g);for(S=jl(Pn(h.messages[0].data)[2][0].data),f=kr.find(u,o[S].location),d=ya(xa(f.content)),v=0;v<d.length;++v)g=d[v],g.id==S&&(h=g);for(S=jl(Pn(h.messages[0].data)[2][0].data),f=kr.find(u,o[S].location),d=ya(xa(f.content)),v=0;v<d.length;++v)g=d[v],g.id==S&&(h=g);var _=Pn(h.messages[0].data);{_[6][0].data=vr(n.e.r+1),_[7][0].data=vr(n.e.c+1);var b=jl(_[46][0].data),T=kr.find(u,o[b].location),L=ya(xa(T.content));{for(var j=0;j<L.length&&L[j].id!=b;++j);if(L[j].id!=b)throw"Bad ColumnRowUIDMapArchive";var B=Pn(L[j].messages[0].data);B[1]=[],B[2]=[],B[3]=[];for(var k=0;k<=n.e.c;++k){var y=[];y[1]=y[2]=[{type:0,data:vr(k+420690)}],B[1].push({type:2,data:Jn(y)}),B[2].push({type:0,data:vr(k)}),B[3].push({type:0,data:vr(k)})}B[4]=[],B[5]=[],B[6]=[];for(var C=0;C<=n.e.r;++C)y=[],y[1]=y[2]=[{type:0,data:vr(C+726270)}],B[4].push({type:2,data:Jn(y)}),B[5].push({type:0,data:vr(C)}),B[6].push({type:0,data:vr(C)});L[j].messages[0].data=Jn(B)}T.content=Tf(Sf(L)),T.size=T.content.length,delete _[46];var F=Pn(_[4][0].data);{F[7][0].data=vr(n.e.r+1);var E=Pn(F[1][0].data),N=jl(E[2][0].data);T=kr.find(u,o[N].location),L=ya(xa(T.content));{if(L[0].id!=N)throw"Bad HeaderStorageBucket";var D=Pn(L[0].messages[0].data);for(C=0;C<s.length;++C){var G=Pn(D[2][0].data);G[1][0].data=vr(C),G[4][0].data=vr(s[C].length),D[2][C]={type:D[2][0].type,data:Jn(G)}}L[0].messages[0].data=Jn(D)}T.content=Tf(Sf(L)),T.size=T.content.length;var de=jl(F[2][0].data);T=kr.find(u,o[de].location),L=ya(xa(T.content));{if(L[0].id!=de)throw"Bad HeaderStorageBucket";for(D=Pn(L[0].messages[0].data),k=0;k<=n.e.c;++k)G=Pn(D[2][0].data),G[1][0].data=vr(k),G[4][0].data=vr(n.e.r+1),D[2][k]={type:D[2][0].type,data:Jn(G)};L[0].messages[0].data=Jn(D)}T.content=Tf(Sf(L)),T.size=T.content.length;var ie=jl(F[4][0].data);(function(){for(var O=kr.find(u,o[ie].location),U=ya(xa(O.content)),z,q=0;q<U.length;++q){var fe=U[q];fe.id==ie&&(z=fe)}var me=Pn(z.messages[0].data);{me[3]=[];var ge=[];a.forEach(function(Be,Ue){ge[1]=[{type:0,data:vr(Ue)}],ge[2]=[{type:0,data:vr(1)}],ge[3]=[{type:2,data:ire(Be)}],me[3].push({type:2,data:Jn(ge)})})}z.messages[0].data=Jn(me);var Te=Sf(U),Oe=Tf(Te);O.content=Oe,O.size=O.content.length})();var ee=Pn(F[3][0].data);{var Q=ee[1][0];delete ee[2];var te=Pn(Q.data);{var pe=jl(te[2][0].data);(function(){for(var O=kr.find(u,o[pe].location),U=ya(xa(O.content)),z,q=0;q<U.length;++q){var fe=U[q];fe.id==pe&&(z=fe)}var me=Pn(z.messages[0].data);{delete me[6],delete ee[7];var ge=new Uint8Array(me[5][0].data);me[5]=[];for(var Te=0,Oe=0;Oe<=n.e.r;++Oe){var Be=Pn(ge);Te+=lre(Be,s[Oe],a),Be[1][0].data=vr(Oe),me[5].push({data:Jn(Be),type:2})}me[1]=[{type:0,data:vr(n.e.c+1)}],me[2]=[{type:0,data:vr(n.e.r+1)}],me[3]=[{type:0,data:vr(Te)}],me[4]=[{type:0,data:vr(n.e.r+1)}]}z.messages[0].data=Jn(me);var Ue=Sf(U),He=Tf(Ue);O.content=He,O.size=O.content.length})()}Q.data=Jn(te)}F[3][0].data=Jn(ee)}_[4][0].data=Jn(F)}h.messages[0].data=Jn(_);var be=Sf(d),I=Tf(be);return f.content=I,f.size=f.content.length,u}function cre(t){return function(r){for(var n=0;n!=t.length;++n){var i=t[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function S4(t){cre([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function fre(t,e){return e.bookType=="ods"?CL(t,e):e.bookType=="numbers"?ure(t,e):e.bookType=="xlsb"?hre(t,e):dre(t,e)}function hre(t,e){Xf=1024,t&&!t.SSF&&(t.SSF=ds(on)),t&&t.SSF&&(Fv(),Lv(t.SSF),e.revssf=Dv(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,m0?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=fL.indexOf(e.bookType)>-1,i=VR();S4(e=e||{});var s=o4(),a="",o=0;if(e.cellXfs=[],ju(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",$t(s,a,HR(t.Props,e)),i.coreprops.push(a),yr(e.rels,2,a,or.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],u=0;u<t.SheetNames.length;++u)(t.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(t.SheetNames[u]);t.Props.SheetNames=l}for(t.Props.Worksheets=t.Props.SheetNames.length,$t(s,a,$R(t.Props)),i.extprops.push(a),yr(e.rels,3,a,or.EXT_PROPS),t.Custprops!==t.Props&&fi(t.Custprops||{}).length>0&&(a="docProps/custom.xml",$t(s,a,GR(t.Custprops)),i.custprops.push(a),yr(e.rels,4,a,or.CUST_PROPS)),o=1;o<=t.SheetNames.length;++o){var c={"!id":{}},f=t.Sheets[t.SheetNames[o-1]],d=(f||{})["!type"]||"sheet";switch(d){case"chart":default:a="xl/worksheets/sheet"+o+"."+r,$t(s,a,mte(o-1,a,e,t,c)),i.sheets.push(a),yr(e.wbrels,-1,"worksheets/sheet"+o+"."+r,or.WS[0])}if(f){var h=f["!comments"],v=!1,g="";h&&h.length>0&&(g="xl/comments"+o+"."+r,$t(s,g,yte(h,g)),i.comments.push(g),yr(c,-1,"../comments"+o+"."+r,or.CMNT),v=!0),f["!legacy"]&&v&&$t(s,"xl/drawings/vmlDrawing"+o+".vml",uL(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}c["!id"].rId1&&$t(s,zR(a),uh(c))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+r,$t(s,a,vte(e.Strings,a,e)),i.strs.push(a),yr(e.wbrels,-1,"sharedStrings."+r,or.SST)),a="xl/workbook."+r,$t(s,a,pte(t,a)),i.workbooks.push(a),yr(e.rels,1,a,or.WB),a="xl/theme/theme1.xml",$t(s,a,oL(t.Themes,e)),i.themes.push(a),yr(e.wbrels,-1,"theme/theme1.xml",or.THEME),a="xl/styles."+r,$t(s,a,gte(t,a,e)),i.styles.push(a),yr(e.wbrels,-1,"styles."+r,or.STY),t.vbaraw&&n&&(a="xl/vbaProject.bin",$t(s,a,t.vbaraw),i.vba.push(a),yr(e.wbrels,-1,"vbaProject.bin",or.VBA)),a="xl/metadata."+r,$t(s,a,xte(a)),i.metadata.push(a),yr(e.wbrels,-1,"metadata."+r,or.XLMETA),$t(s,"[Content_Types].xml",UR(i,e)),$t(s,"_rels/.rels",uh(e.rels)),$t(s,"xl/_rels/workbook."+r+".rels",uh(e.wbrels)),delete e.revssf,delete e.ssf,s}function dre(t,e){Xf=1024,t&&!t.SSF&&(t.SSF=ds(on)),t&&t.SSF&&(Fv(),Lv(t.SSF),e.revssf=Dv(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,m0?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=fL.indexOf(e.bookType)>-1,i=VR();S4(e=e||{});var s=o4(),a="",o=0;if(e.cellXfs=[],ju(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",$t(s,a,HR(t.Props,e)),i.coreprops.push(a),yr(e.rels,2,a,or.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],u=0;u<t.SheetNames.length;++u)(t.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(t.SheetNames[u]);t.Props.SheetNames=l}t.Props.Worksheets=t.Props.SheetNames.length,$t(s,a,$R(t.Props)),i.extprops.push(a),yr(e.rels,3,a,or.EXT_PROPS),t.Custprops!==t.Props&&fi(t.Custprops||{}).length>0&&(a="docProps/custom.xml",$t(s,a,GR(t.Custprops)),i.custprops.push(a),yr(e.rels,4,a,or.CUST_PROPS));var c=["SheetJ5"];for(e.tcid=0,o=1;o<=t.SheetNames.length;++o){var f={"!id":{}},d=t.Sheets[t.SheetNames[o-1]],h=(d||{})["!type"]||"sheet";switch(h){case"chart":default:a="xl/worksheets/sheet"+o+"."+r,$t(s,a,wL(o-1,e,t,f)),i.sheets.push(a),yr(e.wbrels,-1,"worksheets/sheet"+o+"."+r,or.WS[0])}if(d){var v=d["!comments"],g=!1,S="";if(v&&v.length>0){var _=!1;v.forEach(function(b){b[1].forEach(function(T){T.T==!0&&(_=!0)})}),_&&(S="xl/threadedComments/threadedComment"+o+"."+r,$t(s,S,HQ(v,c,e)),i.threadedcomments.push(S),yr(f,-1,"../threadedComments/threadedComment"+o+"."+r,or.TCMNT)),S="xl/comments"+o+"."+r,$t(s,S,cL(v)),i.comments.push(S),yr(f,-1,"../comments"+o+"."+r,or.CMNT),g=!0}d["!legacy"]&&g&&$t(s,"xl/drawings/vmlDrawing"+o+".vml",uL(o,d["!comments"])),delete d["!comments"],delete d["!legacy"]}f["!id"].rId1&&$t(s,zR(a),uh(f))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+r,$t(s,a,tL(e.Strings,e)),i.strs.push(a),yr(e.wbrels,-1,"sharedStrings."+r,or.SST)),a="xl/workbook."+r,$t(s,a,SL(t)),i.workbooks.push(a),yr(e.rels,1,a,or.WB),a="xl/theme/theme1.xml",$t(s,a,oL(t.Themes,e)),i.themes.push(a),yr(e.wbrels,-1,"theme/theme1.xml",or.THEME),a="xl/styles."+r,$t(s,a,sL(t,e)),i.styles.push(a),yr(e.wbrels,-1,"styles."+r,or.STY),t.vbaraw&&n&&(a="xl/vbaProject.bin",$t(s,a,t.vbaraw),i.vba.push(a),yr(e.wbrels,-1,"vbaProject.bin",or.VBA)),a="xl/metadata."+r,$t(s,a,lL()),i.metadata.push(a),yr(e.wbrels,-1,"metadata."+r,or.XLMETA),c.length>1&&(a="xl/persons/person.xml",$t(s,a,qQ(c)),i.people.push(a),yr(e.wbrels,-1,"persons/person.xml",or.PEOPLE)),$t(s,"[Content_Types].xml",UR(i,e)),$t(s,"_rels/.rels",uh(e.rels)),$t(s,"xl/_rels/workbook."+r+".rels",uh(e.wbrels)),delete e.revssf,delete e.ssf,s}function pre(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=Zo(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function PL(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Dp(e.file,kr.write(t,{type:fr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return kr.write(t,e)}function mre(t,e){var r=ds(e||{}),n=fre(t,r);return gre(n,r)}function gre(t,e){var r={},n=fr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?kr.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(Rv(i))}return e.password&&typeof encrypt_agile<"u"?PL(encrypt_agile(i,e.password),e):e.type==="file"?Dp(e.file,i):e.type=="string"?f0(i):i}function vre(t,e){var r=e||{},n=Lte(t,r);return PL(n,r)}function Ka(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return sp(op(n));case"binary":return op(n);case"string":return t;case"file":return Dp(e.file,n,"utf8");case"buffer":return fr?al(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Ka(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function yre(t,e){switch(e.type){case"base64":return sp(t);case"binary":return t;case"string":return t;case"file":return Dp(e.file,t,"binary");case"buffer":return fr?al(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Xm(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?sp(r):e.type=="string"?f0(r):r;case"file":return Dp(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function IL(t,e){$K(),nte(t);var r=ds(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=IL(t,r);return r.type="array",Rv(n)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=t.SheetNames.indexOf(r.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Ka(Ite(t,r),r);case"slk":case"sylk":return Ka(eQ.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"htm":case"html":return Ka(AL(t.Sheets[t.SheetNames[i]],r),r);case"txt":return yre(LL(t.Sheets[t.SheetNames[i]],r),r);case"csv":return Ka(T4(t.Sheets[t.SheetNames[i]],r),r,"\uFEFF");case"dif":return Ka(tQ.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"dbf":return Xm(ZX.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"prn":return Ka(rQ.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"rtf":return Ka(uQ.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"eth":return Ka(eL.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"fods":return Ka(CL(t,r),r);case"wk1":return Xm(K3.sheet_to_wk1(t.Sheets[t.SheetNames[i]],r),r);case"wk3":return Xm(K3.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Xm(EL(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),vre(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return mre(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function xre(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function RL(t,e,r){var n={};return n.type="file",n.file=e,xre(n),IL(t,n)}function wre(t,e,r,n,i,s,a,o){var l=li(r),u=o.defval,c=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,d=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(d,"__rowNum__",{value:r,enumerable:!1})}catch{d.__rowNum__=r}else d.__rowNum__=r;if(!a||t[r])for(var h=e.s.c;h<=e.e.c;++h){var v=a?t[r][h]:t[n[h]+l];if(v===void 0||v.t===void 0){if(u===void 0)continue;s[h]!=null&&(d[s[h]]=u);continue}var g=v.v;switch(v.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+v.t)}if(s[h]!=null){if(g==null)if(v.t=="e"&&g===null)d[s[h]]=null;else if(u!==void 0)d[s[h]]=u;else if(c&&g===null)d[s[h]]=null;else continue;else d[s[h]]=c&&(v.t!=="n"||v.t==="n"&&o.rawNumbers!==!1)?g:el(v,g,o);g!=null&&(f=!1)}}return{row:d,isempty:f}}function D1(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,s=[],a=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},u=e||{},c=u.range!=null?u.range:t["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof c){case"string":l=zr(c);break;case"number":l=zr(t["!ref"]),l.s.r=c;break;default:l=c}n>0&&(i=0);var f=li(l.s.r),d=[],h=[],v=0,g=0,S=Array.isArray(t),_=l.s.r,b=0,T={};S&&!t[_]&&(t[_]=[]);var L=u.skipHidden&&t["!cols"]||[],j=u.skipHidden&&t["!rows"]||[];for(b=l.s.c;b<=l.e.c;++b)if(!(L[b]||{}).hidden)switch(d[b]=ki(b),r=S?t[_][b]:t[d[b]+f],n){case 1:s[b]=b-l.s.c;break;case 2:s[b]=d[b];break;case 3:s[b]=u.header[b-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=a=el(r,null,u),g=T[a]||0,!g)T[a]=1;else{do o=a+"_"+g++;while(T[o]);T[a]=g,T[o]=1}s[b]=o}for(_=l.s.r+i;_<=l.e.r;++_)if(!(j[_]||{}).hidden){var B=wre(t,l,_,d,n,s,S,u);(B.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(h[v++]=B.row)}return h.length=v,h}var rA=/"/g;function _re(t,e,r,n,i,s,a,o){for(var l=!0,u=[],c="",f=li(r),d=e.s.c;d<=e.e.c;++d)if(n[d]){var h=o.dense?(t[r]||[])[d]:t[n[d]+f];if(h==null)c="";else if(h.v!=null){l=!1,c=""+(o.rawNumbers&&h.t=="n"?h.v:el(h,null,o));for(var v=0,g=0;v!==c.length;++v)if((g=c.charCodeAt(v))===i||g===s||g===34||o.forceQuotes){c='"'+c.replace(rA,'""')+'"';break}c=="ID"&&(c='"ID"')}else h.f!=null&&!h.F?(l=!1,c="="+h.f,c.indexOf(",")>=0&&(c='"'+c.replace(rA,'""')+'"')):c="";u.push(c)}return o.blankrows===!1&&l?null:u.join(a)}function T4(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var i=zr(t["!ref"]),s=n.FS!==void 0?n.FS:",",a=s.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),c="",f=[];n.dense=Array.isArray(t);for(var d=n.skipHidden&&t["!cols"]||[],h=n.skipHidden&&t["!rows"]||[],v=i.s.c;v<=i.e.c;++v)(d[v]||{}).hidden||(f[v]=ki(v));for(var g=0,S=i.s.r;S<=i.e.r;++S)(h[S]||{}).hidden||(c=_re(t,i,S,f,a,l,s,n),c!=null&&(n.strip&&(c=c.replace(u,"")),(c||n.blankrows!==!1)&&r.push((g++?o:"")+c)));return delete n.dense,r.join("")}function LL(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=T4(t,e);return r}function bre(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var i=zr(t["!ref"]),s="",a=[],o,l=[],u=Array.isArray(t);for(o=i.s.c;o<=i.e.c;++o)a[o]=ki(o);for(var c=i.s.r;c<=i.e.r;++c)for(s=li(c),o=i.s.c;o<=i.e.c;++o)if(e=a[o]+s,r=u?(t[c]||[])[o]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=e+"="+n}return l}function FL(t,e,r){var n=r||{},i=+!n.skipHeader,s=t||{},a=0,o=0;if(s&&n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?Wn(n.origin):n.origin;a=l.r,o=l.c}var u,c={s:{c:0,r:0},e:{c:o,r:a+e.length-1+i}};if(s["!ref"]){var f=zr(s["!ref"]);c.e.c=Math.max(c.e.c,f.e.c),c.e.r=Math.max(c.e.r,f.e.r),a==-1&&(a=f.e.r+1,c.e.r=a+e.length-1+i)}else a==-1&&(a=0,c.e.r=e.length-1+i);var d=n.header||[],h=0;e.forEach(function(g,S){fi(g).forEach(function(_){(h=d.indexOf(_))==-1&&(d[h=d.length]=_);var b=g[_],T="z",L="",j=Sr({c:o+h,r:a+S+i});u=cp(s,j),b&&typeof b=="object"&&!(b instanceof Date)?s[j]=b:(typeof b=="number"?T="n":typeof b=="boolean"?T="b":typeof b=="string"?T="s":b instanceof Date?(T="d",n.cellDates||(T="n",b=hs(b)),L=n.dateNF||on[14]):b===null&&n.nullError&&(T="e",b=0),u?(u.t=T,u.v=b,delete u.w,delete u.R,L&&(u.z=L)):s[j]=u={t:T,v:b},L&&(u.z=L))})}),c.e.c=Math.max(c.e.c,o+d.length-1);var v=li(a);if(i)for(h=0;h<d.length;++h)s[ki(h+o)+v]={t:"s",v:d[h]};return s["!ref"]=En(c),s}function Sre(t,e){return FL(null,t,e)}function cp(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=Wn(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?cp(t,Sr(e)):cp(t,Sr({r:e,c:r||0}))}function Tre(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function Ere(){return{SheetNames:[],Sheets:{}}}function Are(t,e,r,n){var i=1;if(!r)for(;i<=65535&&t.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var a=s&&s[1]||r;for(++i;i<=65535&&t.SheetNames.indexOf(r=a+i)!=-1;++i);}if(bL(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function Nre(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=Tre(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function kre(t,e){return t.z=e,t}function DL(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function Cre(t,e,r){return DL(t,"#"+e,r)}function Pre(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function Ire(t,e,r,n){for(var i=typeof e!="string"?e:zr(e),s=typeof e=="string"?e:En(e),a=i.s.r;a<=i.e.r;++a)for(var o=i.s.c;o<=i.e.c;++o){var l=cp(t,a,o);l.t="n",l.F=s,delete l.v,a==i.s.r&&o==i.s.c&&(l.f=r,n&&(l.D=!0))}return t}var hh={encode_col:ki,encode_row:li,encode_cell:Sr,encode_range:En,decode_col:d4,decode_row:h4,split_cell:$Y,decode_cell:Wn,decode_range:Fs,format_cell:el,sheet_add_aoa:FR,sheet_add_json:FL,sheet_add_dom:NL,aoa_to_sheet:Gh,json_to_sheet:Sre,table_to_sheet:kL,table_to_book:tre,sheet_to_csv:T4,sheet_to_txt:LL,sheet_to_json:D1,sheet_to_html:AL,sheet_to_formulae:bre,sheet_to_row_object_array:D1,sheet_get_cell:cp,book_new:Ere,book_append_sheet:Are,book_set_sheet_visibility:Nre,cell_set_number_format:kre,cell_set_hyperlink:DL,cell_set_internal_link:Cre,cell_add_comment:Pre,sheet_set_array_formula:Ire,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function Rre(){return w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 backdrop-blur-sm",children:w.jsx("div",{className:"w-16 h-16 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin"})})}function g0({status:t}){const e=r=>({Pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",Approved:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",Rejected:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400",Scheduled:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400","Pre-Op Preparation":"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400","Surgery In Progress":"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400","Post-Op Recovery":"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-400",Completed:"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-400"})[r]||"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400";return w.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium inline-flex items-center gap-1 ${e(t)}`,children:t||"Unknown"})}function Lre({match:t,onClose:e}){return t?w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{background:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(8px)"},children:w.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[w.jsx("div",{className:"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-6 rounded-t-3xl z-10",children:w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[w.jsx("span",{children:""}),w.jsx("span",{children:"Match Details"})]}),w.jsx("button",{onClick:e,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-all",children:w.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),w.jsxs("div",{className:"p-6 space-y-6",children:[w.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-gray-700 dark:to-gray-700 rounded-2xl p-6",children:[w.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Basic Information"}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Recipient Name"}),w.jsx("p",{className:"font-bold text-lg",children:t.recipientName})]}),w.jsxs("div",{children:[w.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Organ Type"}),w.jsx("p",{className:"font-bold text-lg",children:t.organType})]}),w.jsxs("div",{children:[w.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Blood Group"}),w.jsx("p",{className:"font-bold text-lg",children:t.bloodGroup})]}),w.jsxs("div",{children:[w.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Match Score"}),w.jsxs("p",{className:"font-bold text-lg",children:[t.score,"%"]})]})]})]}),w.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-2xl p-6",children:[w.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Status Information"}),w.jsxs("div",{className:"space-y-3",children:[w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Match Status:"}),w.jsx(g0,{status:t.status})]}),t.trackingStatus&&w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Surgery Status:"}),w.jsx(g0,{status:t.trackingStatus})]})]})]}),t.hospital&&w.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-2xl p-6",children:[w.jsxs("h3",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[w.jsx("span",{children:""}),w.jsx("span",{children:"Hospital Information"})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Hospital Name"}),w.jsx("p",{className:"font-medium",children:t.hospital})]}),t.hospitalAddress&&w.jsxs("div",{children:[w.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Address"}),w.jsx("p",{className:"font-medium",children:t.hospitalAddress})]}),t.scheduledDate&&w.jsxs("div",{children:[w.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Scheduled Date"}),w.jsx("p",{className:"font-medium",children:new Date(t.scheduledDate).toLocaleString()})]}),t.surgeon&&w.jsxs("div",{children:[w.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Surgeon"}),w.jsx("p",{className:"font-medium",children:t.surgeon})]})]})]}),t.timeline&&t.timeline.length>0&&w.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-2xl p-6",children:[w.jsxs("h3",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[w.jsx("span",{children:""}),w.jsx("span",{children:"Timeline"})]}),w.jsx("div",{className:"space-y-3",children:t.timeline.map((r,n)=>w.jsxs("div",{className:`flex gap-3 ${n!==t.timeline.length-1?"border-b border-gray-200 dark:border-gray-600 pb-3":""}`,children:[w.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white text-xs font-bold flex-shrink-0",children:n+1}),w.jsxs("div",{className:"flex-1",children:[w.jsx("p",{className:"font-semibold",children:r.status}),w.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:new Date(r.timestamp).toLocaleString()}),r.description&&w.jsx("p",{className:"text-sm mt-1",children:r.description})]})]},n))})]}),t.notes&&w.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-2xl p-6",children:[w.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Notes"}),w.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:t.notes})]}),w.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200 dark:border-gray-700",children:w.jsx("button",{onClick:e,className:"px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl hover:shadow-lg transition-all font-medium",children:"Close"})})]})]})}):null}function Fre(){var L,j;const[t,e]=ye.useState(null),[r,n]=ye.useState([]),[i,s]=ye.useState(!1),[a,o]=ye.useState(null),[l,u]=ye.useState("overview"),[c,f]=ye.useState(""),[d,h]=ye.useState(""),[v,g]=ye.useState("");ye.useEffect(()=>{async function B(){if(is.currentUser)try{const k=ea(Ti,"users",is.currentUser.uid),y=await Y0(k);y.exists()&&e(y.data())}catch(k){console.error("Error fetching user data:",k)}}B()},[]),ye.useEffect(()=>{if(!is.currentUser)return;s(!0);const B=K0(Zl(Ti,"matches"),h1("donorId","==",is.currentUser.uid)),k=bv(B,y=>{const C=y.docs.map(F=>({id:F.id,...F.data()}));n(C),s(!1)},y=>{console.error("Error fetching matches:",y),s(!1)});return()=>k()},[]);function S(B){const k=hh.json_to_sheet(B.map(C=>({Recipient:C.recipientName,Organ:C.organType,Blood:C.bloodGroup,Score:C.score,Status:C.status,TrackingStatus:C.trackingStatus||"Not Started",Hospital:C.hospital||""}))),y=hh.book_new();hh.book_append_sheet(y,k,"Matches"),RL(y,"donor_matches.xlsx")}function _(B){var C;const k=new At;k.text("Donor Matches Report",14,20);const y=B.map(F=>[F.recipientName,F.organType,F.bloodGroup,F.score,F.status]);if((C=k.autoTable)==null||C.call(k,{head:[["Recipient","Organ","Blood","Score","Status"]],body:y,startY:28}),!k.autoTable){let F=30;y.forEach(E=>{k.text(E.join(" | "),14,F),F+=8})}k.save("donor_matches.pdf")}const T=r.filter(B=>{var N,D;const k=((N=B.bloodGroup)==null?void 0:N.toLowerCase())||"",y=((D=B.organType)==null?void 0:D.toLowerCase())||"",C=B.status||"",F=c.toLowerCase(),E=d.toLowerCase();return!(F&&k!==F||E&&y!==E||v&&C!==v)}).filter((B,k,y)=>k===y.findIndex(C=>C.recipientName===B.recipientName&&C.organType===B.organType&&C.bloodGroup===B.bloodGroup));return w.jsxs("div",{className:"min-h-screen p-4 lg:p-8 bg-gradient-to-br from-purple-100 via-pink-100 to-blue-100 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800 transition-all",children:[i&&w.jsx(Rre,{}),a&&w.jsx(Lre,{match:a,onClose:()=>o(null)}),w.jsxs("div",{className:"max-w-7xl mx-auto",children:[w.jsx("header",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 mb-6 shadow-xl border border-white/20",children:w.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"Donor Dashboard"}),w.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Track your organ donation journey"})]}),w.jsxs("div",{className:"flex gap-3",children:[w.jsx("button",{onClick:()=>S(T),className:"px-4 py-3 bg-green-600 text-white rounded-xl hover:shadow-lg transition-all hover:scale-105",children:w.jsxs("span",{className:"flex items-center gap-2",children:[w.jsx("span",{children:""}),w.jsx("span",{className:"hidden sm:inline",children:"Excel"})]})}),w.jsx("button",{onClick:()=>_(T),className:"px-4 py-3 bg-red-600 text-white rounded-xl hover:shadow-lg transition-all hover:scale-105",children:w.jsxs("span",{className:"flex items-center gap-2",children:[w.jsx("span",{children:""}),w.jsx("span",{className:"hidden sm:inline",children:"PDF"})]})})]})]})}),w.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[{label:"Total Matches",value:T.length,icon:"",gradient:"from-blue-500 to-blue-600"},{label:"Pending",value:T.filter(B=>B.status==="Pending").length,icon:"",gradient:"from-yellow-500 to-yellow-600"},{label:"Approved",value:T.filter(B=>B.status==="Approved").length,icon:"",gradient:"from-green-500 to-green-600"},{label:"Completed",value:T.filter(B=>B.trackingStatus==="Completed").length,icon:"",gradient:"from-emerald-500 to-emerald-600"}].map((B,k)=>w.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 shadow-lg border border-white/20 hover:scale-105 transition-transform",style:{animationDelay:`${k*.1}s`},children:[w.jsxs("div",{className:"flex items-center justify-between mb-4",children:[w.jsx("div",{className:`w-14 h-14 bg-gradient-to-br ${B.gradient} rounded-xl flex items-center justify-center text-2xl shadow-lg`,children:B.icon}),w.jsx("div",{className:"text-right",children:w.jsx("p",{className:`text-3xl font-bold bg-gradient-to-r ${B.gradient} bg-clip-text text-transparent`,children:B.value})})]}),w.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:B.label})]},B.label))}),t&&w.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 mb-6 shadow-lg border border-white/20",children:[w.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[w.jsx("span",{children:""}),w.jsx("span",{children:"Your Profile"})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[w.jsx("div",{className:"space-y-3",children:w.jsxs("div",{className:"flex items-start gap-3",children:[w.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-xl flex items-center justify-center text-white text-2xl font-bold",children:((L=t.fullName)==null?void 0:L.split(" ").map(B=>B[0]).join(""))||"D"}),w.jsxs("div",{children:[w.jsx("p",{className:"font-bold text-lg",children:t.fullName||""}),w.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:((j=is.currentUser)==null?void 0:j.email)||""})]})]})}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4",children:[w.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Blood Group"}),w.jsx("p",{className:"text-xl font-bold text-red-600 dark:text-red-400",children:t.bloodGroup||""})]}),w.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4",children:[w.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Organ to Donate"}),w.jsx("p",{className:"text-xl font-bold text-indigo-600 dark:text-indigo-400",children:t.organType||""})]})]})]})]}),w.jsx("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 mb-6 shadow-lg border border-white/20",children:w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[w.jsxs("select",{value:c,onChange:B=>f(B.target.value),className:"px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-700 dark:bg-gray-800 focus:border-indigo-500 outline-none transition-all",children:[w.jsx("option",{value:"",children:"All Blood Groups"}),["A+","A-","B+","B-","AB+","AB-","O+","O-"].map(B=>w.jsx("option",{value:B,children:B},B))]}),w.jsxs("select",{value:d,onChange:B=>h(B.target.value),className:"px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-700 dark:bg-gray-800 focus:border-indigo-500 outline-none transition-all",children:[w.jsx("option",{value:"",children:"All Organs"}),["Kidney","Heart","Liver","Lung","Eye","Pancreas"].map(B=>w.jsx("option",{value:B.toLowerCase(),children:B},B))]}),w.jsxs("select",{value:v,onChange:B=>g(B.target.value),className:"px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-700 dark:bg-gray-800 focus:border-indigo-500 outline-none transition-all",children:[w.jsx("option",{value:"",children:"All Statuses"}),w.jsx("option",{value:"Pending",children:"Pending"}),w.jsx("option",{value:"Approved",children:"Approved"}),w.jsx("option",{value:"Rejected",children:"Rejected"})]}),w.jsx("button",{onClick:()=>{f(""),h(""),g("")},className:"px-4 py-3 bg-gray-200 dark:bg-gray-700 rounded-xl hover:bg-gray-300 dark:hover:bg-gray-600 transition-all font-medium",children:"Reset Filters"})]})}),w.jsx("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-2 mb-6 inline-flex gap-2 shadow-lg border border-white/20",children:[{id:"overview",label:"Overview",icon:""},{id:"matches",label:"My Matches",icon:""}].map(B=>w.jsx("button",{onClick:()=>u(B.id),className:`px-6 py-3 rounded-xl transition-all font-medium ${l===B.id?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:w.jsxs("span",{className:"flex items-center gap-2",children:[w.jsx("span",{children:B.icon}),w.jsx("span",{children:B.label})]})},B.id))}),w.jsxs("div",{className:"mt-6",children:[l==="overview"&&w.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[w.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 shadow-lg border border-white/20",children:[w.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[w.jsx("span",{children:""}),w.jsx("span",{children:"Recent Matches"})]}),w.jsxs("div",{className:"space-y-3",children:[T.slice(0,5).map((B,k)=>w.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700/50 transition-all cursor-pointer",onClick:()=>o(B),children:[w.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-500 rounded-lg flex items-center justify-center text-white font-bold",children:k+1}),w.jsxs("div",{className:"flex-1",children:[w.jsxs("p",{className:"font-medium",children:["Match with ",B.recipientName]}),w.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[B.organType," - ",B.bloodGroup]})]}),w.jsxs("div",{className:"flex flex-col items-end gap-2",children:[w.jsx(g0,{status:B.status}),w.jsxs("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:["Score: ",B.score]})]})]},B.id)),T.length===0&&w.jsx("p",{className:"text-gray-500 text-center py-8",children:"No matches yet. Your matches will appear here once found."})]})]}),w.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 shadow-lg border border-white/20",children:[w.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[w.jsx("span",{children:""}),w.jsx("span",{children:"Match Statistics"})]}),w.jsx("div",{className:"space-y-4",children:[{label:"Pending Review",value:T.filter(B=>B.status==="Pending").length,color:"bg-yellow-500"},{label:"Approved",value:T.filter(B=>B.status==="Approved").length,color:"bg-green-500"},{label:"In Progress",value:T.filter(B=>B.trackingStatus==="Surgery In Progress").length,color:"bg-orange-500"},{label:"Completed",value:T.filter(B=>B.trackingStatus==="Completed").length,color:"bg-emerald-500"}].map(B=>w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:B.label}),w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-32 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:w.jsx("div",{className:`${B.color} h-full transition-all duration-1000`,style:{width:`${B.value/(T.length||1)*100}%`}})}),w.jsx("span",{className:"font-bold text-lg w-8 text-right",children:B.value})]})]},B.label))})]})]}),l==="matches"&&w.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 shadow-lg border border-white/20",children:[w.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[w.jsx("span",{children:""}),w.jsx("span",{children:"Your Matches"})]}),w.jsx("div",{className:"overflow-x-auto",children:w.jsxs("table",{className:"w-full",children:[w.jsx("thead",{children:w.jsxs("tr",{className:"border-b-2 border-gray-200 dark:border-gray-700",children:[w.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Recipient"}),w.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Organ"}),w.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Blood"}),w.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Score"}),w.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Status"}),w.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Tracking"}),w.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Actions"})]})}),w.jsx("tbody",{children:T.length===0?w.jsx("tr",{children:w.jsx("td",{colSpan:"7",className:"text-center py-8 text-gray-500",children:"No matches found. Please wait for the doctor to create matches."})}):T.map(B=>w.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-all",children:[w.jsx("td",{className:"py-4 px-4 font-medium",children:B.recipientName}),w.jsx("td",{className:"py-4 px-4",children:B.organType}),w.jsx("td",{className:"py-4 px-4",children:w.jsx("span",{className:"px-3 py-1 bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-400 rounded-full text-sm font-medium",children:B.bloodGroup})}),w.jsx("td",{className:"py-4 px-4",children:w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"w-12 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:w.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-emerald-500 transition-all duration-1000",style:{width:`${B.score}%`}})}),w.jsx("span",{className:"font-semibold",children:B.score})]})}),w.jsx("td",{className:"py-4 px-4",children:w.jsx(g0,{status:B.status})}),w.jsx("td",{className:"py-4 px-4",children:w.jsx(g0,{status:B.trackingStatus})}),w.jsx("td",{className:"py-4 px-4",children:w.jsx("button",{onClick:()=>o(B),className:"px-3 py-1.5 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-all text-sm",children:"View Details"})})]},B.id))})]})})]})]})]})]})}function Dre(){return w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 backdrop-blur-sm",children:w.jsx("div",{className:"w-16 h-16 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin"})})}function v0({status:t}){const e=r=>({Pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",Approved:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",Rejected:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400",Scheduled:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400","Pre-Op Preparation":"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400","Surgery In Progress":"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400","Post-Op Recovery":"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-400",Completed:"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-400"})[r]||"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400";return w.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium inline-flex items-center gap-1 ${e(t)}`,children:t||"Unknown"})}function Ore({match:t,onClose:e}){return t?w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{background:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(8px)"},children:w.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[w.jsx("div",{className:"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-6 rounded-t-3xl z-10",children:w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[w.jsx("span",{children:""}),w.jsx("span",{children:"Match Details"})]}),w.jsx("button",{onClick:e,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-all",children:w.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),w.jsxs("div",{className:"p-6 space-y-6",children:[w.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-gray-700 dark:to-gray-700 rounded-2xl p-6",children:[w.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Basic Information"}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Donor Name"}),w.jsx("p",{className:"font-bold text-lg",children:t.donorName})]}),w.jsxs("div",{children:[w.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Organ Type"}),w.jsx("p",{className:"font-bold text-lg",children:t.organType})]}),w.jsxs("div",{children:[w.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Blood Group"}),w.jsx("p",{className:"font-bold text-lg",children:t.bloodGroup})]}),w.jsxs("div",{children:[w.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Match Score"}),w.jsxs("p",{className:"font-bold text-lg",children:[t.score,"%"]})]})]})]}),w.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-2xl p-6",children:[w.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Status Information"}),w.jsxs("div",{className:"space-y-3",children:[w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Match Status:"}),w.jsx(v0,{status:t.status})]}),t.trackingStatus&&w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Surgery Status:"}),w.jsx(v0,{status:t.trackingStatus})]})]})]}),t.hospital&&w.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-2xl p-6",children:[w.jsxs("h3",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[w.jsx("span",{children:""}),w.jsx("span",{children:"Hospital Information"})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Hospital Name"}),w.jsx("p",{className:"font-medium",children:t.hospital})]}),t.hospitalAddress&&w.jsxs("div",{children:[w.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Address"}),w.jsx("p",{className:"font-medium",children:t.hospitalAddress})]}),t.scheduledDate&&w.jsxs("div",{children:[w.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Scheduled Date"}),w.jsx("p",{className:"font-medium",children:new Date(t.scheduledDate).toLocaleString()})]}),t.surgeon&&w.jsxs("div",{children:[w.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Surgeon"}),w.jsx("p",{className:"font-medium",children:t.surgeon})]}),t.estimatedDuration&&w.jsxs("div",{children:[w.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Estimated Duration"}),w.jsx("p",{className:"font-medium",children:t.estimatedDuration})]})]})]}),t.timeline&&t.timeline.length>0&&w.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-2xl p-6",children:[w.jsxs("h3",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[w.jsx("span",{children:""}),w.jsx("span",{children:"Timeline"})]}),w.jsx("div",{className:"space-y-3",children:t.timeline.map((r,n)=>w.jsxs("div",{className:`flex gap-3 ${n!==t.timeline.length-1?"border-b border-gray-200 dark:border-gray-600 pb-3":""}`,children:[w.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white text-xs font-bold flex-shrink-0",children:n+1}),w.jsxs("div",{className:"flex-1",children:[w.jsx("p",{className:"font-semibold",children:r.status}),w.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:new Date(r.timestamp).toLocaleString()}),r.description&&w.jsx("p",{className:"text-sm mt-1",children:r.description})]})]},n))})]}),t.notes&&w.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-2xl p-6",children:[w.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Notes"}),w.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:t.notes})]}),w.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200 dark:border-gray-700",children:w.jsx("button",{onClick:e,className:"px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl hover:shadow-lg transition-all font-medium",children:"Close"})})]})]})}):null}function Mre(){var B,k;const[t,e]=ye.useState(null),[r,n]=ye.useState([]),[i,s]=ye.useState(!1),[a,o]=ye.useState(null),[l,u]=ye.useState("overview"),[c,f]=ye.useState(!1),[d,h]=ye.useState(""),[v,g]=ye.useState(""),[S,_]=ye.useState("");ye.useEffect(()=>{async function y(){if(is.currentUser)try{const C=ea(Ti,"users",is.currentUser.uid),F=await Y0(C);F.exists()&&e(F.data())}catch(C){console.error("Error fetching user data:",C)}}y()},[]),ye.useEffect(()=>{"Notification"in window&&Notification.requestPermission()},[]),ye.useEffect(()=>{if(!is.currentUser)return;s(!0);const y=K0(Zl(Ti,"matches"),h1("recipientId","==",is.currentUser.uid)),C=bv(y,F=>{const E=F.docs.map(G=>({id:G.id,...G.data()})),N=r.map(G=>G.id);E.some(G=>!N.includes(G.id))&&r.length>0&&(f(!0),Notification.permission==="granted"&&new Notification("New Organ Match!",{body:"A new donor match has been found for you!",icon:"/favicon.ico"})),n(E),s(!1)});return()=>C()},[]);const b=y=>{const C=hh.json_to_sheet(y.map(E=>({Donor:E.donorName,Organ:E.organType,Blood:E.bloodGroup,Score:E.score,Status:E.status,TrackingStatus:E.trackingStatus||"Not Started",Hospital:E.hospital||""}))),F=hh.book_new();hh.book_append_sheet(F,C,"Matches"),RL(F,"recipient_matches.xlsx")},T=y=>{var E;const C=new At;C.text("Recipient Matches Report",14,20);const F=y.map(N=>[N.donorName,N.organType,N.bloodGroup,N.score,N.status]);if((E=C.autoTable)==null||E.call(C,{head:[["Donor","Organ","Blood","Score","Status"]],body:F,startY:28}),!C.autoTable){let N=30;F.forEach(D=>{C.text(D.join(" | "),14,N),N+=8})}C.save("recipient_matches.pdf")},j=r.filter(y=>{var G,de;const C=((G=y.bloodGroup)==null?void 0:G.toLowerCase())||"",F=((de=y.organType)==null?void 0:de.toLowerCase())||"",E=y.status||"",N=d.toLowerCase(),D=v.toLowerCase();return!(N&&C!==N||D&&F!==D||S&&E!==S)}).filter((y,C,F)=>C===F.findIndex(E=>E.donorName===y.donorName&&E.organType===y.organType&&E.bloodGroup===y.bloodGroup));return w.jsxs("div",{className:"min-h-screen p-4 lg:p-8 bg-gradient-to-br from-purple-100 via-pink-100 to-blue-100 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800 transition-all",children:[i&&w.jsx(Dre,{}),a&&w.jsx(Ore,{match:a,onClose:()=>o(null)}),w.jsxs("div",{className:"max-w-7xl mx-auto",children:[c&&w.jsxs("div",{className:"bg-green-500 text-white rounded-2xl p-4 mb-6 shadow-lg flex items-center justify-between animate-pulse",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("span",{className:"text-3xl",children:""}),w.jsxs("div",{children:[w.jsx("p",{className:"font-bold text-lg",children:"New Match Available!"}),w.jsx("p",{className:"text-sm",children:"A potential donor has been found for you."})]})]}),w.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg transition-all font-medium",children:"Dismiss"})]}),w.jsx("header",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 mb-6 shadow-xl border border-white/20",children:w.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[w.jsxs("div",{children:[w.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:["Welcome, ",(t==null?void 0:t.fullName)||"Recipient"]}),w.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Track your organ transplant journey"})]}),w.jsxs("div",{className:"flex gap-3",children:[w.jsx("button",{onClick:()=>b(j),className:"px-4 py-3 bg-green-600 text-white rounded-xl hover:shadow-lg transition-all hover:scale-105",children:w.jsxs("span",{className:"flex items-center gap-2",children:[w.jsx("span",{children:""}),w.jsx("span",{className:"hidden sm:inline",children:"Excel"})]})}),w.jsx("button",{onClick:()=>T(j),className:"px-4 py-3 bg-red-600 text-white rounded-xl hover:shadow-lg transition-all hover:scale-105",children:w.jsxs("span",{className:"flex items-center gap-2",children:[w.jsx("span",{children:""}),w.jsx("span",{className:"hidden sm:inline",children:"PDF"})]})})]})]})}),w.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[{label:"Total Matches",value:j.length,icon:"",gradient:"from-blue-500 to-blue-600"},{label:"Pending",value:j.filter(y=>y.status==="Pending").length,icon:"",gradient:"from-yellow-500 to-yellow-600"},{label:"Approved",value:j.filter(y=>y.status==="Approved").length,icon:"",gradient:"from-green-500 to-green-600"},{label:"Completed",value:j.filter(y=>y.trackingStatus==="Completed").length,icon:"",gradient:"from-emerald-500 to-emerald-600"}].map((y,C)=>w.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 shadow-lg border border-white/20 hover:scale-105 transition-transform",style:{animationDelay:`${C*.1}s`},children:[w.jsxs("div",{className:"flex items-center justify-between mb-4",children:[w.jsx("div",{className:`w-14 h-14 bg-gradient-to-br ${y.gradient} rounded-xl flex items-center justify-center text-2xl shadow-lg`,children:y.icon}),w.jsx("div",{className:"text-right",children:w.jsx("p",{className:`text-3xl font-bold bg-gradient-to-r ${y.gradient} bg-clip-text text-transparent`,children:y.value})})]}),w.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:y.label})]},y.label))}),t&&w.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 mb-6 shadow-lg border border-white/20",children:[w.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[w.jsx("span",{children:""}),w.jsx("span",{children:"Your Profile"})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[w.jsx("div",{className:"space-y-3",children:w.jsxs("div",{className:"flex items-start gap-3",children:[w.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-xl flex items-center justify-center text-white text-2xl font-bold",children:((B=t.fullName)==null?void 0:B.split(" ").map(y=>y[0]).join(""))||"R"}),w.jsxs("div",{children:[w.jsx("p",{className:"font-bold text-lg",children:t.fullName||""}),w.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:((k=is.currentUser)==null?void 0:k.email)||""})]})]})}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4",children:[w.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Blood Group"}),w.jsx("p",{className:"text-xl font-bold text-red-600 dark:text-red-400",children:t.bloodGroup||""})]}),w.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4",children:[w.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Organ Needed"}),w.jsx("p",{className:"text-xl font-bold text-indigo-600 dark:text-indigo-400",children:t.organType||""})]})]})]})]}),w.jsx("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 mb-6 shadow-lg border border-white/20",children:w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[w.jsxs("select",{value:d,onChange:y=>h(y.target.value),className:"px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-700 dark:bg-gray-800 focus:border-indigo-500 outline-none transition-all",children:[w.jsx("option",{value:"",children:"All Blood Groups"}),["A+","A-","B+","B-","AB+","AB-","O+","O-"].map(y=>w.jsx("option",{value:y,children:y},y))]}),w.jsxs("select",{value:v,onChange:y=>g(y.target.value),className:"px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-700 dark:bg-gray-800 focus:border-indigo-500 outline-none transition-all",children:[w.jsx("option",{value:"",children:"All Organs"}),["Kidney","Heart","Liver","Lung","Eye","Pancreas"].map(y=>w.jsx("option",{value:y.toLowerCase(),children:y},y))]}),w.jsxs("select",{value:S,onChange:y=>_(y.target.value),className:"px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-700 dark:bg-gray-800 focus:border-indigo-500 outline-none transition-all",children:[w.jsx("option",{value:"",children:"All Statuses"}),w.jsx("option",{value:"Pending",children:"Pending"}),w.jsx("option",{value:"Approved",children:"Approved"}),w.jsx("option",{value:"Rejected",children:"Rejected"})]}),w.jsx("button",{onClick:()=>{h(""),g(""),_("")},className:"px-4 py-3 bg-gray-200 dark:bg-gray-700 rounded-xl hover:bg-gray-300 dark:hover:bg-gray-600 transition-all font-medium",children:"Reset Filters"})]})}),w.jsx("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-2 mb-6 inline-flex gap-2 shadow-lg border border-white/20",children:[{id:"overview",label:"Overview",icon:""},{id:"matches",label:"My Matches",icon:""}].map(y=>w.jsx("button",{onClick:()=>u(y.id),className:`px-6 py-3 rounded-xl transition-all font-medium ${l===y.id?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:w.jsxs("span",{className:"flex items-center gap-2",children:[w.jsx("span",{children:y.icon}),w.jsx("span",{children:y.label})]})},y.id))}),w.jsxs("div",{className:"mt-6",children:[l==="overview"&&w.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[w.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 shadow-lg border border-white/20",children:[w.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[w.jsx("span",{children:""}),w.jsx("span",{children:"Recent Matches"})]}),w.jsxs("div",{className:"space-y-3",children:[j.slice(0,5).map((y,C)=>w.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700/50 transition-all cursor-pointer",onClick:()=>o(y),children:[w.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-500 rounded-lg flex items-center justify-center text-white font-bold",children:C+1}),w.jsxs("div",{className:"flex-1",children:[w.jsxs("p",{className:"font-medium",children:["Match with ",y.donorName]}),w.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[y.organType," - ",y.bloodGroup]})]}),w.jsxs("div",{className:"flex flex-col items-end gap-2",children:[w.jsx(v0,{status:y.status}),w.jsxs("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:["Score: ",y.score]})]})]},y.id)),j.length===0&&w.jsx("p",{className:"text-gray-500 text-center py-8",children:"No matches yet. You'll be notified when a match is found."})]})]}),w.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 shadow-lg border border-white/20",children:[w.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[w.jsx("span",{children:""}),w.jsx("span",{children:"Match Statistics"})]}),w.jsx("div",{className:"space-y-4",children:[{label:"Pending Review",value:j.filter(y=>y.status==="Pending").length,color:"bg-yellow-500"},{label:"Approved",value:j.filter(y=>y.status==="Approved").length,color:"bg-green-500"},{label:"Surgery Scheduled",value:j.filter(y=>y.trackingStatus==="Scheduled").length,color:"bg-blue-500"},{label:"In Progress",value:j.filter(y=>y.trackingStatus==="Surgery In Progress").length,color:"bg-orange-500"},{label:"Completed",value:j.filter(y=>y.trackingStatus==="Completed").length,color:"bg-emerald-500"}].map(y=>w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:y.label}),w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-32 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:w.jsx("div",{className:`${y.color} h-full transition-all duration-1000`,style:{width:`${y.value/(j.length||1)*100}%`}})}),w.jsx("span",{className:"font-bold text-lg w-8 text-right",children:y.value})]})]},y.label))})]})]}),l==="matches"&&w.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 shadow-lg border border-white/20",children:[w.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[w.jsx("span",{children:""}),w.jsx("span",{children:"Your Matches"})]}),w.jsx("div",{className:"overflow-x-auto",children:w.jsxs("table",{className:"w-full",children:[w.jsx("thead",{children:w.jsxs("tr",{className:"border-b-2 border-gray-200 dark:border-gray-700",children:[w.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Donor"}),w.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Organ"}),w.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Blood"}),w.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Score"}),w.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Status"}),w.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Tracking"}),w.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Actions"})]})}),w.jsx("tbody",{children:j.length===0?w.jsx("tr",{children:w.jsx("td",{colSpan:"7",className:"text-center py-8 text-gray-500",children:"No matches found. Please wait for the doctor to create matches."})}):j.map(y=>w.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-all",children:[w.jsx("td",{className:"py-4 px-4 font-medium",children:y.donorName}),w.jsx("td",{className:"py-4 px-4",children:y.organType}),w.jsx("td",{className:"py-4 px-4",children:w.jsx("span",{className:"px-3 py-1 bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-400 rounded-full text-sm font-medium",children:y.bloodGroup})}),w.jsx("td",{className:"py-4 px-4",children:w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"w-12 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:w.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-emerald-500 transition-all duration-1000",style:{width:`${y.score}%`}})}),w.jsx("span",{className:"font-semibold",children:y.score})]})}),w.jsx("td",{className:"py-4 px-4",children:w.jsx(v0,{status:y.status})}),w.jsx("td",{className:"py-4 px-4",children:w.jsx(v0,{status:y.trackingStatus})}),w.jsx("td",{className:"py-4 px-4",children:w.jsx("button",{onClick:()=>o(y),className:"px-3 py-1.5 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-all text-sm",children:"View Details"})})]},y.id))})]})})]})]})]})]})}function jre(){return w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 backdrop-blur-sm",children:w.jsx("div",{className:"w-16 h-16 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin"})})}function Qm({text:t="",highlight:e=""}){if(!e)return w.jsx(w.Fragment,{children:t});const r=t.split(new RegExp(`(${e})`,"gi"));return w.jsx(w.Fragment,{children:r.map((n,i)=>n.toLowerCase()===e.toLowerCase()?w.jsx("span",{className:"bg-yellow-300 dark:bg-yellow-600",children:n},i):n)})}function Bre({match:t,onClose:e,onSave:r}){const[n,i]=ye.useState({trackingStatus:t.trackingStatus||"",scheduledDate:t.scheduledDate||"",hospital:t.hospital||"",hospitalAddress:t.hospitalAddress||"",surgeon:t.surgeon||"",estimatedDuration:t.estimatedDuration||"",notes:t.notes||"",timeline:t.timeline||[]}),s=["Scheduled","Pre-Op Preparation","Surgery In Progress","Post-Op Recovery","Completed","Cancelled"],a=()=>{n.trackingStatus&&i({...n,timeline:[...n.timeline,{timestamp:new Date().toISOString(),status:n.trackingStatus,description:`Status updated to ${n.trackingStatus}`}]})},o=()=>{r(n),e()};return w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{background:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(8px)"},children:w.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto animate-fadeIn",children:[w.jsx("div",{className:"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-6 rounded-t-3xl z-10",children:w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[w.jsx("span",{children:""}),w.jsx("span",{children:"Transplant Tracking"})]}),w.jsx("button",{onClick:e,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-all",children:w.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),w.jsxs("div",{className:"p-6",children:[w.jsx("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-gray-700 dark:to-gray-700 rounded-2xl p-4 mb-6",children:w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Donor"}),w.jsx("p",{className:"font-bold text-lg",children:t.donorName})]}),w.jsxs("div",{children:[w.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Recipient"}),w.jsx("p",{className:"font-bold text-lg",children:t.recipientName})]}),w.jsxs("div",{children:[w.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Organ Type"}),w.jsx("p",{className:"font-bold",children:t.organType})]}),w.jsxs("div",{children:[w.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Blood Group"}),w.jsx("p",{className:"font-bold",children:t.bloodGroup})]})]})}),w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Tracking Status"}),w.jsxs("select",{value:n.trackingStatus,onChange:l=>i({...n,trackingStatus:l.target.value}),className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-700 dark:bg-gray-800 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition-all",children:[w.jsx("option",{value:"",children:"Select Status"}),s.map(l=>w.jsx("option",{value:l,children:l},l))]}),w.jsx("button",{onClick:a,className:"mt-2 text-sm text-indigo-600 hover:text-indigo-700 font-medium",children:"+ Add to Timeline"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Scheduled Date & Time"}),w.jsx("input",{type:"datetime-local",value:n.scheduledDate,onChange:l=>i({...n,scheduledDate:l.target.value}),className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-700 dark:bg-gray-800 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition-all"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Surgeon/Team Lead"}),w.jsx("input",{type:"text",value:n.surgeon,onChange:l=>i({...n,surgeon:l.target.value}),placeholder:"Dr. John Smith",className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-700 dark:bg-gray-800 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition-all"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Estimated Duration"}),w.jsx("input",{type:"text",value:n.estimatedDuration,onChange:l=>i({...n,estimatedDuration:l.target.value}),placeholder:"4-6 hours",className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-700 dark:bg-gray-800 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition-all"})]})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{children:[w.jsxs("label",{className:"block text-sm font-semibold mb-2 flex items-center gap-2",children:[w.jsx("span",{children:""}),w.jsx("span",{children:"Hospital Name"})]}),w.jsx("input",{type:"text",value:n.hospital,onChange:l=>i({...n,hospital:l.target.value}),placeholder:"Metropolitan Medical Center",className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-700 dark:bg-gray-800 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition-all"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Hospital Address"}),w.jsx("textarea",{value:n.hospitalAddress,onChange:l=>i({...n,hospitalAddress:l.target.value}),placeholder:"123 Medical Center Drive, City, State, ZIP",rows:"3",className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-700 dark:bg-gray-800 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition-all resize-none"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Notes"}),w.jsx("textarea",{value:n.notes,onChange:l=>i({...n,notes:l.target.value}),placeholder:"Additional notes or special considerations...",rows:"4",className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-700 dark:bg-gray-800 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition-all resize-none"})]})]})]}),w.jsxs("div",{className:"mt-6",children:[w.jsxs("label",{className:"block text-sm font-semibold mb-3 flex items-center gap-2",children:[w.jsx("span",{children:""}),w.jsx("span",{children:"Timeline"})]}),w.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-2xl p-4 max-h-64 overflow-y-auto",children:n.timeline.length===0?w.jsx("p",{className:"text-gray-500 text-center py-4",children:"No timeline events yet"}):w.jsx("div",{className:"space-y-3",children:n.timeline.map((l,u)=>w.jsxs("div",{className:`flex gap-3 ${u!==n.timeline.length-1?"border-b border-gray-200 dark:border-gray-600 pb-3":""}`,children:[w.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white text-xs font-bold flex-shrink-0",children:u+1}),w.jsxs("div",{className:"flex-1",children:[w.jsx("p",{className:"font-semibold",children:l.status}),w.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:new Date(l.timestamp).toLocaleString()}),l.description&&w.jsx("p",{className:"text-sm mt-1",children:l.description})]})]},u))})})]}),w.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[w.jsx("button",{onClick:e,className:"px-6 py-3 bg-gray-200 dark:bg-gray-700 rounded-xl hover:bg-gray-300 dark:hover:bg-gray-600 transition-all font-medium",children:"Cancel"}),w.jsx("button",{onClick:o,className:"px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl hover:shadow-lg transition-all font-medium",children:"Save Tracking Info"})]})]})]})})}function wy({status:t}){const e=r=>({Pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",Approved:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",Rejected:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400",Scheduled:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400","Pre-Op Preparation":"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400","Surgery In Progress":"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400","Post-Op Recovery":"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-400",Completed:"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-400",Cancelled:"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"})[r]||"bg-gray-100 text-gray-800";return w.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium inline-flex items-center gap-1 ${e(t)}`,children:t||"Not Started"})}function Vre(){var I;const[t,e]=ye.useState([]),[r,n]=ye.useState([]),[i,s]=ye.useState([]),[a,o]=ye.useState(!1),[l,u]=ye.useState({}),[c,f]=ye.useState(""),[d,h]=ye.useState(""),[v,g]=ye.useState(""),[S,_]=ye.useState(""),[b,T]=ye.useState(null),[L,j]=ye.useState("overview"),[B,k]=ye.useState(localStorage.getItem("darkMode")==="true"||window.matchMedia("(prefers-color-scheme: dark)").matches),[y,C]=ye.useState(null),[F,E]=ye.useState(!1),[N,D]=ye.useState(!1);ye.useEffect(()=>{B?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode",B)},[B]),ye.useEffect(()=>{async function O(){try{const U=Zl(Ti,"users"),q=(await IT(U)).docs.map(me=>({id:me.id,...me.data()}));e(q.filter(me=>me.role==="donor")),n(q.filter(me=>me.role==="recipient"));const fe=q.find(me=>{var ge;return me.role==="doctor"&&me.id===((ge=is.currentUser)==null?void 0:ge.uid)});C(fe||null)}catch(U){console.error("Failed to load users:",U)}}O()},[]),ye.useEffect(()=>{const O=K0(Zl(Ti,"matches"),BC("createdAt","desc")),U=bv(O,z=>{const q=z.docs.map(fe=>({id:fe.id,...fe.data()}));s(q)},z=>{console.error("Failed to load matches:",z)});return()=>U()},[]);async function G(){if(!t.length||!r.length){alert("Donors or recipients not loaded yet.");return}o(!0);const O={};try{await de(O)}catch(U){console.warn("Matching failed:",U),alert("AI matching failed: "+U.message)}finally{u(O),o(!1),setTimeout(()=>u({}),2e3)}}async function de(O){for(const U of r){const z=t.find(ge=>{var Te,Oe,Be,Ue;return((Te=ge.bloodGroup)==null?void 0:Te.toLowerCase())===((Oe=U.bloodGroup)==null?void 0:Oe.toLowerCase())&&((Be=ge.organType)==null?void 0:Be.toLowerCase())===((Ue=U.organType)==null?void 0:Ue.toLowerCase())});if(!z)continue;const q=K0(Zl(Ti,"matches"),h1("donorId","==",z.id),h1("recipientId","==",U.id)),fe=await IT(q),me=Math.round(70+Math.random()*30);if(fe.empty){const ge=await BU(Zl(Ti,"matches"),{donorId:z.id,donorName:z.fullName||"",recipientId:U.id,recipientName:U.fullName||"",bloodGroup:U.bloodGroup||"",organType:U.organType||"",score:me,status:"Pending",createdAt:new Date});O[ge.id]=!0}else{const ge=fe.docs[0].ref;await xg(ge,{score:me,status:"Pending",updatedAt:new Date}),O[fe.docs[0].id]=!0}}}async function ie(O,U){try{const z=ea(Ti,"matches",O);await xg(z,{status:U})}catch(z){console.error(z),alert("Failed to update status: "+z.message)}}async function ee(O,U){try{const z=ea(Ti,"matches",O);await xg(z,{...U,updatedAt:new Date})}catch(z){console.error(z),alert("Failed to update tracking info: "+z.message)}}const Q=i.filter((O,U,z)=>U===z.findIndex(q=>q.donorId===O.donorId&&q.recipientId===O.recipientId&&q.organType===O.organType)),te=t.filter(O=>{var U,z,q;return(!c||((U=O.bloodGroup)==null?void 0:U.toLowerCase())===c.toLowerCase())&&(!d||((z=O.organType)==null?void 0:z.toLowerCase())===d.toLowerCase())&&(!S||((q=O.fullName)==null?void 0:q.toLowerCase().includes(S.toLowerCase())))}),pe=r.filter(O=>{var U,z,q;return(!c||((U=O.bloodGroup)==null?void 0:U.toLowerCase())===c.toLowerCase())&&(!d||((z=O.organType)==null?void 0:z.toLowerCase())===d.toLowerCase())&&(!S||((q=O.fullName)==null?void 0:q.toLowerCase().includes(S.toLowerCase())))}),be=Q.filter(O=>{var U,z,q,fe;return(!c||((U=O.bloodGroup)==null?void 0:U.toLowerCase())===c.toLowerCase())&&(!d||((z=O.organType)==null?void 0:z.toLowerCase())===d.toLowerCase())&&(!v||O.status===v)&&(!S||((q=O.donorName)==null?void 0:q.toLowerCase().includes(S.toLowerCase()))||((fe=O.recipientName)==null?void 0:fe.toLowerCase().includes(S.toLowerCase())))});return w.jsxs("div",{className:"min-h-screen p-4 lg:p-8 bg-gradient-to-br from-purple-100 via-pink-100 to-blue-100 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800 transition-all",children:[a&&w.jsx(jre,{}),b&&w.jsx(Bre,{match:b,onClose:()=>T(null),onSave:O=>ee(b.id,O)}),w.jsxs("div",{className:"max-w-7xl mx-auto",children:[w.jsx("header",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 mb-6 shadow-xl border border-white/20",children:w.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"Transplant Dashboard"}),w.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Real-time organ transplant management system"})]}),w.jsxs("div",{className:"flex gap-3",children:[w.jsx("button",{onClick:G,disabled:a,className:"px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl hover:shadow-lg transition-all hover:scale-105 disabled:opacity-50",children:w.jsxs("span",{className:"flex items-center gap-2",children:[w.jsx("span",{children:""}),w.jsx("span",{children:a?"Matching...":"AI Match"})]})}),w.jsx("button",{onClick:()=>k(!B),className:"px-4 py-3 bg-white/70 dark:bg-gray-700/70 backdrop-blur-xl rounded-xl hover:shadow-lg transition-all border border-white/20",children:w.jsx("span",{className:"text-xl",children:B?"":""})})]})]})}),w.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[{label:"Total Donors",value:t.length,icon:"",gradient:"from-blue-500 to-blue-600"},{label:"Recipients",value:r.length,icon:"",gradient:"from-purple-500 to-purple-600"},{label:"Active Matches",value:Q.length,icon:"",gradient:"from-green-500 to-green-600"},{label:"Completed",value:Q.filter(O=>O.trackingStatus==="Completed").length,icon:"",gradient:"from-emerald-500 to-emerald-600"}].map((O,U)=>w.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 shadow-lg border border-white/20 hover:scale-105 transition-transform",style:{animationDelay:`${U*.1}s`},children:[w.jsxs("div",{className:"flex items-center justify-between mb-4",children:[w.jsx("div",{className:`w-14 h-14 bg-gradient-to-br ${O.gradient} rounded-xl flex items-center justify-center text-2xl shadow-lg`,children:O.icon}),w.jsx("div",{className:"text-right",children:w.jsx("p",{className:`text-3xl font-bold bg-gradient-to-r ${O.gradient} bg-clip-text text-transparent`,children:O.value})})]}),w.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:O.label})]},O.label))}),w.jsx("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 mb-6 shadow-lg border border-white/20",children:w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[w.jsx("input",{type:"text",placeholder:" Search by name...",value:S,onChange:O=>_(O.target.value),className:"px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-700 dark:bg-gray-800 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition-all"}),w.jsxs("select",{value:c,onChange:O=>f(O.target.value),className:"px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-700 dark:bg-gray-800 focus:border-indigo-500 outline-none transition-all",children:[w.jsx("option",{value:"",children:"All Blood Groups"}),["A+","A-","B+","B-","AB+","AB-","O+","O-"].map(O=>w.jsx("option",{value:O,children:O},O))]}),w.jsxs("select",{value:d,onChange:O=>h(O.target.value),className:"px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-700 dark:bg-gray-800 focus:border-indigo-500 outline-none transition-all",children:[w.jsx("option",{value:"",children:"All Organs"}),["Kidney","Heart","Liver","Lung","Eye","Pancreas"].map(O=>w.jsx("option",{value:O,children:O},O))]}),w.jsxs("select",{value:v,onChange:O=>g(O.target.value),className:"px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-700 dark:bg-gray-800 focus:border-indigo-500 outline-none transition-all",children:[w.jsx("option",{value:"",children:"All Statuses"}),w.jsx("option",{value:"Pending",children:"Pending"}),w.jsx("option",{value:"Approved",children:"Approved"}),w.jsx("option",{value:"Rejected",children:"Rejected"})]}),w.jsx("button",{onClick:()=>{_(""),f(""),h(""),g("")},className:"px-4 py-3 bg-gray-200 dark:bg-gray-700 rounded-xl hover:bg-gray-300 dark:hover:bg-gray-600 transition-all font-medium",children:"Reset"})]})}),w.jsx("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-2 mb-6 inline-flex gap-2 shadow-lg border border-white/20",children:[{id:"overview",label:"Overview",icon:""},{id:"donors",label:"Donors",icon:""},{id:"recipients",label:"Recipients",icon:""},{id:"matches",label:"Matches",icon:""}].map(O=>w.jsx("button",{onClick:()=>j(O.id),className:`px-6 py-3 rounded-xl transition-all font-medium ${L===O.id?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:w.jsxs("span",{className:"flex items-center gap-2",children:[w.jsx("span",{children:O.icon}),w.jsx("span",{children:O.label})]})},O.id))}),w.jsxs("div",{className:"mt-6",children:[L==="overview"&&w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[w.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 shadow-lg border border-white/20",children:[w.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[w.jsx("span",{children:""}),w.jsx("span",{children:"Match Statistics"})]}),w.jsx("div",{className:"space-y-4",children:[{label:"Pending Approvals",value:Q.filter(O=>O.status==="Pending").length,color:"bg-yellow-500"},{label:"Approved Matches",value:Q.filter(O=>O.status==="Approved").length,color:"bg-green-500"},{label:"Scheduled Surgeries",value:Q.filter(O=>O.trackingStatus==="Scheduled").length,color:"bg-blue-500"},{label:"In Progress",value:Q.filter(O=>O.trackingStatus==="Surgery In Progress").length,color:"bg-orange-500"}].map(O=>w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:O.label}),w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-32 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:w.jsx("div",{className:`${O.color} h-full transition-all duration-1000`,style:{width:`${O.value/(Q.length||1)*100}%`}})}),w.jsx("span",{className:"font-bold text-lg w-8 text-right",children:O.value})]})]},O.label))})]}),y&&w.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 shadow-lg border border-white/20",children:[w.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[w.jsx("span",{children:""}),w.jsx("span",{children:"Doctor Profile"})]}),w.jsxs("div",{className:"space-y-3",children:[w.jsxs("div",{className:"flex items-start gap-3",children:[w.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-xl flex items-center justify-center text-white text-2xl font-bold",children:((I=y.fullName)==null?void 0:I.split(" ").map(O=>O[0]).join(""))||"DR"}),w.jsxs("div",{children:[w.jsx("p",{className:"font-bold text-lg",children:y.fullName}),w.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:y.specialization||"Specialist"})]})]}),w.jsxs("div",{className:"space-y-2 pt-4 border-t border-gray-200 dark:border-gray-700",children:[w.jsxs("p",{className:"flex items-center gap-2 text-sm",children:[w.jsx("span",{children:""}),w.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:y.email})]}),w.jsxs("p",{className:"flex items-center gap-2 text-sm",children:[w.jsx("span",{children:""}),w.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:y.mobile||"Not provided"})]})]})]})]}),w.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 shadow-lg border border-white/20 lg:col-span-2",children:[w.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[w.jsx("span",{children:""}),w.jsx("span",{children:"Recent Activity"})]}),w.jsxs("div",{className:"space-y-3",children:[Q.slice(0,5).map((O,U)=>w.jsxs("div",{className:"flex items-center gap-4 p-3 bg-gray-50 dark:bg-gray-800/50 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700/50 transition-all",children:[w.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-500 rounded-lg flex items-center justify-center text-white font-bold",children:U+1}),w.jsxs("div",{className:"flex-1",children:[w.jsxs("p",{className:"font-medium",children:[O.donorName,"  ",O.recipientName]}),w.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[O.organType," transplant - ",O.bloodGroup]})]}),w.jsx(wy,{status:O.status})]},O.id)),Q.length===0&&w.jsx("p",{className:"text-gray-500 text-center py-4",children:"No recent activity"})]})]})]}),L==="donors"&&w.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 shadow-lg border border-white/20",children:[w.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[w.jsx("span",{children:""}),w.jsx("span",{children:"Available Donors"})]}),w.jsx("div",{className:"overflow-x-auto",children:w.jsxs("table",{className:"w-full",children:[w.jsx("thead",{children:w.jsxs("tr",{className:"border-b-2 border-gray-200 dark:border-gray-700",children:[w.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Name"}),w.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Blood Group"}),w.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Organ"}),w.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Age"})]})}),w.jsx("tbody",{children:te.length===0?w.jsx("tr",{children:w.jsx("td",{colSpan:"4",className:"text-center py-8 text-gray-500",children:"No donors found"})}):te.map(O=>w.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-all",children:[w.jsx("td",{className:"py-4 px-4 font-medium",children:w.jsx(Qm,{text:O.fullName||"",highlight:S})}),w.jsx("td",{className:"py-4 px-4",children:w.jsx("span",{className:"px-3 py-1 bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-400 rounded-full text-sm font-medium",children:O.bloodGroup})}),w.jsx("td",{className:"py-4 px-4",children:O.organType}),w.jsx("td",{className:"py-4 px-4",children:O.age||""})]},O.id))})]})})]}),L==="recipients"&&w.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 shadow-lg border border-white/20",children:[w.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[w.jsx("span",{children:""}),w.jsx("span",{children:"Waiting Recipients"})]}),w.jsx("div",{className:"overflow-x-auto",children:w.jsxs("table",{className:"w-full",children:[w.jsx("thead",{children:w.jsxs("tr",{className:"border-b-2 border-gray-200 dark:border-gray-700",children:[w.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Name"}),w.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Blood Group"}),w.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Organ Needed"}),w.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Age"})]})}),w.jsx("tbody",{children:pe.length===0?w.jsx("tr",{children:w.jsx("td",{colSpan:"4",className:"text-center py-8 text-gray-500",children:"No recipients found"})}):pe.map(O=>w.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-all",children:[w.jsx("td",{className:"py-4 px-4 font-medium",children:w.jsx(Qm,{text:O.fullName||"",highlight:S})}),w.jsx("td",{className:"py-4 px-4",children:w.jsx("span",{className:"px-3 py-1 bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-400 rounded-full text-sm font-medium",children:O.bloodGroup})}),w.jsx("td",{className:"py-4 px-4",children:O.organType}),w.jsx("td",{className:"py-4 px-4",children:O.age||""})]},O.id))})]})})]}),L==="matches"&&w.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 shadow-lg border border-white/20",children:[w.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[w.jsx("span",{children:""}),w.jsx("span",{children:"Transplant Matches"})]}),w.jsx("div",{className:"overflow-x-auto",children:w.jsxs("table",{className:"w-full",children:[w.jsx("thead",{children:w.jsxs("tr",{className:"border-b-2 border-gray-200 dark:border-gray-700",children:[w.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Donor"}),w.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Recipient"}),w.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Organ"}),w.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Blood"}),w.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Score"}),w.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Status"}),w.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Tracking"}),w.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Actions"})]})}),w.jsx("tbody",{children:be.length===0?w.jsx("tr",{children:w.jsx("td",{colSpan:"8",className:"text-center py-8 text-gray-500",children:Q.length===0?'No matches yet. Click "AI Match" to generate matches.':"No matches found with current filters."})}):be.map(O=>w.jsxs("tr",{className:`border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-all ${l[O.id]?"bg-green-100 dark:bg-green-900/30":""}`,children:[w.jsx("td",{className:"py-4 px-4 font-medium",children:w.jsx(Qm,{text:O.donorName,highlight:S})}),w.jsx("td",{className:"py-4 px-4 font-medium",children:w.jsx(Qm,{text:O.recipientName,highlight:S})}),w.jsx("td",{className:"py-4 px-4",children:O.organType}),w.jsx("td",{className:"py-4 px-4",children:w.jsx("span",{className:"px-3 py-1 bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-400 rounded-full text-sm font-medium",children:O.bloodGroup})}),w.jsx("td",{className:"py-4 px-4",children:w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"w-12 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:w.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-emerald-500 transition-all duration-1000",style:{width:`${O.score}%`}})}),w.jsx("span",{className:"font-semibold",children:O.score})]})}),w.jsx("td",{className:"py-4 px-4",children:w.jsx(wy,{status:O.status})}),w.jsx("td",{className:"py-4 px-4",children:w.jsx(wy,{status:O.trackingStatus})}),w.jsx("td",{className:"py-4 px-4",children:w.jsxs("div",{className:"flex gap-2 flex-wrap",children:[O.status==="Pending"&&w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:()=>ie(O.id,"Approved"),className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-all text-sm",children:"Approve"}),w.jsx("button",{onClick:()=>ie(O.id,"Rejected"),className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all text-sm",children:"Reject"})]}),w.jsx("button",{onClick:()=>T(O),className:"px-3 py-1.5 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-all text-sm",children:"Track"})]})})]},O.id))})]})})]})]})]})]})}function Ure(){const[t,e]=ye.useState(!1),{darkMode:r,toggleDarkMode:n}=ye.useContext(Cp);return ye.useEffect(()=>{E$.init({duration:800,easing:"ease-in-out",once:!0})},[]),w.jsx(WU,{children:w.jsx($7,{children:w.jsx(zre,{menuOpen:t,setMenuOpen:e,toggleDarkMode:n,darkMode:r})})})}function zre({menuOpen:t,setMenuOpen:e,toggleDarkMode:r,darkMode:n}){const{user:i,role:s}=Tv(),a=Oh();return ye.useEffect(()=>{if(i&&s)switch(s){case"admin":a("/admin");break;case"donor":a("/donor");break;case"recipient":a("/recipient");break;case"doctor":a("/doctor");break;default:a("/")}},[i,s,a]),w.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 transition-colors duration-700 ease-in-out",children:[w.jsx(Wre,{menuOpen:t,setMenuOpen:e,toggleDarkMode:r,darkMode:n}),w.jsx(Hre,{}),w.jsx(S$,{})]})}function Wre({menuOpen:t,setMenuOpen:e,toggleDarkMode:r,darkMode:n}){const i=rl(),{user:s,logout:a}=Tv(),o=Oh(),l=i.pathname.startsWith("/auth")||!!s,u={hidden:{x:-20,opacity:0},visible:f=>({x:0,opacity:1,transition:{delay:f*.05,duration:.2}})},c=async()=>{await a(),e(!1),o("/")};return w.jsxs("header",{className:"bg-gray-100 dark:bg-gray-800 shadow transition-colors duration-700 ease-in-out",children:[w.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between p-4",children:[w.jsx(Po,{to:"/",children:w.jsx("img",{src:PI,alt:"Logo",className:"h-16"})}),w.jsx("nav",{className:"hidden md:flex space-x-6",children:[{name:"Home",path:"/"},{name:"Why Donate",path:"/why-donate"},{name:"How It Works",path:"/how-it-works"},{name:"Eligibility",path:"/eligibility"}].map(f=>w.jsx(Po,{to:f.path,className:"hover:text-green-600 dark:hover:text-green-400 font-medium transition-colors",children:f.name},f.path))}),w.jsxs("div",{className:"flex items-center space-x-4",children:[w.jsx("button",{onClick:r,className:"p-2 rounded-full bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600",children:n?"":""}),!l&&w.jsx(Po,{to:"/auth",className:"bg-green-600 dark:bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-700 dark:hover:bg-green-400 font-medium",children:"Login"}),s&&w.jsx("button",{onClick:c,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Logout"})]}),w.jsx("div",{className:"md:hidden",children:w.jsx("button",{onClick:()=>e(!t),className:"text-gray-700 dark:text-gray-200 focus:outline-none",children:t?w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]}),w.jsx(VP,{children:t&&w.jsxs(Yf.div,{className:"md:hidden bg-gray-100 dark:bg-gray-800 px-4 pb-4 space-y-2 overflow-hidden",initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},children:[[{name:"Home",path:"/"},{name:"Why Donate",path:"/why-donate"},{name:"How It Works",path:"/how-it-works"},{name:"Eligibility",path:"/eligibility"}].map((f,d)=>w.jsx(Yf.div,{custom:d,initial:"hidden",animate:"visible",exit:"hidden",variants:u,children:w.jsx(Po,{to:f.path,onClick:()=>e(!1),className:"block hover:text-green-600 dark:hover:text-green-400",children:f.name})},f.path)),!l&&w.jsx(Yf.div,{custom:4,initial:"hidden",animate:"visible",exit:"hidden",variants:u,children:w.jsx(Po,{to:"/auth",onClick:()=>e(!1),className:"block bg-green-600 dark:bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-700 dark:hover:bg-green-400",children:"Login"})}),s&&w.jsx(Yf.div,{custom:5,initial:"hidden",animate:"visible",exit:"hidden",variants:u,children:w.jsx("button",{onClick:c,className:"w-full text-left px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Logout"})})]})})]})}function Hre(){const t=rl();return w.jsx(VP,{mode:"wait",initial:!1,children:w.jsxs(B7,{location:t,children:[w.jsx(wa,{path:"/",element:w.jsx(Ad,{children:w.jsx(J$,{})})}),w.jsx(wa,{path:"/auth",element:w.jsx(Ad,{children:w.jsx(RG,{showLogo:!1})})}),w.jsx(wa,{path:"/why-donate",element:w.jsx(Ad,{children:w.jsx(LG,{})})}),w.jsx(wa,{path:"/how-it-works",element:w.jsx(Ad,{children:w.jsx(FG,{})})}),w.jsx(wa,{path:"/eligibility",element:w.jsx(Ad,{children:w.jsx(DG,{})})}),w.jsx(wa,{path:"/admin",element:w.jsx(Om,{allowedRoles:["admin"],children:w.jsx(WK,{})})}),w.jsx(wa,{path:"/donor",element:w.jsx(Om,{allowedRoles:["donor"],children:w.jsx(Fre,{})})}),w.jsx(wa,{path:"/recipient",element:w.jsx(Om,{allowedRoles:["recipient"],children:w.jsx(Mre,{})})}),w.jsx(wa,{path:"/doctor",element:w.jsx(Om,{allowedRoles:["doctor"],children:w.jsx(Vre,{})})}),w.jsx(wa,{path:"*",element:w.jsx(Ak,{to:"/",replace:!0})})]},t.pathname)})}function Ad({children:t}){return w.jsx(Yf.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},children:t})}_y.createRoot(document.getElementById("root")).render(w.jsx(HU,{children:w.jsx(Ure,{})}));export{xr as _,Bd as c,nA as g};
