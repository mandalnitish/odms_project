function FL(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Hd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function DL(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var yA={exports:{}},V1={},xA={exports:{}},Yt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mp=Symbol.for("react.element"),OL=Symbol.for("react.portal"),jL=Symbol.for("react.fragment"),ML=Symbol.for("react.strict_mode"),BL=Symbol.for("react.profiler"),VL=Symbol.for("react.provider"),UL=Symbol.for("react.context"),zL=Symbol.for("react.forward_ref"),HL=Symbol.for("react.suspense"),WL=Symbol.for("react.memo"),qL=Symbol.for("react.lazy"),c4=Symbol.iterator;function $L(t){return t===null||typeof t!="object"?null:(t=c4&&t[c4]||t["@@iterator"],typeof t=="function"?t:null)}var wA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_A=Object.assign,bA={};function jf(t,e,r){this.props=t,this.context=e,this.refs=bA,this.updater=r||wA}jf.prototype.isReactComponent={};jf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};jf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function SA(){}SA.prototype=jf.prototype;function Fw(t,e,r){this.props=t,this.context=e,this.refs=bA,this.updater=r||wA}var Dw=Fw.prototype=new SA;Dw.constructor=Fw;_A(Dw,jf.prototype);Dw.isPureReactComponent=!0;var h4=Array.isArray,TA=Object.prototype.hasOwnProperty,Ow={current:null},EA={key:!0,ref:!0,__self:!0,__source:!0};function AA(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)TA.call(e,n)&&!EA.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:mp,type:t,key:s,ref:a,props:i,_owner:Ow.current}}function GL(t,e){return{$$typeof:mp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function jw(t){return typeof t=="object"&&t!==null&&t.$$typeof===mp}function KL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var f4=/\/+/g;function o2(t,e){return typeof t=="object"&&t!==null&&t.key!=null?KL(""+t.key):e.toString(36)}function tg(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case mp:case OL:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+o2(a,0):n,h4(i)?(r="",t!=null&&(r=t.replace(f4,"$&/")+"/"),tg(i,e,r,"",function(u){return u})):i!=null&&(jw(i)&&(i=GL(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(f4,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",h4(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+o2(s,o);a+=tg(s,e,r,l,i)}else if(l=$L(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+o2(s,o++),a+=tg(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function pm(t,e,r){if(t==null)return t;var n=[],i=0;return tg(t,n,"","",function(s){return e.call(r,s,i++)}),n}function YL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Gi={current:null},rg={transition:null},XL={ReactCurrentDispatcher:Gi,ReactCurrentBatchConfig:rg,ReactCurrentOwner:Ow};function NA(){throw Error("act(...) is not supported in production builds of React.")}Yt.Children={map:pm,forEach:function(t,e,r){pm(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return pm(t,function(){e++}),e},toArray:function(t){return pm(t,function(e){return e})||[]},only:function(t){if(!jw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Yt.Component=jf;Yt.Fragment=jL;Yt.Profiler=BL;Yt.PureComponent=Fw;Yt.StrictMode=ML;Yt.Suspense=HL;Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XL;Yt.act=NA;Yt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=_A({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Ow.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)TA.call(e,l)&&!EA.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:mp,type:t.type,key:i,ref:s,props:n,_owner:a}};Yt.createContext=function(t){return t={$$typeof:UL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:VL,_context:t},t.Consumer=t};Yt.createElement=AA;Yt.createFactory=function(t){var e=AA.bind(null,t);return e.type=t,e};Yt.createRef=function(){return{current:null}};Yt.forwardRef=function(t){return{$$typeof:zL,render:t}};Yt.isValidElement=jw;Yt.lazy=function(t){return{$$typeof:qL,_payload:{_status:-1,_result:t},_init:YL}};Yt.memo=function(t,e){return{$$typeof:WL,type:t,compare:e===void 0?null:e}};Yt.startTransition=function(t){var e=rg.transition;rg.transition={};try{t()}finally{rg.transition=e}};Yt.unstable_act=NA;Yt.useCallback=function(t,e){return Gi.current.useCallback(t,e)};Yt.useContext=function(t){return Gi.current.useContext(t)};Yt.useDebugValue=function(){};Yt.useDeferredValue=function(t){return Gi.current.useDeferredValue(t)};Yt.useEffect=function(t,e){return Gi.current.useEffect(t,e)};Yt.useId=function(){return Gi.current.useId()};Yt.useImperativeHandle=function(t,e,r){return Gi.current.useImperativeHandle(t,e,r)};Yt.useInsertionEffect=function(t,e){return Gi.current.useInsertionEffect(t,e)};Yt.useLayoutEffect=function(t,e){return Gi.current.useLayoutEffect(t,e)};Yt.useMemo=function(t,e){return Gi.current.useMemo(t,e)};Yt.useReducer=function(t,e,r){return Gi.current.useReducer(t,e,r)};Yt.useRef=function(t){return Gi.current.useRef(t)};Yt.useState=function(t){return Gi.current.useState(t)};Yt.useSyncExternalStore=function(t,e,r){return Gi.current.useSyncExternalStore(t,e,r)};Yt.useTransition=function(){return Gi.current.useTransition()};Yt.version="18.3.1";xA.exports=Yt;var ve=xA.exports;const QL=vA(ve),JL=FL({__proto__:null,default:QL},[ve]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZL=ve,eF=Symbol.for("react.element"),tF=Symbol.for("react.fragment"),rF=Object.prototype.hasOwnProperty,nF=ZL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iF={key:!0,ref:!0,__self:!0,__source:!0};function kA(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)rF.call(e,n)&&!iF.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:eF,type:t,key:s,ref:a,props:i,_owner:nF.current}}V1.Fragment=tF;V1.jsx=kA;V1.jsxs=kA;yA.exports=V1;var p=yA.exports,Ay={},CA={exports:{}},Ms={},PA={exports:{}},IA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(J,re){var de=J.length;J.push(re);e:for(;0<de;){var Se=de-1>>>1,I=J[Se];if(0<i(I,re))J[Se]=re,J[de]=I,de=Se;else break e}}function r(J){return J.length===0?null:J[0]}function n(J){if(J.length===0)return null;var re=J[0],de=J.pop();if(de!==re){J[0]=de;e:for(var Se=0,I=J.length,V=I>>>1;Se<V;){var U=2*(Se+1)-1,z=J[U],Q=U+1,ge=J[Q];if(0>i(z,de))Q<I&&0>i(ge,z)?(J[Se]=ge,J[Q]=de,Se=Q):(J[Se]=z,J[U]=de,Se=U);else if(Q<I&&0>i(ge,de))J[Se]=ge,J[Q]=de,Se=Q;else break e}}return re}function i(J,re){var de=J.sortIndex-re.sortIndex;return de!==0?de:J.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,h=null,d=3,f=!1,y=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(J){for(var re=r(u);re!==null;){if(re.callback===null)n(u);else if(re.startTime<=J)n(u),re.sortIndex=re.expirationTime,e(l,re);else break;re=r(u)}}function F(J){if(v=!1,T(J),!y)if(r(l)!==null)y=!0,ie(j);else{var re=r(u);re!==null&&ee(F,re.startTime-J)}}function j(J,re){y=!1,v&&(v=!1,w(_),_=-1),f=!0;var de=d;try{for(T(re),h=r(l);h!==null&&(!(h.expirationTime>re)||J&&!N());){var Se=h.callback;if(typeof Se=="function"){h.callback=null,d=h.priorityLevel;var I=Se(h.expirationTime<=re);re=t.unstable_now(),typeof I=="function"?h.callback=I:h===r(l)&&n(l),T(re)}else n(l);h=r(l)}if(h!==null)var V=!0;else{var U=r(u);U!==null&&ee(F,U.startTime-re),V=!1}return V}finally{h=null,d=de,f=!1}}var M=!1,A=null,_=-1,C=5,D=-1;function N(){return!(t.unstable_now()-D<C)}function E(){if(A!==null){var J=t.unstable_now();D=J;var re=!0;try{re=A(!0,J)}finally{re?R():(M=!1,A=null)}}else M=!1}var R;if(typeof S=="function")R=function(){S(E)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,me=H.port2;H.port1.onmessage=E,R=function(){me.postMessage(null)}}else R=function(){b(E,0)};function ie(J){A=J,M||(M=!0,R())}function ee(J,re){_=b(function(){J(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){y||f||(y=!0,ie(j))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(J){switch(d){case 1:case 2:case 3:var re=3;break;default:re=d}var de=d;d=re;try{return J()}finally{d=de}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,re){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var de=d;d=J;try{return re()}finally{d=de}},t.unstable_scheduleCallback=function(J,re,de){var Se=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Se+de:Se):de=Se,J){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=de+I,J={id:c++,callback:re,priorityLevel:J,startTime:de,expirationTime:I,sortIndex:-1},de>Se?(J.sortIndex=de,e(u,J),r(l)===null&&J===r(u)&&(v?(w(_),_=-1):v=!0,ee(F,de-Se))):(J.sortIndex=I,e(l,J),y||f||(y=!0,ie(j))),J},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(J){var re=d;return function(){var de=d;d=re;try{return J.apply(this,arguments)}finally{d=de}}}})(IA);PA.exports=IA;var sF=PA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aF=ve,Os=sF;function rt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var RA=new Set,S0={};function Hc(t,e){yf(t,e),yf(t+"Capture",e)}function yf(t,e){for(S0[t]=e,t=0;t<e.length;t++)RA.add(e[t])}var Wo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ny=Object.prototype.hasOwnProperty,oF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d4={},p4={};function lF(t){return Ny.call(p4,t)?!0:Ny.call(d4,t)?!1:oF.test(t)?p4[t]=!0:(d4[t]=!0,!1)}function uF(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function cF(t,e,r,n){if(e===null||typeof e>"u"||uF(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ki(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var fi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){fi[t]=new Ki(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];fi[e]=new Ki(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){fi[t]=new Ki(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){fi[t]=new Ki(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){fi[t]=new Ki(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){fi[t]=new Ki(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){fi[t]=new Ki(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){fi[t]=new Ki(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){fi[t]=new Ki(t,5,!1,t.toLowerCase(),null,!1,!1)});var Mw=/[\-:]([a-z])/g;function Bw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Mw,Bw);fi[e]=new Ki(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Mw,Bw);fi[e]=new Ki(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Mw,Bw);fi[e]=new Ki(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){fi[t]=new Ki(t,1,!1,t.toLowerCase(),null,!1,!1)});fi.xlinkHref=new Ki("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){fi[t]=new Ki(t,1,!1,t.toLowerCase(),null,!0,!0)});function Vw(t,e,r,n){var i=fi.hasOwnProperty(e)?fi[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(cF(e,r,i,n)&&(r=null),n||i===null?lF(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var nl=aF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mm=Symbol.for("react.element"),Dh=Symbol.for("react.portal"),Oh=Symbol.for("react.fragment"),Uw=Symbol.for("react.strict_mode"),ky=Symbol.for("react.profiler"),LA=Symbol.for("react.provider"),FA=Symbol.for("react.context"),zw=Symbol.for("react.forward_ref"),Cy=Symbol.for("react.suspense"),Py=Symbol.for("react.suspense_list"),Hw=Symbol.for("react.memo"),zl=Symbol.for("react.lazy"),DA=Symbol.for("react.offscreen"),m4=Symbol.iterator;function yd(t){return t===null||typeof t!="object"?null:(t=m4&&t[m4]||t["@@iterator"],typeof t=="function"?t:null)}var Jr=Object.assign,l2;function Id(t){if(l2===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);l2=e&&e[1]||""}return`
`+l2+t}var u2=!1;function c2(t,e){if(!t||u2)return"";u2=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{u2=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Id(t):""}function hF(t){switch(t.tag){case 5:return Id(t.type);case 16:return Id("Lazy");case 13:return Id("Suspense");case 19:return Id("SuspenseList");case 0:case 2:case 15:return t=c2(t.type,!1),t;case 11:return t=c2(t.type.render,!1),t;case 1:return t=c2(t.type,!0),t;default:return""}}function Iy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Oh:return"Fragment";case Dh:return"Portal";case ky:return"Profiler";case Uw:return"StrictMode";case Cy:return"Suspense";case Py:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case FA:return(t.displayName||"Context")+".Consumer";case LA:return(t._context.displayName||"Context")+".Provider";case zw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Hw:return e=t.displayName||null,e!==null?e:Iy(t.type)||"Memo";case zl:e=t._payload,t=t._init;try{return Iy(t(e))}catch{}}return null}function fF(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Iy(e);case 8:return e===Uw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function yu(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function OA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function dF(t){var e=OA(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gm(t){t._valueTracker||(t._valueTracker=dF(t))}function jA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=OA(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Ng(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ry(t,e){var r=e.checked;return Jr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function g4(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=yu(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function MA(t,e){e=e.checked,e!=null&&Vw(t,"checked",e,!1)}function Ly(t,e){MA(t,e);var r=yu(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Fy(t,e.type,r):e.hasOwnProperty("defaultValue")&&Fy(t,e.type,yu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function v4(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Fy(t,e,r){(e!=="number"||Ng(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Rd=Array.isArray;function ef(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+yu(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Dy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(rt(91));return Jr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function y4(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(rt(92));if(Rd(r)){if(1<r.length)throw Error(rt(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:yu(r)}}function BA(t,e){var r=yu(e.value),n=yu(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function x4(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function VA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Oy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?VA(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vm,UA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(vm=vm||document.createElement("div"),vm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function T0(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Wd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pF=["Webkit","ms","Moz","O"];Object.keys(Wd).forEach(function(t){pF.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Wd[e]=Wd[t]})});function zA(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Wd.hasOwnProperty(t)&&Wd[t]?(""+e).trim():e+"px"}function HA(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=zA(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var mF=Jr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jy(t,e){if(e){if(mF[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(rt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(rt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(rt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(rt(62))}}function My(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var By=null;function Ww(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vy=null,tf=null,rf=null;function w4(t){if(t=yp(t)){if(typeof Vy!="function")throw Error(rt(280));var e=t.stateNode;e&&(e=q1(e),Vy(t.stateNode,t.type,e))}}function WA(t){tf?rf?rf.push(t):rf=[t]:tf=t}function qA(){if(tf){var t=tf,e=rf;if(rf=tf=null,w4(t),e)for(t=0;t<e.length;t++)w4(e[t])}}function $A(t,e){return t(e)}function GA(){}var h2=!1;function KA(t,e,r){if(h2)return t(e,r);h2=!0;try{return $A(t,e,r)}finally{h2=!1,(tf!==null||rf!==null)&&(GA(),qA())}}function E0(t,e){var r=t.stateNode;if(r===null)return null;var n=q1(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(rt(231,e,typeof r));return r}var Uy=!1;if(Wo)try{var xd={};Object.defineProperty(xd,"passive",{get:function(){Uy=!0}}),window.addEventListener("test",xd,xd),window.removeEventListener("test",xd,xd)}catch{Uy=!1}function gF(t,e,r,n,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var qd=!1,kg=null,Cg=!1,zy=null,vF={onError:function(t){qd=!0,kg=t}};function yF(t,e,r,n,i,s,a,o,l){qd=!1,kg=null,gF.apply(vF,arguments)}function xF(t,e,r,n,i,s,a,o,l){if(yF.apply(this,arguments),qd){if(qd){var u=kg;qd=!1,kg=null}else throw Error(rt(198));Cg||(Cg=!0,zy=u)}}function Wc(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function YA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _4(t){if(Wc(t)!==t)throw Error(rt(188))}function wF(t){var e=t.alternate;if(!e){if(e=Wc(t),e===null)throw Error(rt(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return _4(i),t;if(s===n)return _4(i),e;s=s.sibling}throw Error(rt(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(rt(189))}}if(r.alternate!==n)throw Error(rt(190))}if(r.tag!==3)throw Error(rt(188));return r.stateNode.current===r?t:e}function XA(t){return t=wF(t),t!==null?QA(t):null}function QA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=QA(t);if(e!==null)return e;t=t.sibling}return null}var JA=Os.unstable_scheduleCallback,b4=Os.unstable_cancelCallback,_F=Os.unstable_shouldYield,bF=Os.unstable_requestPaint,pn=Os.unstable_now,SF=Os.unstable_getCurrentPriorityLevel,qw=Os.unstable_ImmediatePriority,ZA=Os.unstable_UserBlockingPriority,Pg=Os.unstable_NormalPriority,TF=Os.unstable_LowPriority,eN=Os.unstable_IdlePriority,U1=null,to=null;function EF(t){if(to&&typeof to.onCommitFiberRoot=="function")try{to.onCommitFiberRoot(U1,t,void 0,(t.current.flags&128)===128)}catch{}}var Ia=Math.clz32?Math.clz32:kF,AF=Math.log,NF=Math.LN2;function kF(t){return t>>>=0,t===0?32:31-(AF(t)/NF|0)|0}var ym=64,xm=4194304;function Ld(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ig(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=Ld(o):(s&=a,s!==0&&(n=Ld(s)))}else a=r&~i,a!==0?n=Ld(a):s!==0&&(n=Ld(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Ia(e),i=1<<r,n|=t[r],e&=~i;return n}function CF(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function PF(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Ia(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=CF(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function Hy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function tN(){var t=ym;return ym<<=1,!(ym&4194240)&&(ym=64),t}function f2(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function gp(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ia(e),t[e]=r}function IF(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Ia(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function $w(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ia(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var br=0;function rN(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var nN,Gw,iN,sN,aN,Wy=!1,wm=[],iu=null,su=null,au=null,A0=new Map,N0=new Map,Wl=[],RF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function S4(t,e){switch(t){case"focusin":case"focusout":iu=null;break;case"dragenter":case"dragleave":su=null;break;case"mouseover":case"mouseout":au=null;break;case"pointerover":case"pointerout":A0.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":N0.delete(e.pointerId)}}function wd(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=yp(e),e!==null&&Gw(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function LF(t,e,r,n,i){switch(e){case"focusin":return iu=wd(iu,t,e,r,n,i),!0;case"dragenter":return su=wd(su,t,e,r,n,i),!0;case"mouseover":return au=wd(au,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return A0.set(s,wd(A0.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,N0.set(s,wd(N0.get(s)||null,t,e,r,n,i)),!0}return!1}function oN(t){var e=hc(t.target);if(e!==null){var r=Wc(e);if(r!==null){if(e=r.tag,e===13){if(e=YA(r),e!==null){t.blockedOn=e,aN(t.priority,function(){iN(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ng(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=qy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);By=n,r.target.dispatchEvent(n),By=null}else return e=yp(r),e!==null&&Gw(e),t.blockedOn=r,!1;e.shift()}return!0}function T4(t,e,r){ng(t)&&r.delete(e)}function FF(){Wy=!1,iu!==null&&ng(iu)&&(iu=null),su!==null&&ng(su)&&(su=null),au!==null&&ng(au)&&(au=null),A0.forEach(T4),N0.forEach(T4)}function _d(t,e){t.blockedOn===e&&(t.blockedOn=null,Wy||(Wy=!0,Os.unstable_scheduleCallback(Os.unstable_NormalPriority,FF)))}function k0(t){function e(i){return _d(i,t)}if(0<wm.length){_d(wm[0],t);for(var r=1;r<wm.length;r++){var n=wm[r];n.blockedOn===t&&(n.blockedOn=null)}}for(iu!==null&&_d(iu,t),su!==null&&_d(su,t),au!==null&&_d(au,t),A0.forEach(e),N0.forEach(e),r=0;r<Wl.length;r++)n=Wl[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Wl.length&&(r=Wl[0],r.blockedOn===null);)oN(r),r.blockedOn===null&&Wl.shift()}var nf=nl.ReactCurrentBatchConfig,Rg=!0;function DF(t,e,r,n){var i=br,s=nf.transition;nf.transition=null;try{br=1,Kw(t,e,r,n)}finally{br=i,nf.transition=s}}function OF(t,e,r,n){var i=br,s=nf.transition;nf.transition=null;try{br=4,Kw(t,e,r,n)}finally{br=i,nf.transition=s}}function Kw(t,e,r,n){if(Rg){var i=qy(t,e,r,n);if(i===null)b2(t,e,n,Lg,r),S4(t,n);else if(LF(i,t,e,r,n))n.stopPropagation();else if(S4(t,n),e&4&&-1<RF.indexOf(t)){for(;i!==null;){var s=yp(i);if(s!==null&&nN(s),s=qy(t,e,r,n),s===null&&b2(t,e,n,Lg,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else b2(t,e,n,null,r)}}var Lg=null;function qy(t,e,r,n){if(Lg=null,t=Ww(n),t=hc(t),t!==null)if(e=Wc(t),e===null)t=null;else if(r=e.tag,r===13){if(t=YA(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Lg=t,null}function lN(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(SF()){case qw:return 1;case ZA:return 4;case Pg:case TF:return 16;case eN:return 536870912;default:return 16}default:return 16}}var Ql=null,Yw=null,ig=null;function uN(){if(ig)return ig;var t,e=Yw,r=e.length,n,i="value"in Ql?Ql.value:Ql.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return ig=i.slice(t,1<n?1-n:void 0)}function sg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _m(){return!0}function E4(){return!1}function Bs(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?_m:E4,this.isPropagationStopped=E4,this}return Jr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=_m)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=_m)},persist:function(){},isPersistent:_m}),e}var Mf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xw=Bs(Mf),vp=Jr({},Mf,{view:0,detail:0}),jF=Bs(vp),d2,p2,bd,z1=Jr({},vp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bd&&(bd&&t.type==="mousemove"?(d2=t.screenX-bd.screenX,p2=t.screenY-bd.screenY):p2=d2=0,bd=t),d2)},movementY:function(t){return"movementY"in t?t.movementY:p2}}),A4=Bs(z1),MF=Jr({},z1,{dataTransfer:0}),BF=Bs(MF),VF=Jr({},vp,{relatedTarget:0}),m2=Bs(VF),UF=Jr({},Mf,{animationName:0,elapsedTime:0,pseudoElement:0}),zF=Bs(UF),HF=Jr({},Mf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),WF=Bs(HF),qF=Jr({},Mf,{data:0}),N4=Bs(qF),$F={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},GF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=KF[t])?!!e[t]:!1}function Qw(){return YF}var XF=Jr({},vp,{key:function(t){if(t.key){var e=$F[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=sg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?GF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qw,charCode:function(t){return t.type==="keypress"?sg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?sg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),QF=Bs(XF),JF=Jr({},z1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k4=Bs(JF),ZF=Jr({},vp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qw}),eD=Bs(ZF),tD=Jr({},Mf,{propertyName:0,elapsedTime:0,pseudoElement:0}),rD=Bs(tD),nD=Jr({},z1,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),iD=Bs(nD),sD=[9,13,27,32],Jw=Wo&&"CompositionEvent"in window,$d=null;Wo&&"documentMode"in document&&($d=document.documentMode);var aD=Wo&&"TextEvent"in window&&!$d,cN=Wo&&(!Jw||$d&&8<$d&&11>=$d),C4=" ",P4=!1;function hN(t,e){switch(t){case"keyup":return sD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var jh=!1;function oD(t,e){switch(t){case"compositionend":return fN(e);case"keypress":return e.which!==32?null:(P4=!0,C4);case"textInput":return t=e.data,t===C4&&P4?null:t;default:return null}}function lD(t,e){if(jh)return t==="compositionend"||!Jw&&hN(t,e)?(t=uN(),ig=Yw=Ql=null,jh=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return cN&&e.locale!=="ko"?null:e.data;default:return null}}var uD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function I4(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!uD[t.type]:e==="textarea"}function dN(t,e,r,n){WA(n),e=Fg(e,"onChange"),0<e.length&&(r=new Xw("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Gd=null,C0=null;function cD(t){TN(t,0)}function H1(t){var e=Vh(t);if(jA(e))return t}function hD(t,e){if(t==="change")return e}var pN=!1;if(Wo){var g2;if(Wo){var v2="oninput"in document;if(!v2){var R4=document.createElement("div");R4.setAttribute("oninput","return;"),v2=typeof R4.oninput=="function"}g2=v2}else g2=!1;pN=g2&&(!document.documentMode||9<document.documentMode)}function L4(){Gd&&(Gd.detachEvent("onpropertychange",mN),C0=Gd=null)}function mN(t){if(t.propertyName==="value"&&H1(C0)){var e=[];dN(e,C0,t,Ww(t)),KA(cD,e)}}function fD(t,e,r){t==="focusin"?(L4(),Gd=e,C0=r,Gd.attachEvent("onpropertychange",mN)):t==="focusout"&&L4()}function dD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return H1(C0)}function pD(t,e){if(t==="click")return H1(e)}function mD(t,e){if(t==="input"||t==="change")return H1(e)}function gD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Fa=typeof Object.is=="function"?Object.is:gD;function P0(t,e){if(Fa(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Ny.call(e,i)||!Fa(t[i],e[i]))return!1}return!0}function F4(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function D4(t,e){var r=F4(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=F4(r)}}function gN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?gN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vN(){for(var t=window,e=Ng();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Ng(t.document)}return e}function Zw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function vD(t){var e=vN(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&gN(r.ownerDocument.documentElement,r)){if(n!==null&&Zw(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=D4(r,s);var a=D4(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var yD=Wo&&"documentMode"in document&&11>=document.documentMode,Mh=null,$y=null,Kd=null,Gy=!1;function O4(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Gy||Mh==null||Mh!==Ng(n)||(n=Mh,"selectionStart"in n&&Zw(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Kd&&P0(Kd,n)||(Kd=n,n=Fg($y,"onSelect"),0<n.length&&(e=new Xw("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Mh)))}function bm(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Bh={animationend:bm("Animation","AnimationEnd"),animationiteration:bm("Animation","AnimationIteration"),animationstart:bm("Animation","AnimationStart"),transitionend:bm("Transition","TransitionEnd")},y2={},yN={};Wo&&(yN=document.createElement("div").style,"AnimationEvent"in window||(delete Bh.animationend.animation,delete Bh.animationiteration.animation,delete Bh.animationstart.animation),"TransitionEvent"in window||delete Bh.transitionend.transition);function W1(t){if(y2[t])return y2[t];if(!Bh[t])return t;var e=Bh[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in yN)return y2[t]=e[r];return t}var xN=W1("animationend"),wN=W1("animationiteration"),_N=W1("animationstart"),bN=W1("transitionend"),SN=new Map,j4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Iu(t,e){SN.set(t,e),Hc(e,[t])}for(var x2=0;x2<j4.length;x2++){var w2=j4[x2],xD=w2.toLowerCase(),wD=w2[0].toUpperCase()+w2.slice(1);Iu(xD,"on"+wD)}Iu(xN,"onAnimationEnd");Iu(wN,"onAnimationIteration");Iu(_N,"onAnimationStart");Iu("dblclick","onDoubleClick");Iu("focusin","onFocus");Iu("focusout","onBlur");Iu(bN,"onTransitionEnd");yf("onMouseEnter",["mouseout","mouseover"]);yf("onMouseLeave",["mouseout","mouseover"]);yf("onPointerEnter",["pointerout","pointerover"]);yf("onPointerLeave",["pointerout","pointerover"]);Hc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_D=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fd));function M4(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,xF(n,e,void 0,t),t.currentTarget=null}function TN(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;M4(i,o,u),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;M4(i,o,u),s=l}}}if(Cg)throw t=zy,Cg=!1,zy=null,t}function Br(t,e){var r=e[Jy];r===void 0&&(r=e[Jy]=new Set);var n=t+"__bubble";r.has(n)||(EN(e,t,2,!1),r.add(n))}function _2(t,e,r){var n=0;e&&(n|=4),EN(r,t,n,e)}var Sm="_reactListening"+Math.random().toString(36).slice(2);function I0(t){if(!t[Sm]){t[Sm]=!0,RA.forEach(function(r){r!=="selectionchange"&&(_D.has(r)||_2(r,!1,t),_2(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Sm]||(e[Sm]=!0,_2("selectionchange",!1,e))}}function EN(t,e,r,n){switch(lN(e)){case 1:var i=DF;break;case 4:i=OF;break;default:i=Kw}r=i.bind(null,e,r,t),i=void 0,!Uy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function b2(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=hc(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}KA(function(){var u=s,c=Ww(r),h=[];e:{var d=SN.get(t);if(d!==void 0){var f=Xw,y=t;switch(t){case"keypress":if(sg(r)===0)break e;case"keydown":case"keyup":f=QF;break;case"focusin":y="focus",f=m2;break;case"focusout":y="blur",f=m2;break;case"beforeblur":case"afterblur":f=m2;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=A4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=BF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=eD;break;case xN:case wN:case _N:f=zF;break;case bN:f=rD;break;case"scroll":f=jF;break;case"wheel":f=iD;break;case"copy":case"cut":case"paste":f=WF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=k4}var v=(e&4)!==0,b=!v&&t==="scroll",w=v?d!==null?d+"Capture":null:d;v=[];for(var S=u,T;S!==null;){T=S;var F=T.stateNode;if(T.tag===5&&F!==null&&(T=F,w!==null&&(F=E0(S,w),F!=null&&v.push(R0(S,F,T)))),b)break;S=S.return}0<v.length&&(d=new f(d,y,null,r,c),h.push({event:d,listeners:v}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&r!==By&&(y=r.relatedTarget||r.fromElement)&&(hc(y)||y[qo]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(y=r.relatedTarget||r.toElement,f=u,y=y?hc(y):null,y!==null&&(b=Wc(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(f=null,y=u),f!==y)){if(v=A4,F="onMouseLeave",w="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(v=k4,F="onPointerLeave",w="onPointerEnter",S="pointer"),b=f==null?d:Vh(f),T=y==null?d:Vh(y),d=new v(F,S+"leave",f,r,c),d.target=b,d.relatedTarget=T,F=null,hc(c)===u&&(v=new v(w,S+"enter",y,r,c),v.target=T,v.relatedTarget=b,F=v),b=F,f&&y)t:{for(v=f,w=y,S=0,T=v;T;T=_h(T))S++;for(T=0,F=w;F;F=_h(F))T++;for(;0<S-T;)v=_h(v),S--;for(;0<T-S;)w=_h(w),T--;for(;S--;){if(v===w||w!==null&&v===w.alternate)break t;v=_h(v),w=_h(w)}v=null}else v=null;f!==null&&B4(h,d,f,v,!1),y!==null&&b!==null&&B4(h,b,y,v,!0)}}e:{if(d=u?Vh(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var j=hD;else if(I4(d))if(pN)j=mD;else{j=dD;var M=fD}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(j=pD);if(j&&(j=j(t,u))){dN(h,j,r,c);break e}M&&M(t,d,u),t==="focusout"&&(M=d._wrapperState)&&M.controlled&&d.type==="number"&&Fy(d,"number",d.value)}switch(M=u?Vh(u):window,t){case"focusin":(I4(M)||M.contentEditable==="true")&&(Mh=M,$y=u,Kd=null);break;case"focusout":Kd=$y=Mh=null;break;case"mousedown":Gy=!0;break;case"contextmenu":case"mouseup":case"dragend":Gy=!1,O4(h,r,c);break;case"selectionchange":if(yD)break;case"keydown":case"keyup":O4(h,r,c)}var A;if(Jw)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else jh?hN(t,r)&&(_="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(cN&&r.locale!=="ko"&&(jh||_!=="onCompositionStart"?_==="onCompositionEnd"&&jh&&(A=uN()):(Ql=c,Yw="value"in Ql?Ql.value:Ql.textContent,jh=!0)),M=Fg(u,_),0<M.length&&(_=new N4(_,t,null,r,c),h.push({event:_,listeners:M}),A?_.data=A:(A=fN(r),A!==null&&(_.data=A)))),(A=aD?oD(t,r):lD(t,r))&&(u=Fg(u,"onBeforeInput"),0<u.length&&(c=new N4("onBeforeInput","beforeinput",null,r,c),h.push({event:c,listeners:u}),c.data=A))}TN(h,e)})}function R0(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Fg(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=E0(t,r),s!=null&&n.unshift(R0(t,s,i)),s=E0(t,e),s!=null&&n.push(R0(t,s,i))),t=t.return}return n}function _h(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function B4(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=E0(r,s),l!=null&&a.unshift(R0(r,l,o))):i||(l=E0(r,s),l!=null&&a.push(R0(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var bD=/\r\n?/g,SD=/\u0000|\uFFFD/g;function V4(t){return(typeof t=="string"?t:""+t).replace(bD,`
`).replace(SD,"")}function Tm(t,e,r){if(e=V4(e),V4(t)!==e&&r)throw Error(rt(425))}function Dg(){}var Ky=null,Yy=null;function Xy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Qy=typeof setTimeout=="function"?setTimeout:void 0,TD=typeof clearTimeout=="function"?clearTimeout:void 0,U4=typeof Promise=="function"?Promise:void 0,ED=typeof queueMicrotask=="function"?queueMicrotask:typeof U4<"u"?function(t){return U4.resolve(null).then(t).catch(AD)}:Qy;function AD(t){setTimeout(function(){throw t})}function S2(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),k0(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);k0(e)}function ou(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function z4(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Bf=Math.random().toString(36).slice(2),Ja="__reactFiber$"+Bf,L0="__reactProps$"+Bf,qo="__reactContainer$"+Bf,Jy="__reactEvents$"+Bf,ND="__reactListeners$"+Bf,kD="__reactHandles$"+Bf;function hc(t){var e=t[Ja];if(e)return e;for(var r=t.parentNode;r;){if(e=r[qo]||r[Ja]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=z4(t);t!==null;){if(r=t[Ja])return r;t=z4(t)}return e}t=r,r=t.parentNode}return null}function yp(t){return t=t[Ja]||t[qo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vh(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(rt(33))}function q1(t){return t[L0]||null}var Zy=[],Uh=-1;function Ru(t){return{current:t}}function zr(t){0>Uh||(t.current=Zy[Uh],Zy[Uh]=null,Uh--)}function Dr(t,e){Uh++,Zy[Uh]=t.current,t.current=e}var xu={},Ri=Ru(xu),us=Ru(!1),kc=xu;function xf(t,e){var r=t.type.contextTypes;if(!r)return xu;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function cs(t){return t=t.childContextTypes,t!=null}function Og(){zr(us),zr(Ri)}function H4(t,e,r){if(Ri.current!==xu)throw Error(rt(168));Dr(Ri,e),Dr(us,r)}function AN(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(rt(108,fF(t)||"Unknown",i));return Jr({},r,n)}function jg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||xu,kc=Ri.current,Dr(Ri,t),Dr(us,us.current),!0}function W4(t,e,r){var n=t.stateNode;if(!n)throw Error(rt(169));r?(t=AN(t,e,kc),n.__reactInternalMemoizedMergedChildContext=t,zr(us),zr(Ri),Dr(Ri,t)):zr(us),Dr(us,r)}var Ro=null,$1=!1,T2=!1;function NN(t){Ro===null?Ro=[t]:Ro.push(t)}function CD(t){$1=!0,NN(t)}function Lu(){if(!T2&&Ro!==null){T2=!0;var t=0,e=br;try{var r=Ro;for(br=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ro=null,$1=!1}catch(i){throw Ro!==null&&(Ro=Ro.slice(t+1)),JA(qw,Lu),i}finally{br=e,T2=!1}}return null}var zh=[],Hh=0,Mg=null,Bg=0,Js=[],Zs=0,Cc=null,Lo=1,Fo="";function sc(t,e){zh[Hh++]=Bg,zh[Hh++]=Mg,Mg=t,Bg=e}function kN(t,e,r){Js[Zs++]=Lo,Js[Zs++]=Fo,Js[Zs++]=Cc,Cc=t;var n=Lo;t=Fo;var i=32-Ia(n)-1;n&=~(1<<i),r+=1;var s=32-Ia(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Lo=1<<32-Ia(e)+i|r<<i|n,Fo=s+t}else Lo=1<<s|r<<i|n,Fo=t}function e5(t){t.return!==null&&(sc(t,1),kN(t,1,0))}function t5(t){for(;t===Mg;)Mg=zh[--Hh],zh[Hh]=null,Bg=zh[--Hh],zh[Hh]=null;for(;t===Cc;)Cc=Js[--Zs],Js[Zs]=null,Fo=Js[--Zs],Js[Zs]=null,Lo=Js[--Zs],Js[Zs]=null}var Ds=null,Rs=null,$r=!1,Na=null;function CN(t,e){var r=ea(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function q4(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ds=t,Rs=ou(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ds=t,Rs=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Cc!==null?{id:Lo,overflow:Fo}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ea(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ds=t,Rs=null,!0):!1;default:return!1}}function ex(t){return(t.mode&1)!==0&&(t.flags&128)===0}function tx(t){if($r){var e=Rs;if(e){var r=e;if(!q4(t,e)){if(ex(t))throw Error(rt(418));e=ou(r.nextSibling);var n=Ds;e&&q4(t,e)?CN(n,r):(t.flags=t.flags&-4097|2,$r=!1,Ds=t)}}else{if(ex(t))throw Error(rt(418));t.flags=t.flags&-4097|2,$r=!1,Ds=t}}}function $4(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ds=t}function Em(t){if(t!==Ds)return!1;if(!$r)return $4(t),$r=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Xy(t.type,t.memoizedProps)),e&&(e=Rs)){if(ex(t))throw PN(),Error(rt(418));for(;e;)CN(t,e),e=ou(e.nextSibling)}if($4(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(rt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Rs=ou(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Rs=null}}else Rs=Ds?ou(t.stateNode.nextSibling):null;return!0}function PN(){for(var t=Rs;t;)t=ou(t.nextSibling)}function wf(){Rs=Ds=null,$r=!1}function r5(t){Na===null?Na=[t]:Na.push(t)}var PD=nl.ReactCurrentBatchConfig;function Sd(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(rt(309));var n=r.stateNode}if(!n)throw Error(rt(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(rt(284));if(!r._owner)throw Error(rt(290,t))}return t}function Am(t,e){throw t=Object.prototype.toString.call(e),Error(rt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function G4(t){var e=t._init;return e(t._payload)}function IN(t){function e(w,S){if(t){var T=w.deletions;T===null?(w.deletions=[S],w.flags|=16):T.push(S)}}function r(w,S){if(!t)return null;for(;S!==null;)e(w,S),S=S.sibling;return null}function n(w,S){for(w=new Map;S!==null;)S.key!==null?w.set(S.key,S):w.set(S.index,S),S=S.sibling;return w}function i(w,S){return w=hu(w,S),w.index=0,w.sibling=null,w}function s(w,S,T){return w.index=T,t?(T=w.alternate,T!==null?(T=T.index,T<S?(w.flags|=2,S):T):(w.flags|=2,S)):(w.flags|=1048576,S)}function a(w){return t&&w.alternate===null&&(w.flags|=2),w}function o(w,S,T,F){return S===null||S.tag!==6?(S=I2(T,w.mode,F),S.return=w,S):(S=i(S,T),S.return=w,S)}function l(w,S,T,F){var j=T.type;return j===Oh?c(w,S,T.props.children,F,T.key):S!==null&&(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===zl&&G4(j)===S.type)?(F=i(S,T.props),F.ref=Sd(w,S,T),F.return=w,F):(F=fg(T.type,T.key,T.props,null,w.mode,F),F.ref=Sd(w,S,T),F.return=w,F)}function u(w,S,T,F){return S===null||S.tag!==4||S.stateNode.containerInfo!==T.containerInfo||S.stateNode.implementation!==T.implementation?(S=R2(T,w.mode,F),S.return=w,S):(S=i(S,T.children||[]),S.return=w,S)}function c(w,S,T,F,j){return S===null||S.tag!==7?(S=xc(T,w.mode,F,j),S.return=w,S):(S=i(S,T),S.return=w,S)}function h(w,S,T){if(typeof S=="string"&&S!==""||typeof S=="number")return S=I2(""+S,w.mode,T),S.return=w,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case mm:return T=fg(S.type,S.key,S.props,null,w.mode,T),T.ref=Sd(w,null,S),T.return=w,T;case Dh:return S=R2(S,w.mode,T),S.return=w,S;case zl:var F=S._init;return h(w,F(S._payload),T)}if(Rd(S)||yd(S))return S=xc(S,w.mode,T,null),S.return=w,S;Am(w,S)}return null}function d(w,S,T,F){var j=S!==null?S.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return j!==null?null:o(w,S,""+T,F);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case mm:return T.key===j?l(w,S,T,F):null;case Dh:return T.key===j?u(w,S,T,F):null;case zl:return j=T._init,d(w,S,j(T._payload),F)}if(Rd(T)||yd(T))return j!==null?null:c(w,S,T,F,null);Am(w,T)}return null}function f(w,S,T,F,j){if(typeof F=="string"&&F!==""||typeof F=="number")return w=w.get(T)||null,o(S,w,""+F,j);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case mm:return w=w.get(F.key===null?T:F.key)||null,l(S,w,F,j);case Dh:return w=w.get(F.key===null?T:F.key)||null,u(S,w,F,j);case zl:var M=F._init;return f(w,S,T,M(F._payload),j)}if(Rd(F)||yd(F))return w=w.get(T)||null,c(S,w,F,j,null);Am(S,F)}return null}function y(w,S,T,F){for(var j=null,M=null,A=S,_=S=0,C=null;A!==null&&_<T.length;_++){A.index>_?(C=A,A=null):C=A.sibling;var D=d(w,A,T[_],F);if(D===null){A===null&&(A=C);break}t&&A&&D.alternate===null&&e(w,A),S=s(D,S,_),M===null?j=D:M.sibling=D,M=D,A=C}if(_===T.length)return r(w,A),$r&&sc(w,_),j;if(A===null){for(;_<T.length;_++)A=h(w,T[_],F),A!==null&&(S=s(A,S,_),M===null?j=A:M.sibling=A,M=A);return $r&&sc(w,_),j}for(A=n(w,A);_<T.length;_++)C=f(A,w,_,T[_],F),C!==null&&(t&&C.alternate!==null&&A.delete(C.key===null?_:C.key),S=s(C,S,_),M===null?j=C:M.sibling=C,M=C);return t&&A.forEach(function(N){return e(w,N)}),$r&&sc(w,_),j}function v(w,S,T,F){var j=yd(T);if(typeof j!="function")throw Error(rt(150));if(T=j.call(T),T==null)throw Error(rt(151));for(var M=j=null,A=S,_=S=0,C=null,D=T.next();A!==null&&!D.done;_++,D=T.next()){A.index>_?(C=A,A=null):C=A.sibling;var N=d(w,A,D.value,F);if(N===null){A===null&&(A=C);break}t&&A&&N.alternate===null&&e(w,A),S=s(N,S,_),M===null?j=N:M.sibling=N,M=N,A=C}if(D.done)return r(w,A),$r&&sc(w,_),j;if(A===null){for(;!D.done;_++,D=T.next())D=h(w,D.value,F),D!==null&&(S=s(D,S,_),M===null?j=D:M.sibling=D,M=D);return $r&&sc(w,_),j}for(A=n(w,A);!D.done;_++,D=T.next())D=f(A,w,_,D.value,F),D!==null&&(t&&D.alternate!==null&&A.delete(D.key===null?_:D.key),S=s(D,S,_),M===null?j=D:M.sibling=D,M=D);return t&&A.forEach(function(E){return e(w,E)}),$r&&sc(w,_),j}function b(w,S,T,F){if(typeof T=="object"&&T!==null&&T.type===Oh&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case mm:e:{for(var j=T.key,M=S;M!==null;){if(M.key===j){if(j=T.type,j===Oh){if(M.tag===7){r(w,M.sibling),S=i(M,T.props.children),S.return=w,w=S;break e}}else if(M.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===zl&&G4(j)===M.type){r(w,M.sibling),S=i(M,T.props),S.ref=Sd(w,M,T),S.return=w,w=S;break e}r(w,M);break}else e(w,M);M=M.sibling}T.type===Oh?(S=xc(T.props.children,w.mode,F,T.key),S.return=w,w=S):(F=fg(T.type,T.key,T.props,null,w.mode,F),F.ref=Sd(w,S,T),F.return=w,w=F)}return a(w);case Dh:e:{for(M=T.key;S!==null;){if(S.key===M)if(S.tag===4&&S.stateNode.containerInfo===T.containerInfo&&S.stateNode.implementation===T.implementation){r(w,S.sibling),S=i(S,T.children||[]),S.return=w,w=S;break e}else{r(w,S);break}else e(w,S);S=S.sibling}S=R2(T,w.mode,F),S.return=w,w=S}return a(w);case zl:return M=T._init,b(w,S,M(T._payload),F)}if(Rd(T))return y(w,S,T,F);if(yd(T))return v(w,S,T,F);Am(w,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,S!==null&&S.tag===6?(r(w,S.sibling),S=i(S,T),S.return=w,w=S):(r(w,S),S=I2(T,w.mode,F),S.return=w,w=S),a(w)):r(w,S)}return b}var _f=IN(!0),RN=IN(!1),Vg=Ru(null),Ug=null,Wh=null,n5=null;function i5(){n5=Wh=Ug=null}function s5(t){var e=Vg.current;zr(Vg),t._currentValue=e}function rx(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function sf(t,e){Ug=t,n5=Wh=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(os=!0),t.firstContext=null)}function ia(t){var e=t._currentValue;if(n5!==t)if(t={context:t,memoizedValue:e,next:null},Wh===null){if(Ug===null)throw Error(rt(308));Wh=t,Ug.dependencies={lanes:0,firstContext:t}}else Wh=Wh.next=t;return e}var fc=null;function a5(t){fc===null?fc=[t]:fc.push(t)}function LN(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,a5(e)):(r.next=i.next,i.next=r),e.interleaved=r,$o(t,n)}function $o(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Hl=!1;function o5(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function FN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function lu(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,ar&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,$o(t,r)}return i=n.interleaved,i===null?(e.next=e,a5(n)):(e.next=i.next,i.next=e),n.interleaved=e,$o(t,r)}function ag(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,$w(t,r)}}function K4(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function zg(t,e,r,n){var i=t.updateQueue;Hl=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;a=0,c=u=l=null,o=s;do{var d=o.lane,f=o.eventTime;if((n&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=t,v=o;switch(d=e,f=r,v.tag){case 1:if(y=v.payload,typeof y=="function"){h=y.call(f,h,d);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,d=typeof y=="function"?y.call(f,h,d):y,d==null)break e;h=Jr({},h,d);break e;case 2:Hl=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=f,l=h):c=c.next=f,a|=d;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;d=o,o=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ic|=a,t.lanes=a,t.memoizedState=h}}function Y4(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(rt(191,i));i.call(n)}}}var xp={},ro=Ru(xp),F0=Ru(xp),D0=Ru(xp);function dc(t){if(t===xp)throw Error(rt(174));return t}function l5(t,e){switch(Dr(D0,e),Dr(F0,t),Dr(ro,xp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Oy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Oy(e,t)}zr(ro),Dr(ro,e)}function bf(){zr(ro),zr(F0),zr(D0)}function DN(t){dc(D0.current);var e=dc(ro.current),r=Oy(e,t.type);e!==r&&(Dr(F0,t),Dr(ro,r))}function u5(t){F0.current===t&&(zr(ro),zr(F0))}var Yr=Ru(0);function Hg(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var E2=[];function c5(){for(var t=0;t<E2.length;t++)E2[t]._workInProgressVersionPrimary=null;E2.length=0}var og=nl.ReactCurrentDispatcher,A2=nl.ReactCurrentBatchConfig,Pc=0,Qr=null,Ln=null,Hn=null,Wg=!1,Yd=!1,O0=0,ID=0;function vi(){throw Error(rt(321))}function h5(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Fa(t[r],e[r]))return!1;return!0}function f5(t,e,r,n,i,s){if(Pc=s,Qr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,og.current=t===null||t.memoizedState===null?DD:OD,t=r(n,i),Yd){s=0;do{if(Yd=!1,O0=0,25<=s)throw Error(rt(301));s+=1,Hn=Ln=null,e.updateQueue=null,og.current=jD,t=r(n,i)}while(Yd)}if(og.current=qg,e=Ln!==null&&Ln.next!==null,Pc=0,Hn=Ln=Qr=null,Wg=!1,e)throw Error(rt(300));return t}function d5(){var t=O0!==0;return O0=0,t}function Qa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?Qr.memoizedState=Hn=t:Hn=Hn.next=t,Hn}function sa(){if(Ln===null){var t=Qr.alternate;t=t!==null?t.memoizedState:null}else t=Ln.next;var e=Hn===null?Qr.memoizedState:Hn.next;if(e!==null)Hn=e,Ln=t;else{if(t===null)throw Error(rt(310));Ln=t,t={memoizedState:Ln.memoizedState,baseState:Ln.baseState,baseQueue:Ln.baseQueue,queue:Ln.queue,next:null},Hn===null?Qr.memoizedState=Hn=t:Hn=Hn.next=t}return Hn}function j0(t,e){return typeof e=="function"?e(t):e}function N2(t){var e=sa(),r=e.queue;if(r===null)throw Error(rt(311));r.lastRenderedReducer=t;var n=Ln,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,u=s;do{var c=u.lane;if((Pc&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=h,a=n):l=l.next=h,Qr.lanes|=c,Ic|=c}u=u.next}while(u!==null&&u!==s);l===null?a=n:l.next=o,Fa(n,e.memoizedState)||(os=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Qr.lanes|=s,Ic|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function k2(t){var e=sa(),r=e.queue;if(r===null)throw Error(rt(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Fa(s,e.memoizedState)||(os=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function ON(){}function jN(t,e){var r=Qr,n=sa(),i=e(),s=!Fa(n.memoizedState,i);if(s&&(n.memoizedState=i,os=!0),n=n.queue,p5(VN.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Hn!==null&&Hn.memoizedState.tag&1){if(r.flags|=2048,M0(9,BN.bind(null,r,n,i,e),void 0,null),Kn===null)throw Error(rt(349));Pc&30||MN(r,e,i)}return i}function MN(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Qr.updateQueue,e===null?(e={lastEffect:null,stores:null},Qr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function BN(t,e,r,n){e.value=r,e.getSnapshot=n,UN(e)&&zN(t)}function VN(t,e,r){return r(function(){UN(e)&&zN(t)})}function UN(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Fa(t,r)}catch{return!0}}function zN(t){var e=$o(t,1);e!==null&&Ra(e,t,1,-1)}function X4(t){var e=Qa();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:j0,lastRenderedState:t},e.queue=t,t=t.dispatch=FD.bind(null,Qr,t),[e.memoizedState,t]}function M0(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Qr.updateQueue,e===null?(e={lastEffect:null,stores:null},Qr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function HN(){return sa().memoizedState}function lg(t,e,r,n){var i=Qa();Qr.flags|=t,i.memoizedState=M0(1|e,r,void 0,n===void 0?null:n)}function G1(t,e,r,n){var i=sa();n=n===void 0?null:n;var s=void 0;if(Ln!==null){var a=Ln.memoizedState;if(s=a.destroy,n!==null&&h5(n,a.deps)){i.memoizedState=M0(e,r,s,n);return}}Qr.flags|=t,i.memoizedState=M0(1|e,r,s,n)}function Q4(t,e){return lg(8390656,8,t,e)}function p5(t,e){return G1(2048,8,t,e)}function WN(t,e){return G1(4,2,t,e)}function qN(t,e){return G1(4,4,t,e)}function $N(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function GN(t,e,r){return r=r!=null?r.concat([t]):null,G1(4,4,$N.bind(null,e,t),r)}function m5(){}function KN(t,e){var r=sa();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&h5(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function YN(t,e){var r=sa();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&h5(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function XN(t,e,r){return Pc&21?(Fa(r,e)||(r=tN(),Qr.lanes|=r,Ic|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,os=!0),t.memoizedState=r)}function RD(t,e){var r=br;br=r!==0&&4>r?r:4,t(!0);var n=A2.transition;A2.transition={};try{t(!1),e()}finally{br=r,A2.transition=n}}function QN(){return sa().memoizedState}function LD(t,e,r){var n=cu(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},JN(t))ZN(e,r);else if(r=LN(t,e,r,n),r!==null){var i=qi();Ra(r,t,n,i),ek(r,e,n)}}function FD(t,e,r){var n=cu(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(JN(t))ZN(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,Fa(o,a)){var l=e.interleaved;l===null?(i.next=i,a5(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=LN(t,e,i,n),r!==null&&(i=qi(),Ra(r,t,n,i),ek(r,e,n))}}function JN(t){var e=t.alternate;return t===Qr||e!==null&&e===Qr}function ZN(t,e){Yd=Wg=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function ek(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,$w(t,r)}}var qg={readContext:ia,useCallback:vi,useContext:vi,useEffect:vi,useImperativeHandle:vi,useInsertionEffect:vi,useLayoutEffect:vi,useMemo:vi,useReducer:vi,useRef:vi,useState:vi,useDebugValue:vi,useDeferredValue:vi,useTransition:vi,useMutableSource:vi,useSyncExternalStore:vi,useId:vi,unstable_isNewReconciler:!1},DD={readContext:ia,useCallback:function(t,e){return Qa().memoizedState=[t,e===void 0?null:e],t},useContext:ia,useEffect:Q4,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,lg(4194308,4,$N.bind(null,e,t),r)},useLayoutEffect:function(t,e){return lg(4194308,4,t,e)},useInsertionEffect:function(t,e){return lg(4,2,t,e)},useMemo:function(t,e){var r=Qa();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Qa();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=LD.bind(null,Qr,t),[n.memoizedState,t]},useRef:function(t){var e=Qa();return t={current:t},e.memoizedState=t},useState:X4,useDebugValue:m5,useDeferredValue:function(t){return Qa().memoizedState=t},useTransition:function(){var t=X4(!1),e=t[0];return t=RD.bind(null,t[1]),Qa().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Qr,i=Qa();if($r){if(r===void 0)throw Error(rt(407));r=r()}else{if(r=e(),Kn===null)throw Error(rt(349));Pc&30||MN(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,Q4(VN.bind(null,n,s,t),[t]),n.flags|=2048,M0(9,BN.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Qa(),e=Kn.identifierPrefix;if($r){var r=Fo,n=Lo;r=(n&~(1<<32-Ia(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=O0++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=ID++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},OD={readContext:ia,useCallback:KN,useContext:ia,useEffect:p5,useImperativeHandle:GN,useInsertionEffect:WN,useLayoutEffect:qN,useMemo:YN,useReducer:N2,useRef:HN,useState:function(){return N2(j0)},useDebugValue:m5,useDeferredValue:function(t){var e=sa();return XN(e,Ln.memoizedState,t)},useTransition:function(){var t=N2(j0)[0],e=sa().memoizedState;return[t,e]},useMutableSource:ON,useSyncExternalStore:jN,useId:QN,unstable_isNewReconciler:!1},jD={readContext:ia,useCallback:KN,useContext:ia,useEffect:p5,useImperativeHandle:GN,useInsertionEffect:WN,useLayoutEffect:qN,useMemo:YN,useReducer:k2,useRef:HN,useState:function(){return k2(j0)},useDebugValue:m5,useDeferredValue:function(t){var e=sa();return Ln===null?e.memoizedState=t:XN(e,Ln.memoizedState,t)},useTransition:function(){var t=k2(j0)[0],e=sa().memoizedState;return[t,e]},useMutableSource:ON,useSyncExternalStore:jN,useId:QN,unstable_isNewReconciler:!1};function Sa(t,e){if(t&&t.defaultProps){e=Jr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function nx(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Jr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var K1={isMounted:function(t){return(t=t._reactInternals)?Wc(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=qi(),i=cu(t),s=Mo(n,i);s.payload=e,r!=null&&(s.callback=r),e=lu(t,s,i),e!==null&&(Ra(e,t,i,n),ag(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=qi(),i=cu(t),s=Mo(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=lu(t,s,i),e!==null&&(Ra(e,t,i,n),ag(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=qi(),n=cu(t),i=Mo(r,n);i.tag=2,e!=null&&(i.callback=e),e=lu(t,i,n),e!==null&&(Ra(e,t,n,r),ag(e,t,n))}};function J4(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!P0(r,n)||!P0(i,s):!0}function tk(t,e,r){var n=!1,i=xu,s=e.contextType;return typeof s=="object"&&s!==null?s=ia(s):(i=cs(e)?kc:Ri.current,n=e.contextTypes,s=(n=n!=null)?xf(t,i):xu),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=K1,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Z4(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&K1.enqueueReplaceState(e,e.state,null)}function ix(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},o5(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ia(s):(s=cs(e)?kc:Ri.current,i.context=xf(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(nx(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&K1.enqueueReplaceState(i,i.state,null),zg(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Sf(t,e){try{var r="",n=e;do r+=hF(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function C2(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function sx(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var MD=typeof WeakMap=="function"?WeakMap:Map;function rk(t,e,r){r=Mo(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Gg||(Gg=!0,mx=n),sx(t,e)},r}function nk(t,e,r){r=Mo(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){sx(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){sx(t,e),typeof n!="function"&&(uu===null?uu=new Set([this]):uu.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function eS(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new MD;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=JD.bind(null,t,e,r),e.then(t,t))}function tS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function rS(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Mo(-1,1),e.tag=2,lu(r,e,1))),r.lanes|=1),t)}var BD=nl.ReactCurrentOwner,os=!1;function Ui(t,e,r,n){e.child=t===null?RN(e,null,r,n):_f(e,t.child,r,n)}function nS(t,e,r,n,i){r=r.render;var s=e.ref;return sf(e,i),n=f5(t,e,r,n,s,i),r=d5(),t!==null&&!os?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Go(t,e,i)):($r&&r&&e5(e),e.flags|=1,Ui(t,e,n,i),e.child)}function iS(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!S5(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,ik(t,e,s,n,i)):(t=fg(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:P0,r(a,n)&&t.ref===e.ref)return Go(t,e,i)}return e.flags|=1,t=hu(s,n),t.ref=e.ref,t.return=e,e.child=t}function ik(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(P0(s,n)&&t.ref===e.ref)if(os=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(os=!0);else return e.lanes=t.lanes,Go(t,e,i)}return ax(t,e,r,n,i)}function sk(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Dr($h,ks),ks|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Dr($h,ks),ks|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Dr($h,ks),ks|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Dr($h,ks),ks|=n;return Ui(t,e,i,r),e.child}function ak(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function ax(t,e,r,n,i){var s=cs(r)?kc:Ri.current;return s=xf(e,s),sf(e,i),r=f5(t,e,r,n,s,i),n=d5(),t!==null&&!os?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Go(t,e,i)):($r&&n&&e5(e),e.flags|=1,Ui(t,e,r,i),e.child)}function sS(t,e,r,n,i){if(cs(r)){var s=!0;jg(e)}else s=!1;if(sf(e,i),e.stateNode===null)ug(t,e),tk(e,r,n),ix(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=ia(u):(u=cs(r)?kc:Ri.current,u=xf(e,u));var c=r.getDerivedStateFromProps,h=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==u)&&Z4(e,a,n,u),Hl=!1;var d=e.memoizedState;a.state=d,zg(e,n,a,i),l=e.memoizedState,o!==n||d!==l||us.current||Hl?(typeof c=="function"&&(nx(e,r,c,n),l=e.memoizedState),(o=Hl||J4(e,r,o,n,d,l,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,FN(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Sa(e.type,o),a.props=u,h=e.pendingProps,d=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=ia(l):(l=cs(r)?kc:Ri.current,l=xf(e,l));var f=r.getDerivedStateFromProps;(c=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||d!==l)&&Z4(e,a,n,l),Hl=!1,d=e.memoizedState,a.state=d,zg(e,n,a,i);var y=e.memoizedState;o!==h||d!==y||us.current||Hl?(typeof f=="function"&&(nx(e,r,f,n),y=e.memoizedState),(u=Hl||J4(e,r,u,n,d,y,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,y,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),a.props=n,a.state=y,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return ox(t,e,r,n,s,i)}function ox(t,e,r,n,i,s){ak(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&W4(e,r,!1),Go(t,e,s);n=e.stateNode,BD.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=_f(e,t.child,null,s),e.child=_f(e,null,o,s)):Ui(t,e,o,s),e.memoizedState=n.state,i&&W4(e,r,!0),e.child}function ok(t){var e=t.stateNode;e.pendingContext?H4(t,e.pendingContext,e.pendingContext!==e.context):e.context&&H4(t,e.context,!1),l5(t,e.containerInfo)}function aS(t,e,r,n,i){return wf(),r5(i),e.flags|=256,Ui(t,e,r,n),e.child}var lx={dehydrated:null,treeContext:null,retryLane:0};function ux(t){return{baseLanes:t,cachePool:null,transitions:null}}function lk(t,e,r){var n=e.pendingProps,i=Yr.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Dr(Yr,i&1),t===null)return tx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Q1(a,n,0,null),t=xc(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ux(r),e.memoizedState=lx,t):g5(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return VD(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=hu(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=hu(o,s):(s=xc(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?ux(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=lx,n}return s=t.child,t=s.sibling,n=hu(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function g5(t,e){return e=Q1({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Nm(t,e,r,n){return n!==null&&r5(n),_f(e,t.child,null,r),t=g5(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function VD(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=C2(Error(rt(422))),Nm(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Q1({mode:"visible",children:n.children},i,0,null),s=xc(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&_f(e,t.child,null,a),e.child.memoizedState=ux(a),e.memoizedState=lx,s);if(!(e.mode&1))return Nm(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(rt(419)),n=C2(s,n,void 0),Nm(t,e,a,n)}if(o=(a&t.childLanes)!==0,os||o){if(n=Kn,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,$o(t,i),Ra(n,t,i,-1))}return b5(),n=C2(Error(rt(421))),Nm(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=ZD.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Rs=ou(i.nextSibling),Ds=e,$r=!0,Na=null,t!==null&&(Js[Zs++]=Lo,Js[Zs++]=Fo,Js[Zs++]=Cc,Lo=t.id,Fo=t.overflow,Cc=e),e=g5(e,n.children),e.flags|=4096,e)}function oS(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),rx(t.return,e,r)}function P2(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function uk(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Ui(t,e,n.children,r),n=Yr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&oS(t,r,e);else if(t.tag===19)oS(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Dr(Yr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Hg(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),P2(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Hg(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}P2(e,!0,r,null,s);break;case"together":P2(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ug(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Go(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ic|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(rt(153));if(e.child!==null){for(t=e.child,r=hu(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=hu(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function UD(t,e,r){switch(e.tag){case 3:ok(e),wf();break;case 5:DN(e);break;case 1:cs(e.type)&&jg(e);break;case 4:l5(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Dr(Vg,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Dr(Yr,Yr.current&1),e.flags|=128,null):r&e.child.childLanes?lk(t,e,r):(Dr(Yr,Yr.current&1),t=Go(t,e,r),t!==null?t.sibling:null);Dr(Yr,Yr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return uk(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Dr(Yr,Yr.current),n)break;return null;case 22:case 23:return e.lanes=0,sk(t,e,r)}return Go(t,e,r)}var ck,cx,hk,fk;ck=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};cx=function(){};hk=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,dc(ro.current);var s=null;switch(r){case"input":i=Ry(t,i),n=Ry(t,n),s=[];break;case"select":i=Jr({},i,{value:void 0}),n=Jr({},n,{value:void 0}),s=[];break;case"textarea":i=Dy(t,i),n=Dy(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Dg)}jy(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(S0.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(S0.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Br("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};fk=function(t,e,r,n){r!==n&&(e.flags|=4)};function Td(t,e){if(!$r)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function yi(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function zD(t,e,r){var n=e.pendingProps;switch(t5(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yi(e),null;case 1:return cs(e.type)&&Og(),yi(e),null;case 3:return n=e.stateNode,bf(),zr(us),zr(Ri),c5(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Em(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Na!==null&&(yx(Na),Na=null))),cx(t,e),yi(e),null;case 5:u5(e);var i=dc(D0.current);if(r=e.type,t!==null&&e.stateNode!=null)hk(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(rt(166));return yi(e),null}if(t=dc(ro.current),Em(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Ja]=e,n[L0]=s,t=(e.mode&1)!==0,r){case"dialog":Br("cancel",n),Br("close",n);break;case"iframe":case"object":case"embed":Br("load",n);break;case"video":case"audio":for(i=0;i<Fd.length;i++)Br(Fd[i],n);break;case"source":Br("error",n);break;case"img":case"image":case"link":Br("error",n),Br("load",n);break;case"details":Br("toggle",n);break;case"input":g4(n,s),Br("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Br("invalid",n);break;case"textarea":y4(n,s),Br("invalid",n)}jy(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&Tm(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Tm(n.textContent,o,t),i=["children",""+o]):S0.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Br("scroll",n)}switch(r){case"input":gm(n),v4(n,s,!0);break;case"textarea":gm(n),x4(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Dg)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=VA(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Ja]=e,t[L0]=n,ck(t,e,!1,!1),e.stateNode=t;e:{switch(a=My(r,n),r){case"dialog":Br("cancel",t),Br("close",t),i=n;break;case"iframe":case"object":case"embed":Br("load",t),i=n;break;case"video":case"audio":for(i=0;i<Fd.length;i++)Br(Fd[i],t);i=n;break;case"source":Br("error",t),i=n;break;case"img":case"image":case"link":Br("error",t),Br("load",t),i=n;break;case"details":Br("toggle",t),i=n;break;case"input":g4(t,n),i=Ry(t,n),Br("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Jr({},n,{value:void 0}),Br("invalid",t);break;case"textarea":y4(t,n),i=Dy(t,n),Br("invalid",t);break;default:i=n}jy(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?HA(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&UA(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&T0(t,l):typeof l=="number"&&T0(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(S0.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Br("scroll",t):l!=null&&Vw(t,s,l,a))}switch(r){case"input":gm(t),v4(t,n,!1);break;case"textarea":gm(t),x4(t);break;case"option":n.value!=null&&t.setAttribute("value",""+yu(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?ef(t,!!n.multiple,s,!1):n.defaultValue!=null&&ef(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Dg)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return yi(e),null;case 6:if(t&&e.stateNode!=null)fk(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(rt(166));if(r=dc(D0.current),dc(ro.current),Em(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ja]=e,(s=n.nodeValue!==r)&&(t=Ds,t!==null))switch(t.tag){case 3:Tm(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Tm(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ja]=e,e.stateNode=n}return yi(e),null;case 13:if(zr(Yr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if($r&&Rs!==null&&e.mode&1&&!(e.flags&128))PN(),wf(),e.flags|=98560,s=!1;else if(s=Em(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(rt(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(rt(317));s[Ja]=e}else wf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;yi(e),s=!1}else Na!==null&&(yx(Na),Na=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Yr.current&1?Dn===0&&(Dn=3):b5())),e.updateQueue!==null&&(e.flags|=4),yi(e),null);case 4:return bf(),cx(t,e),t===null&&I0(e.stateNode.containerInfo),yi(e),null;case 10:return s5(e.type._context),yi(e),null;case 17:return cs(e.type)&&Og(),yi(e),null;case 19:if(zr(Yr),s=e.memoizedState,s===null)return yi(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)Td(s,!1);else{if(Dn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Hg(t),a!==null){for(e.flags|=128,Td(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Dr(Yr,Yr.current&1|2),e.child}t=t.sibling}s.tail!==null&&pn()>Tf&&(e.flags|=128,n=!0,Td(s,!1),e.lanes=4194304)}else{if(!n)if(t=Hg(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Td(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!$r)return yi(e),null}else 2*pn()-s.renderingStartTime>Tf&&r!==1073741824&&(e.flags|=128,n=!0,Td(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=pn(),e.sibling=null,r=Yr.current,Dr(Yr,n?r&1|2:r&1),e):(yi(e),null);case 22:case 23:return _5(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ks&1073741824&&(yi(e),e.subtreeFlags&6&&(e.flags|=8192)):yi(e),null;case 24:return null;case 25:return null}throw Error(rt(156,e.tag))}function HD(t,e){switch(t5(e),e.tag){case 1:return cs(e.type)&&Og(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return bf(),zr(us),zr(Ri),c5(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return u5(e),null;case 13:if(zr(Yr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(rt(340));wf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return zr(Yr),null;case 4:return bf(),null;case 10:return s5(e.type._context),null;case 22:case 23:return _5(),null;case 24:return null;default:return null}}var km=!1,Ei=!1,WD=typeof WeakSet=="function"?WeakSet:Set,xt=null;function qh(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){on(t,e,n)}else r.current=null}function hx(t,e,r){try{r()}catch(n){on(t,e,n)}}var lS=!1;function qD(t,e){if(Ky=Rg,t=vN(),Zw(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var f;h!==r||i!==0&&h.nodeType!==3||(o=a+i),h!==s||n!==0&&h.nodeType!==3||(l=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===r&&++u===i&&(o=a),d===s&&++c===n&&(l=a),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Yy={focusedElem:t,selectionRange:r},Rg=!1,xt=e;xt!==null;)if(e=xt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,xt=t;else for(;xt!==null;){e=xt;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,b=y.memoizedState,w=e.stateNode,S=w.getSnapshotBeforeUpdate(e.elementType===e.type?v:Sa(e.type,v),b);w.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(rt(163))}}catch(F){on(e,e.return,F)}if(t=e.sibling,t!==null){t.return=e.return,xt=t;break}xt=e.return}return y=lS,lS=!1,y}function Xd(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&hx(e,r,s)}i=i.next}while(i!==n)}}function Y1(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function fx(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function dk(t){var e=t.alternate;e!==null&&(t.alternate=null,dk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ja],delete e[L0],delete e[Jy],delete e[ND],delete e[kD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function pk(t){return t.tag===5||t.tag===3||t.tag===4}function uS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dx(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Dg));else if(n!==4&&(t=t.child,t!==null))for(dx(t,e,r),t=t.sibling;t!==null;)dx(t,e,r),t=t.sibling}function px(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(px(t,e,r),t=t.sibling;t!==null;)px(t,e,r),t=t.sibling}var ri=null,Aa=!1;function Ol(t,e,r){for(r=r.child;r!==null;)mk(t,e,r),r=r.sibling}function mk(t,e,r){if(to&&typeof to.onCommitFiberUnmount=="function")try{to.onCommitFiberUnmount(U1,r)}catch{}switch(r.tag){case 5:Ei||qh(r,e);case 6:var n=ri,i=Aa;ri=null,Ol(t,e,r),ri=n,Aa=i,ri!==null&&(Aa?(t=ri,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ri.removeChild(r.stateNode));break;case 18:ri!==null&&(Aa?(t=ri,r=r.stateNode,t.nodeType===8?S2(t.parentNode,r):t.nodeType===1&&S2(t,r),k0(t)):S2(ri,r.stateNode));break;case 4:n=ri,i=Aa,ri=r.stateNode.containerInfo,Aa=!0,Ol(t,e,r),ri=n,Aa=i;break;case 0:case 11:case 14:case 15:if(!Ei&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&hx(r,e,a),i=i.next}while(i!==n)}Ol(t,e,r);break;case 1:if(!Ei&&(qh(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){on(r,e,o)}Ol(t,e,r);break;case 21:Ol(t,e,r);break;case 22:r.mode&1?(Ei=(n=Ei)||r.memoizedState!==null,Ol(t,e,r),Ei=n):Ol(t,e,r);break;default:Ol(t,e,r)}}function cS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new WD),e.forEach(function(n){var i=e7.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function va(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:ri=o.stateNode,Aa=!1;break e;case 3:ri=o.stateNode.containerInfo,Aa=!0;break e;case 4:ri=o.stateNode.containerInfo,Aa=!0;break e}o=o.return}if(ri===null)throw Error(rt(160));mk(s,a,i),ri=null,Aa=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){on(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gk(e,t),e=e.sibling}function gk(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(va(e,t),Ga(t),n&4){try{Xd(3,t,t.return),Y1(3,t)}catch(v){on(t,t.return,v)}try{Xd(5,t,t.return)}catch(v){on(t,t.return,v)}}break;case 1:va(e,t),Ga(t),n&512&&r!==null&&qh(r,r.return);break;case 5:if(va(e,t),Ga(t),n&512&&r!==null&&qh(r,r.return),t.flags&32){var i=t.stateNode;try{T0(i,"")}catch(v){on(t,t.return,v)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&MA(i,s),My(o,a);var u=My(o,s);for(a=0;a<l.length;a+=2){var c=l[a],h=l[a+1];c==="style"?HA(i,h):c==="dangerouslySetInnerHTML"?UA(i,h):c==="children"?T0(i,h):Vw(i,c,h,u)}switch(o){case"input":Ly(i,s);break;case"textarea":BA(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?ef(i,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?ef(i,!!s.multiple,s.defaultValue,!0):ef(i,!!s.multiple,s.multiple?[]:"",!1))}i[L0]=s}catch(v){on(t,t.return,v)}}break;case 6:if(va(e,t),Ga(t),n&4){if(t.stateNode===null)throw Error(rt(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){on(t,t.return,v)}}break;case 3:if(va(e,t),Ga(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{k0(e.containerInfo)}catch(v){on(t,t.return,v)}break;case 4:va(e,t),Ga(t);break;case 13:va(e,t),Ga(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(x5=pn())),n&4&&cS(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(Ei=(u=Ei)||c,va(e,t),Ei=u):va(e,t),Ga(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(xt=t,c=t.child;c!==null;){for(h=xt=c;xt!==null;){switch(d=xt,f=d.child,d.tag){case 0:case 11:case 14:case 15:Xd(4,d,d.return);break;case 1:qh(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){n=d,r=d.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){on(n,r,v)}}break;case 5:qh(d,d.return);break;case 22:if(d.memoizedState!==null){fS(h);continue}}f!==null?(f.return=d,xt=f):fS(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=zA("display",a))}catch(v){on(t,t.return,v)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){on(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:va(e,t),Ga(t),n&4&&cS(t);break;case 21:break;default:va(e,t),Ga(t)}}function Ga(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(pk(r)){var n=r;break e}r=r.return}throw Error(rt(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(T0(i,""),n.flags&=-33);var s=uS(t);px(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=uS(t);dx(t,o,a);break;default:throw Error(rt(161))}}catch(l){on(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function $D(t,e,r){xt=t,vk(t)}function vk(t,e,r){for(var n=(t.mode&1)!==0;xt!==null;){var i=xt,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||km;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Ei;o=km;var u=Ei;if(km=a,(Ei=l)&&!u)for(xt=i;xt!==null;)a=xt,l=a.child,a.tag===22&&a.memoizedState!==null?dS(i):l!==null?(l.return=a,xt=l):dS(i);for(;s!==null;)xt=s,vk(s),s=s.sibling;xt=i,km=o,Ei=u}hS(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,xt=s):hS(t)}}function hS(t){for(;xt!==null;){var e=xt;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ei||Y1(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ei)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Sa(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Y4(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Y4(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&k0(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(rt(163))}Ei||e.flags&512&&fx(e)}catch(d){on(e,e.return,d)}}if(e===t){xt=null;break}if(r=e.sibling,r!==null){r.return=e.return,xt=r;break}xt=e.return}}function fS(t){for(;xt!==null;){var e=xt;if(e===t){xt=null;break}var r=e.sibling;if(r!==null){r.return=e.return,xt=r;break}xt=e.return}}function dS(t){for(;xt!==null;){var e=xt;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Y1(4,e)}catch(l){on(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){on(e,i,l)}}var s=e.return;try{fx(e)}catch(l){on(e,s,l)}break;case 5:var a=e.return;try{fx(e)}catch(l){on(e,a,l)}}}catch(l){on(e,e.return,l)}if(e===t){xt=null;break}var o=e.sibling;if(o!==null){o.return=e.return,xt=o;break}xt=e.return}}var GD=Math.ceil,$g=nl.ReactCurrentDispatcher,v5=nl.ReactCurrentOwner,ta=nl.ReactCurrentBatchConfig,ar=0,Kn=null,En=null,ui=0,ks=0,$h=Ru(0),Dn=0,B0=null,Ic=0,X1=0,y5=0,Qd=null,ns=null,x5=0,Tf=1/0,Io=null,Gg=!1,mx=null,uu=null,Cm=!1,Jl=null,Kg=0,Jd=0,gx=null,cg=-1,hg=0;function qi(){return ar&6?pn():cg!==-1?cg:cg=pn()}function cu(t){return t.mode&1?ar&2&&ui!==0?ui&-ui:PD.transition!==null?(hg===0&&(hg=tN()),hg):(t=br,t!==0||(t=window.event,t=t===void 0?16:lN(t.type)),t):1}function Ra(t,e,r,n){if(50<Jd)throw Jd=0,gx=null,Error(rt(185));gp(t,r,n),(!(ar&2)||t!==Kn)&&(t===Kn&&(!(ar&2)&&(X1|=r),Dn===4&&ql(t,ui)),hs(t,n),r===1&&ar===0&&!(e.mode&1)&&(Tf=pn()+500,$1&&Lu()))}function hs(t,e){var r=t.callbackNode;PF(t,e);var n=Ig(t,t===Kn?ui:0);if(n===0)r!==null&&b4(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&b4(r),e===1)t.tag===0?CD(pS.bind(null,t)):NN(pS.bind(null,t)),ED(function(){!(ar&6)&&Lu()}),r=null;else{switch(rN(n)){case 1:r=qw;break;case 4:r=ZA;break;case 16:r=Pg;break;case 536870912:r=eN;break;default:r=Pg}r=Ek(r,yk.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function yk(t,e){if(cg=-1,hg=0,ar&6)throw Error(rt(327));var r=t.callbackNode;if(af()&&t.callbackNode!==r)return null;var n=Ig(t,t===Kn?ui:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Yg(t,n);else{e=n;var i=ar;ar|=2;var s=wk();(Kn!==t||ui!==e)&&(Io=null,Tf=pn()+500,yc(t,e));do try{XD();break}catch(o){xk(t,o)}while(!0);i5(),$g.current=s,ar=i,En!==null?e=0:(Kn=null,ui=0,e=Dn)}if(e!==0){if(e===2&&(i=Hy(t),i!==0&&(n=i,e=vx(t,i))),e===1)throw r=B0,yc(t,0),ql(t,n),hs(t,pn()),r;if(e===6)ql(t,n);else{if(i=t.current.alternate,!(n&30)&&!KD(i)&&(e=Yg(t,n),e===2&&(s=Hy(t),s!==0&&(n=s,e=vx(t,s))),e===1))throw r=B0,yc(t,0),ql(t,n),hs(t,pn()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(rt(345));case 2:ac(t,ns,Io);break;case 3:if(ql(t,n),(n&130023424)===n&&(e=x5+500-pn(),10<e)){if(Ig(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){qi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Qy(ac.bind(null,t,ns,Io),e);break}ac(t,ns,Io);break;case 4:if(ql(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-Ia(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=pn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*GD(n/1960))-n,10<n){t.timeoutHandle=Qy(ac.bind(null,t,ns,Io),n);break}ac(t,ns,Io);break;case 5:ac(t,ns,Io);break;default:throw Error(rt(329))}}}return hs(t,pn()),t.callbackNode===r?yk.bind(null,t):null}function vx(t,e){var r=Qd;return t.current.memoizedState.isDehydrated&&(yc(t,e).flags|=256),t=Yg(t,e),t!==2&&(e=ns,ns=r,e!==null&&yx(e)),t}function yx(t){ns===null?ns=t:ns.push.apply(ns,t)}function KD(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Fa(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ql(t,e){for(e&=~y5,e&=~X1,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ia(e),n=1<<r;t[r]=-1,e&=~n}}function pS(t){if(ar&6)throw Error(rt(327));af();var e=Ig(t,0);if(!(e&1))return hs(t,pn()),null;var r=Yg(t,e);if(t.tag!==0&&r===2){var n=Hy(t);n!==0&&(e=n,r=vx(t,n))}if(r===1)throw r=B0,yc(t,0),ql(t,e),hs(t,pn()),r;if(r===6)throw Error(rt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ac(t,ns,Io),hs(t,pn()),null}function w5(t,e){var r=ar;ar|=1;try{return t(e)}finally{ar=r,ar===0&&(Tf=pn()+500,$1&&Lu())}}function Rc(t){Jl!==null&&Jl.tag===0&&!(ar&6)&&af();var e=ar;ar|=1;var r=ta.transition,n=br;try{if(ta.transition=null,br=1,t)return t()}finally{br=n,ta.transition=r,ar=e,!(ar&6)&&Lu()}}function _5(){ks=$h.current,zr($h)}function yc(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,TD(r)),En!==null)for(r=En.return;r!==null;){var n=r;switch(t5(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Og();break;case 3:bf(),zr(us),zr(Ri),c5();break;case 5:u5(n);break;case 4:bf();break;case 13:zr(Yr);break;case 19:zr(Yr);break;case 10:s5(n.type._context);break;case 22:case 23:_5()}r=r.return}if(Kn=t,En=t=hu(t.current,null),ui=ks=e,Dn=0,B0=null,y5=X1=Ic=0,ns=Qd=null,fc!==null){for(e=0;e<fc.length;e++)if(r=fc[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}fc=null}return t}function xk(t,e){do{var r=En;try{if(i5(),og.current=qg,Wg){for(var n=Qr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Wg=!1}if(Pc=0,Hn=Ln=Qr=null,Yd=!1,O0=0,v5.current=null,r===null||r.return===null){Dn=1,B0=e,En=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=ui,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=tS(a);if(f!==null){f.flags&=-257,rS(f,a,o,s,e),f.mode&1&&eS(s,u,e),e=f,l=u;var y=e.updateQueue;if(y===null){var v=new Set;v.add(l),e.updateQueue=v}else y.add(l);break e}else{if(!(e&1)){eS(s,u,e),b5();break e}l=Error(rt(426))}}else if($r&&o.mode&1){var b=tS(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),rS(b,a,o,s,e),r5(Sf(l,o));break e}}s=l=Sf(l,o),Dn!==4&&(Dn=2),Qd===null?Qd=[s]:Qd.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=rk(s,l,e);K4(s,w);break e;case 1:o=l;var S=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(uu===null||!uu.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var F=nk(s,o,e);K4(s,F);break e}}s=s.return}while(s!==null)}bk(r)}catch(j){e=j,En===r&&r!==null&&(En=r=r.return);continue}break}while(!0)}function wk(){var t=$g.current;return $g.current=qg,t===null?qg:t}function b5(){(Dn===0||Dn===3||Dn===2)&&(Dn=4),Kn===null||!(Ic&268435455)&&!(X1&268435455)||ql(Kn,ui)}function Yg(t,e){var r=ar;ar|=2;var n=wk();(Kn!==t||ui!==e)&&(Io=null,yc(t,e));do try{YD();break}catch(i){xk(t,i)}while(!0);if(i5(),ar=r,$g.current=n,En!==null)throw Error(rt(261));return Kn=null,ui=0,Dn}function YD(){for(;En!==null;)_k(En)}function XD(){for(;En!==null&&!_F();)_k(En)}function _k(t){var e=Tk(t.alternate,t,ks);t.memoizedProps=t.pendingProps,e===null?bk(t):En=e,v5.current=null}function bk(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=HD(r,e),r!==null){r.flags&=32767,En=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Dn=6,En=null;return}}else if(r=zD(r,e,ks),r!==null){En=r;return}if(e=e.sibling,e!==null){En=e;return}En=e=t}while(e!==null);Dn===0&&(Dn=5)}function ac(t,e,r){var n=br,i=ta.transition;try{ta.transition=null,br=1,QD(t,e,r,n)}finally{ta.transition=i,br=n}return null}function QD(t,e,r,n){do af();while(Jl!==null);if(ar&6)throw Error(rt(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(rt(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(IF(t,s),t===Kn&&(En=Kn=null,ui=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Cm||(Cm=!0,Ek(Pg,function(){return af(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=ta.transition,ta.transition=null;var a=br;br=1;var o=ar;ar|=4,v5.current=null,qD(t,r),gk(r,t),vD(Yy),Rg=!!Ky,Yy=Ky=null,t.current=r,$D(r),bF(),ar=o,br=a,ta.transition=s}else t.current=r;if(Cm&&(Cm=!1,Jl=t,Kg=i),s=t.pendingLanes,s===0&&(uu=null),EF(r.stateNode),hs(t,pn()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Gg)throw Gg=!1,t=mx,mx=null,t;return Kg&1&&t.tag!==0&&af(),s=t.pendingLanes,s&1?t===gx?Jd++:(Jd=0,gx=t):Jd=0,Lu(),null}function af(){if(Jl!==null){var t=rN(Kg),e=ta.transition,r=br;try{if(ta.transition=null,br=16>t?16:t,Jl===null)var n=!1;else{if(t=Jl,Jl=null,Kg=0,ar&6)throw Error(rt(331));var i=ar;for(ar|=4,xt=t.current;xt!==null;){var s=xt,a=s.child;if(xt.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(xt=u;xt!==null;){var c=xt;switch(c.tag){case 0:case 11:case 15:Xd(8,c,s)}var h=c.child;if(h!==null)h.return=c,xt=h;else for(;xt!==null;){c=xt;var d=c.sibling,f=c.return;if(dk(c),c===u){xt=null;break}if(d!==null){d.return=f,xt=d;break}xt=f}}}var y=s.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}xt=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,xt=a;else e:for(;xt!==null;){if(s=xt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Xd(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,xt=w;break e}xt=s.return}}var S=t.current;for(xt=S;xt!==null;){a=xt;var T=a.child;if(a.subtreeFlags&2064&&T!==null)T.return=a,xt=T;else e:for(a=S;xt!==null;){if(o=xt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Y1(9,o)}}catch(j){on(o,o.return,j)}if(o===a){xt=null;break e}var F=o.sibling;if(F!==null){F.return=o.return,xt=F;break e}xt=o.return}}if(ar=i,Lu(),to&&typeof to.onPostCommitFiberRoot=="function")try{to.onPostCommitFiberRoot(U1,t)}catch{}n=!0}return n}finally{br=r,ta.transition=e}}return!1}function mS(t,e,r){e=Sf(r,e),e=rk(t,e,1),t=lu(t,e,1),e=qi(),t!==null&&(gp(t,1,e),hs(t,e))}function on(t,e,r){if(t.tag===3)mS(t,t,r);else for(;e!==null;){if(e.tag===3){mS(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(uu===null||!uu.has(n))){t=Sf(r,t),t=nk(e,t,1),e=lu(e,t,1),t=qi(),e!==null&&(gp(e,1,t),hs(e,t));break}}e=e.return}}function JD(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=qi(),t.pingedLanes|=t.suspendedLanes&r,Kn===t&&(ui&r)===r&&(Dn===4||Dn===3&&(ui&130023424)===ui&&500>pn()-x5?yc(t,0):y5|=r),hs(t,e)}function Sk(t,e){e===0&&(t.mode&1?(e=xm,xm<<=1,!(xm&130023424)&&(xm=4194304)):e=1);var r=qi();t=$o(t,e),t!==null&&(gp(t,e,r),hs(t,r))}function ZD(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Sk(t,r)}function e7(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(rt(314))}n!==null&&n.delete(e),Sk(t,r)}var Tk;Tk=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||us.current)os=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return os=!1,UD(t,e,r);os=!!(t.flags&131072)}else os=!1,$r&&e.flags&1048576&&kN(e,Bg,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;ug(t,e),t=e.pendingProps;var i=xf(e,Ri.current);sf(e,r),i=f5(null,e,n,t,i,r);var s=d5();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,cs(n)?(s=!0,jg(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,o5(e),i.updater=K1,e.stateNode=i,i._reactInternals=e,ix(e,n,t,r),e=ox(null,e,n,!0,s,r)):(e.tag=0,$r&&s&&e5(e),Ui(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(ug(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=r7(n),t=Sa(n,t),i){case 0:e=ax(null,e,n,t,r);break e;case 1:e=sS(null,e,n,t,r);break e;case 11:e=nS(null,e,n,t,r);break e;case 14:e=iS(null,e,n,Sa(n.type,t),r);break e}throw Error(rt(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Sa(n,i),ax(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Sa(n,i),sS(t,e,n,i,r);case 3:e:{if(ok(e),t===null)throw Error(rt(387));n=e.pendingProps,s=e.memoizedState,i=s.element,FN(t,e),zg(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Sf(Error(rt(423)),e),e=aS(t,e,n,r,i);break e}else if(n!==i){i=Sf(Error(rt(424)),e),e=aS(t,e,n,r,i);break e}else for(Rs=ou(e.stateNode.containerInfo.firstChild),Ds=e,$r=!0,Na=null,r=RN(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(wf(),n===i){e=Go(t,e,r);break e}Ui(t,e,n,r)}e=e.child}return e;case 5:return DN(e),t===null&&tx(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,Xy(n,i)?a=null:s!==null&&Xy(n,s)&&(e.flags|=32),ak(t,e),Ui(t,e,a,r),e.child;case 6:return t===null&&tx(e),null;case 13:return lk(t,e,r);case 4:return l5(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=_f(e,null,n,r):Ui(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Sa(n,i),nS(t,e,n,i,r);case 7:return Ui(t,e,e.pendingProps,r),e.child;case 8:return Ui(t,e,e.pendingProps.children,r),e.child;case 12:return Ui(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Dr(Vg,n._currentValue),n._currentValue=a,s!==null)if(Fa(s.value,a)){if(s.children===i.children&&!us.current){e=Go(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Mo(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),rx(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(rt(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),rx(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Ui(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,sf(e,r),i=ia(i),n=n(i),e.flags|=1,Ui(t,e,n,r),e.child;case 14:return n=e.type,i=Sa(n,e.pendingProps),i=Sa(n.type,i),iS(t,e,n,i,r);case 15:return ik(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Sa(n,i),ug(t,e),e.tag=1,cs(n)?(t=!0,jg(e)):t=!1,sf(e,r),tk(e,n,i),ix(e,n,i,r),ox(null,e,n,!0,t,r);case 19:return uk(t,e,r);case 22:return sk(t,e,r)}throw Error(rt(156,e.tag))};function Ek(t,e){return JA(t,e)}function t7(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ea(t,e,r,n){return new t7(t,e,r,n)}function S5(t){return t=t.prototype,!(!t||!t.isReactComponent)}function r7(t){if(typeof t=="function")return S5(t)?1:0;if(t!=null){if(t=t.$$typeof,t===zw)return 11;if(t===Hw)return 14}return 2}function hu(t,e){var r=t.alternate;return r===null?(r=ea(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function fg(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")S5(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Oh:return xc(r.children,i,s,e);case Uw:a=8,i|=8;break;case ky:return t=ea(12,r,e,i|2),t.elementType=ky,t.lanes=s,t;case Cy:return t=ea(13,r,e,i),t.elementType=Cy,t.lanes=s,t;case Py:return t=ea(19,r,e,i),t.elementType=Py,t.lanes=s,t;case DA:return Q1(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case LA:a=10;break e;case FA:a=9;break e;case zw:a=11;break e;case Hw:a=14;break e;case zl:a=16,n=null;break e}throw Error(rt(130,t==null?t:typeof t,""))}return e=ea(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function xc(t,e,r,n){return t=ea(7,t,n,e),t.lanes=r,t}function Q1(t,e,r,n){return t=ea(22,t,n,e),t.elementType=DA,t.lanes=r,t.stateNode={isHidden:!1},t}function I2(t,e,r){return t=ea(6,t,null,e),t.lanes=r,t}function R2(t,e,r){return e=ea(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function n7(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=f2(0),this.expirationTimes=f2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=f2(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function T5(t,e,r,n,i,s,a,o,l){return t=new n7(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ea(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},o5(s),t}function i7(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dh,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Ak(t){if(!t)return xu;t=t._reactInternals;e:{if(Wc(t)!==t||t.tag!==1)throw Error(rt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(cs(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(rt(171))}if(t.tag===1){var r=t.type;if(cs(r))return AN(t,r,e)}return e}function Nk(t,e,r,n,i,s,a,o,l){return t=T5(r,n,!0,t,i,s,a,o,l),t.context=Ak(null),r=t.current,n=qi(),i=cu(r),s=Mo(n,i),s.callback=e??null,lu(r,s,i),t.current.lanes=i,gp(t,i,n),hs(t,n),t}function J1(t,e,r,n){var i=e.current,s=qi(),a=cu(i);return r=Ak(r),e.context===null?e.context=r:e.pendingContext=r,e=Mo(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=lu(i,e,a),t!==null&&(Ra(t,i,a,s),ag(t,i,a)),a}function Xg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function gS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function E5(t,e){gS(t,e),(t=t.alternate)&&gS(t,e)}function s7(){return null}var kk=typeof reportError=="function"?reportError:function(t){console.error(t)};function A5(t){this._internalRoot=t}Z1.prototype.render=A5.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(rt(409));J1(t,e,null,null)};Z1.prototype.unmount=A5.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Rc(function(){J1(null,t,null,null)}),e[qo]=null}};function Z1(t){this._internalRoot=t}Z1.prototype.unstable_scheduleHydration=function(t){if(t){var e=sN();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Wl.length&&e!==0&&e<Wl[r].priority;r++);Wl.splice(r,0,t),r===0&&oN(t)}};function N5(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ev(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function vS(){}function a7(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=Xg(a);s.call(u)}}var a=Nk(e,n,t,0,null,!1,!1,"",vS);return t._reactRootContainer=a,t[qo]=a.current,I0(t.nodeType===8?t.parentNode:t),Rc(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=Xg(l);o.call(u)}}var l=T5(t,0,!1,null,null,!1,!1,"",vS);return t._reactRootContainer=l,t[qo]=l.current,I0(t.nodeType===8?t.parentNode:t),Rc(function(){J1(e,l,r,n)}),l}function tv(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=Xg(a);o.call(l)}}J1(e,a,t,i)}else a=a7(r,e,t,i,n);return Xg(a)}nN=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Ld(e.pendingLanes);r!==0&&($w(e,r|1),hs(e,pn()),!(ar&6)&&(Tf=pn()+500,Lu()))}break;case 13:Rc(function(){var n=$o(t,1);if(n!==null){var i=qi();Ra(n,t,1,i)}}),E5(t,1)}};Gw=function(t){if(t.tag===13){var e=$o(t,134217728);if(e!==null){var r=qi();Ra(e,t,134217728,r)}E5(t,134217728)}};iN=function(t){if(t.tag===13){var e=cu(t),r=$o(t,e);if(r!==null){var n=qi();Ra(r,t,e,n)}E5(t,e)}};sN=function(){return br};aN=function(t,e){var r=br;try{return br=t,e()}finally{br=r}};Vy=function(t,e,r){switch(e){case"input":if(Ly(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=q1(n);if(!i)throw Error(rt(90));jA(n),Ly(n,i)}}}break;case"textarea":BA(t,r);break;case"select":e=r.value,e!=null&&ef(t,!!r.multiple,e,!1)}};$A=w5;GA=Rc;var o7={usingClientEntryPoint:!1,Events:[yp,Vh,q1,WA,qA,w5]},Ed={findFiberByHostInstance:hc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},l7={bundleType:Ed.bundleType,version:Ed.version,rendererPackageName:Ed.rendererPackageName,rendererConfig:Ed.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=XA(t),t===null?null:t.stateNode},findFiberByHostInstance:Ed.findFiberByHostInstance||s7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pm.isDisabled&&Pm.supportsFiber)try{U1=Pm.inject(l7),to=Pm}catch{}}Ms.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o7;Ms.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!N5(e))throw Error(rt(200));return i7(t,e,null,r)};Ms.createRoot=function(t,e){if(!N5(t))throw Error(rt(299));var r=!1,n="",i=kk;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=T5(t,1,!1,null,null,r,!1,n,i),t[qo]=e.current,I0(t.nodeType===8?t.parentNode:t),new A5(e)};Ms.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(rt(188)):(t=Object.keys(t).join(","),Error(rt(268,t)));return t=XA(e),t=t===null?null:t.stateNode,t};Ms.flushSync=function(t){return Rc(t)};Ms.hydrate=function(t,e,r){if(!ev(e))throw Error(rt(200));return tv(null,t,e,!0,r)};Ms.hydrateRoot=function(t,e,r){if(!N5(t))throw Error(rt(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=kk;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=Nk(e,null,t,1,r??null,i,!1,s,a),t[qo]=e.current,I0(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Z1(e)};Ms.render=function(t,e,r){if(!ev(e))throw Error(rt(200));return tv(null,t,e,!1,r)};Ms.unmountComponentAtNode=function(t){if(!ev(t))throw Error(rt(40));return t._reactRootContainer?(Rc(function(){tv(null,null,t,!1,function(){t._reactRootContainer=null,t[qo]=null})}),!0):!1};Ms.unstable_batchedUpdates=w5;Ms.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!ev(r))throw Error(rt(200));if(t==null||t._reactInternals===void 0)throw Error(rt(38));return tv(t,e,r,!1,n)};Ms.version="18.3.1-next-f1338f8080-20240426";function Ck(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ck)}catch(t){console.error(t)}}Ck(),CA.exports=Ms;var u7=CA.exports,yS=u7;Ay.createRoot=yS.createRoot,Ay.hydrateRoot=yS.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function V0(){return V0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},V0.apply(this,arguments)}var Zl;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Zl||(Zl={}));const xS="popstate";function c7(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return xx("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Qg(i)}return f7(e,r,null,t)}function yn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Pk(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function h7(){return Math.random().toString(36).substr(2,8)}function wS(t,e){return{usr:t.state,key:t.key,idx:e}}function xx(t,e,r,n){return r===void 0&&(r=null),V0({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Vf(e):e,{state:r,key:e&&e.key||n||h7()})}function Qg(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Vf(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function f7(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=Zl.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(V0({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function h(){o=Zl.Pop;let b=c(),w=b==null?null:b-u;u=b,l&&l({action:o,location:v.location,delta:w})}function d(b,w){o=Zl.Push;let S=xx(v.location,b,w);u=c()+1;let T=wS(S,u),F=v.createHref(S);try{a.pushState(T,"",F)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(F)}s&&l&&l({action:o,location:v.location,delta:1})}function f(b,w){o=Zl.Replace;let S=xx(v.location,b,w);u=c();let T=wS(S,u),F=v.createHref(S);a.replaceState(T,"",F),s&&l&&l({action:o,location:v.location,delta:0})}function y(b){let w=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof b=="string"?b:Qg(b);return S=S.replace(/ $/,"%20"),yn(w,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,w)}let v={get action(){return o},get location(){return t(i,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(xS,h),l=b,()=>{i.removeEventListener(xS,h),l=null}},createHref(b){return e(i,b)},createURL:y,encodeLocation(b){let w=y(b);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:d,replace:f,go(b){return a.go(b)}};return v}var _S;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(_S||(_S={}));function d7(t,e,r){return r===void 0&&(r="/"),p7(t,e,r)}function p7(t,e,r,n){let i=typeof e=="string"?Vf(e):e,s=k5(i.pathname||"/",r);if(s==null)return null;let a=Ik(t);m7(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=N7(s);o=T7(a[l],u)}return o}function Ik(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(yn(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=fu([n,l.relativePath]),c=r.concat(l);s.children&&s.children.length>0&&(yn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Ik(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:b7(u,s.index),routesMeta:c})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of Rk(s.path))i(s,a,l)}),e}function Rk(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=Rk(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function m7(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:S7(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const g7=/^:[\w-]+$/,v7=3,y7=2,x7=1,w7=10,_7=-2,bS=t=>t==="*";function b7(t,e){let r=t.split("/"),n=r.length;return r.some(bS)&&(n+=_7),e&&(n+=y7),r.filter(i=>!bS(i)).reduce((i,s)=>i+(g7.test(s)?v7:s===""?x7:w7),n)}function S7(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function T7(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",h=E7({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),d=l.route;if(!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:fu([s,h.pathname]),pathnameBase:I7(fu([s,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(s=fu([s,h.pathnameBase]))}return a}function E7(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=A7(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,c,h)=>{let{paramName:d,isOptional:f}=c;if(d==="*"){let v=o[h]||"";a=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const y=o[h];return f&&!y?u[d]=void 0:u[d]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function A7(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Pk(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function N7(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pk(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function k5(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function k7(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Vf(t):t;return{pathname:r?r.startsWith("/")?r:C7(r,e):e,search:R7(n),hash:L7(i)}}function C7(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function L2(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function P7(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function C5(t,e){let r=P7(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function P5(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Vf(t):(i=V0({},t),yn(!i.pathname||!i.pathname.includes("?"),L2("?","pathname","search",i)),yn(!i.pathname||!i.pathname.includes("#"),L2("#","pathname","hash",i)),yn(!i.search||!i.search.includes("#"),L2("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let h=e.length-1;if(!n&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}o=h>=0?e[h]:"/"}let l=k7(i,o),u=a&&a!=="/"&&a.endsWith("/"),c=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const fu=t=>t.join("/").replace(/\/\/+/g,"/"),I7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),R7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,L7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function F7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Lk=["post","put","patch","delete"];new Set(Lk);const D7=["get",...Lk];new Set(D7);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function U0(){return U0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},U0.apply(this,arguments)}const I5=ve.createContext(null),O7=ve.createContext(null),Fu=ve.createContext(null),rv=ve.createContext(null),il=ve.createContext({outlet:null,matches:[],isDataRoute:!1}),Fk=ve.createContext(null);function j7(t,e){let{relative:r}=e===void 0?{}:e;Uf()||yn(!1);let{basename:n,navigator:i}=ve.useContext(Fu),{hash:s,pathname:a,search:o}=Ok(t,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:fu([n,a])),i.createHref({pathname:l,search:o,hash:s})}function Uf(){return ve.useContext(rv)!=null}function po(){return Uf()||yn(!1),ve.useContext(rv).location}function Dk(t){ve.useContext(Fu).static||ve.useLayoutEffect(t)}function qc(){let{isDataRoute:t}=ve.useContext(il);return t?Q7():M7()}function M7(){Uf()||yn(!1);let t=ve.useContext(I5),{basename:e,future:r,navigator:n}=ve.useContext(Fu),{matches:i}=ve.useContext(il),{pathname:s}=po(),a=JSON.stringify(C5(i,r.v7_relativeSplatPath)),o=ve.useRef(!1);return Dk(()=>{o.current=!0}),ve.useCallback(function(u,c){if(c===void 0&&(c={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=P5(u,JSON.parse(a),s,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:fu([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,a,s,t])}function B7(){let{matches:t}=ve.useContext(il),e=t[t.length-1];return e?e.params:{}}function Ok(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=ve.useContext(Fu),{matches:i}=ve.useContext(il),{pathname:s}=po(),a=JSON.stringify(C5(i,n.v7_relativeSplatPath));return ve.useMemo(()=>P5(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function V7(t,e){return U7(t,e)}function U7(t,e,r,n){Uf()||yn(!1);let{navigator:i}=ve.useContext(Fu),{matches:s}=ve.useContext(il),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=po(),c;if(e){var h;let b=typeof e=="string"?Vf(e):e;l==="/"||(h=b.pathname)!=null&&h.startsWith(l)||yn(!1),c=b}else c=u;let d=c.pathname||"/",f=d;if(l!=="/"){let b=l.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=d7(t,{pathname:f}),v=$7(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:fu([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:fu([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,r,n);return e&&v?ve.createElement(rv.Provider,{value:{location:U0({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Zl.Pop}},v):v}function z7(){let t=X7(),e=F7(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ve.createElement(ve.Fragment,null,ve.createElement("h2",null,"Unexpected Application Error!"),ve.createElement("h3",{style:{fontStyle:"italic"}},e),r?ve.createElement("pre",{style:i},r):null,null)}const H7=ve.createElement(z7,null);class W7 extends ve.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?ve.createElement(il.Provider,{value:this.props.routeContext},ve.createElement(Fk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function q7(t){let{routeContext:e,match:r,children:n}=t,i=ve.useContext(I5);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),ve.createElement(il.Provider,{value:e},n)}function $7(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let c=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);c>=0||yn(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<a.length;c++){let h=a[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:d,errors:f}=r,y=h.route.loader&&d[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||y){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,h,d)=>{let f,y=!1,v=null,b=null;r&&(f=o&&h.route.id?o[h.route.id]:void 0,v=h.route.errorElement||H7,l&&(u<0&&d===0?(J7("route-fallback"),y=!0,b=null):u===d&&(y=!0,b=h.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,d+1)),S=()=>{let T;return f?T=v:y?T=b:h.route.Component?T=ve.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=c,ve.createElement(q7,{match:h,routeContext:{outlet:c,matches:w,isDataRoute:r!=null},children:T})};return r&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?ve.createElement(W7,{location:r.location,revalidation:r.revalidation,component:v,error:f,children:S(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):S()},null)}var jk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(jk||{}),Mk=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Mk||{});function G7(t){let e=ve.useContext(I5);return e||yn(!1),e}function K7(t){let e=ve.useContext(O7);return e||yn(!1),e}function Y7(t){let e=ve.useContext(il);return e||yn(!1),e}function Bk(t){let e=Y7(),r=e.matches[e.matches.length-1];return r.route.id||yn(!1),r.route.id}function X7(){var t;let e=ve.useContext(Fk),r=K7(),n=Bk();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function Q7(){let{router:t}=G7(jk.UseNavigateStable),e=Bk(Mk.UseNavigateStable),r=ve.useRef(!1);return Dk(()=>{r.current=!0}),ve.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,U0({fromRouteId:e},s)))},[t,e])}const SS={};function J7(t,e,r){SS[t]||(SS[t]=!0)}function Z7(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Vk(t){let{to:e,replace:r,state:n,relative:i}=t;Uf()||yn(!1);let{future:s,static:a}=ve.useContext(Fu),{matches:o}=ve.useContext(il),{pathname:l}=po(),u=qc(),c=P5(e,C5(o,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(c);return ve.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:i}),[u,h,i,r,n]),null}function As(t){yn(!1)}function eO(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Zl.Pop,navigator:s,static:a=!1,future:o}=t;Uf()&&yn(!1);let l=e.replace(/^\/*/,"/"),u=ve.useMemo(()=>({basename:l,navigator:s,static:a,future:U0({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=Vf(n));let{pathname:c="/",search:h="",hash:d="",state:f=null,key:y="default"}=n,v=ve.useMemo(()=>{let b=k5(c,l);return b==null?null:{location:{pathname:b,search:h,hash:d,state:f,key:y},navigationType:i}},[l,c,h,d,f,y,i]);return v==null?null:ve.createElement(Fu.Provider,{value:u},ve.createElement(rv.Provider,{children:r,value:v}))}function tO(t){let{children:e,location:r}=t;return V7(wx(e),r)}new Promise(()=>{});function wx(t,e){e===void 0&&(e=[]);let r=[];return ve.Children.forEach(t,(n,i)=>{if(!ve.isValidElement(n))return;let s=[...e,i];if(n.type===ve.Fragment){r.push.apply(r,wx(n.props.children,s));return}n.type!==As&&yn(!1),!n.props.index||!n.props.children||yn(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=wx(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _x(){return _x=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_x.apply(this,arguments)}function rO(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function nO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function iO(t,e){return t.button===0&&(!e||e==="_self")&&!nO(t)}const sO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],aO="6";try{window.__reactRouterVersion=aO}catch{}const oO="startTransition",TS=JL[oO];function lO(t){let{basename:e,children:r,future:n,window:i}=t,s=ve.useRef();s.current==null&&(s.current=c7({window:i,v5Compat:!0}));let a=s.current,[o,l]=ve.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},c=ve.useCallback(h=>{u&&TS?TS(()=>l(h)):l(h)},[l,u]);return ve.useLayoutEffect(()=>a.listen(c),[a,c]),ve.useEffect(()=>Z7(n),[n]),ve.createElement(eO,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const uO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ka=ve.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:c,viewTransition:h}=e,d=rO(e,sO),{basename:f}=ve.useContext(Fu),y,v=!1;if(typeof u=="string"&&cO.test(u)&&(y=u,uO))try{let T=new URL(window.location.href),F=u.startsWith("//")?new URL(T.protocol+u):new URL(u),j=k5(F.pathname,f);F.origin===T.origin&&j!=null?u=j+F.search+F.hash:v=!0}catch{}let b=j7(u,{relative:i}),w=hO(u,{replace:a,state:o,target:l,preventScrollReset:c,relative:i,viewTransition:h});function S(T){n&&n(T),T.defaultPrevented||w(T)}return ve.createElement("a",_x({},d,{href:y||b,onClick:v||s?n:S,ref:r,target:l}))});var ES;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ES||(ES={}));var AS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(AS||(AS={}));function hO(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=qc(),u=po(),c=Ok(t,{relative:a});return ve.useCallback(h=>{if(iO(h,r)){h.preventDefault();let d=n!==void 0?n:Qg(u)===Qg(c);l(t,{replace:d,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[u,l,c,n,i,r,t,s,a,o])}var NS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},fO=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],a=t[r++],o=t[r++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const s=t[r++],a=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},zk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,h=(s&3)<<4|o>>4;let d=(o&15)<<2|u>>6,f=u&63;l||(f=64,a||(d=64)),n.push(r[c],r[h],r[d],r[f])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Uk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],o=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const h=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||o==null||u==null||h==null)throw new dO;const d=s<<2|o>>4;if(n.push(d),u!==64){const f=o<<4&240|u>>2;if(n.push(f),h!==64){const y=u<<6&192|h;n.push(y)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class dO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pO=function(t){const e=Uk(t);return zk.encodeByteArray(e,!0)},Jg=function(t){return pO(t).replace(/\./g,"")},Hk=function(t){try{return zk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=()=>mO().__FIREBASE_DEFAULTS__,vO=()=>{if(typeof process>"u"||typeof NS>"u")return;const t=NS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Hk(t[1]);return e&&JSON.parse(e)},nv=()=>{try{return gO()||vO()||yO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Wk=t=>{var e,r;return(r=(e=nv())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},xO=t=>{const e=Wk(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},qk=()=>{var t;return(t=nv())===null||t===void 0?void 0:t.config},$k=t=>{var e;return(e=nv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Jg(JSON.stringify(r)),Jg(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Li())}function SO(){var t;const e=(t=nv())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function EO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function AO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NO(){const t=Li();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function kO(){return!SO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CO(){try{return typeof indexedDB=="object"}catch{return!1}}function PO(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO="FirebaseError";class sl extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=IO,Object.setPrototypeOf(this,sl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wp.prototype.create)}}class wp{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?RO(s,n):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new sl(i,o,n)}}function RO(t,e){return t.replace(LO,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const LO=/\{\$([^}]+)}/g;function FO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zg(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],a=e[i];if(kS(s)&&kS(a)){if(!Zg(s,a))return!1}else if(s!==a)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function kS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Dd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Od(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function DO(t,e){const r=new OO(t,e);return r.subscribe.bind(r)}class OO{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");jO(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=F2),i.error===void 0&&(i.error=F2),i.complete===void 0&&(i.complete=F2);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jO(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function F2(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(t){return t&&t._delegate?t._delegate:t}class Lc{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new wO;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VO(e))try{this.getOrInitializeService({instanceIdentifier:oc})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=oc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oc){return this.instances.has(e)}getOptions(e=oc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);n===o&&a.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:BO(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=oc){return this.component?this.component.multipleInstances?e:oc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BO(t){return t===oc?void 0:t}function VO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new MO(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var er;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(er||(er={}));const zO={debug:er.DEBUG,verbose:er.VERBOSE,info:er.INFO,warn:er.WARN,error:er.ERROR,silent:er.SILENT},HO=er.INFO,WO={[er.DEBUG]:"log",[er.VERBOSE]:"log",[er.INFO]:"info",[er.WARN]:"warn",[er.ERROR]:"error"},qO=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=WO[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class R5{constructor(e){this.name=e,this._logLevel=HO,this._logHandler=qO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in er))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,er.DEBUG,...e),this._logHandler(this,er.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,er.VERBOSE,...e),this._logHandler(this,er.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,er.INFO,...e),this._logHandler(this,er.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,er.WARN,...e),this._logHandler(this,er.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,er.ERROR,...e),this._logHandler(this,er.ERROR,...e)}}const $O=(t,e)=>e.some(r=>t instanceof r);let CS,PS;function GO(){return CS||(CS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KO(){return PS||(PS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Gk=new WeakMap,bx=new WeakMap,Kk=new WeakMap,D2=new WeakMap,L5=new WeakMap;function YO(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{r(du(t.result)),i()},a=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(r=>{r instanceof IDBCursor&&Gk.set(r,t)}).catch(()=>{}),L5.set(e,t),e}function XO(t){if(bx.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{r(),i()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});bx.set(t,e)}let Sx={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return bx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Kk.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return du(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function QO(t){Sx=t(Sx)}function JO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(O2(this),e,...r);return Kk.set(n,e.sort?e.sort():[e]),du(n)}:KO().includes(t)?function(...e){return t.apply(O2(this),e),du(Gk.get(this))}:function(...e){return du(t.apply(O2(this),e))}}function ZO(t){return typeof t=="function"?JO(t):(t instanceof IDBTransaction&&XO(t),$O(t,GO())?new Proxy(t,Sx):t)}function du(t){if(t instanceof IDBRequest)return YO(t);if(D2.has(t))return D2.get(t);const e=ZO(t);return e!==t&&(D2.set(t,e),L5.set(e,t)),e}const O2=t=>L5.get(t);function ej(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=du(a);return n&&a.addEventListener("upgradeneeded",l=>{n(du(a.result),l.oldVersion,l.newVersion,du(a.transaction),l)}),r&&a.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const tj=["get","getKey","getAll","getAllKeys","count"],rj=["put","add","delete","clear"],j2=new Map;function IS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(j2.get(e))return j2.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=rj.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||tj.includes(r)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[r](...o),i&&l.done]))[0]};return j2.set(e,s),s}QO(t=>({...t,get:(e,r,n)=>IS(e,r)||t.get(e,r,n),has:(e,r)=>!!IS(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(ij(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function ij(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tx="@firebase/app",RS="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=new R5("@firebase/app"),sj="@firebase/app-compat",aj="@firebase/analytics-compat",oj="@firebase/analytics",lj="@firebase/app-check-compat",uj="@firebase/app-check",cj="@firebase/auth",hj="@firebase/auth-compat",fj="@firebase/database",dj="@firebase/data-connect",pj="@firebase/database-compat",mj="@firebase/functions",gj="@firebase/functions-compat",vj="@firebase/installations",yj="@firebase/installations-compat",xj="@firebase/messaging",wj="@firebase/messaging-compat",_j="@firebase/performance",bj="@firebase/performance-compat",Sj="@firebase/remote-config",Tj="@firebase/remote-config-compat",Ej="@firebase/storage",Aj="@firebase/storage-compat",Nj="@firebase/firestore",kj="@firebase/vertexai-preview",Cj="@firebase/firestore-compat",Pj="firebase",Ij="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex="[DEFAULT]",Rj={[Tx]:"fire-core",[sj]:"fire-core-compat",[oj]:"fire-analytics",[aj]:"fire-analytics-compat",[uj]:"fire-app-check",[lj]:"fire-app-check-compat",[cj]:"fire-auth",[hj]:"fire-auth-compat",[fj]:"fire-rtdb",[dj]:"fire-data-connect",[pj]:"fire-rtdb-compat",[mj]:"fire-fn",[gj]:"fire-fn-compat",[vj]:"fire-iid",[yj]:"fire-iid-compat",[xj]:"fire-fcm",[wj]:"fire-fcm-compat",[_j]:"fire-perf",[bj]:"fire-perf-compat",[Sj]:"fire-rc",[Tj]:"fire-rc-compat",[Ej]:"fire-gcs",[Aj]:"fire-gcs-compat",[Nj]:"fire-fst",[Cj]:"fire-fst-compat",[kj]:"fire-vertex","fire-js":"fire-js",[Pj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1=new Map,Lj=new Map,Ax=new Map;function LS(t,e){try{t.container.addComponent(e)}catch(r){Ko.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Ef(t){const e=t.name;if(Ax.has(e))return Ko.debug(`There were multiple attempts to register component ${e}.`),!1;Ax.set(e,t);for(const r of e1.values())LS(r,t);for(const r of Lj.values())LS(r,t);return!0}function F5(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Za(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pu=new wp("app","Firebase",Fj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Lc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf=Ij;function Yk(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Ex,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw pu.create("bad-app-name",{appName:String(i)});if(r||(r=qk()),!r)throw pu.create("no-options");const s=e1.get(i);if(s){if(Zg(r,s.options)&&Zg(n,s.config))return s;throw pu.create("duplicate-app",{appName:i})}const a=new UO(i);for(const l of Ax.values())a.addComponent(l);const o=new Dj(r,n,a);return e1.set(i,o),o}function Xk(t=Ex){const e=e1.get(t);if(!e&&t===Ex&&qk())return Yk();if(!e)throw pu.create("no-app",{appName:t});return e}function mu(t,e,r){var n;let i=(n=Rj[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ko.warn(o.join(" "));return}Ef(new Lc(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oj="firebase-heartbeat-database",jj=1,z0="firebase-heartbeat-store";let M2=null;function Qk(){return M2||(M2=ej(Oj,jj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(z0)}catch(r){console.warn(r)}}}}).catch(t=>{throw pu.create("idb-open",{originalErrorMessage:t.message})})),M2}async function Mj(t){try{const r=(await Qk()).transaction(z0),n=await r.objectStore(z0).get(Jk(t));return await r.done,n}catch(e){if(e instanceof sl)Ko.warn(e.message);else{const r=pu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ko.warn(r.message)}}}async function FS(t,e){try{const n=(await Qk()).transaction(z0,"readwrite");await n.objectStore(z0).put(e,Jk(t)),await n.done}catch(r){if(r instanceof sl)Ko.warn(r.message);else{const n=pu.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Ko.warn(n.message)}}}function Jk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bj=1024,Vj=30*24*60*60*1e3;class Uj{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Hj(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=DS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=Vj}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Ko.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=DS(),{heartbeatsToSend:n,unsentEntries:i}=zj(this._heartbeatsCache.heartbeats),s=Jg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return Ko.warn(r),""}}}function DS(){return new Date().toISOString().substring(0,10)}function zj(t,e=Bj){const r=[];let n=t.slice();for(const i of t){const s=r.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),OS(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),OS(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Hj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CO()?PO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Mj(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return FS(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return FS(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function OS(t){return Jg(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(t){Ef(new Lc("platform-logger",e=>new nj(e),"PRIVATE")),Ef(new Lc("heartbeat",e=>new Uj(e),"PRIVATE")),mu(Tx,RS,t),mu(Tx,RS,"esm2017"),mu("fire-js","")}Wj("");function D5(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Zk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qj=Zk,e6=new wp("auth","Firebase",Zk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1=new R5("@firebase/auth");function $j(t,...e){t1.logLevel<=er.WARN&&t1.warn(`Auth (${zf}): ${t}`,...e)}function dg(t,...e){t1.logLevel<=er.ERROR&&t1.error(`Auth (${zf}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Da(t,...e){throw O5(t,...e)}function no(t,...e){return O5(t,...e)}function t6(t,e,r){const n=Object.assign(Object.assign({},qj()),{[e]:r});return new wp("auth","Firebase",n).create(e,{appName:t.name})}function Bo(t){return t6(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function O5(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return e6.create(t,...e)}function Ot(t,e,...r){if(!t)throw O5(e,...r)}function Do(t){const e="INTERNAL ASSERTION FAILED: "+t;throw dg(e),new Error(e)}function Yo(t,e){t||Do(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Gj(){return jS()==="http:"||jS()==="https:"}function jS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Gj()||EO()||"connection"in navigator)?navigator.onLine:!0}function Yj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,r){this.shortDelay=e,this.longDelay=r,Yo(r>e,"Short delay should be less than long delay!"),this.isMobile=bO()||AO()}get(){return Kj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j5(t,e){Yo(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Do("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Do("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Do("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj=new bp(3e4,6e4);function al(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ol(t,e,r,n,i={}){return n6(t,i,async()=>{let s={},a={};n&&(e==="GET"?a=n:s={body:JSON.stringify(n)});const o=_p(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return TO()||(u.referrerPolicy="no-referrer"),r6.fetch()(i6(t,t.config.apiHost,r,o),u)})}async function n6(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},Xj),e);try{const i=new Zj(t),s=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Im(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Im(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Im(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Im(t,"user-disabled",a);const c=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw t6(t,c,u);Da(t,c)}}catch(i){if(i instanceof sl)throw i;Da(t,"network-request-failed",{message:String(i)})}}async function Sp(t,e,r,n,i={}){const s=await ol(t,e,r,n,i);return"mfaPendingCredential"in s&&Da(t,"multi-factor-auth-required",{_serverResponse:s}),s}function i6(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?j5(t.config,i):`${t.config.apiScheme}://${i}`}function Jj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Zj{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(no(this.auth,"network-request-failed")),Qj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Im(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=no(t,e,n);return i.customData._tokenResponse=r,i}function MS(t){return t!==void 0&&t.enterprise!==void 0}class eM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return Jj(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function tM(t,e){return ol(t,"GET","/v2/recaptchaConfig",al(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rM(t,e){return ol(t,"POST","/v1/accounts:delete",e)}async function s6(t,e){return ol(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nM(t,e=!1){const r=Mn(t),n=await r.getIdToken(e),i=M5(n);Ot(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:Zd(B2(i.auth_time)),issuedAtTime:Zd(B2(i.iat)),expirationTime:Zd(B2(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function B2(t){return Number(t)*1e3}function M5(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return dg("JWT malformed, contained fewer than 3 sections"),null;try{const i=Hk(r);return i?JSON.parse(i):(dg("Failed to decode base64 JWT payload"),null)}catch(i){return dg("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function BS(t){const e=M5(t);return Ot(e,"internal-error"),Ot(typeof e.exp<"u","internal-error"),Ot(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H0(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof sl&&iM(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function iM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zd(this.lastLoginAt),this.creationTime=Zd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r1(t){var e;const r=t.auth,n=await t.getIdToken(),i=await H0(t,s6(r,{idToken:n}));Ot(i==null?void 0:i.users.length,r,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?a6(s.providerUserInfo):[],o=oM(t.providerData,a),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),c=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new kx(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function aM(t){const e=Mn(t);await r1(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oM(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function a6(t){return t.map(e=>{var{providerId:r}=e,n=D5(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lM(t,e){const r=await n6(t,{},async()=>{const n=_p({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=i6(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",r6.fetch()(a,{method:"POST",headers:o,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function uM(t,e){return ol(t,"POST","/v2/accounts:revokeToken",al(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ot(e.idToken,"internal-error"),Ot(typeof e.idToken<"u","internal-error"),Ot(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):BS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Ot(e.length!==0,"internal-error");const r=BS(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Ot(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:s}=await lM(e,r);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:s}=r,a=new of;return n&&(Ot(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),i&&(Ot(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Ot(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new of,this.toJSON())}_performRefresh(){return Do("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(t,e){Ot(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Oo{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,s=D5(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new kx(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const r=await H0(this,this.stsTokenManager.getToken(this.auth,e));return Ot(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return nM(this,e)}reload(){return aM(this)}_assign(e){this!==e&&(Ot(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Oo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Ot(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await r1(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Za(this.auth.app))return Promise.reject(Bo(this.auth));const e=await this.getIdToken();return await H0(this,rM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,s,a,o,l,u,c;const h=(n=r.displayName)!==null&&n!==void 0?n:void 0,d=(i=r.email)!==null&&i!==void 0?i:void 0,f=(s=r.phoneNumber)!==null&&s!==void 0?s:void 0,y=(a=r.photoURL)!==null&&a!==void 0?a:void 0,v=(o=r.tenantId)!==null&&o!==void 0?o:void 0,b=(l=r._redirectEventId)!==null&&l!==void 0?l:void 0,w=(u=r.createdAt)!==null&&u!==void 0?u:void 0,S=(c=r.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:T,emailVerified:F,isAnonymous:j,providerData:M,stsTokenManager:A}=r;Ot(T&&A,e,"internal-error");const _=of.fromJSON(this.name,A);Ot(typeof T=="string",e,"internal-error"),jl(h,e.name),jl(d,e.name),Ot(typeof F=="boolean",e,"internal-error"),Ot(typeof j=="boolean",e,"internal-error"),jl(f,e.name),jl(y,e.name),jl(v,e.name),jl(b,e.name),jl(w,e.name),jl(S,e.name);const C=new Oo({uid:T,auth:e,email:d,emailVerified:F,displayName:h,isAnonymous:j,photoURL:y,phoneNumber:f,tenantId:v,stsTokenManager:_,createdAt:w,lastLoginAt:S});return M&&Array.isArray(M)&&(C.providerData=M.map(D=>Object.assign({},D))),b&&(C._redirectEventId=b),C}static async _fromIdTokenResponse(e,r,n=!1){const i=new of;i.updateFromServerResponse(r);const s=new Oo({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await r1(s),s}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Ot(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?a6(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new of;o.updateFromIdToken(n);const l=new Oo({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new kx(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS=new Map;function jo(t){Yo(t instanceof Function,"Expected a class definition");let e=VS.get(t);return e?(Yo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,VS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}o6.type="NONE";const US=o6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(t,e,r){return`firebase:${t}:${e}:${r}`}class lf{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=pg(this.userKey,i.apiKey,s),this.fullPersistenceKey=pg("persistence",i.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Oo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new lf(jo(US),e,n);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||jo(US);const a=pg(n,e.config.apiKey,e.name);let o=null;for(const u of r)try{const c=await u._get(a);if(c){const h=Oo._fromJSON(e,c);u!==s&&(o=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new lf(s,e,n):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(r.map(async u=>{if(u!==s)try{await u._remove(a)}catch{}})),new lf(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(h6(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(l6(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(d6(e))return"Blackberry";if(p6(e))return"Webos";if(u6(e))return"Safari";if((e.includes("chrome/")||c6(e))&&!e.includes("edge/"))return"Chrome";if(f6(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function l6(t=Li()){return/firefox\//i.test(t)}function u6(t=Li()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function c6(t=Li()){return/crios\//i.test(t)}function h6(t=Li()){return/iemobile/i.test(t)}function f6(t=Li()){return/android/i.test(t)}function d6(t=Li()){return/blackberry/i.test(t)}function p6(t=Li()){return/webos/i.test(t)}function B5(t=Li()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function cM(t=Li()){var e;return B5(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function hM(){return NO()&&document.documentMode===10}function m6(t=Li()){return B5(t)||f6(t)||p6(t)||d6(t)||/windows phone/i.test(t)||h6(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g6(t,e=[]){let r;switch(t){case"Browser":r=zS(Li());break;case"Worker":r=`${zS(Li())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${zf}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dM(t,e={}){return ol(t,"GET","/v2/passwordPolicy",al(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=6;class mM{constructor(e){var r,n,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=a.minPasswordLength)!==null&&r!==void 0?r:pM,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,s,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(r=l.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new HS(this),this.idTokenSubscription=new HS(this),this.beforeStateQueue=new fM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=e6,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=jo(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await lf.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await s6(this,{idToken:e}),n=await Oo._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(Za(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ot(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await r1(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Yj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Za(this.app))return Promise.reject(Bo(this));const r=e?Mn(e):null;return r&&Ot(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Ot(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Za(this.app)?Promise.reject(Bo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Za(this.app)?Promise.reject(Bo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(jo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await dM(this),r=new mM(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new wp("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await uM(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&jo(e)||this._popupRedirectResolver;Ot(r,this,"argument-error"),this.redirectPersistenceManager=await lf.create(this,[jo(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ot(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{a=!0,l()}}else{const l=e.addObserver(r);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ot(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=g6(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&$j(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Du(t){return Mn(t)}class HS{constructor(e){this.auth=e,this.observer=null,this.addObserver=DO(r=>this.observer=r)}get next(){return Ot(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vM(t){iv=t}function v6(t){return iv.loadJS(t)}function yM(){return iv.recaptchaEnterpriseScript}function xM(){return iv.gapiScript}function wM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const _M="recaptcha-enterprise",bM="NO_RECAPTCHA";class SM{constructor(e){this.type=_M,this.auth=Du(e)}async verify(e="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{tM(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new eM(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,a(u.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;MS(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{a(u)}).catch(()=>{a(bM)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{n(this.auth).then(o=>{if(!r&&MS(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=yM();l.length!==0&&(l+=o),v6(l).then(()=>{i(o,s,a)}).catch(u=>{a(u)})}}).catch(o=>{a(o)})})}}async function WS(t,e,r,n=!1){const i=new SM(t);let s;try{s=await i.verify(r)}catch{s=await i.verify(r,!0)}const a=Object.assign({},e);return n?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function n1(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await WS(t,e,r,r==="getOobCode");return n(t,s)}else return n(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await WS(t,e,r,r==="getOobCode");return n(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(t,e){const r=F5(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),s=r.getOptions();if(Zg(s,e??{}))return i;Da(i,"already-initialized")}return r.initialize({options:e})}function EM(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(jo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function AM(t,e,r){const n=Du(t);Ot(n._canInitEmulator,n,"emulator-config-failed"),Ot(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=y6(e),{host:a,port:o}=NM(e),l=o===null?"":`:${o}`;n.config.emulator={url:`${s}//${a}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),kM()}function y6(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function NM(t){const e=y6(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:qS(n.substr(s.length+1))}}else{const[s,a]=n.split(":");return{host:s,port:qS(a)}}}function qS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function kM(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Do("not implemented")}_getIdTokenResponse(e){return Do("not implemented")}_linkToIdToken(e,r){return Do("not implemented")}_getReauthenticationResolver(e){return Do("not implemented")}}async function CM(t,e){return ol(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PM(t,e){return Sp(t,"POST","/v1/accounts:signInWithPassword",al(t,e))}async function IM(t,e){return ol(t,"POST","/v1/accounts:sendOobCode",al(t,e))}async function RM(t,e){return IM(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LM(t,e){return Sp(t,"POST","/v1/accounts:signInWithEmailLink",al(t,e))}async function FM(t,e){return Sp(t,"POST","/v1/accounts:signInWithEmailLink",al(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0 extends V5{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new W0(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new W0(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return n1(e,r,"signInWithPassword",PM);case"emailLink":return LM(e,{email:this._email,oobCode:this._password});default:Da(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return n1(e,n,"signUpPassword",CM);case"emailLink":return FM(e,{idToken:r,email:this._email,oobCode:this._password});default:Da(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uf(t,e){return Sp(t,"POST","/v1/accounts:signInWithIdp",al(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM="http://localhost";class Fc extends V5{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Fc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Da("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,s=D5(r,["providerId","signInMethod"]);if(!n||!i)return null;const a=new Fc(n,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const r=this.buildRequest();return uf(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,uf(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,uf(e,r)}buildRequest(){const e={requestUri:DM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=_p(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jM(t){const e=Dd(Od(t)).link,r=e?Dd(Od(e)).deep_link_id:null,n=Dd(Od(t)).deep_link_id;return(n?Dd(Od(n)).link:null)||n||r||e||t}class U5{constructor(e){var r,n,i,s,a,o;const l=Dd(Od(e)),u=(r=l.apiKey)!==null&&r!==void 0?r:null,c=(n=l.oobCode)!==null&&n!==void 0?n:null,h=OM((i=l.mode)!==null&&i!==void 0?i:null);Ot(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const r=jM(e);try{return new U5(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(){this.providerId=Hf.PROVIDER_ID}static credential(e,r){return W0._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=U5.parseLink(r);return Ot(n,"argument-error"),W0._fromEmailAndCode(e,n.code,n.tenantId)}}Hf.PROVIDER_ID="password";Hf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Hf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp extends x6{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l extends Tp{constructor(){super("facebook.com")}static credential(e){return Fc._fromParams({providerId:$l.PROVIDER_ID,signInMethod:$l.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $l.credentialFromTaggedObject(e)}static credentialFromError(e){return $l.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $l.credential(e.oauthAccessToken)}catch{return null}}}$l.FACEBOOK_SIGN_IN_METHOD="facebook.com";$l.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl extends Tp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Fc._fromParams({providerId:Gl.PROVIDER_ID,signInMethod:Gl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Gl.credentialFromTaggedObject(e)}static credentialFromError(e){return Gl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Gl.credential(r,n)}catch{return null}}}Gl.GOOGLE_SIGN_IN_METHOD="google.com";Gl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends Tp{constructor(){super("github.com")}static credential(e){return Fc._fromParams({providerId:Kl.PROVIDER_ID,signInMethod:Kl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kl.credentialFromTaggedObject(e)}static credentialFromError(e){return Kl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kl.credential(e.oauthAccessToken)}catch{return null}}}Kl.GITHUB_SIGN_IN_METHOD="github.com";Kl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends Tp{constructor(){super("twitter.com")}static credential(e,r){return Fc._fromParams({providerId:Yl.PROVIDER_ID,signInMethod:Yl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Yl.credentialFromTaggedObject(e)}static credentialFromError(e){return Yl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Yl.credential(r,n)}catch{return null}}}Yl.TWITTER_SIGN_IN_METHOD="twitter.com";Yl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MM(t,e){return Sp(t,"POST","/v1/accounts:signUp",al(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const s=await Oo._fromIdTokenResponse(e,n,i),a=$S(n);return new Dc({user:s,providerId:a,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=$S(n);return new Dc({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function $S(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1 extends sl{constructor(e,r,n,i){var s;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,i1.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new i1(e,r,n,i)}}function w6(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?i1._fromErrorAndOperation(t,s,e,n):s})}async function BM(t,e,r=!1){const n=await H0(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Dc._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VM(t,e,r=!1){const{auth:n}=t;if(Za(n.app))return Promise.reject(Bo(n));const i="reauthenticate";try{const s=await H0(t,w6(n,i,e,t),r);Ot(s.idToken,n,"internal-error");const a=M5(s.idToken);Ot(a,n,"internal-error");const{sub:o}=a;return Ot(t.uid===o,n,"user-mismatch"),Dc._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Da(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _6(t,e,r=!1){if(Za(t.app))return Promise.reject(Bo(t));const n="signIn",i=await w6(t,n,e),s=await Dc._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(s.user),s}async function UM(t,e){return _6(Du(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b6(t){const e=Du(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function zM(t,e,r){const n=Du(t);await n1(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",RM)}async function S6(t,e,r){if(Za(t.app))return Promise.reject(Bo(t));const n=Du(t),a=await n1(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",MM).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&b6(t),l}),o=await Dc._fromIdTokenResponse(n,"signIn",a);return await n._updateCurrentUser(o.user),o}function T6(t,e,r){return Za(t.app)?Promise.reject(Bo(t)):UM(Mn(t),Hf.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&b6(t),n})}function HM(t,e,r,n){return Mn(t).onIdTokenChanged(e,r,n)}function WM(t,e,r){return Mn(t).beforeAuthStateChanged(e,r)}function qM(t,e,r,n){return Mn(t).onAuthStateChanged(e,r,n)}function $M(t){return Mn(t).signOut()}const s1="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(s1,"1"),this.storage.removeItem(s1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM=1e3,KM=10;class A6 extends E6{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=m6(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(n);!r&&this.localCache[n]===a||this.notifyListeners(n,a)},s=this.storage.getItem(n);hM()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,KM):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},GM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}A6.type="LOCAL";const YM=A6;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6 extends E6{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}N6.type="SESSION";const k6=N6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new sv(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:s}=r.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(a).map(async u=>u(r.origin,s)),l=await XM(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z5(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const u=z5("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},n);a={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(d.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(){return window}function JM(t){io().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C6(){return typeof io().WorkerGlobalScope<"u"&&typeof io().importScripts=="function"}async function ZM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function e9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function t9(){return C6()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6="firebaseLocalStorageDb",r9=1,a1="firebaseLocalStorage",I6="fbase_key";class Ep{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function av(t,e){return t.transaction([a1],e?"readwrite":"readonly").objectStore(a1)}function n9(){const t=indexedDB.deleteDatabase(P6);return new Ep(t).toPromise()}function Cx(){const t=indexedDB.open(P6,r9);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(a1,{keyPath:I6})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(a1)?e(n):(n.close(),await n9(),e(await Cx()))})})}async function GS(t,e,r){const n=av(t,!0).put({[I6]:e,value:r});return new Ep(n).toPromise()}async function i9(t,e){const r=av(t,!1).get(e),n=await new Ep(r).toPromise();return n===void 0?null:n.value}function KS(t,e){const r=av(t,!0).delete(e);return new Ep(r).toPromise()}const s9=800,a9=3;class R6{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cx(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>a9)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return C6()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sv._getInstance(t9()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await ZM(),!this.activeServiceWorker)return;this.sender=new QM(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||e9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cx();return await GS(e,s1,"1"),await KS(e,s1),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>GS(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>i9(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>KS(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=av(i,!1).getAll();return new Ep(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),s9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}R6.type="LOCAL";const o9=R6;new bp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l9(t,e){return e?jo(e):(Ot(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5 extends V5{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uf(e,this._buildIdpRequest())}_linkToIdToken(e,r){return uf(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return uf(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function u9(t){return _6(t.auth,new H5(t),t.bypassAuthState)}function c9(t){const{auth:e,user:r}=t;return Ot(r,e,"internal-error"),VM(r,new H5(t),t.bypassAuthState)}async function h9(t){const{auth:e,user:r}=t;return Ot(r,e,"internal-error"),BM(r,new H5(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(e,r,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return u9;case"linkViaPopup":case"linkViaRedirect":return h9;case"reauthViaPopup":case"reauthViaRedirect":return c9;default:Da(this.auth,"internal-error")}}resolve(e){Yo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f9=new bp(2e3,1e4);class Gh extends L6{constructor(e,r,n,i,s){super(e,r,i,s),this.provider=n,this.authWindow=null,this.pollId=null,Gh.currentPopupAction&&Gh.currentPopupAction.cancel(),Gh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ot(e,this.auth,"internal-error"),e}async onExecution(){Yo(this.filter.length===1,"Popup operations only handle one event");const e=z5();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(no(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(no(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(no(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,f9.get())};e()}}Gh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d9="pendingRedirect",mg=new Map;class p9 extends L6{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=mg.get(this.auth._key());if(!e){try{const n=await m9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}mg.set(this.auth._key(),e)}return this.bypassAuthState||mg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function m9(t,e){const r=y9(e),n=v9(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function g9(t,e){mg.set(t._key(),e)}function v9(t){return jo(t._redirectPersistence)}function y9(t){return pg(d9,t.config.apiKey,t.name)}async function x9(t,e,r=!1){if(Za(t.app))return Promise.reject(Bo(t));const n=Du(t),i=l9(n,e),a=await new p9(n,i,r).execute();return a&&!r&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9=10*60*1e3;class _9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!b9(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!F6(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(no(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=w9&&this.cachedEventUids.clear(),this.cachedEventUids.has(YS(e))}saveEventToCache(e){this.cachedEventUids.add(YS(e)),this.lastProcessedEventTime=Date.now()}}function YS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function F6({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function b9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return F6(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S9(t,e={}){return ol(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,E9=/^https?/;async function A9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await S9(t);for(const r of e)try{if(N9(r))return}catch{}Da(t,"unauthorized-domain")}function N9(t){const e=Nx(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&a.hostname===n}if(!E9.test(r))return!1;if(T9.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k9=new bp(3e4,6e4);function XS(){const t=io().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function C9(t){return new Promise((e,r)=>{var n,i,s;function a(){XS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{XS(),r(no(t,"network-request-failed"))},timeout:k9.get()})}if(!((i=(n=io().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=io().gapi)===null||s===void 0)&&s.load)a();else{const o=wM("iframefcb");return io()[o]=()=>{gapi.load?a():r(no(t,"network-request-failed"))},v6(`${xM()}?onload=${o}`).catch(l=>r(l))}}).catch(e=>{throw gg=null,e})}let gg=null;function P9(t){return gg=gg||C9(t),gg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9=new bp(5e3,15e3),R9="__/auth/iframe",L9="emulator/auth/iframe",F9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},D9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function O9(t){const e=t.config;Ot(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?j5(e,L9):`https://${t.config.authDomain}/${R9}`,n={apiKey:e.apiKey,appName:t.name,v:zf},i=D9.get(t.config.apiHost);i&&(n.eid=i);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${_p(n).slice(1)}`}async function j9(t){const e=await P9(t),r=io().gapi;return Ot(r,t,"internal-error"),e.open({where:document.body,url:O9(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:F9,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const a=no(t,"network-request-failed"),o=io().setTimeout(()=>{s(a)},I9.get());function l(){io().clearTimeout(o),i(n)}n.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},B9=500,V9=600,U9="_blank",z9="http://localhost";class QS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function H9(t,e,r,n=B9,i=V9){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l=Object.assign(Object.assign({},M9),{width:n.toString(),height:i.toString(),top:s,left:a}),u=Li().toLowerCase();r&&(o=c6(u)?U9:r),l6(u)&&(e=e||z9,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[f,y])=>`${d}${f}=${y},`,"");if(cM(u)&&o!=="_self")return W9(e||"",o),new QS(null);const h=window.open(e||"",o,c);Ot(h,t,"popup-blocked");try{h.focus()}catch{}return new QS(h)}function W9(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9="__/auth/handler",$9="emulator/auth/handler",G9=encodeURIComponent("fac");async function JS(t,e,r,n,i,s){Ot(t.config.authDomain,t,"auth-domain-config-required"),Ot(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:zf,eventId:i};if(e instanceof x6){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",FO(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries({}))a[c]=h}if(e instanceof Tp){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(a.scopes=c.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const c of Object.keys(o))o[c]===void 0&&delete o[c];const l=await t._getAppCheckToken(),u=l?`#${G9}=${encodeURIComponent(l)}`:"";return`${K9(t)}?${_p(o).slice(1)}${u}`}function K9({config:t}){return t.emulator?j5(t,$9):`https://${t.authDomain}/${q9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2="webStorageSupport";class Y9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=k6,this._completeRedirectFn=x9,this._overrideRedirectResult=g9}async _openPopup(e,r,n,i){var s;Yo((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await JS(e,r,n,Nx(),i);return H9(e,a,z5())}async _openRedirect(e,r,n,i){await this._originValidation(e);const s=await JS(e,r,n,Nx(),i);return JM(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:s}=this.eventManagers[r];return i?Promise.resolve(i):(Yo(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await j9(e),n=new _9(e);return r.register("authEvent",i=>(Ot(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(V2,{type:V2},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[V2];a!==void 0&&r(!!a),Da(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=A9(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return m6()||u6()||B5()}}const X9=Y9;var ZS="@firebase/auth",eT="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Ot(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Z9(t){Ef(new Lc("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=n.options;Ot(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:g6(t)},u=new gM(n,i,s,l);return EM(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Ef(new Lc("auth-internal",e=>{const r=Du(e.getProvider("auth").getImmediate());return(n=>new Q9(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),mu(ZS,eT,J9(t)),mu(ZS,eT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eB=5*60,tB=$k("authIdTokenMaxAge")||eB;let tT=null;const rB=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>tB)return;const i=r==null?void 0:r.token;tT!==i&&(tT=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function D6(t=Xk()){const e=F5(t,"auth");if(e.isInitialized())return e.getImmediate();const r=TM(t,{popupRedirectResolver:X9,persistence:[o9,YM,k6]}),n=$k("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const a=rB(s.toString());WM(r,a,()=>a(r.currentUser)),HM(r,o=>a(o))}}const i=Wk("auth");return i&&AM(r,`http://${i}`),r}function nB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}vM({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const s=no("internal-error");s.customData=i,r(s)},n.type="text/javascript",n.charset="UTF-8",nB().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Z9("Browser");var rT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wc,O6;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,_){function C(){}C.prototype=_.prototype,A.D=_.prototype,A.prototype=new C,A.prototype.constructor=A,A.C=function(D,N,E){for(var R=Array(arguments.length-2),H=2;H<arguments.length;H++)R[H-2]=arguments[H];return _.prototype[N].apply(D,R)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,_,C){C||(C=0);var D=Array(16);if(typeof _=="string")for(var N=0;16>N;++N)D[N]=_.charCodeAt(C++)|_.charCodeAt(C++)<<8|_.charCodeAt(C++)<<16|_.charCodeAt(C++)<<24;else for(N=0;16>N;++N)D[N]=_[C++]|_[C++]<<8|_[C++]<<16|_[C++]<<24;_=A.g[0],C=A.g[1],N=A.g[2];var E=A.g[3],R=_+(E^C&(N^E))+D[0]+3614090360&4294967295;_=C+(R<<7&4294967295|R>>>25),R=E+(N^_&(C^N))+D[1]+3905402710&4294967295,E=_+(R<<12&4294967295|R>>>20),R=N+(C^E&(_^C))+D[2]+606105819&4294967295,N=E+(R<<17&4294967295|R>>>15),R=C+(_^N&(E^_))+D[3]+3250441966&4294967295,C=N+(R<<22&4294967295|R>>>10),R=_+(E^C&(N^E))+D[4]+4118548399&4294967295,_=C+(R<<7&4294967295|R>>>25),R=E+(N^_&(C^N))+D[5]+1200080426&4294967295,E=_+(R<<12&4294967295|R>>>20),R=N+(C^E&(_^C))+D[6]+2821735955&4294967295,N=E+(R<<17&4294967295|R>>>15),R=C+(_^N&(E^_))+D[7]+4249261313&4294967295,C=N+(R<<22&4294967295|R>>>10),R=_+(E^C&(N^E))+D[8]+1770035416&4294967295,_=C+(R<<7&4294967295|R>>>25),R=E+(N^_&(C^N))+D[9]+2336552879&4294967295,E=_+(R<<12&4294967295|R>>>20),R=N+(C^E&(_^C))+D[10]+4294925233&4294967295,N=E+(R<<17&4294967295|R>>>15),R=C+(_^N&(E^_))+D[11]+2304563134&4294967295,C=N+(R<<22&4294967295|R>>>10),R=_+(E^C&(N^E))+D[12]+1804603682&4294967295,_=C+(R<<7&4294967295|R>>>25),R=E+(N^_&(C^N))+D[13]+4254626195&4294967295,E=_+(R<<12&4294967295|R>>>20),R=N+(C^E&(_^C))+D[14]+2792965006&4294967295,N=E+(R<<17&4294967295|R>>>15),R=C+(_^N&(E^_))+D[15]+1236535329&4294967295,C=N+(R<<22&4294967295|R>>>10),R=_+(N^E&(C^N))+D[1]+4129170786&4294967295,_=C+(R<<5&4294967295|R>>>27),R=E+(C^N&(_^C))+D[6]+3225465664&4294967295,E=_+(R<<9&4294967295|R>>>23),R=N+(_^C&(E^_))+D[11]+643717713&4294967295,N=E+(R<<14&4294967295|R>>>18),R=C+(E^_&(N^E))+D[0]+3921069994&4294967295,C=N+(R<<20&4294967295|R>>>12),R=_+(N^E&(C^N))+D[5]+3593408605&4294967295,_=C+(R<<5&4294967295|R>>>27),R=E+(C^N&(_^C))+D[10]+38016083&4294967295,E=_+(R<<9&4294967295|R>>>23),R=N+(_^C&(E^_))+D[15]+3634488961&4294967295,N=E+(R<<14&4294967295|R>>>18),R=C+(E^_&(N^E))+D[4]+3889429448&4294967295,C=N+(R<<20&4294967295|R>>>12),R=_+(N^E&(C^N))+D[9]+568446438&4294967295,_=C+(R<<5&4294967295|R>>>27),R=E+(C^N&(_^C))+D[14]+3275163606&4294967295,E=_+(R<<9&4294967295|R>>>23),R=N+(_^C&(E^_))+D[3]+4107603335&4294967295,N=E+(R<<14&4294967295|R>>>18),R=C+(E^_&(N^E))+D[8]+1163531501&4294967295,C=N+(R<<20&4294967295|R>>>12),R=_+(N^E&(C^N))+D[13]+2850285829&4294967295,_=C+(R<<5&4294967295|R>>>27),R=E+(C^N&(_^C))+D[2]+4243563512&4294967295,E=_+(R<<9&4294967295|R>>>23),R=N+(_^C&(E^_))+D[7]+1735328473&4294967295,N=E+(R<<14&4294967295|R>>>18),R=C+(E^_&(N^E))+D[12]+2368359562&4294967295,C=N+(R<<20&4294967295|R>>>12),R=_+(C^N^E)+D[5]+4294588738&4294967295,_=C+(R<<4&4294967295|R>>>28),R=E+(_^C^N)+D[8]+2272392833&4294967295,E=_+(R<<11&4294967295|R>>>21),R=N+(E^_^C)+D[11]+1839030562&4294967295,N=E+(R<<16&4294967295|R>>>16),R=C+(N^E^_)+D[14]+4259657740&4294967295,C=N+(R<<23&4294967295|R>>>9),R=_+(C^N^E)+D[1]+2763975236&4294967295,_=C+(R<<4&4294967295|R>>>28),R=E+(_^C^N)+D[4]+1272893353&4294967295,E=_+(R<<11&4294967295|R>>>21),R=N+(E^_^C)+D[7]+4139469664&4294967295,N=E+(R<<16&4294967295|R>>>16),R=C+(N^E^_)+D[10]+3200236656&4294967295,C=N+(R<<23&4294967295|R>>>9),R=_+(C^N^E)+D[13]+681279174&4294967295,_=C+(R<<4&4294967295|R>>>28),R=E+(_^C^N)+D[0]+3936430074&4294967295,E=_+(R<<11&4294967295|R>>>21),R=N+(E^_^C)+D[3]+3572445317&4294967295,N=E+(R<<16&4294967295|R>>>16),R=C+(N^E^_)+D[6]+76029189&4294967295,C=N+(R<<23&4294967295|R>>>9),R=_+(C^N^E)+D[9]+3654602809&4294967295,_=C+(R<<4&4294967295|R>>>28),R=E+(_^C^N)+D[12]+3873151461&4294967295,E=_+(R<<11&4294967295|R>>>21),R=N+(E^_^C)+D[15]+530742520&4294967295,N=E+(R<<16&4294967295|R>>>16),R=C+(N^E^_)+D[2]+3299628645&4294967295,C=N+(R<<23&4294967295|R>>>9),R=_+(N^(C|~E))+D[0]+4096336452&4294967295,_=C+(R<<6&4294967295|R>>>26),R=E+(C^(_|~N))+D[7]+1126891415&4294967295,E=_+(R<<10&4294967295|R>>>22),R=N+(_^(E|~C))+D[14]+2878612391&4294967295,N=E+(R<<15&4294967295|R>>>17),R=C+(E^(N|~_))+D[5]+4237533241&4294967295,C=N+(R<<21&4294967295|R>>>11),R=_+(N^(C|~E))+D[12]+1700485571&4294967295,_=C+(R<<6&4294967295|R>>>26),R=E+(C^(_|~N))+D[3]+2399980690&4294967295,E=_+(R<<10&4294967295|R>>>22),R=N+(_^(E|~C))+D[10]+4293915773&4294967295,N=E+(R<<15&4294967295|R>>>17),R=C+(E^(N|~_))+D[1]+2240044497&4294967295,C=N+(R<<21&4294967295|R>>>11),R=_+(N^(C|~E))+D[8]+1873313359&4294967295,_=C+(R<<6&4294967295|R>>>26),R=E+(C^(_|~N))+D[15]+4264355552&4294967295,E=_+(R<<10&4294967295|R>>>22),R=N+(_^(E|~C))+D[6]+2734768916&4294967295,N=E+(R<<15&4294967295|R>>>17),R=C+(E^(N|~_))+D[13]+1309151649&4294967295,C=N+(R<<21&4294967295|R>>>11),R=_+(N^(C|~E))+D[4]+4149444226&4294967295,_=C+(R<<6&4294967295|R>>>26),R=E+(C^(_|~N))+D[11]+3174756917&4294967295,E=_+(R<<10&4294967295|R>>>22),R=N+(_^(E|~C))+D[2]+718787259&4294967295,N=E+(R<<15&4294967295|R>>>17),R=C+(E^(N|~_))+D[9]+3951481745&4294967295,A.g[0]=A.g[0]+_&4294967295,A.g[1]=A.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,A.g[2]=A.g[2]+N&4294967295,A.g[3]=A.g[3]+E&4294967295}n.prototype.u=function(A,_){_===void 0&&(_=A.length);for(var C=_-this.blockSize,D=this.B,N=this.h,E=0;E<_;){if(N==0)for(;E<=C;)i(this,A,E),E+=this.blockSize;if(typeof A=="string"){for(;E<_;)if(D[N++]=A.charCodeAt(E++),N==this.blockSize){i(this,D),N=0;break}}else for(;E<_;)if(D[N++]=A[E++],N==this.blockSize){i(this,D),N=0;break}}this.h=N,this.o+=_},n.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var _=1;_<A.length-8;++_)A[_]=0;var C=8*this.o;for(_=A.length-8;_<A.length;++_)A[_]=C&255,C/=256;for(this.u(A),A=Array(16),_=C=0;4>_;++_)for(var D=0;32>D;D+=8)A[C++]=this.g[_]>>>D&255;return A};function s(A,_){var C=o;return Object.prototype.hasOwnProperty.call(C,A)?C[A]:C[A]=_(A)}function a(A,_){this.h=_;for(var C=[],D=!0,N=A.length-1;0<=N;N--){var E=A[N]|0;D&&E==_||(C[N]=E,D=!1)}this.g=C}var o={};function l(A){return-128<=A&&128>A?s(A,function(_){return new a([_|0],0>_?-1:0)}):new a([A|0],0>A?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return h;if(0>A)return b(u(-A));for(var _=[],C=1,D=0;A>=C;D++)_[D]=A/C|0,C*=4294967296;return new a(_,0)}function c(A,_){if(A.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(A.charAt(0)=="-")return b(c(A.substring(1),_));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=u(Math.pow(_,8)),D=h,N=0;N<A.length;N+=8){var E=Math.min(8,A.length-N),R=parseInt(A.substring(N,N+E),_);8>E?(E=u(Math.pow(_,E)),D=D.j(E).add(u(R))):(D=D.j(C),D=D.add(u(R)))}return D}var h=l(0),d=l(1),f=l(16777216);t=a.prototype,t.m=function(){if(v(this))return-b(this).m();for(var A=0,_=1,C=0;C<this.g.length;C++){var D=this.i(C);A+=(0<=D?D:4294967296+D)*_,_*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(y(this))return"0";if(v(this))return"-"+b(this).toString(A);for(var _=u(Math.pow(A,6)),C=this,D="";;){var N=F(C,_).g;C=w(C,N.j(_));var E=((0<C.g.length?C.g[0]:C.h)>>>0).toString(A);if(C=N,y(C))return E+D;for(;6>E.length;)E="0"+E;D=E+D}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function y(A){if(A.h!=0)return!1;for(var _=0;_<A.g.length;_++)if(A.g[_]!=0)return!1;return!0}function v(A){return A.h==-1}t.l=function(A){return A=w(this,A),v(A)?-1:y(A)?0:1};function b(A){for(var _=A.g.length,C=[],D=0;D<_;D++)C[D]=~A.g[D];return new a(C,~A.h).add(d)}t.abs=function(){return v(this)?b(this):this},t.add=function(A){for(var _=Math.max(this.g.length,A.g.length),C=[],D=0,N=0;N<=_;N++){var E=D+(this.i(N)&65535)+(A.i(N)&65535),R=(E>>>16)+(this.i(N)>>>16)+(A.i(N)>>>16);D=R>>>16,E&=65535,R&=65535,C[N]=R<<16|E}return new a(C,C[C.length-1]&-2147483648?-1:0)};function w(A,_){return A.add(b(_))}t.j=function(A){if(y(this)||y(A))return h;if(v(this))return v(A)?b(this).j(b(A)):b(b(this).j(A));if(v(A))return b(this.j(b(A)));if(0>this.l(f)&&0>A.l(f))return u(this.m()*A.m());for(var _=this.g.length+A.g.length,C=[],D=0;D<2*_;D++)C[D]=0;for(D=0;D<this.g.length;D++)for(var N=0;N<A.g.length;N++){var E=this.i(D)>>>16,R=this.i(D)&65535,H=A.i(N)>>>16,me=A.i(N)&65535;C[2*D+2*N]+=R*me,S(C,2*D+2*N),C[2*D+2*N+1]+=E*me,S(C,2*D+2*N+1),C[2*D+2*N+1]+=R*H,S(C,2*D+2*N+1),C[2*D+2*N+2]+=E*H,S(C,2*D+2*N+2)}for(D=0;D<_;D++)C[D]=C[2*D+1]<<16|C[2*D];for(D=_;D<2*_;D++)C[D]=0;return new a(C,0)};function S(A,_){for(;(A[_]&65535)!=A[_];)A[_+1]+=A[_]>>>16,A[_]&=65535,_++}function T(A,_){this.g=A,this.h=_}function F(A,_){if(y(_))throw Error("division by zero");if(y(A))return new T(h,h);if(v(A))return _=F(b(A),_),new T(b(_.g),b(_.h));if(v(_))return _=F(A,b(_)),new T(b(_.g),_.h);if(30<A.g.length){if(v(A)||v(_))throw Error("slowDivide_ only works with positive integers.");for(var C=d,D=_;0>=D.l(A);)C=j(C),D=j(D);var N=M(C,1),E=M(D,1);for(D=M(D,2),C=M(C,2);!y(D);){var R=E.add(D);0>=R.l(A)&&(N=N.add(C),E=R),D=M(D,1),C=M(C,1)}return _=w(A,N.j(_)),new T(N,_)}for(N=h;0<=A.l(_);){for(C=Math.max(1,Math.floor(A.m()/_.m())),D=Math.ceil(Math.log(C)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),E=u(C),R=E.j(_);v(R)||0<R.l(A);)C-=D,E=u(C),R=E.j(_);y(E)&&(E=d),N=N.add(E),A=w(A,R)}return new T(N,A)}t.A=function(A){return F(this,A).h},t.and=function(A){for(var _=Math.max(this.g.length,A.g.length),C=[],D=0;D<_;D++)C[D]=this.i(D)&A.i(D);return new a(C,this.h&A.h)},t.or=function(A){for(var _=Math.max(this.g.length,A.g.length),C=[],D=0;D<_;D++)C[D]=this.i(D)|A.i(D);return new a(C,this.h|A.h)},t.xor=function(A){for(var _=Math.max(this.g.length,A.g.length),C=[],D=0;D<_;D++)C[D]=this.i(D)^A.i(D);return new a(C,this.h^A.h)};function j(A){for(var _=A.g.length+1,C=[],D=0;D<_;D++)C[D]=A.i(D)<<1|A.i(D-1)>>>31;return new a(C,A.h)}function M(A,_){var C=_>>5;_%=32;for(var D=A.g.length-C,N=[],E=0;E<D;E++)N[E]=0<_?A.i(E+C)>>>_|A.i(E+C+1)<<32-_:A.i(E+C);return new a(N,A.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,O6=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=c,wc=a}).apply(typeof rT<"u"?rT:typeof self<"u"?self:typeof window<"u"?window:{});var Rm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var j6,jd,M6,vg,Px,B6,V6,U6;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,L,B){return g==Array.prototype||g==Object.prototype||(g[L]=B.value),g};function r(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rm=="object"&&Rm];for(var L=0;L<g.length;++L){var B=g[L];if(B&&B.Math==Math)return B}throw Error("Cannot find global object")}var n=r(this);function i(g,L){if(L)e:{var B=n;g=g.split(".");for(var Z=0;Z<g.length-1;Z++){var Te=g[Z];if(!(Te in B))break e;B=B[Te]}g=g[g.length-1],Z=B[g],L=L(Z),L!=Z&&L!=null&&e(B,g,{configurable:!0,writable:!0,value:L})}}function s(g,L){g instanceof String&&(g+="");var B=0,Z=!1,Te={next:function(){if(!Z&&B<g.length){var Fe=B++;return{value:L(Fe,g[Fe]),done:!1}}return Z=!0,{done:!0,value:void 0}}};return Te[Symbol.iterator]=function(){return Te},Te}i("Array.prototype.values",function(g){return g||function(){return s(this,function(L,B){return B})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(g){var L=typeof g;return L=L!="object"?L:g?Array.isArray(g)?"array":L:"null",L=="array"||L=="object"&&typeof g.length=="number"}function u(g){var L=typeof g;return L=="object"&&g!=null||L=="function"}function c(g,L,B){return g.call.apply(g.bind,arguments)}function h(g,L,B){if(!g)throw Error();if(2<arguments.length){var Z=Array.prototype.slice.call(arguments,2);return function(){var Te=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Te,Z),g.apply(L,Te)}}return function(){return g.apply(L,arguments)}}function d(g,L,B){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:h,d.apply(null,arguments)}function f(g,L){var B=Array.prototype.slice.call(arguments,1);return function(){var Z=B.slice();return Z.push.apply(Z,arguments),g.apply(this,Z)}}function y(g,L){function B(){}B.prototype=L.prototype,g.aa=L.prototype,g.prototype=new B,g.prototype.constructor=g,g.Qb=function(Z,Te,Fe){for(var Ze=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)Ze[Mt-2]=arguments[Mt];return L.prototype[Te].apply(Z,Ze)}}function v(g){const L=g.length;if(0<L){const B=Array(L);for(let Z=0;Z<L;Z++)B[Z]=g[Z];return B}return[]}function b(g,L){for(let B=1;B<arguments.length;B++){const Z=arguments[B];if(l(Z)){const Te=g.length||0,Fe=Z.length||0;g.length=Te+Fe;for(let Ze=0;Ze<Fe;Ze++)g[Te+Ze]=Z[Ze]}else g.push(Z)}}class w{constructor(L,B){this.i=L,this.j=B,this.h=0,this.g=null}get(){let L;return 0<this.h?(this.h--,L=this.g,this.g=L.next,L.next=null):L=this.i(),L}}function S(g){return/^[\s\xa0]*$/.test(g)}function T(){var g=o.navigator;return g&&(g=g.userAgent)?g:""}function F(g){return F[" "](g),g}F[" "]=function(){};var j=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function M(g,L,B){for(const Z in g)L.call(B,g[Z],Z,g)}function A(g,L){for(const B in g)L.call(void 0,g[B],B,g)}function _(g){const L={};for(const B in g)L[B]=g[B];return L}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(g,L){let B,Z;for(let Te=1;Te<arguments.length;Te++){Z=arguments[Te];for(B in Z)g[B]=Z[B];for(let Fe=0;Fe<C.length;Fe++)B=C[Fe],Object.prototype.hasOwnProperty.call(Z,B)&&(g[B]=Z[B])}}function N(g){var L=1;g=g.split(":");const B=[];for(;0<L&&g.length;)B.push(g.shift()),L--;return g.length&&B.push(g.join(":")),B}function E(g){o.setTimeout(()=>{throw g},0)}function R(){var g=re;let L=null;return g.g&&(L=g.g,g.g=g.g.next,g.g||(g.h=null),L.next=null),L}class H{constructor(){this.h=this.g=null}add(L,B){const Z=me.get();Z.set(L,B),this.h?this.h.next=Z:this.g=Z,this.h=Z}}var me=new w(()=>new ie,g=>g.reset());class ie{constructor(){this.next=this.g=this.h=null}set(L,B){this.h=L,this.g=B,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,J=!1,re=new H,de=()=>{const g=o.Promise.resolve(void 0);ee=()=>{g.then(Se)}};var Se=()=>{for(var g;g=R();){try{g.h.call(g.g)}catch(B){E(B)}var L=me;L.j(g),100>L.h&&(L.h++,g.next=L.g,L.g=g)}J=!1};function I(){this.s=this.s,this.C=this.C}I.prototype.s=!1,I.prototype.ma=function(){this.s||(this.s=!0,this.N())},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(g,L){this.type=g,this.g=this.target=L,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var U=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var g=!1,L=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const B=()=>{};o.addEventListener("test",B,L),o.removeEventListener("test",B,L)}catch{}return g}();function z(g,L){if(V.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var B=this.type=g.type,Z=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=L,L=g.relatedTarget){if(j){e:{try{F(L.nodeName);var Te=!0;break e}catch{}Te=!1}Te||(L=null)}}else B=="mouseover"?L=g.fromElement:B=="mouseout"&&(L=g.toElement);this.relatedTarget=L,Z?(this.clientX=Z.clientX!==void 0?Z.clientX:Z.pageX,this.clientY=Z.clientY!==void 0?Z.clientY:Z.pageY,this.screenX=Z.screenX||0,this.screenY=Z.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:Q[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&z.aa.h.call(this)}}y(z,V);var Q={2:"touch",3:"pen",4:"mouse"};z.prototype.h=function(){z.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),G=0;function ue(g,L,B,Z,Te){this.listener=g,this.proxy=null,this.src=L,this.type=B,this.capture=!!Z,this.ha=Te,this.key=++G,this.da=this.fa=!1}function ye(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Ne(g){this.src=g,this.g={},this.h=0}Ne.prototype.add=function(g,L,B,Z,Te){var Fe=g.toString();g=this.g[Fe],g||(g=this.g[Fe]=[],this.h++);var Ze=Ue(g,L,Z,Te);return-1<Ze?(L=g[Ze],B||(L.fa=!1)):(L=new ue(L,this.src,Fe,!!Z,Te),L.fa=B,g.push(L)),L};function je(g,L){var B=L.type;if(B in g.g){var Z=g.g[B],Te=Array.prototype.indexOf.call(Z,L,void 0),Fe;(Fe=0<=Te)&&Array.prototype.splice.call(Z,Te,1),Fe&&(ye(L),g.g[B].length==0&&(delete g.g[B],g.h--))}}function Ue(g,L,B,Z){for(var Te=0;Te<g.length;++Te){var Fe=g[Te];if(!Fe.da&&Fe.listener==L&&Fe.capture==!!B&&Fe.ha==Z)return Te}return-1}var ze="closure_lm_"+(1e6*Math.random()|0),Pe={};function oe(g,L,B,Z,Te){if(Array.isArray(L)){for(var Fe=0;Fe<L.length;Fe++)oe(g,L[Fe],B,Z,Te);return null}return B=Rt(B),g&&g[ge]?g.K(L,B,u(Z)?!!Z.capture:!1,Te):He(g,L,B,!1,Z,Te)}function He(g,L,B,Z,Te,Fe){if(!L)throw Error("Invalid event type");var Ze=u(Te)?!!Te.capture:!!Te,Mt=_t(g);if(Mt||(g[ze]=Mt=new Ne(g)),B=Mt.add(L,B,Z,Ze,Fe),B.proxy)return B;if(Z=ht(),B.proxy=Z,Z.src=g,Z.listener=B,g.addEventListener)U||(Te=Ze),Te===void 0&&(Te=!1),g.addEventListener(L.toString(),Z,Te);else if(g.attachEvent)g.attachEvent(ot(L.toString()),Z);else if(g.addListener&&g.removeListener)g.addListener(Z);else throw Error("addEventListener and attachEvent are unavailable.");return B}function ht(){function g(B){return L.call(g.src,g.listener,B)}const L=lt;return g}function Ye(g,L,B,Z,Te){if(Array.isArray(L))for(var Fe=0;Fe<L.length;Fe++)Ye(g,L[Fe],B,Z,Te);else Z=u(Z)?!!Z.capture:!!Z,B=Rt(B),g&&g[ge]?(g=g.i,L=String(L).toString(),L in g.g&&(Fe=g.g[L],B=Ue(Fe,B,Z,Te),-1<B&&(ye(Fe[B]),Array.prototype.splice.call(Fe,B,1),Fe.length==0&&(delete g.g[L],g.h--)))):g&&(g=_t(g))&&(L=g.g[L.toString()],g=-1,L&&(g=Ue(L,B,Z,Te)),(B=-1<g?L[g]:null)&&nt(B))}function nt(g){if(typeof g!="number"&&g&&!g.da){var L=g.src;if(L&&L[ge])je(L.i,g);else{var B=g.type,Z=g.proxy;L.removeEventListener?L.removeEventListener(B,Z,g.capture):L.detachEvent?L.detachEvent(ot(B),Z):L.addListener&&L.removeListener&&L.removeListener(Z),(B=_t(L))?(je(B,g),B.h==0&&(B.src=null,L[ze]=null)):ye(g)}}}function ot(g){return g in Pe?Pe[g]:Pe[g]="on"+g}function lt(g,L){if(g.da)g=!0;else{L=new z(L,this);var B=g.listener,Z=g.ha||g.src;g.fa&&nt(g),g=B.call(Z,L)}return g}function _t(g){return g=g[ze],g instanceof Ne?g:null}var St="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rt(g){return typeof g=="function"?g:(g[St]||(g[St]=function(L){return g.handleEvent(L)}),g[St])}function Tt(){I.call(this),this.i=new Ne(this),this.M=this,this.F=null}y(Tt,I),Tt.prototype[ge]=!0,Tt.prototype.removeEventListener=function(g,L,B,Z){Ye(this,g,L,B,Z)};function kt(g,L){var B,Z=g.F;if(Z)for(B=[];Z;Z=Z.F)B.push(Z);if(g=g.M,Z=L.type||L,typeof L=="string")L=new V(L,g);else if(L instanceof V)L.target=L.target||g;else{var Te=L;L=new V(Z,g),D(L,Te)}if(Te=!0,B)for(var Fe=B.length-1;0<=Fe;Fe--){var Ze=L.g=B[Fe];Te=qt(Ze,Z,!0,L)&&Te}if(Ze=L.g=g,Te=qt(Ze,Z,!0,L)&&Te,Te=qt(Ze,Z,!1,L)&&Te,B)for(Fe=0;Fe<B.length;Fe++)Ze=L.g=B[Fe],Te=qt(Ze,Z,!1,L)&&Te}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var g=this.i,L;for(L in g.g){for(var B=g.g[L],Z=0;Z<B.length;Z++)ye(B[Z]);delete g.g[L],g.h--}}this.F=null},Tt.prototype.K=function(g,L,B,Z){return this.i.add(String(g),L,!1,B,Z)},Tt.prototype.L=function(g,L,B,Z){return this.i.add(String(g),L,!0,B,Z)};function qt(g,L,B,Z){if(L=g.i.g[String(L)],!L)return!0;L=L.concat();for(var Te=!0,Fe=0;Fe<L.length;++Fe){var Ze=L[Fe];if(Ze&&!Ze.da&&Ze.capture==B){var Mt=Ze.listener,Xt=Ze.ha||Ze.src;Ze.fa&&je(g.i,Ze),Te=Mt.call(Xt,Z)!==!1&&Te}}return Te&&!Z.defaultPrevented}function Ct(g,L,B){if(typeof g=="function")B&&(g=d(g,B));else if(g&&typeof g.handleEvent=="function")g=d(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(L)?-1:o.setTimeout(g,L||0)}function Ht(g){g.g=Ct(()=>{g.g=null,g.i&&(g.i=!1,Ht(g))},g.l);const L=g.h;g.h=null,g.m.apply(null,L)}class dt extends I{constructor(L,B){super(),this.m=L,this.l=B,this.h=null,this.i=!1,this.g=null}j(L){this.h=arguments,this.g?this.i=!0:Ht(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Or(g){I.call(this),this.h=g,this.g={}}y(Or,I);var Gt=[];function Yn(g){M(g.g,function(L,B){this.g.hasOwnProperty(B)&&nt(L)},g),g.g={}}Or.prototype.N=function(){Or.aa.N.call(this),Yn(this)},Or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tr=o.JSON.stringify,Er=o.JSON.parse,Yi=class{stringify(g){return o.JSON.stringify(g,void 0)}parse(g){return o.JSON.parse(g,void 0)}};function Kt(){}Kt.prototype.h=null;function vs(g){return g.h||(g.h=g.i())}function Ar(){}var Cn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fi(){V.call(this,"d")}y(Fi,V);function ur(){V.call(this,"c")}y(ur,V);var Et={},Zt=null;function Xi(){return Zt=Zt||new Tt}Et.La="serverreachability";function en(g){V.call(this,Et.La,g)}y(en,V);function Bn(g){const L=Xi();kt(L,new en(L))}Et.STAT_EVENT="statevent";function Di(g,L){V.call(this,Et.STAT_EVENT,g),this.stat=L}y(Di,V);function vt(g){const L=Xi();kt(L,new Di(L,g))}Et.Ma="timingevent";function mi(g,L){V.call(this,Et.Ma,g),this.size=L}y(mi,V);function xn(g,L){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){g()},L)}function tn(){this.g=!0}tn.prototype.xa=function(){this.g=!1};function Kr(g,L,B,Z,Te,Fe){g.info(function(){if(g.g)if(Fe)for(var Ze="",Mt=Fe.split("&"),Xt=0;Xt<Mt.length;Xt++){var Bt=Mt[Xt].split("=");if(1<Bt.length){var dr=Bt[0];Bt=Bt[1];var Pr=dr.split("_");Ze=2<=Pr.length&&Pr[1]=="type"?Ze+(dr+"="+Bt+"&"):Ze+(dr+"=redacted&")}}else Ze=null;else Ze=Fe;return"XMLHTTP REQ ("+Z+") [attempt "+Te+"]: "+L+`
`+B+`
`+Ze})}function qr(g,L,B,Z,Te,Fe,Ze){g.info(function(){return"XMLHTTP RESP ("+Z+") [ attempt "+Te+"]: "+L+`
`+B+`
`+Fe+" "+Ze})}function K(g,L,B,Z){g.info(function(){return"XMLHTTP TEXT ("+L+"): "+se(g,B)+(Z?" "+Z:"")})}function he(g,L){g.info(function(){return"TIMEOUT: "+L})}tn.prototype.info=function(){};function se(g,L){if(!g.g)return L;if(!L)return null;try{var B=JSON.parse(L);if(B){for(g=0;g<B.length;g++)if(Array.isArray(B[g])){var Z=B[g];if(!(2>Z.length)){var Te=Z[1];if(Array.isArray(Te)&&!(1>Te.length)){var Fe=Te[0];if(Fe!="noop"&&Fe!="stop"&&Fe!="close")for(var Ze=1;Ze<Te.length;Ze++)Te[Ze]=""}}}}return tr(B)}catch{return L}}var ae={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ce={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fe;function ke(){}y(ke,Kt),ke.prototype.g=function(){return new XMLHttpRequest},ke.prototype.i=function(){return{}},fe=new ke;function Oe(g,L,B,Z){this.j=g,this.i=L,this.l=B,this.R=Z||1,this.U=new Or(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ce}function Ce(){this.i=null,this.g="",this.h=!1}var Ie={},De={};function Qe(g,L,B){g.L=1,g.v=vo(ji(L)),g.m=B,g.P=!0,it(g,null)}function it(g,L){g.F=Date.now(),ut(g),g.A=ji(g.v);var B=g.A,Z=g.R;Array.isArray(Z)||(Z=[String(Z)]),Ft(B.i,"t",Z),g.C=0,B=g.j.J,g.h=new Ce,g.g=W(g.j,B?L:null,!g.m),0<g.O&&(g.M=new dt(d(g.Y,g,g.g),g.O)),L=g.U,B=g.g,Z=g.ca;var Te="readystatechange";Array.isArray(Te)||(Te&&(Gt[0]=Te.toString()),Te=Gt);for(var Fe=0;Fe<Te.length;Fe++){var Ze=oe(B,Te[Fe],Z||L.handleEvent,!1,L.h||L);if(!Ze)break;L.g[Ze.key]=Ze}L=g.H?_(g.H):{},g.m?(g.u||(g.u="POST"),L["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,L)):(g.u="GET",g.g.ea(g.A,g.u,null,L)),Bn(),Kr(g.i,g.u,g.A,g.l,g.R,g.m)}Oe.prototype.ca=function(g){g=g.target;const L=this.M;L&&Pn(g)==3?L.j():this.Y(g)},Oe.prototype.Y=function(g){try{if(g==this.g)e:{const Pr=Pn(this.g);var L=this.g.Ba();const pa=this.g.Z();if(!(3>Pr)&&(Pr!=3||this.g&&(this.h.h||this.g.oa()||ah(this.g)))){this.J||Pr!=4||L==7||(L==8||0>=pa?Bn(3):Bn(2)),rr(this);var B=this.g.Z();this.X=B;t:if(pt(this)){var Z=ah(this.g);g="";var Te=Z.length,Fe=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Nr(this),nr(this);var Ze="";break t}this.h.i=new o.TextDecoder}for(L=0;L<Te;L++)this.h.h=!0,g+=this.h.i.decode(Z[L],{stream:!(Fe&&L==Te-1)});Z.length=0,this.h.g+=g,this.C=0,Ze=this.h.g}else Ze=this.g.oa();if(this.o=B==200,qr(this.i,this.u,this.A,this.l,this.R,Pr,B),this.o){if(this.T&&!this.K){t:{if(this.g){var Mt,Xt=this.g;if((Mt=Xt.g?Xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(Mt)){var Bt=Mt;break t}}Bt=null}if(B=Bt)K(this.i,this.l,B,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Oi(this,B);else{this.o=!1,this.s=3,vt(12),Nr(this),nr(this);break e}}if(this.P){B=!0;let Jn;for(;!this.J&&this.C<Ze.length;)if(Jn=tt(this,Ze),Jn==De){Pr==4&&(this.s=4,vt(14),B=!1),K(this.i,this.l,null,"[Incomplete Response]");break}else if(Jn==Ie){this.s=4,vt(15),K(this.i,this.l,Ze,"[Invalid Chunk]"),B=!1;break}else K(this.i,this.l,Jn,null),Oi(this,Jn);if(pt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pr!=4||Ze.length!=0||this.h.h||(this.s=1,vt(16),B=!1),this.o=this.o&&B,!B)K(this.i,this.l,Ze,"[Invalid Chunked Response]"),Nr(this),nr(this);else if(0<Ze.length&&!this.W){this.W=!0;var dr=this.j;dr.g==this&&dr.ba&&!dr.M&&(dr.j.info("Great, no buffering proxy detected. Bytes received: "+Ze.length),bl(dr),dr.M=!0,vt(11))}}else K(this.i,this.l,Ze,null),Oi(this,Ze);Pr==4&&Nr(this),this.o&&!this.J&&(Pr==4?Ha(this.j,this):(this.o=!1,ut(this)))}else Ua(this.g),B==400&&0<Ze.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),Nr(this),nr(this)}}}catch{}finally{}};function pt(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function tt(g,L){var B=g.C,Z=L.indexOf(`
`,B);return Z==-1?De:(B=Number(L.substring(B,Z)),isNaN(B)?Ie:(Z+=1,Z+B>L.length?De:(L=L.slice(Z,Z+B),g.C=Z+B,L)))}Oe.prototype.cancel=function(){this.J=!0,Nr(this)};function ut(g){g.S=Date.now()+g.I,It(g,g.I)}function It(g,L){if(g.B!=null)throw Error("WatchDog timer not null");g.B=xn(d(g.ba,g),L)}function rr(g){g.B&&(o.clearTimeout(g.B),g.B=null)}Oe.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(he(this.i,this.A),this.L!=2&&(Bn(),vt(17)),Nr(this),this.s=2,nr(this)):It(this,this.S-g)};function nr(g){g.j.G==0||g.J||Ha(g.j,g)}function Nr(g){rr(g);var L=g.M;L&&typeof L.ma=="function"&&L.ma(),g.M=null,Yn(g.U),g.g&&(L=g.g,g.g=null,L.abort(),L.ma())}function Oi(g,L){try{var B=g.j;if(B.G!=0&&(B.g==g||Xn(B.h,g))){if(!g.K&&Xn(B.h,g)&&B.G==3){try{var Z=B.Da.g.parse(L)}catch{Z=null}if(Array.isArray(Z)&&Z.length==3){var Te=Z;if(Te[0]==0){e:if(!B.u){if(B.g)if(B.g.F+3e3<g.F)da(B),yl(B);else break e;bo(B),vt(18)}}else B.za=Te[1],0<B.za-B.T&&37500>Te[2]&&B.F&&B.v==0&&!B.C&&(B.C=xn(d(B.Za,B),6e3));if(1>=xs(B.h)&&B.ca){try{B.ca()}catch{}B.ca=void 0}}else gi(B,11)}else if((g.K||B.g==g)&&da(B),!S(L))for(Te=B.Da.g.parse(L),L=0;L<Te.length;L++){let Bt=Te[L];if(B.T=Bt[0],Bt=Bt[1],B.G==2)if(Bt[0]=="c"){B.K=Bt[1],B.ia=Bt[2];const dr=Bt[3];dr!=null&&(B.la=dr,B.j.info("VER="+B.la));const Pr=Bt[4];Pr!=null&&(B.Aa=Pr,B.j.info("SVER="+B.Aa));const pa=Bt[5];pa!=null&&typeof pa=="number"&&0<pa&&(Z=1.5*pa,B.L=Z,B.j.info("backChannelRequestTimeoutMs_="+Z)),Z=B;const Jn=g.g;if(Jn){const Wa=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wa){var Fe=Z.h;Fe.g||Wa.indexOf("spdy")==-1&&Wa.indexOf("quic")==-1&&Wa.indexOf("h2")==-1||(Fe.j=Fe.l,Fe.g=new Set,Fe.h&&(jr(Fe,Fe.h),Fe.h=null))}if(Z.D){const qa=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;qa&&(Z.ya=qa,pr(Z.I,Z.D,qa))}}B.G=3,B.l&&B.l.ua(),B.ba&&(B.R=Date.now()-g.F,B.j.info("Handshake RTT: "+B.R+"ms")),Z=B;var Ze=g;if(Z.qa=k(Z,Z.J?Z.ia:null,Z.W),Ze.K){Vu(Z.h,Ze);var Mt=Ze,Xt=Z.L;Xt&&(Mt.I=Xt),Mt.B&&(rr(Mt),ut(Mt)),Z.g=Ze}else _l(Z);0<B.i.length&&xl(B)}else Bt[0]!="stop"&&Bt[0]!="close"||gi(B,7);else B.G==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?gi(B,7):fa(B):Bt[0]!="noop"&&B.l&&B.l.ta(Bt),B.v=0)}}Bn(4)}catch{}}var oa=class{constructor(g,L){this.g=g,this.map=L}};function ys(g){this.l=g||10,o.PerformanceNavigationTiming?(g=o.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qi(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function xs(g){return g.h?1:g.g?g.g.size:0}function Xn(g,L){return g.h?g.h==L:g.g?g.g.has(L):!1}function jr(g,L){g.g?g.g.add(L):g.h=L}function Vu(g,L){g.h&&g.h==L?g.h=null:g.g&&g.g.has(L)&&g.g.delete(L)}ys.prototype.cancel=function(){if(this.i=Uu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Uu(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let L=g.i;for(const B of g.g.values())L=L.concat(B.D);return L}return v(g.i)}function eh(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(l(g)){for(var L=[],B=g.length,Z=0;Z<B;Z++)L.push(g[Z]);return L}L=[],B=0;for(Z in g)L[B++]=g[Z];return L}function zu(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(l(g)||typeof g=="string"){var L=[];g=g.length;for(var B=0;B<g;B++)L.push(B);return L}L=[],B=0;for(const Z in g)L[B++]=Z;return L}}}function th(g,L){if(g.forEach&&typeof g.forEach=="function")g.forEach(L,void 0);else if(l(g)||typeof g=="string")Array.prototype.forEach.call(g,L,void 0);else for(var B=zu(g),Z=eh(g),Te=Z.length,Fe=0;Fe<Te;Fe++)L.call(void 0,Z[Fe],B&&B[Fe],g)}var Ji=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ul(g,L){if(g){g=g.split("&");for(var B=0;B<g.length;B++){var Z=g[B].indexOf("="),Te=null;if(0<=Z){var Fe=g[B].substring(0,Z);Te=g[B].substring(Z+1)}else Fe=g[B];L(Fe,Te?decodeURIComponent(Te.replace(/\+/g," ")):"")}}}function rn(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof rn){this.h=g.h,go(this,g.j),this.o=g.o,this.g=g.g,cl(this,g.s),this.l=g.l;var L=g.i,B=new Ba;B.i=L.i,L.g&&(B.g=new Map(L.g),B.h=L.h),Hu(this,B),this.m=g.m}else g&&(L=String(g).match(Ji))?(this.h=!1,go(this,L[1]||"",!0),this.o=yo(L[2]||""),this.g=yo(L[3]||"",!0),cl(this,L[4]),this.l=yo(L[5]||"",!0),Hu(this,L[6]||"",!0),this.m=yo(L[7]||"")):(this.h=!1,this.i=new Ba(null,this.h))}rn.prototype.toString=function(){var g=[],L=this.j;L&&g.push(la(L,rh,!0),":");var B=this.g;return(B||L=="file")&&(g.push("//"),(L=this.o)&&g.push(la(L,rh,!0),"@"),g.push(encodeURIComponent(String(B)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),B=this.s,B!=null&&g.push(":",String(B))),(B=this.l)&&(this.g&&B.charAt(0)!="/"&&g.push("/"),g.push(la(B,B.charAt(0)=="/"?ua:rd,!0))),(B=this.i.toString())&&g.push("?",B),(B=this.m)&&g.push("#",la(B,fl)),g.join("")};function ji(g){return new rn(g)}function go(g,L,B){g.j=B?yo(L,!0):L,g.j&&(g.j=g.j.replace(/:$/,""))}function cl(g,L){if(L){if(L=Number(L),isNaN(L)||0>L)throw Error("Bad port number "+L);g.s=L}else g.s=null}function Hu(g,L,B){L instanceof Ba?(g.i=L,nd(g.i,g.h)):(B||(L=la(L,hl)),g.i=new Ba(L,g.h))}function pr(g,L,B){g.i.set(L,B)}function vo(g){return pr(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function yo(g,L){return g?L?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function la(g,L,B){return typeof g=="string"?(g=encodeURI(g).replace(L,td),B&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function td(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var rh=/[#\/\?@]/g,rd=/[#\?:]/g,ua=/[#\?]/g,hl=/[#\?@]/g,fl=/#/g;function Ba(g,L){this.h=this.g=null,this.i=g||null,this.j=!!L}function Mr(g){g.g||(g.g=new Map,g.h=0,g.i&&ul(g.i,function(L,B){g.add(decodeURIComponent(L.replace(/\+/g," ")),B)}))}t=Ba.prototype,t.add=function(g,L){Mr(this),this.i=null,g=Va(this,g);var B=this.g.get(g);return B||this.g.set(g,B=[]),B.push(L),this.h+=1,this};function nh(g,L){Mr(g),L=Va(g,L),g.g.has(L)&&(g.i=null,g.h-=g.g.get(L).length,g.g.delete(L))}function Wu(g,L){return Mr(g),L=Va(g,L),g.g.has(L)}t.forEach=function(g,L){Mr(this),this.g.forEach(function(B,Z){B.forEach(function(Te){g.call(L,Te,Z,this)},this)},this)},t.na=function(){Mr(this);const g=Array.from(this.g.values()),L=Array.from(this.g.keys()),B=[];for(let Z=0;Z<L.length;Z++){const Te=g[Z];for(let Fe=0;Fe<Te.length;Fe++)B.push(L[Z])}return B},t.V=function(g){Mr(this);let L=[];if(typeof g=="string")Wu(this,g)&&(L=L.concat(this.g.get(Va(this,g))));else{g=Array.from(this.g.values());for(let B=0;B<g.length;B++)L=L.concat(g[B])}return L},t.set=function(g,L){return Mr(this),this.i=null,g=Va(this,g),Wu(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[L]),this.h+=1,this},t.get=function(g,L){return g?(g=this.V(g),0<g.length?String(g[0]):L):L};function Ft(g,L,B){nh(g,L),0<B.length&&(g.i=null,g.g.set(Va(g,L),v(B)),g.h+=B.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],L=Array.from(this.g.keys());for(var B=0;B<L.length;B++){var Z=L[B];const Fe=encodeURIComponent(String(Z)),Ze=this.V(Z);for(Z=0;Z<Ze.length;Z++){var Te=Fe;Ze[Z]!==""&&(Te+="="+encodeURIComponent(String(Ze[Z]))),g.push(Te)}}return this.i=g.join("&")};function Va(g,L){return L=String(L),g.j&&(L=L.toLowerCase()),L}function nd(g,L){L&&!g.j&&(Mr(g),g.i=null,g.g.forEach(function(B,Z){var Te=Z.toLowerCase();Z!=Te&&(nh(this,Z),Ft(this,Te,B))},g)),g.j=L}function Vs(g,L){const B=new tn;if(o.Image){const Z=new Image;Z.onload=f(ws,B,"TestLoadImage: loaded",!0,L,Z),Z.onerror=f(ws,B,"TestLoadImage: error",!1,L,Z),Z.onabort=f(ws,B,"TestLoadImage: abort",!1,L,Z),Z.ontimeout=f(ws,B,"TestLoadImage: timeout",!1,L,Z),o.setTimeout(function(){Z.ontimeout&&Z.ontimeout()},1e4),Z.src=g}else L(!1)}function ih(g,L){const B=new tn,Z=new AbortController,Te=setTimeout(()=>{Z.abort(),ws(B,"TestPingServer: timeout",!1,L)},1e4);fetch(g,{signal:Z.signal}).then(Fe=>{clearTimeout(Te),Fe.ok?ws(B,"TestPingServer: ok",!0,L):ws(B,"TestPingServer: server error",!1,L)}).catch(()=>{clearTimeout(Te),ws(B,"TestPingServer: error",!1,L)})}function ws(g,L,B,Z,Te){try{Te&&(Te.onload=null,Te.onerror=null,Te.onabort=null,Te.ontimeout=null),Z(B)}catch{}}function dl(){this.g=new Yi}function qu(g,L,B){const Z=B||"";try{th(g,function(Te,Fe){let Ze=Te;u(Te)&&(Ze=tr(Te)),L.push(Z+Fe+"="+encodeURIComponent(Ze))})}catch(Te){throw L.push(Z+"type="+encodeURIComponent("_badmap")),Te}}function pl(g){this.l=g.Ub||null,this.j=g.eb||!1}y(pl,Kt),pl.prototype.g=function(){return new ml(this.l,this.j)},pl.prototype.i=function(g){return function(){return g}}({});function ml(g,L){Tt.call(this),this.D=g,this.o=L,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(ml,Tt),t=ml.prototype,t.open=function(g,L){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=L,this.readyState=1,_s(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const L={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(L.body=g),(this.D||o).fetch(new Request(this.A,L)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ca(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,_s(this)),this.g&&(this.readyState=3,_s(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;sh(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function sh(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var L=g.value?g.value:new Uint8Array(0);(L=this.v.decode(L,{stream:!g.done}))&&(this.response=this.responseText+=L)}g.done?ca(this):_s(this),this.readyState==3&&sh(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,ca(this))},t.Qa=function(g){this.g&&(this.response=g,ca(this))},t.ga=function(){this.g&&ca(this)};function ca(g){g.readyState=4,g.l=null,g.j=null,g.v=null,_s(g)}t.setRequestHeader=function(g,L){this.u.append(g,L)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],L=this.h.entries();for(var B=L.next();!B.done;)B=B.value,g.push(B[0]+": "+B[1]),B=L.next();return g.join(`\r
`)};function _s(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(ml.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function ha(g){let L="";return M(g,function(B,Z){L+=Z,L+=":",L+=B,L+=`\r
`}),L}function $u(g,L,B){e:{for(Z in B){var Z=!1;break e}Z=!0}Z||(B=ha(B),typeof g=="string"?B!=null&&encodeURIComponent(String(B)):pr(g,L,B))}function fr(g){Tt.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(fr,Tt);var Gu=/^https?$/i,gl=["POST","PUT"];t=fr.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,L,B,Z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);L=L?L.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fe.g(),this.v=this.o?vs(this.o):vs(fe),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(L,String(g),!0),this.B=!1}catch(Fe){Ku(this,Fe);return}if(g=B||"",B=new Map(this.headers),Z)if(Object.getPrototypeOf(Z)===Object.prototype)for(var Te in Z)B.set(Te,Z[Te]);else if(typeof Z.keys=="function"&&typeof Z.get=="function")for(const Fe of Z.keys())B.set(Fe,Z.get(Fe));else throw Error("Unknown input type for opt_headers: "+String(Z));Z=Array.from(B.keys()).find(Fe=>Fe.toLowerCase()=="content-type"),Te=o.FormData&&g instanceof o.FormData,!(0<=Array.prototype.indexOf.call(gl,L,void 0))||Z||Te||B.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Fe,Ze]of B)this.g.setRequestHeader(Fe,Ze);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bs(this),this.u=!0,this.g.send(g),this.u=!1}catch(Fe){Ku(this,Fe)}};function Ku(g,L){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=L,g.m=5,Yu(g),xo(g)}function Yu(g){g.A||(g.A=!0,kt(g,"complete"),kt(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,kt(this,"complete"),kt(this,"abort"),xo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xo(this,!0)),fr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Xu(this):this.bb())},t.bb=function(){Xu(this)};function Xu(g){if(g.h&&typeof a<"u"&&(!g.v[1]||Pn(g)!=4||g.Z()!=2)){if(g.u&&Pn(g)==4)Ct(g.Ea,0,g);else if(kt(g,"readystatechange"),Pn(g)==4){g.h=!1;try{const Ze=g.Z();e:switch(Ze){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var L=!0;break e;default:L=!1}var B;if(!(B=L)){var Z;if(Z=Ze===0){var Te=String(g.D).match(Ji)[1]||null;!Te&&o.self&&o.self.location&&(Te=o.self.location.protocol.slice(0,-1)),Z=!Gu.test(Te?Te.toLowerCase():"")}B=Z}if(B)kt(g,"complete"),kt(g,"success");else{g.m=6;try{var Fe=2<Pn(g)?g.g.statusText:""}catch{Fe=""}g.l=Fe+" ["+g.Z()+"]",Yu(g)}}finally{xo(g)}}}}function xo(g,L){if(g.g){bs(g);const B=g.g,Z=g.v[0]?()=>{}:null;g.g=null,g.v=null,L||kt(g,"ready");try{B.onreadystatechange=Z}catch{}}}function bs(g){g.I&&(o.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function Pn(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var L=this.g.responseText;return g&&L.indexOf(g)==0&&(L=L.substring(g.length)),Er(L)}};function ah(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Ua(g){const L={};g=(g.g&&2<=Pn(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let Z=0;Z<g.length;Z++){if(S(g[Z]))continue;var B=N(g[Z]);const Te=B[0];if(B=B[1],typeof B!="string")continue;B=B.trim();const Fe=L[Te]||[];L[Te]=Fe,Fe.push(B)}A(L,function(Z){return Z.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qn(g,L,B){return B&&B.internalChannelParams&&B.internalChannelParams[g]||L}function vl(g){this.Aa=0,this.i=[],this.j=new tn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qn("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qn("baseRetryDelayMs",5e3,g),this.cb=Qn("retryDelaySeedMs",1e4,g),this.Wa=Qn("forwardChannelMaxRetries",2,g),this.wa=Qn("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new ys(g&&g.concurrentRequestLimit),this.Da=new dl,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=vl.prototype,t.la=8,t.G=1,t.connect=function(g,L,B,Z){vt(0),this.W=g,this.H=L||{},B&&Z!==void 0&&(this.H.OSID=B,this.H.OAID=Z),this.F=this.X,this.I=k(this,null,this.W),xl(this)};function fa(g){if(wo(g),g.G==3){var L=g.U++,B=ji(g.I);if(pr(B,"SID",g.K),pr(B,"RID",L),pr(B,"TYPE","terminate"),za(g,B),L=new Oe(g,g.j,L),L.L=2,L.v=vo(ji(B)),B=!1,o.navigator&&o.navigator.sendBeacon)try{B=o.navigator.sendBeacon(L.v.toString(),"")}catch{}!B&&o.Image&&(new Image().src=L.v,B=!0),B||(L.g=W(L.j,null),L.g.ea(L.v)),L.F=Date.now(),ut(L)}Tl(g)}function yl(g){g.g&&(bl(g),g.g.cancel(),g.g=null)}function wo(g){yl(g),g.u&&(o.clearTimeout(g.u),g.u=null),da(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&o.clearTimeout(g.s),g.s=null)}function xl(g){if(!Qi(g.h)&&!g.s){g.s=!0;var L=g.Ga;ee||de(),J||(ee(),J=!0),re.add(L,g),g.B=0}}function Qu(g,L){return xs(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=L.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=xn(d(g.Ga,g,L),Sl(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const Te=new Oe(this,this.j,g);let Fe=this.o;if(this.S&&(Fe?(Fe=_(Fe),D(Fe,this.S)):Fe=this.S),this.m!==null||this.O||(Te.H=Fe,Fe=null),this.P)e:{for(var L=0,B=0;B<this.i.length;B++){t:{var Z=this.i[B];if("__data__"in Z.map&&(Z=Z.map.__data__,typeof Z=="string")){Z=Z.length;break t}Z=void 0}if(Z===void 0)break;if(L+=Z,4096<L){L=B;break e}if(L===4096||B===this.i.length-1){L=B+1;break e}}L=1e3}else L=1e3;L=_o(this,Te,L),B=ji(this.I),pr(B,"RID",g),pr(B,"CVER",22),this.D&&pr(B,"X-HTTP-Session-Id",this.D),za(this,B),Fe&&(this.O?L="headers="+encodeURIComponent(String(ha(Fe)))+"&"+L:this.m&&$u(B,this.m,Fe)),jr(this.h,Te),this.Ua&&pr(B,"TYPE","init"),this.P?(pr(B,"$req",L),pr(B,"SID","null"),Te.T=!0,Qe(Te,B,null)):Qe(Te,B,L),this.G=2}}else this.G==3&&(g?wl(this,g):this.i.length==0||Qi(this.h)||wl(this))};function wl(g,L){var B;L?B=L.l:B=g.U++;const Z=ji(g.I);pr(Z,"SID",g.K),pr(Z,"RID",B),pr(Z,"AID",g.T),za(g,Z),g.m&&g.o&&$u(Z,g.m,g.o),B=new Oe(g,g.j,B,g.B+1),g.m===null&&(B.H=g.o),L&&(g.i=L.D.concat(g.i)),L=_o(g,B,1e3),B.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),jr(g.h,B),Qe(B,Z,L)}function za(g,L){g.H&&M(g.H,function(B,Z){pr(L,Z,B)}),g.l&&th({},function(B,Z){pr(L,Z,B)})}function _o(g,L,B){B=Math.min(g.i.length,B);var Z=g.l?d(g.l.Na,g.l,g):null;e:{var Te=g.i;let Fe=-1;for(;;){const Ze=["count="+B];Fe==-1?0<B?(Fe=Te[0].g,Ze.push("ofs="+Fe)):Fe=0:Ze.push("ofs="+Fe);let Mt=!0;for(let Xt=0;Xt<B;Xt++){let Bt=Te[Xt].g;const dr=Te[Xt].map;if(Bt-=Fe,0>Bt)Fe=Math.max(0,Te[Xt].g-100),Mt=!1;else try{qu(dr,Ze,"req"+Bt+"_")}catch{Z&&Z(dr)}}if(Mt){Z=Ze.join("&");break e}}}return g=g.i.splice(0,B),L.D=g,Z}function _l(g){if(!g.g&&!g.u){g.Y=1;var L=g.Fa;ee||de(),J||(ee(),J=!0),re.add(L,g),g.v=0}}function bo(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=xn(d(g.Fa,g),Sl(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,oh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=xn(d(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),yl(this),oh(this))};function bl(g){g.A!=null&&(o.clearTimeout(g.A),g.A=null)}function oh(g){g.g=new Oe(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var L=ji(g.qa);pr(L,"RID","rpc"),pr(L,"SID",g.K),pr(L,"AID",g.T),pr(L,"CI",g.F?"0":"1"),!g.F&&g.ja&&pr(L,"TO",g.ja),pr(L,"TYPE","xmlhttp"),za(g,L),g.m&&g.o&&$u(L,g.m,g.o),g.L&&(g.g.I=g.L);var B=g.g;g=g.ia,B.L=1,B.v=vo(ji(L)),B.m=null,B.P=!0,it(B,g)}t.Za=function(){this.C!=null&&(this.C=null,yl(this),bo(this),vt(19))};function da(g){g.C!=null&&(o.clearTimeout(g.C),g.C=null)}function Ha(g,L){var B=null;if(g.g==L){da(g),bl(g),g.g=null;var Z=2}else if(Xn(g.h,L))B=L.D,Vu(g.h,L),Z=1;else return;if(g.G!=0){if(L.o)if(Z==1){B=L.m?L.m.length:0,L=Date.now()-L.F;var Te=g.B;Z=Xi(),kt(Z,new mi(Z,B)),xl(g)}else _l(g);else if(Te=L.s,Te==3||Te==0&&0<L.X||!(Z==1&&Qu(g,L)||Z==2&&bo(g)))switch(B&&0<B.length&&(L=g.h,L.i=L.i.concat(B)),Te){case 1:gi(g,5);break;case 4:gi(g,10);break;case 3:gi(g,6);break;default:gi(g,2)}}}function Sl(g,L){let B=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(B*=2),B*L}function gi(g,L){if(g.j.info("Error code "+L),L==2){var B=d(g.fb,g),Z=g.Xa;const Te=!Z;Z=new rn(Z||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||go(Z,"https"),vo(Z),Te?Vs(Z.toString(),B):ih(Z.toString(),B)}else vt(2);g.G=0,g.l&&g.l.sa(L),Tl(g),wo(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Tl(g){if(g.G=0,g.ka=[],g.l){const L=Uu(g.h);(L.length!=0||g.i.length!=0)&&(b(g.ka,L),b(g.ka,g.i),g.h.i.length=0,v(g.i),g.i.length=0),g.l.ra()}}function k(g,L,B){var Z=B instanceof rn?ji(B):new rn(B);if(Z.g!="")L&&(Z.g=L+"."+Z.g),cl(Z,Z.s);else{var Te=o.location;Z=Te.protocol,L=L?L+"."+Te.hostname:Te.hostname,Te=+Te.port;var Fe=new rn(null);Z&&go(Fe,Z),L&&(Fe.g=L),Te&&cl(Fe,Te),B&&(Fe.l=B),Z=Fe}return B=g.D,L=g.ya,B&&L&&pr(Z,B,L),pr(Z,"VER",g.la),za(g,Z),Z}function W(g,L,B){if(L&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return L=g.Ca&&!g.pa?new fr(new pl({eb:B})):new fr(g.pa),L.Ha(g.J),L}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function pe(){}t=pe.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function xe(){}xe.prototype.g=function(g,L){return new Ee(g,L)};function Ee(g,L){Tt.call(this),this.g=new vl(L),this.l=g,this.h=L&&L.messageUrlParams||null,g=L&&L.messageHeaders||null,L&&L.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=L&&L.initMessageHeaders||null,L&&L.messageContentType&&(g?g["X-WebChannel-Content-Type"]=L.messageContentType:g={"X-WebChannel-Content-Type":L.messageContentType}),L&&L.va&&(g?g["X-WebChannel-Client-Profile"]=L.va:g={"X-WebChannel-Client-Profile":L.va}),this.g.S=g,(g=L&&L.Sb)&&!S(g)&&(this.g.m=g),this.v=L&&L.supportsCrossDomainXhr||!1,this.u=L&&L.sendRawJson||!1,(L=L&&L.httpSessionIdParam)&&!S(L)&&(this.g.D=L,g=this.h,g!==null&&L in g&&(g=this.h,L in g&&delete g[L])),this.j=new ft(this)}y(Ee,Tt),Ee.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ee.prototype.close=function(){fa(this.g)},Ee.prototype.o=function(g){var L=this.g;if(typeof g=="string"){var B={};B.__data__=g,g=B}else this.u&&(B={},B.__data__=tr(g),g=B);L.i.push(new oa(L.Ya++,g)),L.G==3&&xl(L)},Ee.prototype.N=function(){this.g.l=null,delete this.j,fa(this.g),delete this.g,Ee.aa.N.call(this)};function Be(g){Fi.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var L=g.__sm__;if(L){e:{for(const B in L){g=B;break e}g=void 0}(this.i=g)&&(g=this.i,L=L!==null&&g in L?L[g]:void 0),this.data=L}else this.data=g}y(Be,Fi);function Je(){ur.call(this),this.status=1}y(Je,ur);function ft(g){this.g=g}y(ft,pe),ft.prototype.ua=function(){kt(this.g,"a")},ft.prototype.ta=function(g){kt(this.g,new Be(g))},ft.prototype.sa=function(g){kt(this.g,new Je)},ft.prototype.ra=function(){kt(this.g,"b")},xe.prototype.createWebChannel=xe.prototype.g,Ee.prototype.send=Ee.prototype.o,Ee.prototype.open=Ee.prototype.m,Ee.prototype.close=Ee.prototype.close,U6=function(){return new xe},V6=function(){return Xi()},B6=Et,Px={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ae.NO_ERROR=0,ae.TIMEOUT=8,ae.HTTP_ERROR=6,vg=ae,ce.COMPLETE="complete",M6=ce,Ar.EventType=Cn,Cn.OPEN="a",Cn.CLOSE="b",Cn.ERROR="c",Cn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,jd=Ar,fr.prototype.listenOnce=fr.prototype.L,fr.prototype.getLastError=fr.prototype.Ka,fr.prototype.getLastErrorCode=fr.prototype.Ba,fr.prototype.getStatus=fr.prototype.Z,fr.prototype.getResponseJson=fr.prototype.Oa,fr.prototype.getResponseText=fr.prototype.oa,fr.prototype.send=fr.prototype.ea,fr.prototype.setWithCredentials=fr.prototype.Ha,j6=fr}).apply(typeof Rm<"u"?Rm:typeof self<"u"?self:typeof window<"u"?window:{});const nT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ti.UNAUTHENTICATED=new Ti(null),Ti.GOOGLE_CREDENTIALS=new Ti("google-credentials-uid"),Ti.FIRST_PARTY=new Ti("first-party-uid"),Ti.MOCK_USER=new Ti("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wf="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc=new R5("@firebase/firestore");function Ad(){return Oc.logLevel}function bt(t,...e){if(Oc.logLevel<=er.DEBUG){const r=e.map(W5);Oc.debug(`Firestore (${Wf}): ${t}`,...r)}}function Xo(t,...e){if(Oc.logLevel<=er.ERROR){const r=e.map(W5);Oc.error(`Firestore (${Wf}): ${t}`,...r)}}function Af(t,...e){if(Oc.logLevel<=er.WARN){const r=e.map(W5);Oc.warn(`Firestore (${Wf}): ${t}`,...r)}}function W5(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t="Unexpected state"){const e=`FIRESTORE (${Wf}) INTERNAL ASSERTION FAILED: `+t;throw Xo(e),new Error(e)}function Sr(t,e){t||jt()}function zt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends sl{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Ti.UNAUTHENTICATED))}shutdown(){}}class sB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class aB{constructor(e){this.t=e,this.currentUser=Ti.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Sr(this.o===void 0);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let s=new Vo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Vo,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{bt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(bt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Vo)}},0),a()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(bt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Sr(typeof n.accessToken=="string"),new z6(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Sr(e===null||typeof e=="string"),new Ti(e)}}class oB{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=Ti.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class lB{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new oB(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Ti.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cB{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){Sr(this.o===void 0);const n=s=>{s.error!=null&&bt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,bt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const i=s=>{bt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):bt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Sr(typeof r.token=="string"),this.R=r.token,new uB(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=hB(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%e.length))}return n}}function lr(t,e){return t<e?-1:t>e?1:0}function Nf(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new yt(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new yt(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new yt(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new yt(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return On.fromMillis(Date.now())}static fromDate(e){return On.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new On(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?lr(this.nanoseconds,e.nanoseconds):lr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ut(e)}static min(){return new Ut(new On(0,0))}static max(){return new Ut(new On(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,r,n){r===void 0?r=0:r>e.length&&jt(),n===void 0?n=e.length-r:n>e.length-r&&jt(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return q0.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof q0?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=e.get(i),a=r.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Vr extends q0{construct(e,r,n){return new Vr(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new yt(Ge.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Vr(r)}static emptyPath(){return new Vr([])}}const fB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ai extends q0{construct(e,r,n){return new ai(e,r,n)}static isValidIdentifier(e){return fB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ai.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ai(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new yt(Ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new yt(Ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new yt(Ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(n+=o,i++):(s(),i++)}if(s(),a)throw new yt(Ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ai(r)}static emptyPath(){return new ai([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.path=e}static fromPath(e){return new Nt(Vr.fromString(e))}static fromName(e){return new Nt(Vr.fromString(e).popFirst(5))}static empty(){return new Nt(Vr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Vr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Nt(new Vr(e.slice()))}}function dB(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Ut.fromTimestamp(n===1e9?new On(r+1,0):new On(r,n));return new wu(i,Nt.empty(),e)}function pB(t){return new wu(t.readTime,t.key,-1)}class wu{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new wu(Ut.min(),Nt.empty(),-1)}static max(){return new wu(Ut.max(),Nt.empty(),-1)}}function mB(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Nt.comparator(t.documentKey,e.documentKey),r!==0?r:lr(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ap(t){if(t.code!==Ge.FAILED_PRECONDITION||t.message!==gB)throw t;bt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&jt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new et((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof et?r:et.resolve(r)}catch(r){return et.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):et.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):et.reject(r)}static resolve(e){return new et((r,n)=>{r(e)})}static reject(e){return new et((r,n)=>{n(e)})}static waitFor(e){return new et((r,n)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&r()},l=>n(l))}),a=!0,s===i&&r()})}static or(e){let r=et.resolve(!1);for(const n of e)r=r.next(i=>i?et.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,s)=>{n.push(r.call(this,i,s))}),this.waitFor(n)}static mapArray(e,r){return new et((n,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const u=l;r(e[u]).next(c=>{a[u]=c,++o,o===s&&n(a)},c=>i(c))}})}static doWhile(e,r){return new et((n,i)=>{const s=()=>{e()===!0?r().next(()=>{s()},i):n()};s()})}}function yB(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Np(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}q5.oe=-1;function ov(t){return t==null}function o1(t){return t===0&&1/t==-1/0}function xB(t){return typeof t=="number"&&Number.isInteger(t)&&!o1(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function $c(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function W6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,r){this.comparator=e,this.root=r||si.EMPTY}insert(e,r){return new Zr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,si.BLACK,null,null))}remove(e){return new Zr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,si.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lm(this.root,e,this.comparator,!0)}}class Lm{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class si{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??si.RED,this.left=i??si.EMPTY,this.right=s??si.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new si(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return si.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return si.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,si.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,si.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw jt();const e=this.left.check();if(e!==this.right.check())throw jt();return e+(this.isRed()?0:1)}}si.EMPTY=null,si.RED=!0,si.BLACK=!1;si.EMPTY=new class{constructor(){this.size=0}get key(){throw jt()}get value(){throw jt()}get color(){throw jt()}get left(){throw jt()}get right(){throw jt()}copy(e,r,n,i,s){return this}insert(e,r,n){return new si(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this.comparator=e,this.data=new Zr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new sT(this.data.getIterator())}getIteratorFrom(e){return new sT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof ci)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new ci(this.comparator);return r.data=e,r}}class sT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this.fields=e,e.sort(ai.comparator)}static empty(){return new Ls([])}unionWith(e){let r=new ci(ai.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Ls(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Nf(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new q6("Invalid base64 string: "+s):s}}(e);return new di(r)}static fromUint8Array(e){const r=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new di(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return lr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}di.EMPTY_BYTE_STRING=new di("");const wB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _u(t){if(Sr(!!t),typeof t=="string"){let e=0;const r=wB.exec(t);if(Sr(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:dn(t.seconds),nanos:dn(t.nanos)}}function dn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function jc(t){return typeof t=="string"?di.fromBase64String(t):di.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $5(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function G5(t){const e=t.mapValue.fields.__previous_value__;return $5(e)?G5(e):e}function $0(t){const e=_u(t.mapValue.fields.__local_write_time__.timestampValue);return new On(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(e,r,n,i,s,a,o,l,u){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u}}class G0{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new G0("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof G0&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm={mapValue:{}};function Mc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$5(t)?4:SB(t)?9007199254740991:bB(t)?10:11:jt()}function ho(t,e){if(t===e)return!0;const r=Mc(t);if(r!==Mc(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $0(t).isEqual($0(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=_u(i.timestampValue),o=_u(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return jc(i.bytesValue).isEqual(jc(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return dn(i.geoPointValue.latitude)===dn(s.geoPointValue.latitude)&&dn(i.geoPointValue.longitude)===dn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return dn(i.integerValue)===dn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=dn(i.doubleValue),o=dn(s.doubleValue);return a===o?o1(a)===o1(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return Nf(t.arrayValue.values||[],e.arrayValue.values||[],ho);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(iT(a)!==iT(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!ho(a[l],o[l])))return!1;return!0}(t,e);default:return jt()}}function K0(t,e){return(t.values||[]).find(r=>ho(r,e))!==void 0}function kf(t,e){if(t===e)return 0;const r=Mc(t),n=Mc(e);if(r!==n)return lr(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return lr(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=dn(s.integerValue||s.doubleValue),l=dn(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return aT(t.timestampValue,e.timestampValue);case 4:return aT($0(t),$0(e));case 5:return lr(t.stringValue,e.stringValue);case 6:return function(s,a){const o=jc(s),l=jc(a);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),l=a.split("/");for(let u=0;u<o.length&&u<l.length;u++){const c=lr(o[u],l[u]);if(c!==0)return c}return lr(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=lr(dn(s.latitude),dn(a.latitude));return o!==0?o:lr(dn(s.longitude),dn(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return oT(t.arrayValue,e.arrayValue);case 10:return function(s,a){var o,l,u,c;const h=s.fields||{},d=a.fields||{},f=(o=h.value)===null||o===void 0?void 0:o.arrayValue,y=(l=d.value)===null||l===void 0?void 0:l.arrayValue,v=lr(((u=f==null?void 0:f.values)===null||u===void 0?void 0:u.length)||0,((c=y==null?void 0:y.values)===null||c===void 0?void 0:c.length)||0);return v!==0?v:oT(f,y)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===Fm.mapValue&&a===Fm.mapValue)return 0;if(s===Fm.mapValue)return 1;if(a===Fm.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),u=a.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const d=lr(l[h],c[h]);if(d!==0)return d;const f=kf(o[l[h]],u[c[h]]);if(f!==0)return f}return lr(l.length,c.length)}(t.mapValue,e.mapValue);default:throw jt()}}function aT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return lr(t,e);const r=_u(t),n=_u(e),i=lr(r.seconds,n.seconds);return i!==0?i:lr(r.nanos,n.nanos)}function oT(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=kf(r[i],n[i]);if(s)return s}return lr(r.length,n.length)}function Cf(t){return Ix(t)}function Ix(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=_u(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return jc(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Nt.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=Ix(s);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const a of n)s?s=!1:i+=",",i+=`${a}:${Ix(r.fields[a])}`;return i+"}"}(t.mapValue):jt()}function lT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Rx(t){return!!t&&"integerValue"in t}function K5(t){return!!t&&"arrayValue"in t}function uT(t){return!!t&&"nullValue"in t}function cT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function yg(t){return!!t&&"mapValue"in t}function bB(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function e0(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return $c(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=e0(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=e0(t.arrayValue.values[r]);return e}return Object.assign({},t)}function SB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e){this.value=e}static empty(){return new is({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!yg(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=e0(r)}setAll(e){let r=ai.emptyPath(),n={},i=[];e.forEach((a,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=o.popLast()}a?n[o.lastSegment()]=e0(a):i.push(o.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());yg(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return ho(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];yg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){$c(r,(i,s)=>e[i]=s);for(const i of n)delete e[i]}clone(){return new is(e0(this.value))}}function $6(t){const e=[];return $c(t.fields,(r,n)=>{const i=new ai([r]);if(yg(n)){const s=$6(n.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Ls(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e,r,n,i,s,a,o){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Ai(e,0,Ut.min(),Ut.min(),Ut.min(),is.empty(),0)}static newFoundDocument(e,r,n,i){return new Ai(e,1,r,Ut.min(),n,i,0)}static newNoDocument(e,r){return new Ai(e,2,r,Ut.min(),Ut.min(),is.empty(),0)}static newUnknownDocument(e,r){return new Ai(e,3,r,Ut.min(),Ut.min(),is.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Ut.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=is.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=is.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ut.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ai&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ai(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,r){this.position=e,this.inclusive=r}}function hT(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?n=Nt.comparator(Nt.fromName(a.referenceValue),r.key):n=kf(a,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function fT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!ho(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,r="asc"){this.field=e,this.dir=r}}function TB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{}class An extends G6{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new AB(e,r,n):r==="array-contains"?new CB(e,n):r==="in"?new PB(e,n):r==="not-in"?new IB(e,n):r==="array-contains-any"?new RB(e,n):new An(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new NB(e,n):new kB(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(kf(r,this.value)):r!==null&&Mc(this.value)===Mc(r)&&this.matchesComparison(kf(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return jt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oa extends G6{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Oa(e,r)}matches(e){return K6(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function K6(t){return t.op==="and"}function Y6(t){return EB(t)&&K6(t)}function EB(t){for(const e of t.filters)if(e instanceof Oa)return!1;return!0}function Lx(t){if(t instanceof An)return t.field.canonicalString()+t.op.toString()+Cf(t.value);if(Y6(t))return t.filters.map(e=>Lx(e)).join(",");{const e=t.filters.map(r=>Lx(r)).join(",");return`${t.op}(${e})`}}function X6(t,e){return t instanceof An?function(n,i){return i instanceof An&&n.op===i.op&&n.field.isEqual(i.field)&&ho(n.value,i.value)}(t,e):t instanceof Oa?function(n,i){return i instanceof Oa&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,a,o)=>s&&X6(a,i.filters[o]),!0):!1}(t,e):void jt()}function Q6(t){return t instanceof An?function(r){return`${r.field.canonicalString()} ${r.op} ${Cf(r.value)}`}(t):t instanceof Oa?function(r){return r.op.toString()+" {"+r.getFilters().map(Q6).join(" ,")+"}"}(t):"Filter"}class AB extends An{constructor(e,r,n){super(e,r,n),this.key=Nt.fromName(n.referenceValue)}matches(e){const r=Nt.comparator(e.key,this.key);return this.matchesComparison(r)}}class NB extends An{constructor(e,r){super(e,"in",r),this.keys=J6("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class kB extends An{constructor(e,r){super(e,"not-in",r),this.keys=J6("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function J6(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Nt.fromName(n.referenceValue))}class CB extends An{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return K5(r)&&K0(r.arrayValue,this.value)}}class PB extends An{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&K0(this.value.arrayValue,r)}}class IB extends An{constructor(e,r){super(e,"not-in",r)}matches(e){if(K0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!K0(this.value.arrayValue,r)}}class RB extends An{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!K5(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>K0(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{constructor(e,r=null,n=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.ue=null}}function dT(t,e=null,r=[],n=[],i=null,s=null,a=null){return new LB(t,e,r,n,i,s,a)}function Y5(t){const e=zt(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>Lx(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),ov(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Cf(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Cf(n)).join(",")),e.ue=r}return e.ue}function X5(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!TB(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!X6(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fT(t.startAt,e.startAt)&&fT(t.endAt,e.endAt)}function Fx(t){return Nt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,r=null,n=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function FB(t,e,r,n,i,s,a,o){return new qf(t,e,r,n,i,s,a,o)}function lv(t){return new qf(t)}function pT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Z6(t){return t.collectionGroup!==null}function t0(t){const e=zt(t);if(e.ce===null){e.ce=[];const r=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new ci(ai.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(s=>{r.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Y0(s,n))}),r.has(ai.keyField().canonicalString())||e.ce.push(new Y0(ai.keyField(),n))}return e.ce}function so(t){const e=zt(t);return e.le||(e.le=DB(e,t0(t))),e.le}function DB(t,e){if(t.limitType==="F")return dT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Y0(i.field,s)});const r=t.endAt?new l1(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new l1(t.startAt.position,t.startAt.inclusive):null;return dT(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function Dx(t,e){const r=t.filters.concat([e]);return new qf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function Ox(t,e,r){return new qf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function uv(t,e){return X5(so(t),so(e))&&t.limitType===e.limitType}function eC(t){return`${Y5(so(t))}|lt:${t.limitType}`}function Ch(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>Q6(i)).join(", ")}]`),ov(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>Cf(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>Cf(i)).join(",")),`Target(${n})`}(so(t))}; limitType=${t.limitType})`}function cv(t,e){return e.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):Nt.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,i){for(const s of t0(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(a,o,l){const u=hT(a,o,l);return a.inclusive?u<=0:u<0}(n.startAt,t0(n),i)||n.endAt&&!function(a,o,l){const u=hT(a,o,l);return a.inclusive?u>=0:u>0}(n.endAt,t0(n),i))}(t,e)}function OB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function tC(t){return(e,r)=>{let n=!1;for(const i of t0(t)){const s=jB(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function jB(t,e,r){const n=t.field.isKeyField()?Nt.comparator(e.key,r.key):function(s,a,o){const l=a.data.field(s),u=o.data.field(s);return l!==null&&u!==null?kf(l,u):jt()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return jt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){$c(this.inner,(r,n)=>{for(const[i,s]of n)e(i,s)})}isEmpty(){return W6(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MB=new Zr(Nt.comparator);function Qo(){return MB}const rC=new Zr(Nt.comparator);function Md(...t){let e=rC;for(const r of t)e=e.insert(r.key,r);return e}function nC(t){let e=rC;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function pc(){return r0()}function iC(){return r0()}function r0(){return new $f(t=>t.toString(),(t,e)=>t.isEqual(e))}const BB=new Zr(Nt.comparator),VB=new ci(Nt.comparator);function Jt(...t){let e=VB;for(const r of t)e=e.add(r);return e}const UB=new ci(lr);function zB(){return UB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q5(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:o1(e)?"-0":e}}function sC(t){return{integerValue:""+t}}function HB(t,e){return xB(e)?sC(e):Q5(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(){this._=void 0}}function WB(t,e,r){return t instanceof X0?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&$5(s)&&(s=G5(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(r,e):t instanceof Q0?oC(t,e):t instanceof J0?lC(t,e):function(i,s){const a=aC(i,s),o=mT(a)+mT(i.Pe);return Rx(a)&&Rx(i.Pe)?sC(o):Q5(i.serializer,o)}(t,e)}function qB(t,e,r){return t instanceof Q0?oC(t,e):t instanceof J0?lC(t,e):r}function aC(t,e){return t instanceof u1?function(n){return Rx(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class X0 extends hv{}class Q0 extends hv{constructor(e){super(),this.elements=e}}function oC(t,e){const r=uC(e);for(const n of t.elements)r.some(i=>ho(i,n))||r.push(n);return{arrayValue:{values:r}}}class J0 extends hv{constructor(e){super(),this.elements=e}}function lC(t,e){let r=uC(e);for(const n of t.elements)r=r.filter(i=>!ho(i,n));return{arrayValue:{values:r}}}class u1 extends hv{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function mT(t){return dn(t.integerValue||t.doubleValue)}function uC(t){return K5(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(e,r){this.field=e,this.transform=r}}function GB(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof Q0&&i instanceof Q0||n instanceof J0&&i instanceof J0?Nf(n.elements,i.elements,ho):n instanceof u1&&i instanceof u1?ho(n.Pe,i.Pe):n instanceof X0&&i instanceof X0}(t.transform,e.transform)}class KB{constructor(e,r){this.version=e,this.transformResults=r}}class ra{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new ra}static exists(e){return new ra(void 0,e)}static updateTime(e){return new ra(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class fv{}function cC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new J5(t.key,ra.none()):new kp(t.key,t.data,ra.none());{const r=t.data,n=is.empty();let i=new ci(ai.comparator);for(let s of e.fields)if(!i.has(s)){let a=r.field(s);a===null&&s.length>1&&(s=s.popLast(),a=r.field(s)),a===null?n.delete(s):n.set(s,a),i=i.add(s)}return new Ou(t.key,n,new Ls(i.toArray()),ra.none())}}function YB(t,e,r){t instanceof kp?function(i,s,a){const o=i.value.clone(),l=vT(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,r):t instanceof Ou?function(i,s,a){if(!xg(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=vT(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(hC(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,r):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,r)}function n0(t,e,r,n){return t instanceof kp?function(s,a,o,l){if(!xg(s.precondition,a))return o;const u=s.value.clone(),c=yT(s.fieldTransforms,l,a);return u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof Ou?function(s,a,o,l){if(!xg(s.precondition,a))return o;const u=yT(s.fieldTransforms,l,a),c=a.data;return c.setAll(hC(s)),c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,r,n):function(s,a,o){return xg(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,r)}function XB(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=aC(n.transform,i||null);s!=null&&(r===null&&(r=is.empty()),r.set(n.field,s))}return r||null}function gT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Nf(n,i,(s,a)=>GB(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class kp extends fv{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ou extends fv{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function hC(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function vT(t,e,r){const n=new Map;Sr(t.length===r.length);for(let i=0;i<r.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);n.set(s.field,qB(a,o,r[i]))}return n}function yT(t,e,r){const n=new Map;for(const i of t){const s=i.transform,a=r.data.field(i.field);n.set(i.field,WB(s,a,e))}return n}class J5 extends fv{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QB extends fv{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&YB(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=n0(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=n0(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=iC();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=r.has(i.key)?null:o;const l=cC(a,o);l!==null&&n.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(Ut.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Jt())}isEqual(e){return this.batchId===e.batchId&&Nf(this.mutations,e.mutations,(r,n)=>gT(r,n))&&Nf(this.baseMutations,e.baseMutations,(r,n)=>gT(r,n))}}class Z5{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){Sr(e.mutations.length===n.length);let i=function(){return BB}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,n[a].version);return new Z5(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sn,ir;function tV(t){switch(t){default:return jt();case Ge.CANCELLED:case Ge.UNKNOWN:case Ge.DEADLINE_EXCEEDED:case Ge.RESOURCE_EXHAUSTED:case Ge.INTERNAL:case Ge.UNAVAILABLE:case Ge.UNAUTHENTICATED:return!1;case Ge.INVALID_ARGUMENT:case Ge.NOT_FOUND:case Ge.ALREADY_EXISTS:case Ge.PERMISSION_DENIED:case Ge.FAILED_PRECONDITION:case Ge.ABORTED:case Ge.OUT_OF_RANGE:case Ge.UNIMPLEMENTED:case Ge.DATA_LOSS:return!0}}function fC(t){if(t===void 0)return Xo("GRPC error has no .code"),Ge.UNKNOWN;switch(t){case Sn.OK:return Ge.OK;case Sn.CANCELLED:return Ge.CANCELLED;case Sn.UNKNOWN:return Ge.UNKNOWN;case Sn.DEADLINE_EXCEEDED:return Ge.DEADLINE_EXCEEDED;case Sn.RESOURCE_EXHAUSTED:return Ge.RESOURCE_EXHAUSTED;case Sn.INTERNAL:return Ge.INTERNAL;case Sn.UNAVAILABLE:return Ge.UNAVAILABLE;case Sn.UNAUTHENTICATED:return Ge.UNAUTHENTICATED;case Sn.INVALID_ARGUMENT:return Ge.INVALID_ARGUMENT;case Sn.NOT_FOUND:return Ge.NOT_FOUND;case Sn.ALREADY_EXISTS:return Ge.ALREADY_EXISTS;case Sn.PERMISSION_DENIED:return Ge.PERMISSION_DENIED;case Sn.FAILED_PRECONDITION:return Ge.FAILED_PRECONDITION;case Sn.ABORTED:return Ge.ABORTED;case Sn.OUT_OF_RANGE:return Ge.OUT_OF_RANGE;case Sn.UNIMPLEMENTED:return Ge.UNIMPLEMENTED;case Sn.DATA_LOSS:return Ge.DATA_LOSS;default:return jt()}}(ir=Sn||(Sn={}))[ir.OK=0]="OK",ir[ir.CANCELLED=1]="CANCELLED",ir[ir.UNKNOWN=2]="UNKNOWN",ir[ir.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ir[ir.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ir[ir.NOT_FOUND=5]="NOT_FOUND",ir[ir.ALREADY_EXISTS=6]="ALREADY_EXISTS",ir[ir.PERMISSION_DENIED=7]="PERMISSION_DENIED",ir[ir.UNAUTHENTICATED=16]="UNAUTHENTICATED",ir[ir.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ir[ir.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ir[ir.ABORTED=10]="ABORTED",ir[ir.OUT_OF_RANGE=11]="OUT_OF_RANGE",ir[ir.UNIMPLEMENTED=12]="UNIMPLEMENTED",ir[ir.INTERNAL=13]="INTERNAL",ir[ir.UNAVAILABLE=14]="UNAVAILABLE",ir[ir.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV=new wc([4294967295,4294967295],0);function xT(t){const e=rV().encode(t),r=new O6;return r.update(e),new Uint8Array(r.digest())}function wT(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new wc([r,n],0),new wc([i,s],0)]}class e_{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Bd(`Invalid padding: ${r}`);if(n<0)throw new Bd(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Bd(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Bd(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=wc.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(wc.fromNumber(n)));return i.compare(nV)===1&&(i=new wc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=xT(e),[n,i]=wT(r);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);if(!this.de(a))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new e_(s,i,r);return n.forEach(o=>a.insert(o)),a}insert(e){if(this.Ie===0)return;const r=xT(e),[n,i]=wT(r);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);this.Ae(a)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Bd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Cp.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new dv(Ut.min(),i,new Zr(lr),Qo(),Jt())}}class Cp{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Cp(n,r,Jt(),Jt(),Jt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class dC{constructor(e,r){this.targetId=e,this.me=r}}class pC{constructor(e,r,n=di.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class _T{constructor(){this.fe=0,this.ge=ST(),this.pe=di.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Jt(),r=Jt(),n=Jt();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:jt()}}),new Cp(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=ST()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Sr(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class iV{constructor(e){this.Le=e,this.Be=new Map,this.ke=Qo(),this.qe=bT(),this.Qe=new Zr(lr)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:jt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const s=i.target;if(Fx(s))if(n===0){const a=new Nt(s.path);this.Ue(r,a,Ai.newNoDocument(a,Ut.min()))}else Sr(n===1);else{const a=this.Ye(r);if(a!==n){const o=this.Ze(e),l=o?this.Xe(o,e,a):1;if(l!==0){this.je(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,u)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let a,o;try{a=jc(n).toUint8Array()}catch(l){if(l instanceof q6)return Af("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new e_(a,i,s)}catch(l){return Af(l instanceof Bd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Ie===0?null:o}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(s=>{const a=this.Le.tt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.Ue(r,s,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((s,a)=>{const o=this.Je(a);if(o){if(s.current&&Fx(o.target)){const l=new Nt(o.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,Ai.newNoDocument(l,e))}s.be&&(r.set(a,s.ve()),s.Ce())}});let n=Jt();this.qe.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));const i=new dv(e,r,this.Qe,this.ke,n);return this.ke=Qo(),this.qe=bT(),this.Qe=new Zr(lr),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new _T,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new ci(lr),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||bt("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new _T),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function bT(){return new Zr(Nt.comparator)}function ST(){return new Zr(Nt.comparator)}const sV={asc:"ASCENDING",desc:"DESCENDING"},aV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oV={and:"AND",or:"OR"};class lV{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function jx(t,e){return t.useProto3Json||ov(e)?e:{value:e}}function c1(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function uV(t,e){return c1(t,e.toTimestamp())}function ao(t){return Sr(!!t),Ut.fromTimestamp(function(r){const n=_u(r);return new On(n.seconds,n.nanos)}(t))}function t_(t,e){return Mx(t,e).canonicalString()}function Mx(t,e){const r=function(i){return new Vr(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function gC(t){const e=Vr.fromString(t);return Sr(_C(e)),e}function Bx(t,e){return t_(t.databaseId,e.path)}function U2(t,e){const r=gC(e);if(r.get(1)!==t.databaseId.projectId)throw new yt(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new yt(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Nt(yC(r))}function vC(t,e){return t_(t.databaseId,e)}function cV(t){const e=gC(t);return e.length===4?Vr.emptyPath():yC(e)}function Vx(t){return new Vr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yC(t){return Sr(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function TT(t,e,r){return{name:Bx(t,e),fields:r.value.mapValue.fields}}function hV(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:jt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(Sr(c===void 0||typeof c=="string"),di.fromBase64String(c||"")):(Sr(c===void 0||c instanceof Buffer||c instanceof Uint8Array),di.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(u){const c=u.code===void 0?Ge.UNKNOWN:fC(u.code);return new yt(c,u.message||"")}(a);r=new pC(n,i,s,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=U2(t,n.document.name),s=ao(n.document.updateTime),a=n.document.createTime?ao(n.document.createTime):Ut.min(),o=new is({mapValue:{fields:n.document.fields}}),l=Ai.newFoundDocument(i,s,a,o),u=n.targetIds||[],c=n.removedTargetIds||[];r=new wg(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=U2(t,n.document),s=n.readTime?ao(n.readTime):Ut.min(),a=Ai.newNoDocument(i,s),o=n.removedTargetIds||[];r=new wg([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=U2(t,n.document),s=n.removedTargetIds||[];r=new wg([],s,i,null)}else{if(!("filter"in e))return jt();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,a=new eV(i,s),o=n.targetId;r=new dC(o,a)}}return r}function fV(t,e){let r;if(e instanceof kp)r={update:TT(t,e.key,e.value)};else if(e instanceof J5)r={delete:Bx(t,e.key)};else if(e instanceof Ou)r={update:TT(t,e.key,e.data),updateMask:_V(e.fieldMask)};else{if(!(e instanceof QB))return jt();r={verify:Bx(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(s,a){const o=a.transform;if(o instanceof X0)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Q0)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof J0)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof u1)return{fieldPath:a.field.canonicalString(),increment:o.Pe};throw jt()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:uV(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:jt()}(t,e.precondition)),r}function dV(t,e){return t&&t.length>0?(Sr(e!==void 0),t.map(r=>function(i,s){let a=i.updateTime?ao(i.updateTime):ao(s);return a.isEqual(Ut.min())&&(a=ao(s)),new KB(a,i.transformResults||[])}(r,e))):[]}function pV(t,e){return{documents:[vC(t,e.path)]}}function mV(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=vC(t,i);const s=function(u){if(u.length!==0)return wC(Oa.create(u,"and"))}(e.filters);s&&(r.structuredQuery.where=s);const a=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:Ph(d.field),direction:yV(d.dir)}}(c))}(e.orderBy);a&&(r.structuredQuery.orderBy=a);const o=jx(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:r,parent:i}}function gV(t){let e=cV(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Sr(n===1);const c=r.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];r.where&&(s=function(h){const d=xC(h);return d instanceof Oa&&Y6(d)?d.getFilters():[d]}(r.where));let a=[];r.orderBy&&(a=function(h){return h.map(d=>function(y){return new Y0(Ih(y.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(d))}(r.orderBy));let o=null;r.limit&&(o=function(h){let d;return d=typeof h=="object"?h.value:h,ov(d)?null:d}(r.limit));let l=null;r.startAt&&(l=function(h){const d=!!h.before,f=h.values||[];return new l1(f,d)}(r.startAt));let u=null;return r.endAt&&(u=function(h){const d=!h.before,f=h.values||[];return new l1(f,d)}(r.endAt)),FB(e,i,a,s,o,"F",l,u)}function vV(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return jt()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function xC(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Ih(r.unaryFilter.field);return An.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Ih(r.unaryFilter.field);return An.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ih(r.unaryFilter.field);return An.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Ih(r.unaryFilter.field);return An.create(a,"!=",{nullValue:"NULL_VALUE"});default:return jt()}}(t):t.fieldFilter!==void 0?function(r){return An.create(Ih(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return jt()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Oa.create(r.compositeFilter.filters.map(n=>xC(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return jt()}}(r.compositeFilter.op))}(t):jt()}function yV(t){return sV[t]}function xV(t){return aV[t]}function wV(t){return oV[t]}function Ph(t){return{fieldPath:t.canonicalString()}}function Ih(t){return ai.fromServerFormat(t.fieldPath)}function wC(t){return t instanceof An?function(r){if(r.op==="=="){if(cT(r.value))return{unaryFilter:{field:Ph(r.field),op:"IS_NAN"}};if(uT(r.value))return{unaryFilter:{field:Ph(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(cT(r.value))return{unaryFilter:{field:Ph(r.field),op:"IS_NOT_NAN"}};if(uT(r.value))return{unaryFilter:{field:Ph(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ph(r.field),op:xV(r.op),value:r.value}}}(t):t instanceof Oa?function(r){const n=r.getFilters().map(i=>wC(i));return n.length===1?n[0]:{compositeFilter:{op:wV(r.op),filters:n}}}(t):jt()}function _V(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function _C(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,r,n,i,s=Ut.min(),a=Ut.min(),o=di.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new eu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new eu(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new eu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new eu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e){this.ct=e}}function SV(t){const e=gV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ox(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(){this.un=new EV}addToCollectionParentIndex(e,r){return this.un.add(r),et.resolve()}getCollectionParents(e,r){return et.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return et.resolve()}deleteFieldIndex(e,r){return et.resolve()}deleteAllFieldIndexes(e){return et.resolve()}createTargetIndexes(e,r){return et.resolve()}getDocumentsMatchingTarget(e,r){return et.resolve(null)}getIndexType(e,r){return et.resolve(0)}getFieldIndexes(e,r){return et.resolve([])}getNextCollectionGroupToUpdate(e){return et.resolve(null)}getMinOffset(e,r){return et.resolve(wu.min())}getMinOffsetFromCollectionGroup(e,r){return et.resolve(wu.min())}updateCollectionGroup(e,r,n){return et.resolve()}updateIndexEntries(e,r){return et.resolve()}}class EV{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new ci(Vr.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new ci(Vr.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Pf(0)}static kn(){return new Pf(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(){this.changes=new $f(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Ai.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?et.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&n0(n.mutation,i,Ls.empty(),On.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Jt()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Jt()){const i=pc();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(s=>{let a=Md();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,r){const n=pc();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Jt()))}populateOverlays(e,r,n){const i=[];return n.forEach(s=>{r.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{r.set(a,o)})})}computeViews(e,r,n,i){let s=Qo();const a=r0(),o=function(){return r0()}();return r.forEach((l,u)=>{const c=n.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Ou)?s=s.insert(u.key,u):c!==void 0?(a.set(u.key,c.mutation.getFieldMask()),n0(c.mutation,u,c.mutation.getFieldMask(),On.now())):a.set(u.key,Ls.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>a.set(u,c)),r.forEach((u,c)=>{var h;return o.set(u,new NV(c,(h=a.get(u))!==null&&h!==void 0?h:null))}),o))}recalculateAndSaveOverlays(e,r){const n=r0();let i=new Zr((a,o)=>a-o),s=Jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(a=>{for(const o of a)o.keys().forEach(l=>{const u=r.get(l);if(u===null)return;let c=n.get(l)||Ls.empty();c=o.applyToLocalView(u,c),n.set(l,c);const h=(i.get(o.batchId)||Jt()).add(l);i=i.insert(o.batchId,h)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,c=l.value,h=iC();c.forEach(d=>{if(!s.has(d)){const f=cC(r.get(d),n.get(d));f!==null&&h.set(d,f),s=s.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,h))}return et.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(a){return Nt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):Z6(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):et.resolve(pc());let o=-1,l=s;return a.next(u=>et.forEach(u,(c,h)=>(o<h.largestBatchId&&(o=h.largestBatchId),s.get(c)?et.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Jt())).next(c=>({batchId:o,changes:nC(c)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Nt(r)).next(n=>{let i=Md();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let a=Md();return this.indexManager.getCollectionParents(e,s).next(o=>et.forEach(o,l=>{const u=function(h,d){return new qf(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(r,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next(c=>{c.forEach((h,d)=>{a=a.insert(h,d)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i))).next(a=>{s.forEach((l,u)=>{const c=u.getKey();a.get(c)===null&&(a=a.insert(c,Ai.newInvalidDocument(c)))});let o=Md();return a.forEach((l,u)=>{const c=s.get(l);c!==void 0&&n0(c.mutation,u,Ls.empty(),On.now()),cv(r,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return et.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:ao(i.createTime)}}(r)),et.resolve()}getNamedQuery(e,r){return et.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:SV(i.bundledQuery),readTime:ao(i.readTime)}}(r)),et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(){this.overlays=new Zr(Nt.comparator),this.Ir=new Map}getOverlay(e,r){return et.resolve(this.overlays.get(r))}getOverlays(e,r){const n=pc();return et.forEach(r,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,s)=>{this.ht(e,r,s)}),et.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(n)),et.resolve()}getOverlaysForCollection(e,r,n){const i=pc(),s=r.length+1,a=new Nt(r.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>n&&i.set(l.getKey(),l)}return et.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new Zr((u,c)=>u-c);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let c=s.get(u.largestBatchId);c===null&&(c=pc(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const o=pc(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>o.set(u,c)),!(o.size()>=i)););return et.resolve(o)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new ZB(r,n));let s=this.Ir.get(r);s===void 0&&(s=Jt(),this.Ir.set(r,s)),this.Ir.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(){this.sessionToken=di.EMPTY_BYTE_STRING}getSessionToken(e){return et.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(){this.Tr=new ci(zn.Er),this.dr=new ci(zn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new zn(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new zn(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new Nt(new Vr([])),n=new zn(r,e),i=new zn(r,e+1),s=[];return this.dr.forEachInRange([n,i],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new Nt(new Vr([])),n=new zn(r,e),i=new zn(r,e+1);let s=Jt();return this.dr.forEachInRange([n,i],a=>{s=s.add(a.key)}),s}containsKey(e){const r=new zn(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class zn{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return Nt.comparator(e.key,r.key)||lr(e.wr,r.wr)}static Ar(e,r){return lr(e.wr,r.wr)||Nt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new ci(zn.Er)}checkEmpty(e){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new JB(s,r,n,i);this.mutationQueue.push(a);for(const o of i)this.br=this.br.add(new zn(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return et.resolve(a)}lookupMutationBatch(e,r){return et.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),s=i<0?0:i;return et.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new zn(r,0),i=new zn(r,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([n,i],a=>{const o=this.Dr(a.wr);s.push(o)}),et.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new ci(lr);return r.forEach(i=>{const s=new zn(i,0),a=new zn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],o=>{n=n.add(o.wr)})}),et.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;Nt.isDocumentKey(s)||(s=s.child(""));const a=new zn(new Nt(s),0);let o=new ci(lr);return this.br.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.wr)),!0)},a),et.resolve(this.Cr(o))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){Sr(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return et.forEach(r.mutations,i=>{const s=new zn(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new zn(r,0),i=this.br.firstAfterOrEqual(n);return et.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,et.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e){this.Mr=e,this.docs=function(){return new Zr(Nt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,a=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return et.resolve(n?n.document.mutableCopy():Ai.newInvalidDocument(r))}getEntries(e,r){let n=Qo();return r.forEach(i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():Ai.newInvalidDocument(i))}),et.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=Qo();const a=r.path,o=new Nt(a.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||mB(pB(c),n)<=0||(i.has(c.key)||cv(r,c))&&(s=s.insert(c.key,c.mutableCopy()))}return et.resolve(s)}getAllFromCollectionGroup(e,r,n,i){jt()}Or(e,r){return et.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new FV(this)}getSize(e){return et.resolve(this.size)}}class FV extends AV{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),et.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e){this.persistence=e,this.Nr=new $f(r=>Y5(r),X5),this.lastRemoteSnapshotVersion=Ut.min(),this.highestTargetId=0,this.Lr=0,this.Br=new r_,this.targetCount=0,this.kr=Pf.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),et.resolve()}getLastRemoteSnapshotVersion(e){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return et.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),et.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Pf(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,et.resolve()}updateTargetData(e,r){return this.Kn(r),et.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,et.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.Nr.forEach((a,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),et.waitFor(s).next(()=>i)}getTargetCount(e){return et.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return et.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),et.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),et.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),et.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return et.resolve(n)}containsKey(e,r){return et.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e,r){this.qr={},this.overlays={},this.Qr=new q5(0),this.Kr=!1,this.Kr=!0,this.$r=new IV,this.referenceDelegate=e(this),this.Ur=new DV(this),this.indexManager=new TV,this.remoteDocumentCache=function(i){return new LV(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new bV(r),this.Gr=new CV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new PV,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new RV(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){bt("MemoryPersistence","Starting transaction:",e);const i=new jV(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,r){return et.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class jV extends vB{constructor(e){super(),this.currentSequenceNumber=e}}class n_{constructor(e){this.persistence=e,this.Jr=new r_,this.Yr=null}static Zr(e){return new n_(e)}get Xr(){if(this.Yr)return this.Yr;throw jt()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),et.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),et.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),et.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.Xr,n=>{const i=Nt.fromPath(n);return this.ei(e,i).next(s=>{s||r.removeEntry(i,Ut.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return et.or([()=>et.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=Jt(),i=Jt();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new i_(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return kO()?8:yB(Li())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.Yi(e,r).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(e,r,i,n).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new MV;return this.Xi(e,r,a).next(o=>{if(s.result=o,this.zi)return this.es(e,r,a,o.size)})}).next(()=>s.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(Ad()<=er.DEBUG&&bt("QueryEngine","SDK will not create cache indexes for query:",Ch(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),et.resolve()):(Ad()<=er.DEBUG&&bt("QueryEngine","Query:",Ch(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(Ad()<=er.DEBUG&&bt("QueryEngine","The SDK decides to create cache indexes for query:",Ch(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,so(r))):et.resolve())}Yi(e,r){if(pT(r))return et.resolve(null);let n=so(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=Ox(r,null,"F"),n=so(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const a=Jt(...s);return this.Ji.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,n).next(l=>{const u=this.ts(r,o);return this.ns(r,u,a,l.readTime)?this.Yi(e,Ox(r,null,"F")):this.rs(e,u,r,l)}))})))}Zi(e,r,n,i){return pT(r)||i.isEqual(Ut.min())?et.resolve(null):this.Ji.getDocuments(e,n).next(s=>{const a=this.ts(r,s);return this.ns(r,a,n,i)?et.resolve(null):(Ad()<=er.DEBUG&&bt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ch(r)),this.rs(e,a,r,dB(i,-1)).next(o=>o))})}ts(e,r){let n=new ci(tC(e));return r.forEach((i,s)=>{cv(e,s)&&(n=n.add(s))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,r,n){return Ad()<=er.DEBUG&&bt("QueryEngine","Using full collection scan to execute query:",Ch(r)),this.Ji.getDocumentsMatchingQuery(e,r,wu.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(s=>(r.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new Zr(lr),this._s=new $f(s=>Y5(s),X5),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kV(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function UV(t,e,r,n){return new VV(t,e,r,n)}async function bC(t,e){const r=zt(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(s=>(i=s,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const a=[],o=[];let l=Jt();for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return r.localDocuments.getDocuments(n,l).next(u=>({hs:u,removedBatchIds:a,addedBatchIds:o}))})})}function zV(t,e){const r=zt(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),s=r.cs.newChangeBuffer({trackRemovals:!0});return function(o,l,u,c){const h=u.batch,d=h.keys();let f=et.resolve();return d.forEach(y=>{f=f.next(()=>c.getEntry(l,y)).next(v=>{const b=u.docVersions.get(y);Sr(b!==null),v.version.compareTo(b)<0&&(h.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),c.addEntry(v)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(l,h))}(r,n,e,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=Jt();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function SC(t){const e=zt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function HV(t,e){const r=zt(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const o=[];e.targetChanges.forEach((c,h)=>{const d=i.get(h);if(!d)return;o.push(r.Ur.removeMatchingKeys(s,c.removedDocuments,h).next(()=>r.Ur.addMatchingKeys(s,c.addedDocuments,h)));let f=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?f=f.withResumeToken(di.EMPTY_BYTE_STRING,Ut.min()).withLastLimboFreeSnapshotVersion(Ut.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,n)),i=i.insert(h,f),function(v,b,w){return v.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(d,f,c)&&o.push(r.Ur.updateTargetData(s,f))});let l=Qo(),u=Jt();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(s,c))}),o.push(WV(s,a,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!n.isEqual(Ut.min())){const c=r.Ur.getLastRemoteSnapshotVersion(s).next(h=>r.Ur.setTargetsMetadata(s,s.currentSequenceNumber,n));o.push(c)}return et.waitFor(o).next(()=>a.apply(s)).next(()=>r.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(r.os=i,s))}function WV(t,e,r){let n=Jt(),i=Jt();return r.forEach(s=>n=n.add(s)),e.getEntries(t,n).next(s=>{let a=Qo();return r.forEach((o,l)=>{const u=s.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Ut.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):bt("LocalStore","Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{Ps:a,Is:i}})}function qV(t,e){const r=zt(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function $V(t,e){const r=zt(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(s=>s?(i=s,et.resolve(i)):r.Ur.allocateTargetId(n).next(a=>(i=new eu(e,a,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function Ux(t,e,r){const n=zt(t),i=n.os.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,a=>n.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Np(a))throw a;bt("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function ET(t,e,r){const n=zt(t);let i=Ut.min(),s=Jt();return n.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,c){const h=zt(l),d=h._s.get(c);return d!==void 0?et.resolve(h.os.get(d)):h.Ur.getTargetData(u,c)}(n,a,so(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>n.ss.getDocumentsMatchingQuery(a,e,r?i:Ut.min(),r?s:Jt())).next(o=>(GV(n,OB(e),o),{documents:o,Ts:s})))}function GV(t,e,r){let n=t.us.get(e)||Ut.min();r.forEach((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),t.us.set(e,n)}class AT{constructor(){this.activeTargetIds=zB()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KV{constructor(){this.so=new AT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new AT,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){bt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){bt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dm=null;function z2(){return Dm===null?Dm=function(){return 268435456+Math.round(2147483648*Math.random())}():Dm++,"0x"+Dm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi="WebChannelConnection";class JV extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(r,n,i,s,a){const o=z2(),l=this.xo(r,n.toUriEncodedString());bt("RestConnection",`Sending RPC '${r}' ${o}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,a),this.No(r,l,u,i).then(c=>(bt("RestConnection",`Received RPC '${r}' ${o}: `,c),c),c=>{throw Af("RestConnection",`RPC '${r}' ${o} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(r,n,i,s,a,o){return this.Mo(r,n,i,s,a)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Wf}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>r[a]=s),i&&i.headers.forEach((s,a)=>r[a]=s)}xo(r,n){const i=XV[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const s=z2();return new Promise((a,o)=>{const l=new j6;l.setWithCredentials(!0),l.listenOnce(M6.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case vg.NO_ERROR:const c=l.getResponseJson();bt(xi,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),a(c);break;case vg.TIMEOUT:bt(xi,`RPC '${e}' ${s} timed out`),o(new yt(Ge.DEADLINE_EXCEEDED,"Request time out"));break;case vg.HTTP_ERROR:const h=l.getStatus();if(bt(xi,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const f=d==null?void 0:d.error;if(f&&f.status&&f.message){const y=function(b){const w=b.toLowerCase().replace(/_/g,"-");return Object.values(Ge).indexOf(w)>=0?w:Ge.UNKNOWN}(f.status);o(new yt(y,f.message))}else o(new yt(Ge.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new yt(Ge.UNAVAILABLE,"Connection failed."));break;default:jt()}}finally{bt(xi,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);bt(xi,`RPC '${e}' ${s} sending request:`,i),l.send(r,"POST",u,n,15)})}Bo(e,r,n){const i=z2(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=U6(),o=V6(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const c=s.join("");bt(xi,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=a.createWebChannel(c,l);let d=!1,f=!1;const y=new QV({Io:b=>{f?bt(xi,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(d||(bt(xi,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),bt(xi,`RPC '${e}' stream ${i} sending:`,b),h.send(b))},To:()=>h.close()}),v=(b,w,S)=>{b.listen(w,T=>{try{S(T)}catch(F){setTimeout(()=>{throw F},0)}})};return v(h,jd.EventType.OPEN,()=>{f||(bt(xi,`RPC '${e}' stream ${i} transport opened.`),y.yo())}),v(h,jd.EventType.CLOSE,()=>{f||(f=!0,bt(xi,`RPC '${e}' stream ${i} transport closed`),y.So())}),v(h,jd.EventType.ERROR,b=>{f||(f=!0,Af(xi,`RPC '${e}' stream ${i} transport errored:`,b),y.So(new yt(Ge.UNAVAILABLE,"The operation could not be completed")))}),v(h,jd.EventType.MESSAGE,b=>{var w;if(!f){const S=b.data[0];Sr(!!S);const T=S,F=T.error||((w=T[0])===null||w===void 0?void 0:w.error);if(F){bt(xi,`RPC '${e}' stream ${i} received error:`,F);const j=F.status;let M=function(C){const D=Sn[C];if(D!==void 0)return fC(D)}(j),A=F.message;M===void 0&&(M=Ge.INTERNAL,A="Unknown error status: "+j+" with message "+F.message),f=!0,y.So(new yt(M,A)),h.close()}else bt(xi,`RPC '${e}' stream ${i} received:`,S),y.bo(S)}}),v(o,B6.STAT_EVENT,b=>{b.stat===Px.PROXY?bt(xi,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===Px.NOPROXY&&bt(xi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}}function H2(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(t){return new lV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,r,n=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&bt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,r,n,i,s,a,o,l){this.ui=e,this.Ho=n,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new TC(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===Ge.RESOURCE_EXHAUSTED?(Xo(r.toString()),Xo("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===Ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new yt(Ge.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return bt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(bt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZV extends EC{constructor(e,r,n,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=hV(this.serializer,e),n=function(s){if(!("targetChange"in s))return Ut.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Ut.min():a.readTime?ao(a.readTime):Ut.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=Vx(this.serializer),r.addTarget=function(s,a){let o;const l=a.target;if(o=Fx(l)?{documents:pV(s,l)}:{query:mV(s,l)._t},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=mC(s,a.resumeToken);const u=jx(s,a.expectedCount);u!==null&&(o.expectedCount=u)}else if(a.snapshotVersion.compareTo(Ut.min())>0){o.readTime=c1(s,a.snapshotVersion.toTimestamp());const u=jx(s,a.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const n=vV(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=Vx(this.serializer),r.removeTarget=e,this.a_(r)}}class eU extends EC{constructor(e,r,n,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return Sr(!!e.streamToken),this.lastStreamToken=e.streamToken,Sr(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Sr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=dV(e.writeResults,e.commitTime),n=ao(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=Vx(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>fV(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new yt(Ge.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,Mx(r,n),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new yt(Ge.UNKNOWN,s.toString())})}Lo(e,r,n,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Lo(e,Mx(r,n),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new yt(Ge.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class rU{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Xo(r),this.D_=!1):bt("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{n.enqueueAndForget(async()=>{Gc(this)&&(bt("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=zt(l);u.L_.add(4),await Pp(u),u.q_.set("Unknown"),u.L_.delete(4),await mv(u)}(this))})}),this.q_=new rU(n,i)}}async function mv(t){if(Gc(t))for(const e of t.B_)await e(!0)}async function Pp(t){for(const e of t.B_)await e(!1)}function AC(t,e){const r=zt(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),l_(r)?o_(r):Gf(r).r_()&&a_(r,e))}function s_(t,e){const r=zt(t),n=Gf(r);r.N_.delete(e),n.r_()&&NC(r,e),r.N_.size===0&&(n.r_()?n.o_():Gc(r)&&r.q_.set("Unknown"))}function a_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ut.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Gf(t).A_(e)}function NC(t,e){t.Q_.xe(e),Gf(t).R_(e)}function o_(t){t.Q_=new iV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Gf(t).start(),t.q_.v_()}function l_(t){return Gc(t)&&!Gf(t).n_()&&t.N_.size>0}function Gc(t){return zt(t).L_.size===0}function kC(t){t.Q_=void 0}async function iU(t){t.q_.set("Online")}async function sU(t){t.N_.forEach((e,r)=>{a_(t,e)})}async function aU(t,e){kC(t),l_(t)?(t.q_.M_(e),o_(t)):t.q_.set("Unknown")}async function oU(t,e,r){if(t.q_.set("Online"),e instanceof pC&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.N_.delete(o),i.Q_.removeTarget(o))}(t,e)}catch(n){bt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await h1(t,n)}else if(e instanceof wg?t.Q_.Ke(e):e instanceof dC?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Ut.min()))try{const n=await SC(t.localStore);r.compareTo(n)>=0&&await function(s,a){const o=s.Q_.rt(a);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.N_.get(u);c&&s.N_.set(u,c.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,u)=>{const c=s.N_.get(l);if(!c)return;s.N_.set(l,c.withResumeToken(di.EMPTY_BYTE_STRING,c.snapshotVersion)),NC(s,l);const h=new eu(c.target,l,u,c.sequenceNumber);a_(s,h)}),s.remoteSyncer.applyRemoteEvent(o)}(t,r)}catch(n){bt("RemoteStore","Failed to raise snapshot:",n),await h1(t,n)}}async function h1(t,e,r){if(!Np(e))throw e;t.L_.add(1),await Pp(t),t.q_.set("Offline"),r||(r=()=>SC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{bt("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await mv(t)})}function CC(t,e){return e().catch(r=>h1(t,r,e))}async function gv(t){const e=zt(t),r=bu(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;lU(e);)try{const i=await qV(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,uU(e,i)}catch(i){await h1(e,i)}PC(e)&&IC(e)}function lU(t){return Gc(t)&&t.O_.length<10}function uU(t,e){t.O_.push(e);const r=bu(t);r.r_()&&r.V_&&r.m_(e.mutations)}function PC(t){return Gc(t)&&!bu(t).n_()&&t.O_.length>0}function IC(t){bu(t).start()}async function cU(t){bu(t).p_()}async function hU(t){const e=bu(t);for(const r of t.O_)e.m_(r.mutations)}async function fU(t,e,r){const n=t.O_.shift(),i=Z5.from(n,e,r);await CC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await gv(t)}async function dU(t,e){e&&bu(t).V_&&await async function(n,i){if(function(a){return tV(a)&&a!==Ge.ABORTED}(i.code)){const s=n.O_.shift();bu(n).s_(),await CC(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await gv(n)}}(t,e),PC(t)&&IC(t)}async function kT(t,e){const r=zt(t);r.asyncQueue.verifyOperationInProgress(),bt("RemoteStore","RemoteStore received new credentials");const n=Gc(r);r.L_.add(3),await Pp(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await mv(r)}async function pU(t,e){const r=zt(t);e?(r.L_.delete(2),await mv(r)):e||(r.L_.add(2),await Pp(r),r.q_.set("Unknown"))}function Gf(t){return t.K_||(t.K_=function(r,n,i){const s=zt(r);return s.w_(),new ZV(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:iU.bind(null,t),Ro:sU.bind(null,t),mo:aU.bind(null,t),d_:oU.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),l_(t)?o_(t):t.q_.set("Unknown")):(await t.K_.stop(),kC(t))})),t.K_}function bu(t){return t.U_||(t.U_=function(r,n,i){const s=zt(r);return s.w_(),new eU(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:cU.bind(null,t),mo:dU.bind(null,t),f_:hU.bind(null,t),g_:fU.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await gv(t)):(await t.U_.stop(),t.O_.length>0&&(bt("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new Vo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const a=Date.now()+n,o=new u_(e,r,a,i,s);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(Ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function c_(t,e){if(Xo("AsyncQueue",`${e}: ${t}`),Np(t))return new yt(Ge.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e){this.comparator=e?(r,n)=>e(r,n)||Nt.comparator(r.key,n.key):(r,n)=>Nt.comparator(r.key,n.key),this.keyedMap=Md(),this.sortedSet=new Zr(this.comparator)}static emptySet(e){return new cf(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof cf)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new cf;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(){this.W_=new Zr(Nt.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):jt():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class If{constructor(e,r,n,i,s,a,o,l,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,i,s){const a=[];return r.forEach(o=>{a.push({type:0,doc:o})}),new If(e,r,cf.emptySet(r),a,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class gU{constructor(){this.queries=PT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=zt(r),s=i.queries;i.queries=PT(),s.forEach((a,o)=>{for(const l of o.j_)l.onError(n)})})(this,new yt(Ge.ABORTED,"Firestore shutting down"))}}function PT(){return new $f(t=>eC(t),uv)}async function h_(t,e){const r=zt(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.H_()&&e.J_()&&(n=2):(s=new mU,n=e.J_()?0:1);try{switch(n){case 0:s.z_=await r.onListen(i,!0);break;case 1:s.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(a){const o=c_(a,`Initialization of query '${Ch(e.query)}' failed`);return void e.onError(o)}r.queries.set(i,s),s.j_.push(e),e.Z_(r.onlineState),s.z_&&e.X_(s.z_)&&d_(r)}async function f_(t,e){const r=zt(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function vU(t,e){const r=zt(t);let n=!1;for(const i of e){const s=i.query,a=r.queries.get(s);if(a){for(const o of a.j_)o.X_(i)&&(n=!0);a.z_=i}}n&&d_(r)}function yU(t,e,r){const n=zt(t),i=n.queries.get(e);if(i)for(const s of i.j_)s.onError(r);n.queries.delete(e)}function d_(t){t.Y_.forEach(e=>{e.next()})}var zx,IT;(IT=zx||(zx={})).ea="default",IT.Cache="cache";class p_{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new If(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=If.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==zx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e){this.key=e}}class LC{constructor(e){this.key=e}}class xU{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Jt(),this.mutatedKeys=Jt(),this.Aa=tC(e),this.Ra=new cf(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new CT,i=r?r.Ra:this.Ra;let s=r?r.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const d=i.get(c),f=cv(this.query,h)?h:null,y=!!d&&this.mutatedKeys.has(d.key),v=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let b=!1;d&&f?d.data.isEqual(f.data)?y!==v&&(n.track({type:3,doc:f}),b=!0):this.ga(d,f)||(n.track({type:2,doc:f}),b=!0,(l&&this.Aa(f,l)>0||u&&this.Aa(f,u)<0)&&(o=!0)):!d&&f?(n.track({type:0,doc:f}),b=!0):d&&!f&&(n.track({type:1,doc:d}),b=!0,(l||u)&&(o=!0)),b&&(f?(a=a.add(f),s=v?s.add(c):s.delete(c)):(a=a.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const c=this.query.limitType==="F"?a.last():a.first();a=a.delete(c.key),s=s.delete(c.key),n.track({type:1,doc:c})}return{Ra:a,fa:n,ns:o,mutatedKeys:s}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((c,h)=>function(f,y){const v=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return jt()}};return v(f)-v(y)}(c.type,h.type)||this.Aa(c.doc,h.doc)),this.pa(n),i=i!=null&&i;const o=r&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,a.length!==0||u?{snapshot:new If(this.query,e.Ra,s,a,e.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new CT,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Jt(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new LC(n))}),this.da.forEach(n=>{e.has(n)||r.push(new RC(n))}),r}ba(e){this.Ta=e.Ts,this.da=Jt();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return If.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class wU{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class _U{constructor(e){this.key=e,this.va=!1}}class bU{constructor(e,r,n,i,s,a){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new $f(o=>eC(o),uv),this.Ma=new Map,this.xa=new Set,this.Oa=new Zr(Nt.comparator),this.Na=new Map,this.La=new r_,this.Ba={},this.ka=new Map,this.qa=Pf.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function SU(t,e,r=!0){const n=BC(t);let i;const s=n.Fa.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await FC(n,e,r,!0),i}async function TU(t,e){const r=BC(t);await FC(r,e,!0,!1)}async function FC(t,e,r,n){const i=await $V(t.localStore,so(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,r);let o;return n&&(o=await EU(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&r&&AC(t.remoteStore,i),o}async function EU(t,e,r,n,i){t.Ka=(h,d,f)=>async function(v,b,w,S){let T=b.view.ma(w);T.ns&&(T=await ET(v.localStore,b.query,!1).then(({documents:A})=>b.view.ma(A,T)));const F=S&&S.targetChanges.get(b.targetId),j=S&&S.targetMismatches.get(b.targetId)!=null,M=b.view.applyChanges(T,v.isPrimaryClient,F,j);return LT(v,b.targetId,M.wa),M.snapshot}(t,h,d,f);const s=await ET(t.localStore,e,!0),a=new xU(e,s.Ts),o=a.ma(s.documents),l=Cp.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),u=a.applyChanges(o,t.isPrimaryClient,l);LT(t,r,u.wa);const c=new wU(e,r,a);return t.Fa.set(e,c),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),u.snapshot}async function AU(t,e,r){const n=zt(t),i=n.Fa.get(e),s=n.Ma.get(i.targetId);if(s.length>1)return n.Ma.set(i.targetId,s.filter(a=>!uv(a,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Ux(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&s_(n.remoteStore,i.targetId),Hx(n,i.targetId)}).catch(Ap)):(Hx(n,i.targetId),await Ux(n.localStore,i.targetId,!0))}async function NU(t,e){const r=zt(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),s_(r.remoteStore,n.targetId))}async function kU(t,e,r){const n=DU(t);try{const i=await function(a,o){const l=zt(a),u=On.now(),c=o.reduce((f,y)=>f.add(y.key),Jt());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let y=Qo(),v=Jt();return l.cs.getEntries(f,c).next(b=>{y=b,y.forEach((w,S)=>{S.isValidDocument()||(v=v.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,y)).next(b=>{h=b;const w=[];for(const S of o){const T=XB(S,h.get(S.key).overlayedDocument);T!=null&&w.push(new Ou(S.key,T,$6(T.value.mapValue),ra.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,w,o)}).next(b=>{d=b;const w=b.applyToLocalDocumentSet(h,v);return l.documentOverlayCache.saveOverlays(f,b.batchId,w)})}).then(()=>({batchId:d.batchId,changes:nC(h)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(a,o,l){let u=a.Ba[a.currentUser.toKey()];u||(u=new Zr(lr)),u=u.insert(o,l),a.Ba[a.currentUser.toKey()]=u}(n,i.batchId,r),await Ip(n,i.changes),await gv(n.remoteStore)}catch(i){const s=c_(i,"Failed to persist write");r.reject(s)}}async function DC(t,e){const r=zt(t);try{const n=await HV(r.localStore,e);e.targetChanges.forEach((i,s)=>{const a=r.Na.get(s);a&&(Sr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?Sr(a.va):i.removedDocuments.size>0&&(Sr(a.va),a.va=!1))}),await Ip(r,n,e)}catch(n){await Ap(n)}}function RT(t,e,r){const n=zt(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((s,a)=>{const o=a.view.Z_(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const l=zt(a);l.onlineState=o;let u=!1;l.queries.forEach((c,h)=>{for(const d of h.j_)d.Z_(o)&&(u=!0)}),u&&d_(l)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function CU(t,e,r){const n=zt(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),s=i&&i.key;if(s){let a=new Zr(Nt.comparator);a=a.insert(s,Ai.newNoDocument(s,Ut.min()));const o=Jt().add(s),l=new dv(Ut.min(),new Map,new Zr(lr),a,o);await DC(n,l),n.Oa=n.Oa.remove(s),n.Na.delete(e),m_(n)}else await Ux(n.localStore,e,!1).then(()=>Hx(n,e,r)).catch(Ap)}async function PU(t,e){const r=zt(t),n=e.batch.batchId;try{const i=await zV(r.localStore,e);jC(r,n,null),OC(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Ip(r,i)}catch(i){await Ap(i)}}async function IU(t,e,r){const n=zt(t);try{const i=await function(a,o){const l=zt(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,o).next(h=>(Sr(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(n.localStore,e);jC(n,e,r),OC(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Ip(n,i)}catch(i){await Ap(i)}}function OC(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function jC(t,e,r){const n=zt(t);let i=n.Ba[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function Hx(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||MC(t,n)})}function MC(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(s_(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),m_(t))}function LT(t,e,r){for(const n of r)n instanceof RC?(t.La.addReference(n.key,e),RU(t,n)):n instanceof LC?(bt("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||MC(t,n.key)):jt()}function RU(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(bt("SyncEngine","New document in limbo: "+r),t.xa.add(n),m_(t))}function m_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new Nt(Vr.fromString(e)),n=t.qa.next();t.Na.set(n,new _U(r)),t.Oa=t.Oa.insert(r,n),AC(t.remoteStore,new eu(so(lv(r.path)),n,"TargetPurposeLimboResolution",q5.oe))}}async function Ip(t,e,r){const n=zt(t),i=[],s=[],a=[];n.Fa.isEmpty()||(n.Fa.forEach((o,l)=>{a.push(n.Ka(l,e,r).then(u=>{var c;if((u||r)&&n.isPrimaryClient){const h=u?!u.fromCache:(c=r==null?void 0:r.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;n.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=i_.Wi(l.targetId,u);s.push(h)}}))}),await Promise.all(a),n.Ca.d_(i),await async function(l,u){const c=zt(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>et.forEach(u,d=>et.forEach(d.$i,f=>c.persistence.referenceDelegate.addReference(h,d.targetId,f)).next(()=>et.forEach(d.Ui,f=>c.persistence.referenceDelegate.removeReference(h,d.targetId,f)))))}catch(h){if(!Np(h))throw h;bt("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const d=h.targetId;if(!h.fromCache){const f=c.os.get(d),y=f.snapshotVersion,v=f.withLastLimboFreeSnapshotVersion(y);c.os=c.os.insert(d,v)}}}(n.localStore,s))}async function LU(t,e){const r=zt(t);if(!r.currentUser.isEqual(e)){bt("SyncEngine","User change. New user:",e.toKey());const n=await bC(r.localStore,e);r.currentUser=e,function(s,a){s.ka.forEach(o=>{o.forEach(l=>{l.reject(new yt(Ge.CANCELLED,a))})}),s.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Ip(r,n.hs)}}function FU(t,e){const r=zt(t),n=r.Na.get(e);if(n&&n.va)return Jt().add(n.key);{let i=Jt();const s=r.Ma.get(e);if(!s)return i;for(const a of s){const o=r.Fa.get(a);i=i.unionWith(o.view.Va)}return i}}function BC(t){const e=zt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=DC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CU.bind(null,e),e.Ca.d_=vU.bind(null,e.eventManager),e.Ca.$a=yU.bind(null,e.eventManager),e}function DU(t){const e=zt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IU.bind(null,e),e}class f1{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pv(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return UV(this.persistence,new BV,e.initialUser,this.serializer)}Ga(e){return new OV(n_.Zr,this.serializer)}Wa(e){return new KV}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}f1.provider={build:()=>new f1};class Wx{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>RT(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=LU.bind(null,this.syncEngine),await pU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new gU}()}createDatastore(e){const r=pv(e.databaseInfo.databaseId),n=function(s){return new JV(s)}(e.databaseInfo);return function(s,a,o,l){return new tU(s,a,o,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,s,a,o){return new nU(n,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,r=>RT(this.syncEngine,r,0),function(){return NT.D()?new NT:new YV}())}createSyncEngine(e,r){return function(i,s,a,o,l,u,c){const h=new bU(i,s,a,o,l,u);return c&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const s=zt(i);bt("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Pp(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Wx.provider={build:()=>new Wx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Xo("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(e,r,n,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Ti.UNAUTHENTICATED,this.clientId=H6.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async a=>{bt("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(n,a=>(bt("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=c_(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function W2(t,e){t.asyncQueue.verifyOperationInProgress(),bt("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await bC(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function FT(t,e){t.asyncQueue.verifyOperationInProgress();const r=await jU(t);bt("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>kT(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>kT(e.remoteStore,i)),t._onlineComponents=e}async function jU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){bt("FirestoreClient","Using user provided OfflineComponentProvider");try{await W2(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===Ge.FAILED_PRECONDITION||i.code===Ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;Af("Error using user provided cache. Falling back to memory cache: "+r),await W2(t,new f1)}}else bt("FirestoreClient","Using default OfflineComponentProvider"),await W2(t,new f1);return t._offlineComponents}async function VC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(bt("FirestoreClient","Using user provided OnlineComponentProvider"),await FT(t,t._uninitializedComponentsProvider._online)):(bt("FirestoreClient","Using default OnlineComponentProvider"),await FT(t,new Wx))),t._onlineComponents}function MU(t){return VC(t).then(e=>e.syncEngine)}async function d1(t){const e=await VC(t),r=e.eventManager;return r.onListen=SU.bind(null,e.syncEngine),r.onUnlisten=AU.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=TU.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=NU.bind(null,e.syncEngine),r}function BU(t,e,r={}){const n=new Vo;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,u){const c=new g_({next:d=>{c.Za(),a.enqueueAndForget(()=>f_(s,h));const f=d.docs.has(o);!f&&d.fromCache?u.reject(new yt(Ge.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&d.fromCache&&l&&l.source==="server"?u.reject(new yt(Ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),h=new p_(lv(o.path),c,{includeMetadataChanges:!0,_a:!0});return h_(s,h)}(await d1(t),t.asyncQueue,e,r,n)),n.promise}function VU(t,e,r={}){const n=new Vo;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,u){const c=new g_({next:d=>{c.Za(),a.enqueueAndForget(()=>f_(s,h)),d.fromCache&&l.source==="server"?u.reject(new yt(Ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),h=new p_(o,c,{includeMetadataChanges:!0,_a:!0});return h_(s,h)}(await d1(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(t,e,r){if(!r)throw new yt(Ge.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function UU(t,e,r,n){if(e===!0&&n===!0)throw new yt(Ge.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function OT(t){if(!Nt.isDocumentKey(t))throw new yt(Ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function jT(t){if(Nt.isDocumentKey(t))throw new yt(Ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function vv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":jt()}function fs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new yt(Ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=vv(t);throw new yt(Ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new yt(Ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new yt(Ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}UU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UC((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new yt(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new yt(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new yt(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yv{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new MT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(Ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new yt(Ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new MT(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new iB;switch(n.type){case"firstParty":return new lB(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new yt(Ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=DT.get(r);n&&(bt("ComponentProvider","Removing Datastore"),DT.delete(r),n.terminate())}(this),Promise.resolve()}}function zU(t,e,r,n={}){var i;const s=(t=fs(t,yv))._getSettings(),a=`${e}:${r}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&Af("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),n.mockUserToken){let o,l;if(typeof n.mockUserToken=="string")o=n.mockUserToken,l=Ti.MOCK_USER;else{o=_O(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=n.mockUserToken.sub||n.mockUserToken.user_id;if(!u)throw new yt(Ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ti(u)}t._authCredentials=new sB(new z6(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ju(this.firestore,e,this._query)}}class Ci{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ci(this.firestore,e,this._key)}}class gu extends ju{constructor(e,r,n){super(e,r,lv(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ci(this.firestore,null,new Nt(e))}withConverter(e){return new gu(this.firestore,e,this._path)}}function ss(t,e,...r){if(t=Mn(t),zC("collection","path",e),t instanceof yv){const n=Vr.fromString(e,...r);return jT(n),new gu(t,null,n)}{if(!(t instanceof Ci||t instanceof gu))throw new yt(Ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Vr.fromString(e,...r));return jT(n),new gu(t.firestore,null,n)}}function jn(t,e,...r){if(t=Mn(t),arguments.length===1&&(e=H6.newId()),zC("doc","path",e),t instanceof yv){const n=Vr.fromString(e,...r);return OT(n),new Ci(t,null,new Nt(n))}{if(!(t instanceof Ci||t instanceof gu))throw new yt(Ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Vr.fromString(e,...r));return OT(n),new Ci(t.firestore,t instanceof gu?t.converter:null,new Nt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new TC(this,"async_queue_retry"),this.Vu=()=>{const n=H2();n&&bt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=H2();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=H2();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Vo;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Np(e))throw e;bt("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o}(n);throw Xo("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=u_.createAndSchedule(this,e,r,n,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&jt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function VT(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Jo extends yv{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new BT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new BT(e),this._firestoreClient=void 0,await e}}}function HC(t,e){const r=typeof t=="object"?t:Xk(),n=typeof t=="string"?t:"(default)",i=F5(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=xO("firestore");s&&zU(i,...s)}return i}function xv(t){if(t._terminated)throw new yt(Ge.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||HU(t),t._firestoreClient}function HU(t){var e,r,n;const i=t._freezeSettings(),s=function(o,l,u,c){return new _B(o,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,UC(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new OU(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rf(di.fromBase64String(e))}catch(r){throw new yt(Ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Rf(di.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new yt(Ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ai(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new yt(Ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new yt(Ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return lr(this._lat,e._lat)||lr(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WU=/^__.*__$/;class qU{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Ou(e,this.data,this.fieldMask,r,this.fieldTransforms):new kp(e,this.data,r,this.fieldTransforms)}}class WC{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Ou(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function qC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw jt()}}class x_{constructor(e,r,n,i,s,a){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new x_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return p1(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(qC(this.Cu)&&WU.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class $U{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||pv(e)}Qu(e,r,n,i=!1){return new x_({Cu:e,methodName:r,qu:n,path:ai.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bv(t){const e=t._freezeSettings(),r=pv(t._databaseId);return new $U(t._databaseId,!!e.ignoreUndefinedProperties,r)}function $C(t,e,r,n,i,s={}){const a=t.Qu(s.merge||s.mergeFields?2:0,e,r,i);__("Data must be an object, but it was:",a,n);const o=GC(n,a);let l,u;if(s.merge)l=new Ls(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const d=qx(e,h,r);if(!a.contains(d))throw new yt(Ge.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);YC(c,d)||c.push(d)}l=new Ls(c),u=a.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=a.fieldTransforms;return new qU(new is(o),l,u)}class Sv extends _v{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sv}}class w_ extends _v{_toFieldTransform(e){return new $B(e.path,new X0)}isEqual(e){return e instanceof w_}}function GU(t,e,r,n){const i=t.Qu(1,e,r);__("Data must be an object, but it was:",i,n);const s=[],a=is.empty();$c(n,(l,u)=>{const c=b_(e,l,r);u=Mn(u);const h=i.Nu(c);if(u instanceof Sv)s.push(c);else{const d=Rp(u,h);d!=null&&(s.push(c),a.set(c,d))}});const o=new Ls(s);return new WC(a,o,i.fieldTransforms)}function KU(t,e,r,n,i,s){const a=t.Qu(1,e,r),o=[qx(e,n,r)],l=[i];if(s.length%2!=0)throw new yt(Ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)o.push(qx(e,s[d])),l.push(s[d+1]);const u=[],c=is.empty();for(let d=o.length-1;d>=0;--d)if(!YC(u,o[d])){const f=o[d];let y=l[d];y=Mn(y);const v=a.Nu(f);if(y instanceof Sv)u.push(f);else{const b=Rp(y,v);b!=null&&(u.push(f),c.set(f,b))}}const h=new Ls(u);return new WC(c,h,a.fieldTransforms)}function YU(t,e,r,n=!1){return Rp(r,t.Qu(n?4:3,e))}function Rp(t,e){if(KC(t=Mn(t)))return __("Unsupported field value:",e,t),GC(t,e);if(t instanceof _v)return function(n,i){if(!qC(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const s=[];let a=0;for(const o of n){let l=Rp(o,i.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(t,e)}return function(n,i){if((n=Mn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return HB(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=On.fromDate(n);return{timestampValue:c1(i.serializer,s)}}if(n instanceof On){const s=new On(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:c1(i.serializer,s)}}if(n instanceof v_)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Rf)return{bytesValue:mC(i.serializer,n._byteString)};if(n instanceof Ci){const s=i.databaseId,a=n.firestore._databaseId;if(!a.isEqual(s))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:t_(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof y_)return function(a,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw o.Bu("VectorValues must only contain numeric values.");return Q5(o.serializer,l)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${vv(n)}`)}(t,e)}function GC(t,e){const r={};return W6(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$c(t,(n,i)=>{const s=Rp(i,e.Mu(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function KC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof On||t instanceof v_||t instanceof Rf||t instanceof Ci||t instanceof _v||t instanceof y_)}function __(t,e,r){if(!KC(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=vv(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function qx(t,e,r){if((e=Mn(e))instanceof wv)return e._internalPath;if(typeof e=="string")return b_(t,e);throw p1("Field path arguments must be of type string or ",t,!1,void 0,r)}const XU=new RegExp("[~\\*/\\[\\]]");function b_(t,e,r){if(e.search(XU)>=0)throw p1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new wv(...e.split("."))._internalPath}catch{throw p1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function p1(t,e,r,n,i){const s=n&&!n.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${n}`),a&&(l+=` in document ${i}`),l+=")"),new yt(Ge.INVALID_ARGUMENT,o+t+l)}function YC(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ci(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Tv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class QU extends XC{data(){return super.data()}}function Tv(t,e){return typeof e=="string"?b_(t,e):e instanceof wv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new yt(Ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class S_{}class JC extends S_{}function Lf(t,e,...r){let n=[];e instanceof S_&&n.push(e),n=n.concat(r),function(s){const a=s.filter(l=>l instanceof T_).length,o=s.filter(l=>l instanceof Ev).length;if(a>1||a>0&&o>0)throw new yt(Ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class Ev extends JC{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Ev(e,r,n)}_apply(e){const r=this._parse(e);return ZC(e._query,r),new ju(e.firestore,e.converter,Dx(e._query,r))}_parse(e){const r=bv(e.firestore);return function(s,a,o,l,u,c,h){let d;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new yt(Ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){zT(h,c);const f=[];for(const y of h)f.push(UT(l,s,y));d={arrayValue:{values:f}}}else d=UT(l,s,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||zT(h,c),d=YU(o,a,h,c==="in"||c==="not-in");return An.create(u,c,d)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function m1(t,e,r){const n=e,i=Tv("where",t);return Ev._create(i,n,r)}class T_ extends S_{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new T_(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Oa.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,s){let a=i;const o=s.getFlattenedFilters();for(const l of o)ZC(a,l),a=Dx(a,l)}(e._query,r),new ju(e.firestore,e.converter,Dx(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class E_ extends JC{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new E_(e,r)}_apply(e){const r=function(i,s,a){if(i.startAt!==null)throw new yt(Ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new yt(Ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Y0(s,a)}(e._query,this._field,this._direction);return new ju(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new qf(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function $x(t,e="asc"){const r=e,n=Tv("orderBy",t);return E_._create(n,r)}function UT(t,e,r){if(typeof(r=Mn(r))=="string"){if(r==="")throw new yt(Ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Z6(e)&&r.indexOf("/")!==-1)throw new yt(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Vr.fromString(r));if(!Nt.isDocumentKey(n))throw new yt(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return lT(t,new Nt(n))}if(r instanceof Ci)return lT(t,r._key);throw new yt(Ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vv(r)}.`)}function zT(t,e){if(!Array.isArray(t)||t.length===0)throw new yt(Ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZC(t,e){const r=function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new yt(Ge.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new yt(Ge.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class JU{convertValue(e,r="none"){switch(Mc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(jc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw jt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return $c(e,(i,s)=>{n[i]=this.convertValue(s,r)}),n}convertVectorValue(e){var r,n,i;const s=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(a=>dn(a.doubleValue));return new y_(s)}convertGeoPoint(e){return new v_(dn(e.latitude),dn(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=G5(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp($0(e));default:return null}}convertTimestamp(e){const r=_u(e);return new On(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Vr.fromString(e);Sr(_C(n));const i=new G0(n.get(1),n.get(3)),s=new Nt(n.popFirst(5));return i.isEqual(r)||Xo(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(t,e,r){let n;return n=t?t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tP extends XC{constructor(e,r,n,i,s,a){super(e,r,n,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new _g(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(Tv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class _g extends tP{data(e={}){return super.data(e)}}class rP{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Vd(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new _g(this._firestore,this._userDataWriter,n.key,n,new Vd(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new yt(Ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const l=new _g(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Vd(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new _g(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Vd(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return o.type!==0&&(u=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),c=a.indexOf(o.doc.key)),{type:ZU(o.type),doc:l,oldIndex:u,newIndex:c}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function ZU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return jt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(t){t=fs(t,Ci);const e=fs(t.firestore,Jo);return BU(xv(e),t._key).then(r=>iP(e,t,r))}class A_ extends JU{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rf(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ci(this.firestore,null,r)}}function q2(t){t=fs(t,ju);const e=fs(t.firestore,Jo),r=xv(e),n=new A_(e);return QC(t._query),VU(r,t._query).then(i=>new rP(e,n,t,i))}function nP(t,e,r){t=fs(t,Ci);const n=fs(t.firestore,Jo),i=eP(t.converter,e);return Av(n,[$C(bv(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,ra.none())])}function hf(t,e,r,...n){t=fs(t,Ci);const i=fs(t.firestore,Jo),s=bv(i);let a;return a=typeof(e=Mn(e))=="string"||e instanceof wv?KU(s,"updateDoc",t._key,e,r,n):GU(s,"updateDoc",t._key,e),Av(i,[a.toMutation(t._key,ra.exists(!0))])}function N_(t){return Av(fs(t.firestore,Jo),[new J5(t._key,ra.none())])}function k_(t,e){const r=fs(t.firestore,Jo),n=jn(t),i=eP(t.converter,e);return Av(r,[$C(bv(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,ra.exists(!1))]).then(()=>n)}function Bc(t,...e){var r,n,i;t=Mn(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||VT(e[a])||(s=e[a],a++);const o={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(VT(e[a])){const h=e[a];e[a]=(r=h.next)===null||r===void 0?void 0:r.bind(h),e[a+1]=(n=h.error)===null||n===void 0?void 0:n.bind(h),e[a+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,c;if(t instanceof Ci)u=fs(t.firestore,Jo),c=lv(t._key.path),l={next:h=>{e[a]&&e[a](iP(u,t,h))},error:e[a+1],complete:e[a+2]};else{const h=fs(t,ju);u=fs(h.firestore,Jo),c=h._query;const d=new A_(u);l={next:f=>{e[a]&&e[a](new rP(u,d,h,f))},error:e[a+1],complete:e[a+2]},QC(t._query)}return function(d,f,y,v){const b=new g_(v),w=new p_(f,b,y);return d.asyncQueue.enqueueAndForget(async()=>h_(await d1(d),w)),()=>{b.Za(),d.asyncQueue.enqueueAndForget(async()=>f_(await d1(d),w))}}(xv(u),c,o,l)}function Av(t,e){return function(n,i){const s=new Vo;return n.asyncQueue.enqueueAndForget(async()=>kU(await MU(n),i,s)),s.promise}(xv(t),e)}function iP(t,e,r){const n=r.docs.get(e._key),i=new A_(t);return new tP(t,i,e._key,n,new Vd(r.hasPendingWrites,r.fromCache),e.converter)}function i0(){return new w_("serverTimestamp")}(function(e,r=!0){(function(i){Wf=i})(zf),Ef(new Lc("firestore",(n,{instanceIdentifier:i,options:s})=>{const a=n.getProvider("app").getImmediate(),o=new Jo(new aB(n.getProvider("auth-internal")),new cB(n.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new yt(Ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new G0(u.options.projectId,c)}(a,i),a);return s=Object.assign({useFetchStreams:r},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),mu(nT,"4.7.3",e),mu(nT,"4.7.3","esm2017")})();var ez="firebase",tz="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mu(ez,tz,"app");const rz={apiKey:"AIzaSyCSFvwCO0DLk6PlCTqP-JpHyGov0IG2S5Q",authDomain:"organ-donor-management-system.firebaseapp.com",projectId:"organ-donor-management-system",storageBucket:"organ-donor-management-system.appspot.com",messagingSenderId:"487567344580",appId:"1:487567344580:web:2f2143ed93ae8709cc5a91",measurementId:"G-28R5PRZ92V"},g1=Yk(rz),as=D6(g1),xr=HC(g1);ss(xr,"organTransports");const sP=ve.createContext(),nz=({children:t})=>{const e=D6(g1),r=HC(g1),[n,i]=ve.useState(null),[s,a]=ve.useState(null),[o,l]=ve.useState(!0),u=async(d,f,y={})=>{const b=(await S6(e,d,f)).user,w=y.role||"donor";return await nP(jn(r,"users",b.uid),{email:d,role:w,fullName:y.fullName||"",mobile:y.mobile||"",address:y.address||"",bloodGroup:y.bloodGroup||"",organType:y.organType||"",createdAt:i0()}),i(b),a(w),w},c=async(d,f)=>{const v=(await T6(e,d,f)).user,b=await Su(jn(r,"users",v.uid)),w=b.exists()?b.data().role:"donor";return i(v),a(w),w},h=async()=>{await $M(e),i(null),a(null)};return ve.useEffect(()=>{const d=qM(e,async f=>{if(f){i(f);const y=await Su(jn(r,"users",f.uid));a(y.exists()?y.data().role:"donor")}else i(null),a(null);l(!1)});return()=>d()},[e,r]),p.jsx(sP.Provider,{value:{user:n,role:s,loading:o,login:c,signup:u,logout:h},children:!o&&t})},Nv=()=>ve.useContext(sP),Lp=ve.createContext();function iz({children:t}){const[e,r]=ve.useState(()=>{const i=localStorage.getItem("darkMode");return i?JSON.parse(i):!1});ve.useEffect(()=>{e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode",JSON.stringify(e))},[e]);const n=()=>r(i=>!i);return p.jsx(Lp.Provider,{value:{darkMode:e,toggleDarkMode:n},children:t})}const C_=ve.createContext({});function P_(t){const e=ve.useRef(null);return e.current===null&&(e.current=t()),e.current}const I_=typeof window<"u",aP=I_?ve.useLayoutEffect:ve.useEffect,kv=ve.createContext(null);function R_(t,e){t.indexOf(e)===-1&&t.push(e)}function L_(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const Zo=(t,e,r)=>r>e?e:r<t?t:r;let F_=()=>{};const el={},oP=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function lP(t){return typeof t=="object"&&t!==null}const uP=t=>/^0[^.\s]+$/u.test(t);function D_(t){let e;return()=>(e===void 0&&(e=t()),e)}const na=t=>t,sz=(t,e)=>r=>e(t(r)),Fp=(...t)=>t.reduce(sz),Z0=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class O_{constructor(){this.subscriptions=[]}add(e){return R_(this.subscriptions,e),()=>L_(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const oo=t=>t*1e3,lo=t=>t/1e3;function cP(t,e){return e?t*(1e3/e):0}const hP=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,az=1e-7,oz=12;function lz(t,e,r,n,i){let s,a,o=0;do a=e+(r-e)/2,s=hP(a,n,i)-t,s>0?r=a:e=a;while(Math.abs(s)>az&&++o<oz);return a}function Dp(t,e,r,n){if(t===e&&r===n)return na;const i=s=>lz(s,0,1,t,r);return s=>s===0||s===1?s:hP(i(s),e,n)}const fP=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,dP=t=>e=>1-t(1-e),pP=Dp(.33,1.53,.69,.99),j_=dP(pP),mP=fP(j_),gP=t=>(t*=2)<1?.5*j_(t):.5*(2-Math.pow(2,-10*(t-1))),M_=t=>1-Math.sin(Math.acos(t)),vP=dP(M_),yP=fP(M_),uz=Dp(.42,0,1,1),cz=Dp(0,0,.58,1),xP=Dp(.42,0,.58,1),hz=t=>Array.isArray(t)&&typeof t[0]!="number",wP=t=>Array.isArray(t)&&typeof t[0]=="number",fz={linear:na,easeIn:uz,easeInOut:xP,easeOut:cz,circIn:M_,circInOut:yP,circOut:vP,backIn:j_,backInOut:mP,backOut:pP,anticipate:gP},dz=t=>typeof t=="string",HT=t=>{if(wP(t)){F_(t.length===4);const[e,r,n,i]=t;return Dp(e,r,n,i)}else if(dz(t))return fz[t];return t},Om=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function pz(t,e){let r=new Set,n=new Set,i=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(c){a.has(c)&&(u.schedule(c),t()),c(o)}const u={schedule:(c,h=!1,d=!1)=>{const y=d&&i?r:n;return h&&a.add(c),y.has(c)||y.add(c),c},cancel:c=>{n.delete(c),a.delete(c)},process:c=>{if(o=c,i){s=!0;return}i=!0,[r,n]=[n,r],r.forEach(l),r.clear(),i=!1,s&&(s=!1,u.process(c))}};return u}const mz=40;function _P(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,a=Om.reduce((T,F)=>(T[F]=pz(s),T),{}),{setup:o,read:l,resolveKeyframes:u,preUpdate:c,update:h,preRender:d,render:f,postRender:y}=a,v=()=>{const T=el.useManualTiming?i.timestamp:performance.now();r=!1,el.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(T-i.timestamp,mz),1)),i.timestamp=T,i.isProcessing=!0,o.process(i),l.process(i),u.process(i),c.process(i),h.process(i),d.process(i),f.process(i),y.process(i),i.isProcessing=!1,r&&e&&(n=!1,t(v))},b=()=>{r=!0,n=!0,i.isProcessing||t(v)};return{schedule:Om.reduce((T,F)=>{const j=a[F];return T[F]=(M,A=!1,_=!1)=>(r||b(),j.schedule(M,A,_)),T},{}),cancel:T=>{for(let F=0;F<Om.length;F++)a[Om[F]].cancel(T)},state:i,steps:a}}const{schedule:Gr,cancel:Tu,state:ni,steps:$2}=_P(typeof requestAnimationFrame<"u"?requestAnimationFrame:na,!0);let bg;function gz(){bg=void 0}const ls={now:()=>(bg===void 0&&ls.set(ni.isProcessing||el.useManualTiming?ni.timestamp:performance.now()),bg),set:t=>{bg=t,queueMicrotask(gz)}},bP=t=>e=>typeof e=="string"&&e.startsWith(t),B_=bP("--"),vz=bP("var(--"),V_=t=>vz(t)?yz.test(t.split("/*")[0].trim()):!1,yz=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Kf={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ep={...Kf,transform:t=>Zo(0,1,t)},jm={...Kf,default:1},s0=t=>Math.round(t*1e5)/1e5,U_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function xz(t){return t==null}const wz=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,z_=(t,e)=>r=>!!(typeof r=="string"&&wz.test(r)&&r.startsWith(t)||e&&!xz(r)&&Object.prototype.hasOwnProperty.call(r,e)),SP=(t,e,r)=>n=>{if(typeof n!="string")return n;const[i,s,a,o]=n.match(U_);return{[t]:parseFloat(i),[e]:parseFloat(s),[r]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},_z=t=>Zo(0,255,t),G2={...Kf,transform:t=>Math.round(_z(t))},mc={test:z_("rgb","red"),parse:SP("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+G2.transform(t)+", "+G2.transform(e)+", "+G2.transform(r)+", "+s0(ep.transform(n))+")"};function bz(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const Gx={test:z_("#"),parse:bz,transform:mc.transform},Op=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ul=Op("deg"),uo=Op("%"),Dt=Op("px"),Sz=Op("vh"),Tz=Op("vw"),WT={...uo,parse:t=>uo.parse(t)/100,transform:t=>uo.transform(t*100)},Kh={test:z_("hsl","hue"),parse:SP("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+uo.transform(s0(e))+", "+uo.transform(s0(r))+", "+s0(ep.transform(n))+")"},Tn={test:t=>mc.test(t)||Gx.test(t)||Kh.test(t),parse:t=>mc.test(t)?mc.parse(t):Kh.test(t)?Kh.parse(t):Gx.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?mc.transform(t):Kh.transform(t),getAnimatableNone:t=>{const e=Tn.parse(t);return e.alpha=0,Tn.transform(e)}},Ez=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Az(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(U_))==null?void 0:e.length)||0)+(((r=t.match(Ez))==null?void 0:r.length)||0)>0}const TP="number",EP="color",Nz="var",kz="var(",qT="${}",Cz=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function tp(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(Cz,l=>(Tn.test(l)?(n.color.push(s),i.push(EP),r.push(Tn.parse(l))):l.startsWith(kz)?(n.var.push(s),i.push(Nz),r.push(l)):(n.number.push(s),i.push(TP),r.push(parseFloat(l))),++s,qT)).split(qT);return{values:r,split:o,indexes:n,types:i}}function AP(t){return tp(t).values}function NP(t){const{split:e,types:r}=tp(t),n=e.length;return i=>{let s="";for(let a=0;a<n;a++)if(s+=e[a],i[a]!==void 0){const o=r[a];o===TP?s+=s0(i[a]):o===EP?s+=Tn.transform(i[a]):s+=i[a]}return s}}const Pz=t=>typeof t=="number"?0:Tn.test(t)?Tn.getAnimatableNone(t):t;function Iz(t){const e=AP(t);return NP(t)(e.map(Pz))}const Eu={test:Az,parse:AP,createTransformer:NP,getAnimatableNone:Iz};function K2(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function Rz({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,s=0,a=0;if(!e)i=s=a=r;else{const o=r<.5?r*(1+e):r+e-r*e,l=2*r-o;i=K2(l,o,t+1/3),s=K2(l,o,t),a=K2(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:n}}function v1(t,e){return r=>r>0?e:t}const Xr=(t,e,r)=>t+(e-t)*r,Y2=(t,e,r)=>{const n=t*t,i=r*(e*e-n)+n;return i<0?0:Math.sqrt(i)},Lz=[Gx,mc,Kh],Fz=t=>Lz.find(e=>e.test(t));function $T(t){const e=Fz(t);if(!e)return!1;let r=e.parse(t);return e===Kh&&(r=Rz(r)),r}const GT=(t,e)=>{const r=$T(t),n=$T(e);if(!r||!n)return v1(t,e);const i={...r};return s=>(i.red=Y2(r.red,n.red,s),i.green=Y2(r.green,n.green,s),i.blue=Y2(r.blue,n.blue,s),i.alpha=Xr(r.alpha,n.alpha,s),mc.transform(i))},Kx=new Set(["none","hidden"]);function Dz(t,e){return Kx.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function Oz(t,e){return r=>Xr(t,e,r)}function H_(t){return typeof t=="number"?Oz:typeof t=="string"?V_(t)?v1:Tn.test(t)?GT:Bz:Array.isArray(t)?kP:typeof t=="object"?Tn.test(t)?GT:jz:v1}function kP(t,e){const r=[...t],n=r.length,i=t.map((s,a)=>H_(s)(s,e[a]));return s=>{for(let a=0;a<n;a++)r[a]=i[a](s);return r}}function jz(t,e){const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=H_(t[i])(t[i],e[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function Mz(t,e){const r=[],n={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=t.indexes[s][n[s]],o=t.values[a]??0;r[i]=o,n[s]++}return r}const Bz=(t,e)=>{const r=Eu.createTransformer(e),n=tp(t),i=tp(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?Kx.has(t)&&!i.values.length||Kx.has(e)&&!n.values.length?Dz(t,e):Fp(kP(Mz(n,i),i.values),r):v1(t,e)};function CP(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Xr(t,e,r):H_(t)(t,e)}const Vz=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>Gr.update(e,r),stop:()=>Tu(e),now:()=>ni.isProcessing?ni.timestamp:ls.now()}},PP=(t,e,r=10)=>{let n="";const i=Math.max(Math.round(e/r),2);for(let s=0;s<i;s++)n+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},y1=2e4;function W_(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<y1;)e+=r,n=t.next(e);return e>=y1?1/0:e}function Uz(t,e=100,r){const n=r({...t,keyframes:[0,e]}),i=Math.min(W_(n),y1);return{type:"keyframes",ease:s=>n.next(i*s).value/e,duration:lo(i)}}const zz=5;function IP(t,e,r){const n=Math.max(e-zz,0);return cP(r-t(n),e-n)}const an={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},X2=.001;function Hz({duration:t=an.duration,bounce:e=an.bounce,velocity:r=an.velocity,mass:n=an.mass}){let i,s,a=1-e;a=Zo(an.minDamping,an.maxDamping,a),t=Zo(an.minDuration,an.maxDuration,lo(t)),a<1?(i=u=>{const c=u*a,h=c*t,d=c-r,f=Yx(u,a),y=Math.exp(-h);return X2-d/f*y},s=u=>{const h=u*a*t,d=h*r+r,f=Math.pow(a,2)*Math.pow(u,2)*t,y=Math.exp(-h),v=Yx(Math.pow(u,2),a);return(-i(u)+X2>0?-1:1)*((d-f)*y)/v}):(i=u=>{const c=Math.exp(-u*t),h=(u-r)*t+1;return-X2+c*h},s=u=>{const c=Math.exp(-u*t),h=(r-u)*(t*t);return c*h});const o=5/t,l=qz(i,s,o);if(t=oo(t),isNaN(l))return{stiffness:an.stiffness,damping:an.damping,duration:t};{const u=Math.pow(l,2)*n;return{stiffness:u,damping:a*2*Math.sqrt(n*u),duration:t}}}const Wz=12;function qz(t,e,r){let n=r;for(let i=1;i<Wz;i++)n=n-t(n)/e(n);return n}function Yx(t,e){return t*Math.sqrt(1-e*e)}const $z=["duration","bounce"],Gz=["stiffness","damping","mass"];function KT(t,e){return e.some(r=>t[r]!==void 0)}function Kz(t){let e={velocity:an.velocity,stiffness:an.stiffness,damping:an.damping,mass:an.mass,isResolvedFromDuration:!1,...t};if(!KT(t,Gz)&&KT(t,$z))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*Zo(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:an.mass,stiffness:i,damping:s}}else{const r=Hz(t);e={...e,...r,mass:an.mass},e.isResolvedFromDuration=!0}return e}function x1(t=an.visualDuration,e=an.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:u,mass:c,duration:h,velocity:d,isResolvedFromDuration:f}=Kz({...r,velocity:-lo(r.velocity||0)}),y=d||0,v=u/(2*Math.sqrt(l*c)),b=a-s,w=lo(Math.sqrt(l/c)),S=Math.abs(b)<5;n||(n=S?an.restSpeed.granular:an.restSpeed.default),i||(i=S?an.restDelta.granular:an.restDelta.default);let T;if(v<1){const j=Yx(w,v);T=M=>{const A=Math.exp(-v*w*M);return a-A*((y+v*w*b)/j*Math.sin(j*M)+b*Math.cos(j*M))}}else if(v===1)T=j=>a-Math.exp(-w*j)*(b+(y+w*b)*j);else{const j=w*Math.sqrt(v*v-1);T=M=>{const A=Math.exp(-v*w*M),_=Math.min(j*M,300);return a-A*((y+v*w*b)*Math.sinh(_)+j*b*Math.cosh(_))/j}}const F={calculatedDuration:f&&h||null,next:j=>{const M=T(j);if(f)o.done=j>=h;else{let A=j===0?y:0;v<1&&(A=j===0?oo(y):IP(T,j,M));const _=Math.abs(A)<=n,C=Math.abs(a-M)<=i;o.done=_&&C}return o.value=o.done?a:M,o},toString:()=>{const j=Math.min(W_(F),y1),M=PP(A=>F.next(j*A).value,j,30);return j+"ms "+M},toTransition:()=>{}};return F}x1.applyToOptions=t=>{const e=Uz(t,100,x1);return t.ease=e.ease,t.duration=oo(e.duration),t.type="keyframes",t};function Xx({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:c}){const h=t[0],d={done:!1,value:h},f=_=>o!==void 0&&_<o||l!==void 0&&_>l,y=_=>o===void 0?l:l===void 0||Math.abs(o-_)<Math.abs(l-_)?o:l;let v=r*e;const b=h+v,w=a===void 0?b:a(b);w!==b&&(v=w-h);const S=_=>-v*Math.exp(-_/n),T=_=>w+S(_),F=_=>{const C=S(_),D=T(_);d.done=Math.abs(C)<=u,d.value=d.done?w:D};let j,M;const A=_=>{f(d.value)&&(j=_,M=x1({keyframes:[d.value,y(d.value)],velocity:IP(T,_,d.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return A(0),{calculatedDuration:null,next:_=>{let C=!1;return!M&&j===void 0&&(C=!0,F(_),A(_)),j!==void 0&&_>=j?M.next(_-j):(!C&&F(_),d)}}}function Yz(t,e,r){const n=[],i=r||el.mix||CP,s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||na:e;o=Fp(l,o)}n.push(o)}return n}function Xz(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const s=t.length;if(F_(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=Yz(e,n,i),l=o.length,u=c=>{if(a&&c<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(c<t[h+1]);h++);const d=Z0(t[h],t[h+1],c);return o[h](d)};return r?c=>u(Zo(t[0],t[s-1],c)):u}function Qz(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=Z0(0,e,n);t.push(Xr(r,1,i))}}function Jz(t){const e=[0];return Qz(e,t.length-1),e}function Zz(t,e){return t.map(r=>r*e)}function eH(t,e){return t.map(()=>e||xP).splice(0,t.length-1)}function a0({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=hz(n)?n.map(HT):HT(n),s={done:!1,value:e[0]},a=Zz(r&&r.length===e.length?r:Jz(e),t),o=Xz(a,e,{ease:Array.isArray(i)?i:eH(e,i)});return{calculatedDuration:t,next:l=>(s.value=o(l),s.done=l>=t,s)}}const tH=t=>t!==null;function q_(t,{repeat:e,repeatType:r="loop"},n,i=1){const s=t.filter(tH),o=i<0||e&&r!=="loop"&&e%2===1?0:s.length-1;return!o||n===void 0?s[o]:n}const rH={decay:Xx,inertia:Xx,tween:a0,keyframes:a0,spring:x1};function RP(t){typeof t.type=="string"&&(t.type=rH[t.type])}class $_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const nH=t=>t/100;class G_ extends $_{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,i;const{motionValue:r}=this.options;r&&r.updatedAt!==ls.now()&&this.tick(ls.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(n=this.options).onStop)==null||i.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;RP(e);const{type:r=a0,repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:o}=e;const l=r||a0;l!==a0&&typeof o[0]!="number"&&(this.mixKeyframes=Fp(nH,CP(o[0],o[1])),o=[0,100]);const u=l({...e,keyframes:o});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=W_(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=u}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:c,repeat:h,repeatType:d,repeatDelay:f,type:y,onUpdate:v,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const w=this.currentTime-u*(this.playbackSpeed>=0?1:-1),S=this.playbackSpeed>=0?w<0:w>i;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let T=this.currentTime,F=n;if(h){const _=Math.min(this.currentTime,i)/o;let C=Math.floor(_),D=_%1;!D&&_>=1&&(D=1),D===1&&C--,C=Math.min(C,h+1),!!(C%2)&&(d==="reverse"?(D=1-D,f&&(D-=f/o)):d==="mirror"&&(F=a)),T=Zo(0,1,D)*o}const j=S?{done:!1,value:c[0]}:F.next(T);s&&(j.value=s(j.value));let{done:M}=j;!S&&l!==null&&(M=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return A&&y!==Xx&&(j.value=q_(c,this.options,b,this.speed)),v&&v(j.value),A&&this.finish(),j}then(e,r){return this.finished.then(e,r)}get duration(){return lo(this.calculatedDuration)}get time(){return lo(this.currentTime)}set time(e){var r;e=oo(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ls.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=lo(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=Vz,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(s=(i=this.options).onPlay)==null||s.call(i);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ls.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function iH(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const gc=t=>t*180/Math.PI,Qx=t=>{const e=gc(Math.atan2(t[1],t[0]));return Jx(e)},sH={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Qx,rotateZ:Qx,skewX:t=>gc(Math.atan(t[1])),skewY:t=>gc(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Jx=t=>(t=t%360,t<0&&(t+=360),t),YT=Qx,XT=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),QT=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),aH={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:XT,scaleY:QT,scale:t=>(XT(t)+QT(t))/2,rotateX:t=>Jx(gc(Math.atan2(t[6],t[5]))),rotateY:t=>Jx(gc(Math.atan2(-t[2],t[0]))),rotateZ:YT,rotate:YT,skewX:t=>gc(Math.atan(t[4])),skewY:t=>gc(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Zx(t){return t.includes("scale")?1:0}function ew(t,e){if(!t||t==="none")return Zx(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=aH,i=r;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=sH,i=o}if(!i)return Zx(e);const s=n[e],a=i[1].split(",").map(lH);return typeof s=="function"?s(a):a[s]}const oH=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return ew(r,e)};function lH(t){return parseFloat(t.trim())}const Yf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Xf=new Set(Yf),JT=t=>t===Kf||t===Dt,uH=new Set(["x","y","z"]),cH=Yf.filter(t=>!uH.has(t));function hH(t){const e=[];return cH.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const _c={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ew(e,"x"),y:(t,{transform:e})=>ew(e,"y")};_c.translateX=_c.x;_c.translateY=_c.y;const bc=new Set;let tw=!1,rw=!1,nw=!1;function LP(){if(rw){const t=Array.from(bc).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const i=hH(n);i.length&&(r.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,a])=>{var o;(o=n.getValue(s))==null||o.set(a)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}rw=!1,tw=!1,bc.forEach(t=>t.complete(nw)),bc.clear()}function FP(){bc.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(rw=!0)})}function fH(){nw=!0,FP(),LP(),nw=!1}class K_{constructor(e,r,n,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(bc.add(this),tw||(tw=!0,Gr.read(FP),Gr.resolveKeyframes(LP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(n&&r){const o=n.readValue(r,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}iH(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),bc.delete(this)}cancel(){this.state==="scheduled"&&(bc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const dH=t=>t.startsWith("--");function pH(t,e,r){dH(e)?t.style.setProperty(e,r):t.style[e]=r}const mH=D_(()=>window.ScrollTimeline!==void 0),gH={};function vH(t,e){const r=D_(t);return()=>gH[e]??r()}const DP=vH(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ud=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,ZT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ud([0,.65,.55,1]),circOut:Ud([.55,0,1,.45]),backIn:Ud([.31,.01,.66,-.59]),backOut:Ud([.33,1.53,.69,.99])};function OP(t,e){if(t)return typeof t=="function"?DP()?PP(t,e):"ease-out":wP(t)?Ud(t):Array.isArray(t)?t.map(r=>OP(r,e)||ZT.easeOut):ZT[t]}function yH(t,e,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeOut",times:l}={},u=void 0){const c={[e]:r};l&&(c.offset=l);const h=OP(o,i);Array.isArray(h)&&(c.easing=h);const d={delay:n,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return u&&(d.pseudoElement=u),t.animate(c,d)}function jP(t){return typeof t=="function"&&"applyToOptions"in t}function xH({type:t,...e}){return jP(t)&&DP()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class wH extends $_{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,F_(typeof e.type!="string");const u=xH(e);this.animation=yH(r,n,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const c=q_(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(c):pH(r,n,c),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,n;const e=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return lo(Number(e))}get time(){return lo(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=oo(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&mH()?(this.animation.timeline=e,na):r(this)}}const MP={anticipate:gP,backInOut:mP,circInOut:yP};function _H(t){return t in MP}function bH(t){typeof t.ease=="string"&&_H(t.ease)&&(t.ease=MP[t.ease])}const eE=10;class SH extends wH{constructor(e){bH(e),RP(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:i,element:s,...a}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const o=new G_({...a,autoplay:!1}),l=oo(this.finishedTime??this.time);r.setWithVelocity(o.sample(l-eE).value,o.sample(l).value,eE),o.stop()}}const tE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Eu.test(t)||t==="0")&&!t.startsWith("url("));function TH(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function EH(t,e,r,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=tE(i,e),o=tE(s,e);return!a||!o?!1:TH(t)||(r==="spring"||jP(r))&&n}function iw(t){t.duration=0,t.type}const AH=new Set(["opacity","clipPath","filter","transform"]),NH=D_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function kH(t){var c;const{motionValue:e,name:r,repeatDelay:n,repeatType:i,damping:s,type:a}=t;if(!(((c=e==null?void 0:e.owner)==null?void 0:c.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return NH()&&r&&AH.has(r)&&(r!=="transform"||!u)&&!l&&!n&&i!=="mirror"&&s!==0&&a!=="inertia"}const CH=40;class PH extends $_{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:o,name:l,motionValue:u,element:c,...h}){var y;super(),this.stop=()=>{var v,b;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=ls.now();const d={autoplay:e,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:a,name:l,motionValue:u,element:c,...h},f=(c==null?void 0:c.KeyframeResolver)||K_;this.keyframeResolver=new f(o,(v,b,w)=>this.onKeyframesResolved(v,b,d,!w),l,u,c),(y=this.keyframeResolver)==null||y.scheduleResolve()}onKeyframesResolved(e,r,n,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:o,delay:l,isHandoff:u,onUpdate:c}=n;this.resolvedAt=ls.now(),EH(e,s,a,o)||((el.instantAnimations||!l)&&(c==null||c(q_(e,n,r))),e[0]=e[e.length-1],iw(n),n.repeat=0);const d={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>CH?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},f=!u&&kH(d)?new SH({...d,element:d.motionValue.owner.current}):new G_(d);f.finished.then(()=>this.notifyFinished()).catch(na),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),fH()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const IH=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function RH(t){const e=IH.exec(t);if(!e)return[,];const[,r,n,i]=e;return[`--${r??n}`,i]}function BP(t,e,r=1){const[n,i]=RH(t);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const a=s.trim();return oP(a)?parseFloat(a):a}return V_(i)?BP(i,e,r+1):i}function Y_(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const VP=new Set(["width","height","top","left","right","bottom",...Yf]),LH={test:t=>t==="auto",parse:t=>t},UP=t=>e=>e.test(t),zP=[Kf,Dt,uo,Ul,Tz,Sz,LH],rE=t=>zP.find(UP(t));function FH(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||uP(t):!0}const DH=new Set(["brightness","contrast","saturate","opacity"]);function OH(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(U_)||[];if(!n)return t;const i=r.replace(n,"");let s=DH.has(e)?1:0;return n!==r&&(s*=100),e+"("+s+i+")"}const jH=/\b([a-z-]*)\(.*?\)/gu,sw={...Eu,getAnimatableNone:t=>{const e=t.match(jH);return e?e.map(OH).join(" "):t}},nE={...Kf,transform:Math.round},MH={rotate:Ul,rotateX:Ul,rotateY:Ul,rotateZ:Ul,scale:jm,scaleX:jm,scaleY:jm,scaleZ:jm,skew:Ul,skewX:Ul,skewY:Ul,distance:Dt,translateX:Dt,translateY:Dt,translateZ:Dt,x:Dt,y:Dt,z:Dt,perspective:Dt,transformPerspective:Dt,opacity:ep,originX:WT,originY:WT,originZ:Dt},X_={borderWidth:Dt,borderTopWidth:Dt,borderRightWidth:Dt,borderBottomWidth:Dt,borderLeftWidth:Dt,borderRadius:Dt,radius:Dt,borderTopLeftRadius:Dt,borderTopRightRadius:Dt,borderBottomRightRadius:Dt,borderBottomLeftRadius:Dt,width:Dt,maxWidth:Dt,height:Dt,maxHeight:Dt,top:Dt,right:Dt,bottom:Dt,left:Dt,padding:Dt,paddingTop:Dt,paddingRight:Dt,paddingBottom:Dt,paddingLeft:Dt,margin:Dt,marginTop:Dt,marginRight:Dt,marginBottom:Dt,marginLeft:Dt,backgroundPositionX:Dt,backgroundPositionY:Dt,...MH,zIndex:nE,fillOpacity:ep,strokeOpacity:ep,numOctaves:nE},BH={...X_,color:Tn,backgroundColor:Tn,outlineColor:Tn,fill:Tn,stroke:Tn,borderColor:Tn,borderTopColor:Tn,borderRightColor:Tn,borderBottomColor:Tn,borderLeftColor:Tn,filter:sw,WebkitFilter:sw},HP=t=>BH[t];function WP(t,e){let r=HP(t);return r!==sw&&(r=Eu),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const VH=new Set(["auto","none","0"]);function UH(t,e,r){let n=0,i;for(;n<t.length&&!i;){const s=t[n];typeof s=="string"&&!VH.has(s)&&tp(s).values.length&&(i=t[n]),n++}if(i&&r)for(const s of e)t[s]=WP(r,i)}class zH extends K_{constructor(e,r,n,i,s){super(e,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),V_(u))){const c=BP(u,r.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!VP.has(n)||e.length!==2)return;const[i,s]=e,a=rE(i),o=rE(s);if(a!==o)if(JT(a)&&JT(o))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else _c[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let i=0;i<e.length;i++)(e[i]===null||FH(e[i]))&&n.push(i);n.length&&UH(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=_c[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){var o;const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const i=e.getValue(r);i&&i.jump(this.measuredOrigin,!1);const s=n.length-1,a=n[s];n[s]=_c[r](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function HH(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const i=(r==null?void 0:r[t])??n.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const qP=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function $P(t){return lP(t)&&"offsetHeight"in t}const iE=30,WH=t=>!isNaN(parseFloat(t));class qH{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var s;const i=ls.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=ls.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=WH(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new O_);const n=this.events[e].add(r);return e==="change"?()=>{n(),Gr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ls.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>iE)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,iE);return cP(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ff(t,e){return new qH(t,e)}const{schedule:Q_}=_P(queueMicrotask,!1),ba={x:!1,y:!1};function GP(){return ba.x||ba.y}function $H(t){return t==="x"||t==="y"?ba[t]?null:(ba[t]=!0,()=>{ba[t]=!1}):ba.x||ba.y?null:(ba.x=ba.y=!0,()=>{ba.x=ba.y=!1})}function KP(t,e){const r=HH(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[r,i,()=>n.abort()]}function sE(t){return!(t.pointerType==="touch"||GP())}function GH(t,e,r={}){const[n,i,s]=KP(t,r),a=o=>{if(!sE(o))return;const{target:l}=o,u=e(l,o);if(typeof u!="function"||!l)return;const c=h=>{sE(h)&&(u(h),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,i)};return n.forEach(o=>{o.addEventListener("pointerenter",a,i)}),s}const YP=(t,e)=>e?t===e?!0:YP(t,e.parentElement):!1,J_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,KH=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function YH(t){return KH.has(t.tagName)||t.tabIndex!==-1}const Sg=new WeakSet;function aE(t){return e=>{e.key==="Enter"&&t(e)}}function Q2(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const XH=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=aE(()=>{if(Sg.has(r))return;Q2(r,"down");const i=aE(()=>{Q2(r,"up")}),s=()=>Q2(r,"cancel");r.addEventListener("keyup",i,e),r.addEventListener("blur",s,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function oE(t){return J_(t)&&!GP()}function QH(t,e,r={}){const[n,i,s]=KP(t,r),a=o=>{const l=o.currentTarget;if(!oE(o))return;Sg.add(l);const u=e(l,o),c=(f,y)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",d),Sg.has(l)&&Sg.delete(l),oE(f)&&typeof u=="function"&&u(f,{success:y})},h=f=>{c(f,l===window||l===document||r.useGlobalTarget||YP(l,f.target))},d=f=>{c(f,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",d,i)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),$P(o)&&(o.addEventListener("focus",u=>XH(u,i)),!YH(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),s}function XP(t){return lP(t)&&"ownerSVGElement"in t}function JH(t){return XP(t)&&t.tagName==="svg"}const ki=t=>!!(t&&t.getVelocity),ZH=[...zP,Tn,Eu],eW=t=>ZH.find(UP(t)),Z_=ve.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class tW extends ve.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,i=$P(n)&&n.offsetWidth||0,s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function rW({children:t,isPresent:e,anchorX:r,root:n}){const i=ve.useId(),s=ve.useRef(null),a=ve.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=ve.useContext(Z_);return ve.useInsertionEffect(()=>{const{width:l,height:u,top:c,left:h,right:d}=a.current;if(e||!s.current||!l||!u)return;const f=r==="left"?`left: ${h}`:`right: ${d}`;s.current.dataset.motionPopId=i;const y=document.createElement("style");o&&(y.nonce=o);const v=n??document.head;return v.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            ${f}px !important;
            top: ${c}px !important;
          }
        `),()=>{v.contains(y)&&v.removeChild(y)}},[e]),p.jsx(tW,{isPresent:e,childRef:s,sizeRef:a,children:ve.cloneElement(t,{ref:s})})}const nW=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:a,anchorX:o,root:l})=>{const u=P_(iW),c=ve.useId();let h=!0,d=ve.useMemo(()=>(h=!1,{id:c,initial:e,isPresent:r,custom:i,onExitComplete:f=>{u.set(f,!0);for(const y of u.values())if(!y)return;n&&n()},register:f=>(u.set(f,!1),()=>u.delete(f))}),[r,u,n]);return s&&h&&(d={...d}),ve.useMemo(()=>{u.forEach((f,y)=>u.set(y,!1))},[r]),ve.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),a==="popLayout"&&(t=p.jsx(rW,{isPresent:r,anchorX:o,root:l,children:t})),p.jsx(kv.Provider,{value:d,children:t})};function iW(){return new Map}function QP(t=!0){const e=ve.useContext(kv);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=e,s=ve.useId();ve.useEffect(()=>{if(t)return i(s)},[t]);const a=ve.useCallback(()=>t&&n&&n(s),[s,n,t]);return!r&&n?[!1,a]:[!0]}const Mm=t=>t.key||"";function lE(t){const e=[];return ve.Children.forEach(t,r=>{ve.isValidElement(r)&&e.push(r)}),e}const JP=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:o="left",root:l})=>{const[u,c]=QP(a),h=ve.useMemo(()=>lE(t),[t]),d=a&&!u?[]:h.map(Mm),f=ve.useRef(!0),y=ve.useRef(h),v=P_(()=>new Map),[b,w]=ve.useState(h),[S,T]=ve.useState(h);aP(()=>{f.current=!1,y.current=h;for(let M=0;M<S.length;M++){const A=Mm(S[M]);d.includes(A)?v.delete(A):v.get(A)!==!0&&v.set(A,!1)}},[S,d.length,d.join("-")]);const F=[];if(h!==b){let M=[...h];for(let A=0;A<S.length;A++){const _=S[A],C=Mm(_);d.includes(C)||(M.splice(A,0,_),F.push(_))}return s==="wait"&&F.length&&(M=F),T(lE(M)),w(h),null}const{forceRender:j}=ve.useContext(C_);return p.jsx(p.Fragment,{children:S.map(M=>{const A=Mm(M),_=a&&!u?!1:h===S||d.includes(A),C=()=>{if(v.has(A))v.set(A,!0);else return;let D=!0;v.forEach(N=>{N||(D=!1)}),D&&(j==null||j(),T(y.current),a&&(c==null||c()),n&&n())};return p.jsx(nW,{isPresent:_,initial:!f.current||r?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:l,onExitComplete:_?void 0:C,anchorX:o,children:M},A)})})},ZP=ve.createContext({strict:!1}),uE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Df={};for(const t in uE)Df[t]={isEnabled:e=>uE[t].some(r=>!!e[r])};function sW(t){for(const e in t)Df[e]={...Df[e],...t[e]}}const aW=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function w1(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||aW.has(t)}let eI=t=>!w1(t);function oW(t){typeof t=="function"&&(eI=e=>e.startsWith("on")?!w1(e):t(e))}try{oW(require("@emotion/is-prop-valid").default)}catch{}function lW(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(eI(i)||r===!0&&w1(i)||!e&&!w1(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}const Cv=ve.createContext({});function Pv(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function rp(t){return typeof t=="string"||Array.isArray(t)}const eb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],tb=["initial",...eb];function Iv(t){return Pv(t.animate)||tb.some(e=>rp(t[e]))}function tI(t){return!!(Iv(t)||t.variants)}function uW(t,e){if(Iv(t)){const{initial:r,animate:n}=t;return{initial:r===!1||rp(r)?r:void 0,animate:rp(n)?n:void 0}}return t.inherit!==!1?e:{}}function cW(t){const{initial:e,animate:r}=uW(t,ve.useContext(Cv));return ve.useMemo(()=>({initial:e,animate:r}),[cE(e),cE(r)])}function cE(t){return Array.isArray(t)?t.join(" "):t}const np={};function hW(t){for(const e in t)np[e]=t[e],B_(e)&&(np[e].isCSSVariable=!0)}function rI(t,{layout:e,layoutId:r}){return Xf.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!np[t]||t==="opacity")}const fW={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},dW=Yf.length;function pW(t,e,r){let n="",i=!0;for(let s=0;s<dW;s++){const a=Yf[s],o=t[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||r){const u=qP(o,X_[a]);if(!l){i=!1;const c=fW[a]||a;n+=`${c}(${u}) `}r&&(e[a]=u)}}return n=n.trim(),r?n=r(e,i?"":n):i&&(n="none"),n}function rb(t,e,r){const{style:n,vars:i,transformOrigin:s}=t;let a=!1,o=!1;for(const l in e){const u=e[l];if(Xf.has(l)){a=!0;continue}else if(B_(l)){i[l]=u;continue}else{const c=qP(u,X_[l]);l.startsWith("origin")?(o=!0,s[l]=c):n[l]=c}}if(e.transform||(a||r?n.transform=pW(e,t.transform,r):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:c=0}=s;n.transformOrigin=`${l} ${u} ${c}`}}const nb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function nI(t,e,r){for(const n in e)!ki(e[n])&&!rI(n,r)&&(t[n]=e[n])}function mW({transformTemplate:t},e){return ve.useMemo(()=>{const r=nb();return rb(r,e,t),Object.assign({},r.vars,r.style)},[e])}function gW(t,e){const r=t.style||{},n={};return nI(n,r,t),Object.assign(n,mW(t,e)),n}function vW(t,e){const r={},n=gW(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const yW={offset:"stroke-dashoffset",array:"stroke-dasharray"},xW={offset:"strokeDashoffset",array:"strokeDasharray"};function wW(t,e,r=1,n=0,i=!0){t.pathLength=1;const s=i?yW:xW;t[s.offset]=Dt.transform(-n);const a=Dt.transform(e),o=Dt.transform(r);t[s.array]=`${a} ${o}`}function iI(t,{attrX:e,attrY:r,attrScale:n,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...o},l,u,c){if(rb(t,o,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:d}=t;h.transform&&(d.transform=h.transform,delete h.transform),(d.transform||h.transformOrigin)&&(d.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),d.transform&&(d.transformBox=(c==null?void 0:c.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),i!==void 0&&wW(h,i,s,a,!1)}const sI=()=>({...nb(),attrs:{}}),aI=t=>typeof t=="string"&&t.toLowerCase()==="svg";function _W(t,e,r,n){const i=ve.useMemo(()=>{const s=sI();return iI(s,e,aI(n),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};nI(s,t.style,t),i.style={...s,...i.style}}return i}const bW=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ib(t){return typeof t!="string"||t.includes("-")?!1:!!(bW.indexOf(t)>-1||/[A-Z]/u.test(t))}function SW(t,e,r,{latestValues:n},i,s=!1){const o=(ib(t)?_W:vW)(e,n,i,t),l=lW(e,typeof t=="string",s),u=t!==ve.Fragment?{...l,...o,ref:r}:{},{children:c}=e,h=ve.useMemo(()=>ki(c)?c.get():c,[c]);return ve.createElement(t,{...u,children:h})}function hE(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function sb(t,e,r,n){if(typeof e=="function"){const[i,s]=hE(n);e=e(r!==void 0?r:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=hE(n);e=e(r!==void 0?r:t.custom,i,s)}return e}function Tg(t){return ki(t)?t.get():t}function TW({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,i){return{latestValues:EW(r,n,i,t),renderState:e()}}function EW(t,e,r,n){const i={},s=n(t,{});for(const d in s)i[d]=Tg(s[d]);let{initial:a,animate:o}=t;const l=Iv(t),u=tI(t);e&&u&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let c=r?r.initial===!1:!1;c=c||a===!1;const h=c?o:a;if(h&&typeof h!="boolean"&&!Pv(h)){const d=Array.isArray(h)?h:[h];for(let f=0;f<d.length;f++){const y=sb(t,d[f]);if(y){const{transitionEnd:v,transition:b,...w}=y;for(const S in w){let T=w[S];if(Array.isArray(T)){const F=c?T.length-1:0;T=T[F]}T!==null&&(i[S]=T)}for(const S in v)i[S]=v[S]}}}return i}const oI=t=>(e,r)=>{const n=ve.useContext(Cv),i=ve.useContext(kv),s=()=>TW(t,e,n,i);return r?s():P_(s)};function ab(t,e,r){var s;const{style:n}=t,i={};for(const a in n)(ki(n[a])||e.style&&ki(e.style[a])||rI(a,t)||((s=r==null?void 0:r.getValue(a))==null?void 0:s.liveStyle)!==void 0)&&(i[a]=n[a]);return i}const AW=oI({scrapeMotionValuesFromProps:ab,createRenderState:nb});function lI(t,e,r){const n=ab(t,e,r);for(const i in t)if(ki(t[i])||ki(e[i])){const s=Yf.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=t[i]}return n}const NW=oI({scrapeMotionValuesFromProps:lI,createRenderState:sI}),kW=Symbol.for("motionComponentSymbol");function Yh(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function CW(t,e,r){return ve.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):Yh(r)&&(r.current=n))},[e])}const ob=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),PW="framerAppearId",uI="data-"+ob(PW),cI=ve.createContext({});function IW(t,e,r,n,i){var v,b;const{visualElement:s}=ve.useContext(Cv),a=ve.useContext(ZP),o=ve.useContext(kv),l=ve.useContext(Z_).reducedMotion,u=ve.useRef(null);n=n||a.renderer,!u.current&&n&&(u.current=n(t,{visualState:e,parent:s,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const c=u.current,h=ve.useContext(cI);c&&!c.projection&&i&&(c.type==="html"||c.type==="svg")&&RW(u.current,r,i,h);const d=ve.useRef(!1);ve.useInsertionEffect(()=>{c&&d.current&&c.update(r,o)});const f=r[uI],y=ve.useRef(!!f&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,f))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,f)));return aP(()=>{c&&(d.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),c.scheduleRenderMicrotask(),y.current&&c.animationState&&c.animationState.animateChanges())}),ve.useEffect(()=>{c&&(!y.current&&c.animationState&&c.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,f)}),y.current=!1),c.enteringChildren=void 0)}),c}function RW(t,e,r,n){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:hI(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&Yh(o),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:c,layoutScroll:l,layoutRoot:u})}function hI(t){if(t)return t.options.allowProjection!==!1?t.projection:hI(t.parent)}function J2(t,{forwardMotionProps:e=!1}={},r,n){r&&sW(r);const i=ib(t)?NW:AW;function s(o,l){let u;const c={...ve.useContext(Z_),...o,layoutId:LW(o)},{isStatic:h}=c,d=cW(o),f=i(o,h);if(!h&&I_){FW();const y=DW(c);u=y.MeasureLayout,d.visualElement=IW(t,f,c,n,y.ProjectionNode)}return p.jsxs(Cv.Provider,{value:d,children:[u&&d.visualElement?p.jsx(u,{visualElement:d.visualElement,...c}):null,SW(t,o,CW(f,d.visualElement,l),f,h,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=ve.forwardRef(s);return a[kW]=t,a}function LW({layoutId:t}){const e=ve.useContext(C_).id;return e&&t!==void 0?e+"-"+t:t}function FW(t,e){ve.useContext(ZP).strict}function DW(t){const{drag:e,layout:r}=Df;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function OW(t,e){if(typeof Proxy>"u")return J2;const r=new Map,n=(s,a)=>J2(s,a,t,e),i=(s,a)=>n(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?n:(r.has(a)||r.set(a,J2(a,void 0,t,e)),r.get(a))})}function fI({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function jW({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function MW(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Z2(t){return t===void 0||t===1}function aw({scale:t,scaleX:e,scaleY:r}){return!Z2(t)||!Z2(e)||!Z2(r)}function lc(t){return aw(t)||dI(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function dI(t){return fE(t.x)||fE(t.y)}function fE(t){return t&&t!=="0%"}function _1(t,e,r){const n=t-r,i=e*n;return r+i}function dE(t,e,r,n,i){return i!==void 0&&(t=_1(t,i,n)),_1(t,r,n)+e}function ow(t,e=0,r=1,n,i){t.min=dE(t.min,e,r,n,i),t.max=dE(t.max,e,r,n,i)}function pI(t,{x:e,y:r}){ow(t.x,e.translate,e.scale,e.originPoint),ow(t.y,r.translate,r.scale,r.originPoint)}const pE=.999999999999,mE=1.0000000000001;function BW(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=r[o],a=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Qh(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,pI(t,a)),n&&lc(s.latestValues)&&Qh(t,s.latestValues))}e.x<mE&&e.x>pE&&(e.x=1),e.y<mE&&e.y>pE&&(e.y=1)}function Xh(t,e){t.min=t.min+e,t.max=t.max+e}function gE(t,e,r,n,i=.5){const s=Xr(t.min,t.max,i);ow(t,e,r,s,n)}function Qh(t,e){gE(t.x,e.x,e.scaleX,e.scale,e.originX),gE(t.y,e.y,e.scaleY,e.scale,e.originY)}function mI(t,e){return fI(MW(t.getBoundingClientRect(),e))}function VW(t,e,r){const n=mI(t,r),{scroll:i}=e;return i&&(Xh(n.x,i.offset.x),Xh(n.y,i.offset.y)),n}const vE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Jh=()=>({x:vE(),y:vE()}),yE=()=>({min:0,max:0}),fn=()=>({x:yE(),y:yE()}),lw={current:null},gI={current:!1};function UW(){if(gI.current=!0,!!I_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>lw.current=t.matches;t.addEventListener("change",e),e()}else lw.current=!1}const zW=new WeakMap;function HW(t,e,r){for(const n in e){const i=e[n],s=r[n];if(ki(i))t.addValue(n,i);else if(ki(s))t.addValue(n,Ff(i,{owner:t}));else if(s!==i)if(t.hasValue(n)){const a=t.getValue(n);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(n);t.addValue(n,Ff(a!==void 0?a:i,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const xE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class WW{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=K_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const d=ls.now();this.renderScheduledAt<d&&(this.renderScheduledAt=d,Gr.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=Iv(r),this.isVariantNode=tI(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const d in h){const f=h[d];l[d]!==void 0&&ki(f)&&f.set(l[d])}}mount(e){var r;this.current=e,zW.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),gI.current||UW(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:lw.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Tu(this.notifyUpdate),Tu(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Xf.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Gr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Df){const r=Df[e];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):fn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<xE.length;n++){const i=xE[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=HW(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=Ff(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(oP(n)||uP(n))?n=parseFloat(n):!eW(n)&&Eu.test(r)&&(n=WP(e,r)),this.setBaseTarget(e,ki(n)?n.get():n)),ki(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var s;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const a=sb(this.props,r,(s=this.presenceContext)==null?void 0:s.custom);a&&(n=a[e])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!ki(i)?i:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new O_),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){Q_.render(this.render)}}class vI extends WW{constructor(){super(...arguments),this.KeyframeResolver=zH}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ki(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function yI(t,{style:e,vars:r},n,i){const s=t.style;let a;for(a in e)s[a]=e[a];i==null||i.applyProjectionStyles(s,n);for(a in r)s.setProperty(a,r[a])}function qW(t){return window.getComputedStyle(t)}class $W extends vI{constructor(){super(...arguments),this.type="html",this.renderInstance=yI}readValueFromInstance(e,r){var n;if(Xf.has(r))return(n=this.projection)!=null&&n.isProjecting?Zx(r):oH(e,r);{const i=qW(e),s=(B_(r)?i.getPropertyValue(r):i[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:r}){return mI(e,r)}build(e,r,n){rb(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return ab(e,r,n)}}const xI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function GW(t,e,r,n){yI(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(xI.has(i)?i:ob(i),e.attrs[i])}class KW extends vI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=fn}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Xf.has(r)){const n=HP(r);return n&&n.default||0}return r=xI.has(r)?r:ob(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return lI(e,r,n)}build(e,r,n){iI(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,i){GW(e,r,n,i)}mount(e){this.isSVGTag=aI(e.tagName),super.mount(e)}}const YW=(t,e)=>ib(t)?new KW(e):new $W(e,{allowProjection:t!==ve.Fragment});function ff(t,e,r){const n=t.getProps();return sb(n,e,r!==void 0?r:n.custom,t)}const uw=t=>Array.isArray(t);function XW(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Ff(r))}function QW(t){return uw(t)?t[t.length-1]||0:t}function JW(t,e){const r=ff(t,e);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const a in s){const o=QW(s[a]);XW(t,a,o)}}function ZW(t){return!!(ki(t)&&t.add)}function cw(t,e){const r=t.getValue("willChange");if(ZW(r))return r.add(e);if(!r&&el.WillChange){const n=new el.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function wI(t){return t.props[uI]}const eq=t=>t!==null;function tq(t,{repeat:e,repeatType:r="loop"},n){const i=t.filter(eq),s=e&&r!=="loop"&&e%2===1?0:i.length-1;return i[s]}const rq={type:"spring",stiffness:500,damping:25,restSpeed:10},nq=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),iq={type:"keyframes",duration:.8},sq={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},aq=(t,{keyframes:e})=>e.length>2?iq:Xf.has(t)?t.startsWith("scale")?nq(e[1]):rq:sq;function oq({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const lb=(t,e,r,n={},i,s)=>a=>{const o=Y_(n,t)||{},l=o.delay||n.delay||0;let{elapsed:u=0}=n;u=u-oo(l);const c={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:d=>{e.set(d),o.onUpdate&&o.onUpdate(d)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:i};oq(o)||Object.assign(c,aq(t,c)),c.duration&&(c.duration=oo(c.duration)),c.repeatDelay&&(c.repeatDelay=oo(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let h=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(iw(c),c.delay===0&&(h=!0)),(el.instantAnimations||el.skipAnimations)&&(h=!0,iw(c),c.delay=0),c.allowFlatten=!o.type&&!o.ease,h&&!s&&e.get()!==void 0){const d=tq(c.keyframes,o);if(d!==void 0){Gr.update(()=>{c.onUpdate(d),c.onComplete()});return}}return o.isSync?new G_(c):new PH(c)};function lq({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function _I(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...o}=e;n&&(s=n);const l=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const c in o){const h=t.getValue(c,t.latestValues[c]??null),d=o[c];if(d===void 0||u&&lq(u,c))continue;const f={delay:r,...Y_(s||{},c)},y=h.get();if(y!==void 0&&!h.isAnimating&&!Array.isArray(d)&&d===y&&!f.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const w=wI(t);if(w){const S=window.MotionHandoffAnimation(w,c,Gr);S!==null&&(f.startTime=S,v=!0)}}cw(t,c),h.start(lb(c,h,d,t.shouldReduceMotion&&VP.has(c)?{type:!1}:f,t,v));const b=h.animation;b&&l.push(b)}return a&&Promise.all(l).then(()=>{Gr.update(()=>{a&&JW(t,a)})}),l}function bI(t,e,r,n=0,i=1){const s=Array.from(t).sort((u,c)=>u.sortNodePosition(c)).indexOf(e),a=t.size,o=(a-1)*n;return typeof r=="function"?r(s,a):i===1?s*n:o-s*n}function hw(t,e,r={}){var l;const n=ff(t,e,r.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const s=n?()=>Promise.all(_I(t,n,r)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:h,staggerDirection:d}=i;return uq(t,e,u,c,h,d,r)}:()=>Promise.resolve(),{when:o}=i;if(o){const[u,c]=o==="beforeChildren"?[s,a]:[a,s];return u().then(()=>c())}else return Promise.all([s(),a(r.delay)])}function uq(t,e,r=0,n=0,i=0,s=1,a){const o=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),o.push(hw(l,e,{...a,delay:r+(typeof n=="function"?0:n)+bI(t.variantChildren,l,n,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(o)}function cq(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(s=>hw(t,s,r));n=Promise.all(i)}else if(typeof e=="string")n=hw(t,e,r);else{const i=typeof e=="function"?ff(t,e,r.custom):e;n=Promise.all(_I(t,i,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function SI(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const hq=tb.length;function TI(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?TI(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<hq;r++){const n=tb[r],i=t.props[n];(rp(i)||i===!1)&&(e[n]=i)}return e}const fq=[...eb].reverse(),dq=eb.length;function pq(t){return e=>Promise.all(e.map(({animation:r,options:n})=>cq(t,r,n)))}function mq(t){let e=pq(t),r=wE(),n=!0;const i=l=>(u,c)=>{var d;const h=ff(t,c,l==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);if(h){const{transition:f,transitionEnd:y,...v}=h;u={...u,...v,...y}}return u};function s(l){e=l(t)}function a(l){const{props:u}=t,c=TI(t.parent)||{},h=[],d=new Set;let f={},y=1/0;for(let b=0;b<dq;b++){const w=fq[b],S=r[w],T=u[w]!==void 0?u[w]:c[w],F=rp(T),j=w===l?S.isActive:null;j===!1&&(y=b);let M=T===c[w]&&T!==u[w]&&F;if(M&&n&&t.manuallyAnimateOnMount&&(M=!1),S.protectedKeys={...f},!S.isActive&&j===null||!T&&!S.prevProp||Pv(T)||typeof T=="boolean")continue;const A=gq(S.prevProp,T);let _=A||w===l&&S.isActive&&!M&&F||b>y&&F,C=!1;const D=Array.isArray(T)?T:[T];let N=D.reduce(i(w),{});j===!1&&(N={});const{prevResolvedValues:E={}}=S,R={...E,...N},H=ee=>{_=!0,d.has(ee)&&(C=!0,d.delete(ee)),S.needsAnimating[ee]=!0;const J=t.getValue(ee);J&&(J.liveStyle=!1)};for(const ee in R){const J=N[ee],re=E[ee];if(f.hasOwnProperty(ee))continue;let de=!1;uw(J)&&uw(re)?de=!SI(J,re):de=J!==re,de?J!=null?H(ee):d.add(ee):J!==void 0&&d.has(ee)?H(ee):S.protectedKeys[ee]=!0}S.prevProp=T,S.prevResolvedValues=N,S.isActive&&(f={...f,...N}),n&&t.blockInitialAnimation&&(_=!1);const me=M&&A;_&&(!me||C)&&h.push(...D.map(ee=>{const J={type:w};if(typeof ee=="string"&&n&&!me&&t.manuallyAnimateOnMount&&t.parent){const{parent:re}=t,de=ff(re,ee);if(re.enteringChildren&&de){const{delayChildren:Se}=de.transition||{};J.delay=bI(re.enteringChildren,t,Se)}}return{animation:ee,options:J}}))}if(d.size){const b={};if(typeof u.initial!="boolean"){const w=ff(t,Array.isArray(u.initial)?u.initial[0]:u.initial);w&&w.transition&&(b.transition=w.transition)}d.forEach(w=>{const S=t.getBaseTarget(w),T=t.getValue(w);T&&(T.liveStyle=!0),b[w]=S??null}),h.push({animation:b})}let v=!!h.length;return n&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(v=!1),n=!1,v?e(h):Promise.resolve()}function o(l,u){var h;if(r[l].isActive===u)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(d=>{var f;return(f=d.animationState)==null?void 0:f.setActive(l,u)}),r[l].isActive=u;const c=a(l);for(const d in r)r[d].protectedKeys={};return c}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>r,reset:()=>{r=wE(),n=!0}}}function gq(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!SI(e,t):!1}function ic(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function wE(){return{animate:ic(!0),whileInView:ic(),whileHover:ic(),whileTap:ic(),whileDrag:ic(),whileFocus:ic(),exit:ic()}}class Mu{constructor(e){this.isMounted=!1,this.node=e}update(){}}class vq extends Mu{constructor(e){super(e),e.animationState||(e.animationState=mq(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Pv(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let yq=0;class xq extends Mu{constructor(){super(...arguments),this.id=yq++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);r&&!e&&i.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const wq={animation:{Feature:vq},exit:{Feature:xq}};function ip(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function jp(t){return{point:{x:t.pageX,y:t.pageY}}}const _q=t=>e=>J_(e)&&t(e,jp(e));function o0(t,e,r,n){return ip(t,e,_q(r),n)}const EI=1e-4,bq=1-EI,Sq=1+EI,AI=.01,Tq=0-AI,Eq=0+AI;function Wi(t){return t.max-t.min}function Aq(t,e,r){return Math.abs(t-e)<=r}function _E(t,e,r,n=.5){t.origin=n,t.originPoint=Xr(e.min,e.max,t.origin),t.scale=Wi(r)/Wi(e),t.translate=Xr(r.min,r.max,t.origin)-t.originPoint,(t.scale>=bq&&t.scale<=Sq||isNaN(t.scale))&&(t.scale=1),(t.translate>=Tq&&t.translate<=Eq||isNaN(t.translate))&&(t.translate=0)}function l0(t,e,r,n){_E(t.x,e.x,r.x,n?n.originX:void 0),_E(t.y,e.y,r.y,n?n.originY:void 0)}function bE(t,e,r){t.min=r.min+e.min,t.max=t.min+Wi(e)}function Nq(t,e,r){bE(t.x,e.x,r.x),bE(t.y,e.y,r.y)}function SE(t,e,r){t.min=e.min-r.min,t.max=t.min+Wi(e)}function u0(t,e,r){SE(t.x,e.x,r.x),SE(t.y,e.y,r.y)}function Xs(t){return[t("x"),t("y")]}const NI=({current:t})=>t?t.ownerDocument.defaultView:null,TE=(t,e)=>Math.abs(t-e);function kq(t,e){const r=TE(t.x,e.x),n=TE(t.y,e.y);return Math.sqrt(r**2+n**2)}class kI{constructor(e,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=ty(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,y=kq(d.offset,{x:0,y:0})>=this.distanceThreshold;if(!f&&!y)return;const{point:v}=d,{timestamp:b}=ni;this.history.push({...v,timestamp:b});const{onStart:w,onMove:S}=this.handlers;f||(w&&w(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=ey(f,this.transformPagePoint),Gr.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:y,onSessionEnd:v,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=ty(d.type==="pointercancel"?this.lastMoveEventInfo:ey(f,this.transformPagePoint),this.history);this.startEvent&&y&&y(d,w),v&&v(d,w)},!J_(e))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=i||window;const o=jp(e),l=ey(o,this.transformPagePoint),{point:u}=l,{timestamp:c}=ni;this.history=[{...u,timestamp:c}];const{onSessionStart:h}=r;h&&h(e,ty(l,this.history)),this.removeListeners=Fp(o0(this.contextWindow,"pointermove",this.handlePointerMove),o0(this.contextWindow,"pointerup",this.handlePointerUp),o0(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Tu(this.updatePoint)}}function ey(t,e){return e?{point:e(t.point)}:t}function EE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ty({point:t},e){return{point:t,delta:EE(t,CI(e)),offset:EE(t,Cq(e)),velocity:Pq(e,.1)}}function Cq(t){return t[0]}function CI(t){return t[t.length-1]}function Pq(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=CI(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>oo(e)));)r--;if(!n)return{x:0,y:0};const s=lo(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Iq(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?Xr(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?Xr(r,t,n.max):Math.min(t,r)),t}function AE(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function Rq(t,{top:e,left:r,bottom:n,right:i}){return{x:AE(t.x,r,i),y:AE(t.y,e,n)}}function NE(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function Lq(t,e){return{x:NE(t.x,e.x),y:NE(t.y,e.y)}}function Fq(t,e){let r=.5;const n=Wi(t),i=Wi(e);return i>n?r=Z0(e.min,e.max-n,t.min):n>i&&(r=Z0(t.min,t.max-i,e.min)),Zo(0,1,r)}function Dq(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const fw=.35;function Oq(t=fw){return t===!1?t=0:t===!0&&(t=fw),{x:kE(t,"left","right"),y:kE(t,"top","bottom")}}function kE(t,e,r){return{min:CE(t,e),max:CE(t,r)}}function CE(t,e){return typeof t=="number"?t:t[e]||0}const jq=new WeakMap;class Mq{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=fn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(jp(h).point)},a=(h,d)=>{const{drag:f,dragPropagation:y,onDragStart:v}=this.getProps();if(f&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$H(f),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=d,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xs(w=>{let S=this.getAxisMotionValue(w).get()||0;if(uo.test(S)){const{projection:T}=this.visualElement;if(T&&T.layout){const F=T.layout.layoutBox[w];F&&(S=Wi(F)*(parseFloat(S)/100))}}this.originPoint[w]=S}),v&&Gr.postRender(()=>v(h,d)),cw(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(h,d)=>{this.latestPointerEvent=h,this.latestPanInfo=d;const{dragPropagation:f,dragDirectionLock:y,onDirectionLock:v,onDrag:b}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:w}=d;if(y&&this.currentDirection===null){this.currentDirection=Bq(w),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",d.point,w),this.updateAxis("y",d.point,w),this.visualElement.render(),b&&b(h,d)},l=(h,d)=>{this.latestPointerEvent=h,this.latestPanInfo=d,this.stop(h,d),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Xs(h=>{var d;return this.getAnimationState(h)==="paused"&&((d=this.getAxisMotionValue(h).animation)==null?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new kI(e,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:n,contextWindow:NI(this.visualElement)})}stop(e,r){const n=e||this.latestPointerEvent,i=r||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!n)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&Gr.postRender(()=>o(n,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!Bm(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=Iq(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&Yh(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=Rq(n.layoutBox,e):this.constraints=!1,this.elastic=Oq(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Xs(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=Dq(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Yh(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=VW(n,i.root,this.visualElement.getTransformPagePoint());let a=Lq(i.layout.layoutBox,s);if(r){const o=r(jW(a));this.hasMutatedConstraints=!!o,o&&(a=fI(o))}return a}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=Xs(c=>{if(!Bm(c,r,this.currentDirection))return;let h=l&&l[c]||{};a&&(h={min:0,max:0});const d=i?200:1e6,f=i?40:1e7,y={type:"inertia",velocity:n?e[c]:0,bounceStiffness:d,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(c,y)});return Promise.all(u).then(o)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return cw(this.visualElement,e),n.start(lb(e,n,0,r,this.visualElement,!1))}stopAnimation(){Xs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Xs(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Xs(r=>{const{drag:n}=this.getProps();if(!Bm(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[r];s.set(e[r]-Xr(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Yh(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Xs(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=Fq({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Xs(a=>{if(!Bm(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:u}=this.constraints[a];o.set(Xr(l,u,i[a]))})}addListeners(){if(!this.visualElement.current)return;jq.set(this.visualElement,this);const e=this.visualElement.current,r=o0(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();Yh(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Gr.read(n);const a=ip(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Xs(c=>{const h=this.getAxisMotionValue(c);h&&(this.originPoint[c]+=l[c].translate,h.set(h.get()+l[c].translate))}),this.visualElement.render())});return()=>{a(),r(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=fw,dragMomentum:o=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function Bm(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function Bq(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class Vq extends Mu{constructor(e){super(e),this.removeGroupControls=na,this.removeListeners=na,this.controls=new Mq(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||na}unmount(){this.removeGroupControls(),this.removeListeners()}}const PE=t=>(e,r)=>{t&&Gr.postRender(()=>t(e,r))};class Uq extends Mu{constructor(){super(...arguments),this.removePointerDownListener=na}onPointerDown(e){this.session=new kI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:NI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:PE(e),onStart:PE(r),onMove:n,onEnd:(s,a)=>{delete this.session,i&&Gr.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=o0(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Eg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function IE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Nd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Dt.test(t))t=parseFloat(t);else return t;const r=IE(t,e.target.x),n=IE(t,e.target.y);return`${r}% ${n}%`}},zq={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=Eu.parse(t);if(i.length>5)return n;const s=Eu.createTransformer(t),a=typeof i[0]!="number"?1:0,o=r.x.scale*e.x,l=r.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const u=Xr(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=u),typeof i[3+a]=="number"&&(i[3+a]/=u),s(i)}};let ry=!1;class Hq extends ve.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=e;hW(Wq),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),ry&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Eg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,{projection:a}=n;return a&&(a.isPresent=s,ry=!0,i||e.layoutDependency!==r||r===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||Gr.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Q_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;ry=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function PI(t){const[e,r]=QP(),n=ve.useContext(C_);return p.jsx(Hq,{...t,layoutGroup:n,switchLayoutGroup:ve.useContext(cI),isPresent:e,safeToRemove:r})}const Wq={borderRadius:{...Nd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Nd,borderTopRightRadius:Nd,borderBottomLeftRadius:Nd,borderBottomRightRadius:Nd,boxShadow:zq};function qq(t,e,r){const n=ki(t)?t:Ff(t);return n.start(lb("",n,e,r)),n.animation}const $q=(t,e)=>t.depth-e.depth;class Gq{constructor(){this.children=[],this.isDirty=!1}add(e){R_(this.children,e),this.isDirty=!0}remove(e){L_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort($q),this.isDirty=!1,this.children.forEach(e)}}function Kq(t,e){const r=ls.now(),n=({timestamp:i})=>{const s=i-r;s>=e&&(Tu(n),t(s-e))};return Gr.setup(n,!0),()=>Tu(n)}const II=["TopLeft","TopRight","BottomLeft","BottomRight"],Yq=II.length,RE=t=>typeof t=="string"?parseFloat(t):t,LE=t=>typeof t=="number"||Dt.test(t);function Xq(t,e,r,n,i,s){i?(t.opacity=Xr(0,r.opacity??1,Qq(n)),t.opacityExit=Xr(e.opacity??1,0,Jq(n))):s&&(t.opacity=Xr(e.opacity??1,r.opacity??1,n));for(let a=0;a<Yq;a++){const o=`border${II[a]}Radius`;let l=FE(e,o),u=FE(r,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||LE(l)===LE(u)?(t[o]=Math.max(Xr(RE(l),RE(u),n),0),(uo.test(u)||uo.test(l))&&(t[o]+="%")):t[o]=u}(e.rotate||r.rotate)&&(t.rotate=Xr(e.rotate||0,r.rotate||0,n))}function FE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Qq=RI(0,.5,vP),Jq=RI(.5,.95,na);function RI(t,e,r){return n=>n<t?0:n>e?1:r(Z0(t,e,n))}function DE(t,e){t.min=e.min,t.max=e.max}function Ks(t,e){DE(t.x,e.x),DE(t.y,e.y)}function OE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function jE(t,e,r,n,i){return t-=e,t=_1(t,1/r,n),i!==void 0&&(t=_1(t,1/i,n)),t}function Zq(t,e=0,r=1,n=.5,i,s=t,a=t){if(uo.test(e)&&(e=parseFloat(e),e=Xr(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=Xr(s.min,s.max,n);t===s&&(o-=e),t.min=jE(t.min,e,r,o,i),t.max=jE(t.max,e,r,o,i)}function ME(t,e,[r,n,i],s,a){Zq(t,e[r],e[n],e[i],e.scale,s,a)}const e$=["x","scaleX","originX"],t$=["y","scaleY","originY"];function BE(t,e,r,n){ME(t.x,e,e$,r?r.x:void 0,n?n.x:void 0),ME(t.y,e,t$,r?r.y:void 0,n?n.y:void 0)}function VE(t){return t.translate===0&&t.scale===1}function LI(t){return VE(t.x)&&VE(t.y)}function UE(t,e){return t.min===e.min&&t.max===e.max}function r$(t,e){return UE(t.x,e.x)&&UE(t.y,e.y)}function zE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function FI(t,e){return zE(t.x,e.x)&&zE(t.y,e.y)}function HE(t){return Wi(t.x)/Wi(t.y)}function WE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class n${constructor(){this.members=[]}add(e){R_(this.members,e),e.scheduleRender()}remove(e){if(L_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function i$(t,e,r){let n="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=(r==null?void 0:r.z)||0;if((i||s||a)&&(n=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:u,rotate:c,rotateX:h,rotateY:d,skewX:f,skewY:y}=r;u&&(n=`perspective(${u}px) ${n}`),c&&(n+=`rotate(${c}deg) `),h&&(n+=`rotateX(${h}deg) `),d&&(n+=`rotateY(${d}deg) `),f&&(n+=`skewX(${f}deg) `),y&&(n+=`skewY(${y}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const ny=["","X","Y","Z"],s$=1e3;let a$=0;function iy(t,e,r,n){const{latestValues:i}=e;i[t]&&(r[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function DI(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=wI(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Gr,!(i||s))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&DI(n)}function OI({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(a={},o=e==null?void 0:e()){this.id=a$++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(u$),this.nodes.forEach(d$),this.nodes.forEach(p$),this.nodes.forEach(c$)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Gq)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new O_),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=XP(a)&&!JH(a),this.instance=a;const{layoutId:o,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),t){let c,h=0;const d=()=>this.root.updateBlockedByResize=!1;Gr.read(()=>{h=window.innerWidth}),t(a,()=>{const f=window.innerWidth;f!==h&&(h=f,this.root.updateBlockedByResize=!0,c&&c(),c=Kq(d,250),Eg.hasAnimatedSinceResize&&(Eg.hasAnimatedSinceResize=!1,this.nodes.forEach(GE)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:d,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||x$,{onLayoutAnimationStart:v,onLayoutAnimationComplete:b}=u.getProps(),w=!this.targetLayout||!FI(this.targetLayout,f),S=!h&&d;if(this.options.layoutRoot||this.resumeFrom||S||h&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={...Y_(y,"layout"),onPlay:v,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(c,S)}else h||GE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Tu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(m$),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&DI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const h=this.path[c];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(qE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach($E);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(f$),this.nodes.forEach(o$),this.nodes.forEach(l$)):this.nodes.forEach($E),this.clearAllSnapshots();const o=ls.now();ni.delta=Zo(0,1e3/60,o-ni.timestamp),ni.timestamp=o,ni.isProcessing=!0,$2.update.process(ni),$2.preRender.process(ni),$2.render.process(ni),ni.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Q_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(h$),this.sharedNodes.forEach(g$)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Gr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Gr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Wi(this.snapshot.measuredBox.x)&&!Wi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=fn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!LI(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;a&&this.instance&&(o||lc(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),w$(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return fn();const o=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(_$))){const{scroll:c}=this.root;c&&(Xh(o.x,c.offset.x),Xh(o.y,c.offset.y))}return o}removeElementScroll(a){var l;const o=fn();if(Ks(o,a),(l=this.scroll)!=null&&l.wasRoot)return o;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:h,options:d}=c;c!==this.root&&h&&d.layoutScroll&&(h.wasRoot&&Ks(o,a),Xh(o.x,h.offset.x),Xh(o.y,h.offset.y))}return o}applyTransform(a,o=!1){const l=fn();Ks(l,a);for(let u=0;u<this.path.length;u++){const c=this.path[u];!o&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Qh(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),lc(c.latestValues)&&Qh(l,c.latestValues)}return lc(this.latestValues)&&Qh(l,this.latestValues),l}removeTransform(a){const o=fn();Ks(o,a);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!lc(u.latestValues))continue;aw(u.latestValues)&&u.updateSnapshot();const c=fn(),h=u.measurePageBox();Ks(c,h),BE(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return lc(this.latestValues)&&BE(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ni.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var d;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(d=this.parent)!=null&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:h}=this.options;if(!(!this.layout||!(c||h))){if(this.resolvedRelativeTargetAt=ni.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fn(),this.relativeTargetOrigin=fn(),u0(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Ks(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=fn(),this.targetWithTransforms=fn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Nq(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ks(this.target,this.layout.layoutBox),pI(this.target,this.targetDelta)):Ks(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fn(),this.relativeTargetOrigin=fn(),u0(this.relativeTargetOrigin,this.target,f.target),Ks(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||aw(this.parent.latestValues)||dI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var y;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===ni.timestamp&&(l=!1),l)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;Ks(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,d=this.treeScale.y;BW(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=fn());const{target:f}=a;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(OE(this.prevProjectionDelta.x,this.projectionDelta.x),OE(this.prevProjectionDelta.y,this.projectionDelta.y)),l0(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==d||!WE(this.projectionDelta.x,this.prevProjectionDelta.x)||!WE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Jh(),this.projectionDelta=Jh(),this.projectionDeltaWithTransform=Jh()}setAnimationOrigin(a,o=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},h=Jh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const d=fn(),f=l?l.source:void 0,y=this.layout?this.layout.source:void 0,v=f!==y,b=this.getStack(),w=!b||b.members.length<=1,S=!!(v&&!w&&this.options.crossfade===!0&&!this.path.some(y$));this.animationProgress=0;let T;this.mixTargetDelta=F=>{const j=F/1e3;KE(h.x,a.x,j),KE(h.y,a.y,j),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(u0(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),v$(this.relativeTarget,this.relativeTargetOrigin,d,j),T&&r$(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=fn()),Ks(T,this.relativeTarget)),v&&(this.animationValues=c,Xq(c,u,this.latestValues,j,S,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var o,l,u;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Tu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Gr.update(()=>{Eg.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ff(0)),this.currentAnimation=qq(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),a.onUpdate&&a.onUpdate(c)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(s$),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:c}=a;if(!(!o||!l||!u)){if(this!==a&&this.layout&&u&&jI(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||fn();const h=Wi(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+h;const d=Wi(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+d}Ks(o,l),Qh(o,c),l0(this.projectionDeltaWithTransform,this.layoutCorrected,o,c)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new n$),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&iy("z",a,u,this.animationValues);for(let c=0;c<ny.length;c++)iy(`rotate${ny[c]}`,a,u,this.animationValues),iy(`skew${ny[c]}`,a,u,this.animationValues);a.render();for(const c in u)a.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Tg(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Tg(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!lc(this.latestValues)&&(a.transform=l?l({},""):"none",this.hasProjected=!1);return}a.visibility="";const c=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=i$(this.projectionDeltaWithTransform,this.treeScale,c);l&&(h=l(c,h)),a.transform=h;const{x:d,y:f}=this.projectionDelta;a.transformOrigin=`${d.origin*100}% ${f.origin*100}% 0`,u.animationValues?a.opacity=u===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:a.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const y in np){if(c[y]===void 0)continue;const{correct:v,applyTo:b,isCSSVariable:w}=np[y],S=h==="none"?c[y]:v(c[y],u);if(b){const T=b.length;for(let F=0;F<T;F++)a[b[F]]=S}else w?this.options.visualElement.renderState.vars[y]=S:a[y]=S}this.options.layoutId&&(a.pointerEvents=u===this?Tg(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(qE),this.root.sharedNodes.clear()}}}function o$(t){t.updateLayout()}function l$(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:s}=t.options,a=e.source!==t.layout.source;s==="size"?Xs(h=>{const d=a?e.measuredBox[h]:e.layoutBox[h],f=Wi(d);d.min=n[h].min,d.max=d.min+f}):jI(s,e.layoutBox,n)&&Xs(h=>{const d=a?e.measuredBox[h]:e.layoutBox[h],f=Wi(n[h]);d.max=d.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+f)});const o=Jh();l0(o,n,e.layoutBox);const l=Jh();a?l0(l,t.applyTransform(i,!0),e.measuredBox):l0(l,n,e.layoutBox);const u=!LI(o);let c=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:d,layout:f}=h;if(d&&f){const y=fn();u0(y,e.layoutBox,d.layoutBox);const v=fn();u0(v,n,f.layoutBox),FI(y,v)||(c=!0),h.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=y,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:c})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function u$(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function c$(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function h$(t){t.clearSnapshot()}function qE(t){t.clearMeasurements()}function $E(t){t.isLayoutDirty=!1}function f$(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function GE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function d$(t){t.resolveTargetDelta()}function p$(t){t.calcProjection()}function m$(t){t.resetSkewAndRotation()}function g$(t){t.removeLeadSnapshot()}function KE(t,e,r){t.translate=Xr(e.translate,0,r),t.scale=Xr(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function YE(t,e,r,n){t.min=Xr(e.min,r.min,n),t.max=Xr(e.max,r.max,n)}function v$(t,e,r,n){YE(t.x,e.x,r.x,n),YE(t.y,e.y,r.y,n)}function y$(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const x$={duration:.45,ease:[.4,0,.1,1]},XE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),QE=XE("applewebkit/")&&!XE("chrome/")?Math.round:na;function JE(t){t.min=QE(t.min),t.max=QE(t.max)}function w$(t){JE(t.x),JE(t.y)}function jI(t,e,r){return t==="position"||t==="preserve-aspect"&&!Aq(HE(e),HE(r),.2)}function _$(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const b$=OI({attachResizeListener:(t,e)=>ip(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),sy={current:void 0},MI=OI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!sy.current){const t=new b$({});t.mount(window),t.setOptions({layoutScroll:!0}),sy.current=t}return sy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),S$={pan:{Feature:Uq},drag:{Feature:Vq,ProjectionNode:MI,MeasureLayout:PI}};function ZE(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&Gr.postRender(()=>s(e,jp(e)))}class T$ extends Mu{mount(){const{current:e}=this.node;e&&(this.unmount=GH(e,(r,n)=>(ZE(this.node,n,"Start"),i=>ZE(this.node,i,"End"))))}unmount(){}}class E$ extends Mu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fp(ip(this.node.current,"focus",()=>this.onFocus()),ip(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function e3(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&Gr.postRender(()=>s(e,jp(e)))}class A$ extends Mu{mount(){const{current:e}=this.node;e&&(this.unmount=QH(e,(r,n)=>(e3(this.node,n,"Start"),(i,{success:s})=>e3(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const dw=new WeakMap,ay=new WeakMap,N$=t=>{const e=dw.get(t.target);e&&e(t)},k$=t=>{t.forEach(N$)};function C$({root:t,...e}){const r=t||document;ay.has(r)||ay.set(r,{});const n=ay.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(k$,{root:t,...e})),n[i]}function P$(t,e,r){const n=C$(e);return dw.set(t,r),n.observe(t),()=>{dw.delete(t),n.unobserve(t)}}const I$={some:0,all:1};class R$ extends Mu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=e,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:I$[i]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:h}=this.node.getProps(),d=u?c:h;d&&d(l)};return P$(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(L$(e,r))&&this.startObserver()}unmount(){}}function L$({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const F$={inView:{Feature:R$},tap:{Feature:A$},focus:{Feature:E$},hover:{Feature:T$}},D$={layout:{ProjectionNode:MI,MeasureLayout:PI}},O$={...wq,...F$,...S$,...D$},b1=OW(O$,YW);function bh({children:t,allowedRoles:e=[]}){const{user:r,role:n,loading:i}=Nv(),s=po();return i?p.jsx(b1.div,{className:"flex justify-center items-center min-h-screen",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:p.jsx("p",{children:"Loading..."})}):!r||e.length>0&&!e.includes(n)?p.jsx(Vk,{to:"/",state:{from:s},replace:!0}):p.jsx(p.Fragment,{children:t})}function j$(){return p.jsx("footer",{className:"bg-gray-800 text-gray-200 py-6 mt-12",children:p.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col md:flex-row justify-between items-center px-6",children:[p.jsx("div",{className:"mb-4 md:mb-0 flex items-center",children:p.jsx("span",{className:"text-xl font-bold text-green-500",children:"OrganDonorMS"})}),p.jsxs("div",{className:"flex space-x-6 mb-4 md:mb-0",children:[p.jsx(ka,{to:"/",className:"hover:text-green-500 transition",children:"Home"}),p.jsx(ka,{to:"/why-donate",className:"hover:text-green-500 transition",children:"Why Donate"}),p.jsx(ka,{to:"/how-it-works",className:"hover:text-green-500 transition",children:"How It Works"}),p.jsx(ka,{to:"/eligibility",className:"hover:text-green-500 transition",children:"Eligibility"})]}),p.jsxs("div",{className:"text-sm text-gray-400",children:[" ",new Date().getFullYear()," Organ Donor Management System. All rights reserved."]})]})})}var BI={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Hd,function(){return function(r){function n(s){if(i[s])return i[s].exports;var a=i[s]={exports:{},id:s,loaded:!1};return r[s].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}var i={};return n.m=r,n.c=i,n.p="dist/",n(0)}([function(r,n,i){function s(H){return H&&H.__esModule?H:{default:H}}var a=Object.assign||function(H){for(var me=1;me<arguments.length;me++){var ie=arguments[me];for(var ee in ie)Object.prototype.hasOwnProperty.call(ie,ee)&&(H[ee]=ie[ee])}return H},o=i(1),l=(s(o),i(6)),u=s(l),c=i(7),h=s(c),d=i(8),f=s(d),y=i(9),v=s(y),b=i(10),w=s(b),S=i(11),T=s(S),F=i(14),j=s(F),M=[],A=!1,_={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},C=function(){var H=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(H&&(A=!0),A)return M=(0,T.default)(M,_),(0,w.default)(M,_.once),M},D=function(){M=(0,j.default)(),C()},N=function(){M.forEach(function(H,me){H.node.removeAttribute("data-aos"),H.node.removeAttribute("data-aos-easing"),H.node.removeAttribute("data-aos-duration"),H.node.removeAttribute("data-aos-delay")})},E=function(H){return H===!0||H==="mobile"&&v.default.mobile()||H==="phone"&&v.default.phone()||H==="tablet"&&v.default.tablet()||typeof H=="function"&&H()===!0},R=function(H){_=a(_,H),M=(0,j.default)();var me=document.all&&!window.atob;return E(_.disable)||me?N():(_.disableMutationObserver||f.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),_.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",_.easing),document.querySelector("body").setAttribute("data-aos-duration",_.duration),document.querySelector("body").setAttribute("data-aos-delay",_.delay),_.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?C(!0):_.startEvent==="load"?window.addEventListener(_.startEvent,function(){C(!0)}):document.addEventListener(_.startEvent,function(){C(!0)}),window.addEventListener("resize",(0,h.default)(C,_.debounceDelay,!0)),window.addEventListener("orientationchange",(0,h.default)(C,_.debounceDelay,!0)),window.addEventListener("scroll",(0,u.default)(function(){(0,w.default)(M,_.once)},_.throttleDelay)),_.disableMutationObserver||f.default.ready("[data-aos]",D),M)};r.exports={init:R,refresh:C,refreshHard:D}},function(r,n){},,,,,function(r,n){(function(i){function s(E,R,H){function me(ze){var Pe=U,oe=z;return U=z=void 0,ye=ze,ge=E.apply(oe,Pe)}function ie(ze){return ye=ze,G=setTimeout(re,R),Ne?me(ze):ge}function ee(ze){var Pe=ze-ue,oe=ze-ye,He=R-Pe;return je?D(He,Q-oe):He}function J(ze){var Pe=ze-ue,oe=ze-ye;return ue===void 0||Pe>=R||Pe<0||je&&oe>=Q}function re(){var ze=N();return J(ze)?de(ze):void(G=setTimeout(re,ee(ze)))}function de(ze){return G=void 0,Ue&&U?me(ze):(U=z=void 0,ge)}function Se(){G!==void 0&&clearTimeout(G),ye=0,U=ue=z=G=void 0}function I(){return G===void 0?ge:de(N())}function V(){var ze=N(),Pe=J(ze);if(U=arguments,z=this,ue=ze,Pe){if(G===void 0)return ie(ue);if(je)return G=setTimeout(re,R),me(ue)}return G===void 0&&(G=setTimeout(re,R)),ge}var U,z,Q,ge,G,ue,ye=0,Ne=!1,je=!1,Ue=!0;if(typeof E!="function")throw new TypeError(d);return R=c(R)||0,o(H)&&(Ne=!!H.leading,je="maxWait"in H,Q=je?C(c(H.maxWait)||0,R):Q,Ue="trailing"in H?!!H.trailing:Ue),V.cancel=Se,V.flush=I,V}function a(E,R,H){var me=!0,ie=!0;if(typeof E!="function")throw new TypeError(d);return o(H)&&(me="leading"in H?!!H.leading:me,ie="trailing"in H?!!H.trailing:ie),s(E,R,{leading:me,maxWait:R,trailing:ie})}function o(E){var R=typeof E>"u"?"undefined":h(E);return!!E&&(R=="object"||R=="function")}function l(E){return!!E&&(typeof E>"u"?"undefined":h(E))=="object"}function u(E){return(typeof E>"u"?"undefined":h(E))=="symbol"||l(E)&&_.call(E)==y}function c(E){if(typeof E=="number")return E;if(u(E))return f;if(o(E)){var R=typeof E.valueOf=="function"?E.valueOf():E;E=o(R)?R+"":R}if(typeof E!="string")return E===0?E:+E;E=E.replace(v,"");var H=w.test(E);return H||S.test(E)?T(E.slice(2),H?2:8):b.test(E)?f:+E}var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},d="Expected a function",f=NaN,y="[object Symbol]",v=/^\s+|\s+$/g,b=/^[-+]0x[0-9a-f]+$/i,w=/^0b[01]+$/i,S=/^0o[0-7]+$/i,T=parseInt,F=(typeof i>"u"?"undefined":h(i))=="object"&&i&&i.Object===Object&&i,j=(typeof self>"u"?"undefined":h(self))=="object"&&self&&self.Object===Object&&self,M=F||j||Function("return this")(),A=Object.prototype,_=A.toString,C=Math.max,D=Math.min,N=function(){return M.Date.now()};r.exports=a}).call(n,function(){return this}())},function(r,n){(function(i){function s(N,E,R){function H(Ue){var ze=V,Pe=U;return V=U=void 0,ue=Ue,Q=N.apply(Pe,ze)}function me(Ue){return ue=Ue,ge=setTimeout(J,E),ye?H(Ue):Q}function ie(Ue){var ze=Ue-G,Pe=Ue-ue,oe=E-ze;return Ne?C(oe,z-Pe):oe}function ee(Ue){var ze=Ue-G,Pe=Ue-ue;return G===void 0||ze>=E||ze<0||Ne&&Pe>=z}function J(){var Ue=D();return ee(Ue)?re(Ue):void(ge=setTimeout(J,ie(Ue)))}function re(Ue){return ge=void 0,je&&V?H(Ue):(V=U=void 0,Q)}function de(){ge!==void 0&&clearTimeout(ge),ue=0,V=G=U=ge=void 0}function Se(){return ge===void 0?Q:re(D())}function I(){var Ue=D(),ze=ee(Ue);if(V=arguments,U=this,G=Ue,ze){if(ge===void 0)return me(G);if(Ne)return ge=setTimeout(J,E),H(G)}return ge===void 0&&(ge=setTimeout(J,E)),Q}var V,U,z,Q,ge,G,ue=0,ye=!1,Ne=!1,je=!0;if(typeof N!="function")throw new TypeError(h);return E=u(E)||0,a(R)&&(ye=!!R.leading,Ne="maxWait"in R,z=Ne?_(u(R.maxWait)||0,E):z,je="trailing"in R?!!R.trailing:je),I.cancel=de,I.flush=Se,I}function a(N){var E=typeof N>"u"?"undefined":c(N);return!!N&&(E=="object"||E=="function")}function o(N){return!!N&&(typeof N>"u"?"undefined":c(N))=="object"}function l(N){return(typeof N>"u"?"undefined":c(N))=="symbol"||o(N)&&A.call(N)==f}function u(N){if(typeof N=="number")return N;if(l(N))return d;if(a(N)){var E=typeof N.valueOf=="function"?N.valueOf():N;N=a(E)?E+"":E}if(typeof N!="string")return N===0?N:+N;N=N.replace(y,"");var R=b.test(N);return R||w.test(N)?S(N.slice(2),R?2:8):v.test(N)?d:+N}var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},h="Expected a function",d=NaN,f="[object Symbol]",y=/^\s+|\s+$/g,v=/^[-+]0x[0-9a-f]+$/i,b=/^0b[01]+$/i,w=/^0o[0-7]+$/i,S=parseInt,T=(typeof i>"u"?"undefined":c(i))=="object"&&i&&i.Object===Object&&i,F=(typeof self>"u"?"undefined":c(self))=="object"&&self&&self.Object===Object&&self,j=T||F||Function("return this")(),M=Object.prototype,A=M.toString,_=Math.max,C=Math.min,D=function(){return j.Date.now()};r.exports=s}).call(n,function(){return this}())},function(r,n){function i(c){var h=void 0,d=void 0;for(h=0;h<c.length;h+=1)if(d=c[h],d.dataset&&d.dataset.aos||d.children&&i(d.children))return!0;return!1}function s(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function a(){return!!s()}function o(c,h){var d=window.document,f=s(),y=new f(l);u=h,y.observe(d.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function l(c){c&&c.forEach(function(h){var d=Array.prototype.slice.call(h.addedNodes),f=Array.prototype.slice.call(h.removedNodes),y=d.concat(f);if(i(y))return u()})}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){};n.default={isSupported:a,ready:o}},function(r,n){function i(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}function s(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function d(f,y){for(var v=0;v<y.length;v++){var b=y[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}return function(f,y,v){return y&&d(f.prototype,y),v&&d(f,v),f}}(),o=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,l=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,u=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,c=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,h=function(){function d(){i(this,d)}return a(d,[{key:"phone",value:function(){var f=s();return!(!o.test(f)&&!l.test(f.substr(0,4)))}},{key:"mobile",value:function(){var f=s();return!(!u.test(f)&&!c.test(f.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),d}();n.default=new h},function(r,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(a,o,l){var u=a.node.getAttribute("data-aos-once");o>a.position?a.node.classList.add("aos-animate"):typeof u<"u"&&(u==="false"||!l&&u!=="true")&&a.node.classList.remove("aos-animate")},s=function(a,o){var l=window.pageYOffset,u=window.innerHeight;a.forEach(function(c,h){i(c,u+l,o)})};n.default=s},function(r,n,i){function s(u){return u&&u.__esModule?u:{default:u}}Object.defineProperty(n,"__esModule",{value:!0});var a=i(12),o=s(a),l=function(u,c){return u.forEach(function(h,d){h.node.classList.add("aos-init"),h.position=(0,o.default)(h.node,c.offset)}),u};n.default=l},function(r,n,i){function s(u){return u&&u.__esModule?u:{default:u}}Object.defineProperty(n,"__esModule",{value:!0});var a=i(13),o=s(a),l=function(u,c){var h=0,d=0,f=window.innerHeight,y={offset:u.getAttribute("data-aos-offset"),anchor:u.getAttribute("data-aos-anchor"),anchorPlacement:u.getAttribute("data-aos-anchor-placement")};switch(y.offset&&!isNaN(y.offset)&&(d=parseInt(y.offset)),y.anchor&&document.querySelectorAll(y.anchor)&&(u=document.querySelectorAll(y.anchor)[0]),h=(0,o.default)(u).top,y.anchorPlacement){case"top-bottom":break;case"center-bottom":h+=u.offsetHeight/2;break;case"bottom-bottom":h+=u.offsetHeight;break;case"top-center":h+=f/2;break;case"bottom-center":h+=f/2+u.offsetHeight;break;case"center-center":h+=f/2+u.offsetHeight/2;break;case"top-top":h+=f;break;case"bottom-top":h+=u.offsetHeight+f;break;case"center-top":h+=u.offsetHeight/2+f}return y.anchorPlacement||y.offset||isNaN(c)||(d=c),h+d};n.default=l},function(r,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(s){for(var a=0,o=0;s&&!isNaN(s.offsetLeft)&&!isNaN(s.offsetTop);)a+=s.offsetLeft-(s.tagName!="BODY"?s.scrollLeft:0),o+=s.offsetTop-(s.tagName!="BODY"?s.scrollTop:0),s=s.offsetParent;return{top:o,left:a}};n.default=i},function(r,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(s){return s=s||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(s,function(a){return{node:a}})};n.default=i}])})})(BI);var M$=BI.exports;const B$=vA(M$);var pw=new Map,Vm=new WeakMap,t3=0,V$=void 0;function U$(t){return t?(Vm.has(t)||(t3+=1,Vm.set(t,t3.toString())),Vm.get(t)):"0"}function z$(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>`${e}_${e==="root"?U$(t.root):t[e]}`).toString()}function H$(t){const e=z$(t);let r=pw.get(e);if(!r){const n=new Map;let i;const s=new IntersectionObserver(a=>{a.forEach(o=>{var l;const u=o.isIntersecting&&i.some(c=>o.intersectionRatio>=c);t.trackVisibility&&typeof o.isVisible>"u"&&(o.isVisible=u),(l=n.get(o.target))==null||l.forEach(c=>{c(u,o)})})},t);i=s.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),r={id:e,observer:s,elements:n},pw.set(e,r)}return r}function W$(t,e,r={},n=V$){if(typeof window.IntersectionObserver>"u"&&n!==void 0){const l=t.getBoundingClientRect();return e(n,{isIntersecting:n,target:t,intersectionRatio:typeof r.threshold=="number"?r.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}const{id:i,observer:s,elements:a}=H$(r),o=a.get(t)||[];return a.has(t)||a.set(t,o),o.push(e),s.observe(t),function(){o.splice(o.indexOf(e),1),o.length===0&&(a.delete(t),s.unobserve(t)),a.size===0&&(s.disconnect(),pw.delete(i))}}function q$({threshold:t,delay:e,trackVisibility:r,rootMargin:n,root:i,triggerOnce:s,skip:a,initialInView:o,fallbackInView:l,onChange:u}={}){var c;const[h,d]=ve.useState(null),f=ve.useRef(u),[y,v]=ve.useState({inView:!!o,entry:void 0});f.current=u,ve.useEffect(()=>{if(a||!h)return;let T;return T=W$(h,(F,j)=>{v({inView:F,entry:j}),f.current&&f.current(F,j),j.isIntersecting&&s&&T&&(T(),T=void 0)},{root:i,rootMargin:n,threshold:t,trackVisibility:r,delay:e},l),()=>{T&&T()}},[Array.isArray(t)?t.toString():t,h,i,n,s,a,r,l,e]);const b=(c=y.entry)==null?void 0:c.target,w=ve.useRef(void 0);!h&&b&&!s&&!a&&w.current!==b&&(w.current=b,v({inView:!!o,entry:void 0}));const S=[d,y.inView,y.entry];return S.ref=S[0],S.inView=S[1],S.entry=S[2],S}var ub={},mw={exports:{}};(function(t,e){(function(r,n){n(e)})(Hd,function(r){var n=function(){return n=Object.assign||function(s){for(var a,o=1,l=arguments.length;o<l;o++)for(var u in a=arguments[o])Object.prototype.hasOwnProperty.call(a,u)&&(s[u]=a[u]);return s},n.apply(this,arguments)},i=function(){function s(a,o,l){var u=this;this.endVal=o,this.options=l,this.version="2.9.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(c){u.startTime||(u.startTime=c);var h=c-u.startTime;u.remaining=u.duration-h,u.useEasing?u.countDown?u.frameVal=u.startVal-u.easingFn(h,0,u.startVal-u.endVal,u.duration):u.frameVal=u.easingFn(h,u.startVal,u.endVal-u.startVal,u.duration):u.frameVal=u.startVal+(u.endVal-u.startVal)*(h/u.duration);var d=u.countDown?u.frameVal<u.endVal:u.frameVal>u.endVal;u.frameVal=d?u.endVal:u.frameVal,u.frameVal=Number(u.frameVal.toFixed(u.options.decimalPlaces)),u.printValue(u.frameVal),h<u.duration?u.rAF=requestAnimationFrame(u.count):u.finalEndVal!==null?u.update(u.finalEndVal):u.options.onCompleteCallback&&u.options.onCompleteCallback()},this.formatNumber=function(c){var h,d,f,y,v=c<0?"-":"";h=Math.abs(c).toFixed(u.options.decimalPlaces);var b=(h+="").split(".");if(d=b[0],f=b.length>1?u.options.decimal+b[1]:"",u.options.useGrouping){y="";for(var w=3,S=0,T=0,F=d.length;T<F;++T)u.options.useIndianSeparators&&T===4&&(w=2,S=1),T!==0&&S%w==0&&(y=u.options.separator+y),S++,y=d[F-T-1]+y;d=y}return u.options.numerals&&u.options.numerals.length&&(d=d.replace(/[0-9]/g,function(j){return u.options.numerals[+j]}),f=f.replace(/[0-9]/g,function(j){return u.options.numerals[+j]})),v+u.options.prefix+d+f+u.options.suffix},this.easeOutExpo=function(c,h,d,f){return d*(1-Math.pow(2,-10*c/f))*1024/1023+h},this.options=n(n({},this.defaults),l),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.el=typeof a=="string"?document.getElementById(a):a,o=o??this.parse(this.el.innerHTML),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(o),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,a):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return u.handleScroll(u)}),window.onscroll=function(){window.onScrollFns.forEach(function(c){return c()})},this.handleScroll(this)))}return s.prototype.handleScroll=function(a){if(a&&window&&!a.once){var o=window.innerHeight+window.scrollY,l=a.el.getBoundingClientRect(),u=l.top+window.pageYOffset,c=l.top+l.height+window.pageYOffset;c<o&&c>window.scrollY&&a.paused?(a.paused=!1,setTimeout(function(){return a.start()},a.options.scrollSpyDelay),a.options.scrollSpyOnce&&(a.once=!0)):(window.scrollY>c||u>o)&&!a.paused&&a.reset()}},s.prototype.determineDirectionAndSmartEasing=function(){var a=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>a;var o=a-this.startVal;if(Math.abs(o)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=a;var l=this.countDown?1:-1;this.endVal=a+l*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=a,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},s.prototype.start=function(a){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),a&&(this.options.onCompleteCallback=a),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},s.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},s.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},s.prototype.update=function(a){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(a),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},s.prototype.printValue=function(a){var o;if(this.el){var l=this.formattingFn(a);!((o=this.options.plugin)===null||o===void 0)&&o.render?this.options.plugin.render(this.el,l):this.el.tagName==="INPUT"?this.el.value=l:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=l:this.el.innerHTML=l}},s.prototype.ensureNumber=function(a){return typeof a=="number"&&!isNaN(a)},s.prototype.validateValue=function(a){var o=Number(a);return this.ensureNumber(o)?o:(this.error="[CountUp] invalid start or end value: ".concat(a),null)},s.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},s.prototype.parse=function(a){var o=function(h){return h.replace(/([.,' ])/g,"\\$1")},l=o(this.options.separator),u=o(this.options.decimal),c=a.replace(new RegExp(l,"g"),"").replace(new RegExp(u,"g"),".");return parseFloat(c)},s}();r.CountUp=i})})(mw,mw.exports);var $$=mw.exports;Object.defineProperty(ub,"__esModule",{value:!0});var Wn=ve,G$=$$;function K$(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function r3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function S1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r3(Object(r),!0).forEach(function(n){Q$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Y$(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function X$(t){var e=Y$(t,"string");return typeof e=="symbol"?e:String(e)}function Q$(t,e,r){return e=X$(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gw(){return gw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gw.apply(this,arguments)}function J$(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function VI(t,e){if(t==null)return{};var r=J$(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Z$(t,e){return eG(t)||K$(t,e)||tG(t,e)||rG()}function eG(t){if(Array.isArray(t))return t}function tG(t,e){if(t){if(typeof t=="string")return n3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n3(t,e)}}function n3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var nG=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?Wn.useLayoutEffect:Wn.useEffect;function Ta(t){var e=Wn.useRef(t);return nG(function(){e.current=t}),Wn.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.current.apply(void 0,n)},[])}var iG=function(e,r){var n=r.decimal,i=r.decimals,s=r.duration,a=r.easingFn,o=r.end,l=r.formattingFn,u=r.numerals,c=r.prefix,h=r.separator,d=r.start,f=r.suffix,y=r.useEasing,v=r.useGrouping,b=r.useIndianSeparators,w=r.enableScrollSpy,S=r.scrollSpyDelay,T=r.scrollSpyOnce,F=r.plugin;return new G$.CountUp(e,o,{startVal:d,duration:s,decimal:n,decimalPlaces:i,easingFn:a,formattingFn:l,numerals:u,separator:h,prefix:c,suffix:f,plugin:F,useEasing:y,useIndianSeparators:b,useGrouping:v,enableScrollSpy:w,scrollSpyDelay:S,scrollSpyOnce:T})},sG=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],aG={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},UI=function(e){var r=Object.fromEntries(Object.entries(e).filter(function(C){var D=Z$(C,2),N=D[1];return N!==void 0})),n=Wn.useMemo(function(){return S1(S1({},aG),r)},[e]),i=n.ref,s=n.startOnMount,a=n.enableReinitialize,o=n.delay,l=n.onEnd,u=n.onStart,c=n.onPauseResume,h=n.onReset,d=n.onUpdate,f=VI(n,sG),y=Wn.useRef(),v=Wn.useRef(),b=Wn.useRef(!1),w=Ta(function(){return iG(typeof i=="string"?i:i.current,f)}),S=Ta(function(C){var D=y.current;if(D&&!C)return D;var N=w();return y.current=N,N}),T=Ta(function(){var C=function(){return S(!0).start(function(){l==null||l({pauseResume:F,reset:j,start:A,update:M})})};o&&o>0?v.current=setTimeout(C,o*1e3):C(),u==null||u({pauseResume:F,reset:j,update:M})}),F=Ta(function(){S().pauseResume(),c==null||c({reset:j,start:A,update:M})}),j=Ta(function(){S().el&&(v.current&&clearTimeout(v.current),S().reset(),h==null||h({pauseResume:F,start:A,update:M}))}),M=Ta(function(C){S().update(C),d==null||d({pauseResume:F,reset:j,start:A})}),A=Ta(function(){j(),T()}),_=Ta(function(C){s&&(C&&j(),T())});return Wn.useEffect(function(){b.current?a&&_(!0):(b.current=!0,_())},[a,b,_,o,e.start,e.suffix,e.prefix,e.duration,e.separator,e.decimals,e.decimal,e.formattingFn]),Wn.useEffect(function(){return function(){j()}},[j]),{start:A,pauseResume:F,reset:j,update:M,getCountUp:S}},oG=["className","redraw","containerProps","children","style"],lG=function(e){var r=e.className,n=e.redraw,i=e.containerProps,s=e.children,a=e.style,o=VI(e,oG),l=Wn.useRef(null),u=Wn.useRef(!1),c=UI(S1(S1({},o),{},{ref:l,startOnMount:typeof s!="function"||e.delay===0,enableReinitialize:!1})),h=c.start,d=c.reset,f=c.update,y=c.pauseResume,v=c.getCountUp,b=Ta(function(){h()}),w=Ta(function(F){e.preserveValue||d(),f(F)}),S=Ta(function(){if(typeof e.children=="function"&&!(l.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}v()});Wn.useEffect(function(){S()},[S]),Wn.useEffect(function(){u.current&&w(e.end)},[e.end,w]);var T=n&&e;return Wn.useEffect(function(){n&&u.current&&b()},[b,n,T]),Wn.useEffect(function(){!n&&u.current&&b()},[b,n,e.start,e.suffix,e.prefix,e.duration,e.separator,e.decimals,e.decimal,e.className,e.formattingFn]),Wn.useEffect(function(){u.current=!0},[]),typeof s=="function"?s({countUpRef:l,start:h,reset:d,update:f,pauseResume:y,getCountUp:v}):Wn.createElement("span",gw({className:r,ref:l,style:a},i),typeof e.start<"u"?v().formattingFn(e.start):"")},uG=ub.default=lG;ub.useCountUp=UI;const cG="/assets/about-image-BLU9Vf06.jpg";function hG(){const[t,e]=ve.useState(!1),{ref:r,inView:n}=q$({threshold:.3,triggerOnce:!0});n&&!t&&e(!0);const i=[{icon:"",title:"Donors Registered",value:12345},{icon:"",title:"Hospitals Partnered",value:85},{icon:"",title:"Lives Saved",value:7890},{icon:"",title:"AI Matches Done",value:3210}];return p.jsx("section",{ref:r,className:"py-16 bg-gray-50 dark:bg-gray-900 transition-colors duration-700 ease-in-out",children:p.jsxs("div",{className:"max-w-6xl mx-auto px-4 flex flex-col md:flex-row items-center md:space-x-12",children:[p.jsx("div",{className:"md:w-1/2 mb-8 md:mb-0","data-aos":"fade-right",children:p.jsx("img",{src:cG,alt:"About Us",className:"rounded-xl shadow-lg w-full object-cover transition-transform duration-700 ease-in-out hover:scale-105"})}),p.jsxs("div",{className:"md:w-1/2 text-center md:text-left","data-aos":"fade-left",children:[p.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:"About Our Platform"}),p.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:"Our mission is to make organ donation simple, transparent, and impactful. We connect donors, recipients, and medical professionals to save lives efficiently."}),p.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-8",children:"By providing real-time information, role-based dashboards, and AI-powered matching, we aim to create a community where everyone can contribute to saving lives and raising awareness about organ donation."}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:i.map((s,a)=>p.jsxs("div",{className:`flex flex-col items-center bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border-t-4 border-green-600
                  transform transition-all duration-500 ease-in-out
                  opacity-0 translate-y-6
                  ${n?"opacity-100 translate-y-0":""}
                  hover:shadow-2xl hover:scale-105 hover:shadow-green-500/40`,style:{transitionDelay:`${a*100}ms`},children:[p.jsx("div",{className:"text-4xl mb-2 text-green-600 dark:text-green-400",children:s.icon}),p.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:s.title}),p.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-lg font-bold mt-1",children:t?p.jsx(uG,{end:s.value,duration:2,separator:","}):0})]},a))})]})]})})}function fG(){const{user:t,role:e}=Nv(),r=qc();ve.useEffect(()=>{if(t)switch(e){case"admin":r("/admin");break;case"doctor":r("/doctor");break;case"donor":r("/donor");break;case"recipient":r("/recipient");break;default:r("/")}},[t,e,r]);const n=[{icon:"",title:"Why Donate?",desc:"Understand the impact of organ donation and how you can save lives.",path:"/why-donate"},{icon:"",title:"How It Works?",desc:"Learn about the organ donation process from registration to transplant.",path:"/how-it-works"},{icon:"",title:"Eligibility",desc:"Check if you qualify to become a donor and help others in need.",path:"/eligibility"}];return p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 transition-colors duration-700 ease-in-out",children:[p.jsxs("section",{className:"relative bg-cover bg-center h-screen flex items-center justify-center text-white transition-colors duration-700 ease-in-out",style:{backgroundImage:"url('https://images.unsplash.com/photo-1584515933487-779824d29309?ixlib=rb-4.0.3&auto=format&fit=crop&w=1950&q=80')"},children:[p.jsx("div",{className:"absolute inset-0 bg-black/50 dark:bg-black/70 transition-colors duration-700 ease-in-out"}),p.jsxs("div",{className:"relative z-10 text-center px-6 max-w-3xl transition-all duration-700 ease-in-out",children:[p.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6 transition-transform duration-500 ease-in-out hover:scale-105",children:"Give the Gift of Life"}),p.jsx("p",{className:"text-lg md:text-xl mb-8 transition-transform duration-500 ease-in-out hover:scale-105",children:"Every organ donor can save up to 8 lives. Be a hero today and make a difference."}),p.jsx("a",{href:"/auth?tab=signup&role=donor",className:`relative inline-block bg-green-600 dark:bg-green-500 text-white px-6 py-3 rounded-lg text-lg font-semibold shadow-lg\r
                       transform transition-all duration-500 ease-in-out hover:scale-105 animate-pulse-slow\r
                       before:absolute before:inset-0 before:rounded-lg before:bg-green-500/40 before:opacity-0 before:transition-opacity before:duration-500\r
                       hover:before:opacity-30`,children:"Become a Donor"})]})]}),p.jsxs("section",{className:"py-16 px-6 max-w-6xl mx-auto transition-colors duration-700 ease-in-out",children:[p.jsx("h2",{className:"text-3xl font-bold text-center text-green-700 dark:text-green-400 mb-12 transition-colors duration-700 ease-in-out",children:"Why Organ Donation Matters"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:n.map((i,s)=>p.jsxs("a",{href:i.path,className:`flex flex-col items-center bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 text-center border-t-4 border-green-600\r
                         hover:shadow-xl hover:bg-gray-50 dark:hover:bg-gray-700 hover:scale-105 transition-all duration-500 ease-in-out\r
                         relative before:absolute before:inset-0 before:rounded-xl before:bg-green-500/20 before:opacity-0 hover:before:opacity-30`,children:[p.jsx("div",{className:"text-green-600 dark:text-green-400 text-5xl mb-4 transition-transform duration-500 ease-in-out hover:scale-110",children:i.icon}),p.jsx("h3",{className:"text-xl font-semibold mb-3 text-gray-900 dark:text-gray-100 transition-colors duration-700 ease-in-out",children:i.title}),p.jsx("p",{className:"text-gray-600 dark:text-gray-300 transition-colors duration-700 ease-in-out",children:i.desc})]},s))})]}),p.jsx(hG,{})]})}const zI="/assets/logo-B8quR2at.png";/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pG=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),i3=t=>{const e=pG(t);return e.charAt(0).toUpperCase()+e.slice(1)},HI=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),mG=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vG=ve.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:a,...o},l)=>ve.createElement("svg",{ref:l,...gG,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:HI("lucide",i),...!s&&!mG(o)&&{"aria-hidden":"true"},...o},[...a.map(([u,c])=>ve.createElement(u,c)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=(t,e)=>{const r=ve.forwardRef(({className:n,...i},s)=>ve.createElement(vG,{ref:s,iconNode:e,className:HI(`lucide-${dG(i3(t))}`,`lucide-${t}`,n),...i}));return r.displayName=i3(t),r};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yG=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],sp=Wr("activity",yG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xG=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],s3=Wr("arrow-left",xG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wG=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Ag=Wr("building-2",wG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _G=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],bG=Wr("calendar",_G);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SG=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],TG=Wr("circle-check-big",SG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EG=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],AG=Wr("download",EG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NG=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],a3=Wr("eye-off",NG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kG=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],o3=Wr("eye",kG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CG=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],PG=Wr("file-text",CG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IG=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],RG=Wr("funnel",IG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],FG=Wr("globe",LG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],vw=Wr("heart",DG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OG=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],jG=Wr("mail",OG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],WI=Wr("map-pin",MG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BG=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],cb=Wr("pen",BG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VG=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],UG=Wr("phone",VG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zG=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],HG=Wr("plus",zG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WG=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],qG=Wr("save",WG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $G=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],qI=Wr("search",$G);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GG=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],$I=Wr("stethoscope",GG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KG=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],hb=Wr("trash-2",KG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YG=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],XG=Wr("trending-up",YG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QG=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],JG=Wr("user-check",QG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZG=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],GI=Wr("users",ZG);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eK=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fb=Wr("x",eK);function tK({showLogo:t=!0}){const e=qc(),r=po(),[n,i]=ve.useState("login"),[s,a]=ve.useState({fullName:"",email:"",password:"",mobile:"",address:"",bloodGroup:"",organType:"",role:"donor"}),[o,l]=ve.useState(!1),[u,c]=ve.useState(""),[h,d]=ve.useState(!1);ve.useEffect(()=>{new URLSearchParams(r.search).get("tab")==="signup"&&i("signup")},[r.search]);const f=w=>a({...s,[w.target.name]:w.target.value}),y=async w=>{w.preventDefault(),l(!0),c("");try{const T=(await T6(as,s.email,s.password)).user,F=await Su(jn(xr,"users",T.uid));if(F.exists()){const j=F.data().role||"donor";e(`/${j}`)}else c("User data not found. Contact admin.")}catch(S){c(S.message)}l(!1)},v=async w=>{w.preventDefault(),l(!0),c("");try{const T=(await S6(as,s.email,s.password)).user;await nP(jn(xr,"users",T.uid),{fullName:s.fullName,email:s.email,mobile:s.mobile,address:s.address,bloodGroup:s.bloodGroup,organType:s.organType,role:s.role,createdAt:i0()}),e(`/${s.role}`)}catch(S){c(S.message)}l(!1)},b=async()=>{if(!s.email){c("Enter your email to reset password");return}l(!0),c("");try{await zM(as,s.email),alert("Password reset email sent. Check your inbox.")}catch(w){c(w.message)}l(!1)};return p.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 bg-gray-50 dark:bg-gray-900 transition-colors duration-500",children:p.jsxs("div",{className:"max-w-md w-full p-8 rounded-xl shadow-lg bg-white dark:bg-gray-800",children:[t&&p.jsx("div",{className:"flex justify-center mb-6",children:p.jsx("img",{src:zI,alt:"Logo",className:"w-20 h-20 object-contain"})}),p.jsxs("div",{className:"flex justify-center mb-6",children:[p.jsx("button",{onClick:()=>i("login"),className:`px-4 py-2 rounded-l-md font-semibold transition-colors duration-500 ${n==="login"?"bg-green-600 text-white dark:bg-green-500 dark:text-white":"bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:"Login"}),p.jsx("button",{onClick:()=>i("signup"),className:`px-4 py-2 rounded-r-md font-semibold transition-colors duration-500 ${n==="signup"?"bg-green-600 text-white dark:bg-green-500 dark:text-white":"bg-gray-200 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:"Signup"})]}),u&&p.jsx("p",{className:"text-red-500 mb-4 text-center",children:u}),n==="login"&&p.jsxs("form",{onSubmit:y,className:"space-y-4",children:[p.jsx("input",{type:"email",name:"email",value:s.email,onChange:f,placeholder:"Email",required:!0,className:"w-full p-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white"}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:h?"text":"password",name:"password",value:s.password,onChange:f,placeholder:"Password",required:!0,className:"w-full p-3 pr-10 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white"}),p.jsx("span",{className:"absolute inset-y-0 right-3 flex items-center cursor-pointer text-gray-500 dark:text-gray-300",onClick:()=>d(!h),children:h?p.jsx(a3,{size:20}):p.jsx(o3,{size:20})})]}),p.jsx("button",{type:"submit",disabled:o,className:"w-full bg-green-600 dark:bg-green-500 text-white py-3 rounded-lg font-semibold hover:bg-green-700 dark:hover:bg-green-400",children:o?"Logging in...":"Login"}),p.jsx("p",{className:"text-sm text-right text-blue-600 cursor-pointer",onClick:b,children:"Forgot Password?"})]}),n==="signup"&&p.jsxs("form",{onSubmit:v,className:"space-y-4",children:[p.jsx("input",{type:"text",name:"fullName",value:s.fullName,onChange:f,placeholder:"Full Name",required:!0,className:"w-full p-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white"}),p.jsx("input",{type:"email",name:"email",value:s.email,onChange:f,placeholder:"Email",required:!0,className:"w-full p-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white"}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:h?"text":"password",name:"password",value:s.password,onChange:f,placeholder:"Password",required:!0,className:"w-full p-3 pr-10 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white"}),p.jsx("span",{className:"absolute inset-y-0 right-3 flex items-center cursor-pointer text-gray-500 dark:text-gray-300",onClick:()=>d(!h),children:h?p.jsx(a3,{size:20}):p.jsx(o3,{size:20})})]}),p.jsx("input",{type:"text",name:"mobile",value:s.mobile,onChange:f,placeholder:"Mobile Number",required:!0,className:"w-full p-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white"}),p.jsx("input",{type:"text",name:"address",value:s.address,onChange:f,placeholder:"Address",className:"w-full p-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white"}),p.jsxs("select",{name:"bloodGroup",value:s.bloodGroup,onChange:f,required:!0,className:"w-full p-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white",children:[p.jsx("option",{value:"",children:"Select Blood Group"}),["A+","A-","B+","B-","AB+","AB-","O+","O-"].map(w=>p.jsx("option",{value:w,children:w},w))]}),p.jsxs("select",{name:"organType",value:s.organType,onChange:f,required:!0,className:"w-full p-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white",children:[p.jsx("option",{value:"",children:"Select Organ"}),["Kidney","Heart","Liver","Lung","Eye"].map(w=>p.jsx("option",{value:w.toLowerCase(),children:w},w))]}),p.jsxs("select",{name:"role",value:s.role,onChange:f,required:!0,className:"w-full p-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white",children:[p.jsx("option",{value:"donor",children:"Donor"}),p.jsx("option",{value:"recipient",children:"Recipient"}),p.jsx("option",{value:"doctor",children:"Doctor"})]}),p.jsx("button",{type:"submit",disabled:o,className:"w-full bg-green-600 dark:bg-green-500 text-white py-3 rounded-lg font-semibold hover:bg-green-700 dark:hover:bg-green-400",children:o?"Signing up...":"Signup"})]})]})})}function rK(){const{darkMode:t}=ve.useContext(Lp),e=[{icon:"",title:"Save Lives",desc:"A single organ donor can save multiple lives and provide hope to patients in need."},{icon:"",title:"Help Families",desc:"Support families during challenging times by giving their loved ones a second chance."},{icon:"",title:"Create Awareness",desc:"Encourage more people to register as donors and increase awareness about organ donation."}];return p.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 px-6 py-12",children:[p.jsx("h1",{className:"text-4xl font-bold text-center text-green-700 mb-12","data-aos":"fade-down",children:"Why Donate Organs?"}),p.jsx("div",{className:"max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8",children:e.map((r,n)=>p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg border-t-4 border-green-600 hover:shadow-xl hover:scale-105 transform transition","data-aos":"fade-up","data-aos-delay":n*150,children:[p.jsx("div",{className:"text-5xl text-green-600 mb-4",children:r.icon}),p.jsx("h3",{className:"text-xl font-semibold mb-3",children:r.title}),p.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:r.desc})]},n))})]})}function nK(){const{darkMode:t}=ve.useContext(Lp),e=[{icon:"",title:"Registration",desc:"Individuals willing to donate organs can register online or at designated centers."},{icon:"",title:"Medical Evaluation",desc:"Potential donors undergo medical and psychological evaluations to ensure safety."},{icon:"",title:"Matching & Allocation",desc:"Donor organs are matched with recipients based on medical criteria and compatibility."},{icon:"",title:"Transplantation",desc:"The transplant procedure is performed by trained professionals in accredited hospitals."}];return p.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 py-16 px-6",children:[p.jsx("h1",{className:"text-4xl font-bold text-green-700 mb-12 text-center","data-aos":"fade-down",children:"How Organ Donation Works"}),p.jsx("div",{className:"max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((r,n)=>p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg border-t-4 border-green-600 hover:shadow-xl hover:scale-105 transform transition duration-300","data-aos":"fade-up","data-aos-delay":n*150,children:[p.jsx("div",{className:"text-5xl mb-4 text-green-600 animate-bounce",children:r.icon}),p.jsx("h3",{className:"text-xl font-semibold mb-3",children:r.title}),p.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-base",children:r.desc})]},n))})]})}function iK(){const{darkMode:t}=ve.useContext(Lp),e=[{icon:"",title:"Minimum Age",desc:"Any person 18 years or older can pledge to donate organs."},{icon:"",title:"Voluntary Consent",desc:"The donor must willingly authorize the removal of organs and/or tissues."},{icon:"",title:"Health Condition",desc:"Donors should be in generally good health; medical evaluation will confirm eligibility."},{icon:"",title:"Legal Documentation",desc:"Proper consent documentation must be completed according to national regulations."}];return p.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 px-6 py-12",children:[p.jsx("h1",{className:"text-4xl font-bold text-green-700 mb-12 text-center","data-aos":"fade-down",children:"Organ Donation Eligibility"}),p.jsx("div",{className:"max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((r,n)=>p.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg border-t-4 border-green-600 hover:shadow-xl hover:scale-105 transform transition","data-aos":"fade-up","data-aos-delay":n*150,children:[p.jsx("div",{className:"text-5xl text-green-600 mb-4",children:r.icon}),p.jsx("h3",{className:"text-xl font-semibold mb-3",children:r.title}),p.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:r.desc})]},n))})]})}const sK="modulepreload",aK=function(t){return"/"+t},l3={},yw=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=aK(l),l in l3)return;l3[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":sK,u||(h.as="script"),h.crossOrigin="",h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),u)return new Promise((d,f)=>{h.addEventListener("load",d),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function wr(t){"@babel/helpers - typeof";return wr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wr(t)}var Ni=Uint8Array,Fs=Uint16Array,db=Int32Array,Rv=new Ni([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Lv=new Ni([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),xw=new Ni([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),KI=function(t,e){for(var r=new Fs(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new db(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},YI=KI(Rv,2),XI=YI.b,ww=YI.r;XI[28]=258,ww[258]=28;var QI=KI(Lv,0),oK=QI.b,u3=QI.r,_w=new Fs(32768);for(var Ur=0;Ur<32768;++Ur){var Ml=(Ur&43690)>>1|(Ur&21845)<<1;Ml=(Ml&52428)>>2|(Ml&13107)<<2,Ml=(Ml&61680)>>4|(Ml&3855)<<4,_w[Ur]=((Ml&65280)>>8|(Ml&255)<<8)>>1}var co=function(t,e,r){for(var n=t.length,i=0,s=new Fs(e);i<n;++i)t[i]&&++s[t[i]-1];var a=new Fs(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(r){o=new Fs(1<<e);var l=15-e;for(i=0;i<n;++i)if(t[i])for(var u=i<<4|t[i],c=e-t[i],h=a[t[i]-1]++<<c,d=h|(1<<c)-1;h<=d;++h)o[_w[h]>>l]=u}else for(o=new Fs(n),i=0;i<n;++i)t[i]&&(o[i]=_w[a[t[i]-1]++]>>15-t[i]);return o},Au=new Ni(288);for(var Ur=0;Ur<144;++Ur)Au[Ur]=8;for(var Ur=144;Ur<256;++Ur)Au[Ur]=9;for(var Ur=256;Ur<280;++Ur)Au[Ur]=7;for(var Ur=280;Ur<288;++Ur)Au[Ur]=8;var ap=new Ni(32);for(var Ur=0;Ur<32;++Ur)ap[Ur]=5;var lK=co(Au,9,0),uK=co(Au,9,1),cK=co(ap,5,0),hK=co(ap,5,1),oy=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},ya=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},ly=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},pb=function(t){return(t+7)/8|0},JI=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Ni(t.subarray(e,r))},fK=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ea=function(t,e,r){var n=new Error(e||fK[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,Ea),!r)throw n;return n},dK=function(t,e,r,n){var i=t.length,s=0;if(!i||e.f&&!e.l)return r||new Ni(0);var a=!r,o=a||e.i!=2,l=e.i;a&&(r=new Ni(i*3));var u=function(Ne){var je=r.length;if(Ne>je){var Ue=new Ni(Math.max(je*2,Ne));Ue.set(r),r=Ue}},c=e.f||0,h=e.p||0,d=e.b||0,f=e.l,y=e.d,v=e.m,b=e.n,w=i*8;do{if(!f){c=ya(t,h,1);var S=ya(t,h+1,3);if(h+=3,S)if(S==1)f=uK,y=hK,v=9,b=5;else if(S==2){var M=ya(t,h,31)+257,A=ya(t,h+10,15)+4,_=M+ya(t,h+5,31)+1;h+=14;for(var C=new Ni(_),D=new Ni(19),N=0;N<A;++N)D[xw[N]]=ya(t,h+N*3,7);h+=A*3;for(var E=oy(D),R=(1<<E)-1,H=co(D,E,1),N=0;N<_;){var me=H[ya(t,h,R)];h+=me&15;var T=me>>4;if(T<16)C[N++]=T;else{var ie=0,ee=0;for(T==16?(ee=3+ya(t,h,3),h+=2,ie=C[N-1]):T==17?(ee=3+ya(t,h,7),h+=3):T==18&&(ee=11+ya(t,h,127),h+=7);ee--;)C[N++]=ie}}var J=C.subarray(0,M),re=C.subarray(M);v=oy(J),b=oy(re),f=co(J,v,1),y=co(re,b,1)}else Ea(1);else{var T=pb(h)+4,F=t[T-4]|t[T-3]<<8,j=T+F;if(j>i){l&&Ea(0);break}o&&u(d+F),r.set(t.subarray(T,j),d),e.b=d+=F,e.p=h=j*8,e.f=c;continue}if(h>w){l&&Ea(0);break}}o&&u(d+131072);for(var de=(1<<v)-1,Se=(1<<b)-1,I=h;;I=h){var ie=f[ly(t,h)&de],V=ie>>4;if(h+=ie&15,h>w){l&&Ea(0);break}if(ie||Ea(2),V<256)r[d++]=V;else if(V==256){I=h,f=null;break}else{var U=V-254;if(V>264){var N=V-257,z=Rv[N];U=ya(t,h,(1<<z)-1)+XI[N],h+=z}var Q=y[ly(t,h)&Se],ge=Q>>4;Q||Ea(3),h+=Q&15;var re=oK[ge];if(ge>3){var z=Lv[ge];re+=ly(t,h)&(1<<z)-1,h+=z}if(h>w){l&&Ea(0);break}o&&u(d+131072);var G=d+U;if(d<re){var ue=s-re,ye=Math.min(re,G);for(ue+d<0&&Ea(3);d<ye;++d)r[d]=n[ue+d]}for(;d<G;++d)r[d]=r[d-re]}}e.l=f,e.p=I,e.b=d,e.f=c,f&&(c=1,e.m=v,e.d=y,e.n=b)}while(!c);return d!=r.length&&a?JI(r,0,d):r.subarray(0,d)},Po=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},kd=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},uy=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,s=r.slice();if(!i)return{t:e8,l:0};if(i==1){var a=new Ni(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(j,M){return j.f-M.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],u=0,c=1,h=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};c!=i-1;)o=r[r[u].f<r[h].f?u++:h++],l=r[u!=c&&r[u].f<r[h].f?u++:h++],r[c++]={s:-1,f:o.f+l.f,l:o,r:l};for(var d=s[0].s,n=1;n<i;++n)s[n].s>d&&(d=s[n].s);var f=new Fs(d+1),y=bw(r[c-1],f,0);if(y>e){var n=0,v=0,b=y-e,w=1<<b;for(s.sort(function(M,A){return f[A.s]-f[M.s]||M.f-A.f});n<i;++n){var S=s[n].s;if(f[S]>e)v+=w-(1<<y-f[S]),f[S]=e;else break}for(v>>=b;v>0;){var T=s[n].s;f[T]<e?v-=1<<e-f[T]++-1:++n}for(;n>=0&&v;--n){var F=s[n].s;f[F]==e&&(--f[F],++v)}y=e}return{t:new Ni(f),l:y}},bw=function(t,e,r){return t.s==-1?Math.max(bw(t.l,e,r+1),bw(t.r,e,r+1)):e[t.s]=r},c3=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Fs(++e),n=0,i=t[0],s=1,a=function(l){r[n++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:r.subarray(0,n),n:e}},Cd=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},ZI=function(t,e,r){var n=r.length,i=pb(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<n;++s)t[i+s+4]=r[s];return(i+4+n)*8},h3=function(t,e,r,n,i,s,a,o,l,u,c){Po(e,c++,r),++i[256];for(var h=uy(i,15),d=h.t,f=h.l,y=uy(s,15),v=y.t,b=y.l,w=c3(d),S=w.c,T=w.n,F=c3(v),j=F.c,M=F.n,A=new Fs(19),_=0;_<S.length;++_)++A[S[_]&31];for(var _=0;_<j.length;++_)++A[j[_]&31];for(var C=uy(A,7),D=C.t,N=C.l,E=19;E>4&&!D[xw[E-1]];--E);var R=u+5<<3,H=Cd(i,Au)+Cd(s,ap)+a,me=Cd(i,d)+Cd(s,v)+a+14+3*E+Cd(A,D)+2*A[16]+3*A[17]+7*A[18];if(l>=0&&R<=H&&R<=me)return ZI(e,c,t.subarray(l,l+u));var ie,ee,J,re;if(Po(e,c,1+(me<H)),c+=2,me<H){ie=co(d,f,0),ee=d,J=co(v,b,0),re=v;var de=co(D,N,0);Po(e,c,T-257),Po(e,c+5,M-1),Po(e,c+10,E-4),c+=14;for(var _=0;_<E;++_)Po(e,c+3*_,D[xw[_]]);c+=3*E;for(var Se=[S,j],I=0;I<2;++I)for(var V=Se[I],_=0;_<V.length;++_){var U=V[_]&31;Po(e,c,de[U]),c+=D[U],U>15&&(Po(e,c,V[_]>>5&127),c+=V[_]>>12)}}else ie=lK,ee=Au,J=cK,re=ap;for(var _=0;_<o;++_){var z=n[_];if(z>255){var U=z>>18&31;kd(e,c,ie[U+257]),c+=ee[U+257],U>7&&(Po(e,c,z>>23&31),c+=Rv[U]);var Q=z&31;kd(e,c,J[Q]),c+=re[Q],Q>3&&(kd(e,c,z>>5&8191),c+=Lv[Q])}else kd(e,c,ie[z]),c+=ee[z]}return kd(e,c,ie[256]),c+ee[256]},pK=new db([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),e8=new Ni(0),mK=function(t,e,r,n,i,s){var a=s.z||t.length,o=new Ni(n+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(n,o.length-i),u=s.l,c=(s.r||0)&7;if(e){c&&(l[0]=s.r>>3);for(var h=pK[e-1],d=h>>13,f=h&8191,y=(1<<r)-1,v=s.p||new Fs(32768),b=s.h||new Fs(y+1),w=Math.ceil(r/3),S=2*w,T=function(ze){return(t[ze]^t[ze+1]<<w^t[ze+2]<<S)&y},F=new db(25e3),j=new Fs(288),M=new Fs(32),A=0,_=0,C=s.i||0,D=0,N=s.w||0,E=0;C+2<a;++C){var R=T(C),H=C&32767,me=b[R];if(v[H]=me,b[R]=H,N<=C){var ie=a-C;if((A>7e3||D>24576)&&(ie>423||!u)){c=h3(t,l,0,F,j,M,_,D,E,C-E,c),D=A=_=0,E=C;for(var ee=0;ee<286;++ee)j[ee]=0;for(var ee=0;ee<30;++ee)M[ee]=0}var J=2,re=0,de=f,Se=H-me&32767;if(ie>2&&R==T(C-Se))for(var I=Math.min(d,ie)-1,V=Math.min(32767,C),U=Math.min(258,ie);Se<=V&&--de&&H!=me;){if(t[C+J]==t[C+J-Se]){for(var z=0;z<U&&t[C+z]==t[C+z-Se];++z);if(z>J){if(J=z,re=Se,z>I)break;for(var Q=Math.min(Se,z-2),ge=0,ee=0;ee<Q;++ee){var G=C-Se+ee&32767,ue=v[G],ye=G-ue&32767;ye>ge&&(ge=ye,me=G)}}}H=me,me=v[H],Se+=H-me&32767}if(re){F[D++]=268435456|ww[J]<<18|u3[re];var Ne=ww[J]&31,je=u3[re]&31;_+=Rv[Ne]+Lv[je],++j[257+Ne],++M[je],N=C+J,++A}else F[D++]=t[C],++j[t[C]]}}for(C=Math.max(C,N);C<a;++C)F[D++]=t[C],++j[t[C]];c=h3(t,l,u,F,j,M,_,D,E,C-E,c),u||(s.r=c&7|l[c/8|0]<<3,c-=7,s.h=b,s.p=v,s.i=C,s.w=N)}else{for(var C=s.w||0;C<a+u;C+=65535){var Ue=C+65535;Ue>=a&&(l[c/8|0]=u,Ue=a),c=ZI(l,c+1,t.subarray(C,Ue))}s.i=a}return JI(o,0,n+pb(c)+i)},t8=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,s=r.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=n+=r[a];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},gK=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new Ni(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return mK(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},r8=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},vK=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=t8();i.p(e.dictionary),r8(t,2,i.d())}},yK=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Ea(6,"invalid zlib data"),(t[1]>>5&1)==1&&Ea(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function Sw(t,e){e||(e={});var r=t8();r.p(t);var n=gK(t,e,e.dictionary?6:2,4);return vK(n,e),r8(n,n.length-4,r.d()),n}function xK(t,e){return dK(t.subarray(yK(t),-4),{i:2},e,e)}var wK=typeof TextDecoder<"u"&&new TextDecoder,_K=0;try{wK.decode(e8,{stream:!0}),_K=1}catch{}var Lt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function cy(){Lt.console&&typeof Lt.console.log=="function"&&Lt.console.log.apply(Lt.console,arguments)}var Rr={log:cy,warn:function(t){Lt.console&&(typeof Lt.console.warn=="function"?Lt.console.warn.apply(Lt.console,arguments):cy.call(null,arguments))},error:function(t){Lt.console&&(typeof Lt.console.error=="function"?Lt.console.error.apply(Lt.console,arguments):cy(t))}};function hy(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){uc(n.response,e,r)},n.onerror=function(){Rr.error("could not download file")},n.send()}function f3(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Um(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var c0,Tw,uc=Lt.saveAs||((typeof window>"u"?"undefined":wr(window))!=="object"||window!==Lt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Lt.URL||Lt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?f3(i.href)?hy(t,e,r):Um(i,i.target="_blank"):Um(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Um(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(f3(t))hy(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Um(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:wr(s)!=="object"&&(Rr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return hy(t,e,r);var i=t.type==="application/octet-stream",s=/constructor/i.test(Lt.HTMLElement)||Lt.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":wr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var c=o.result;c=a?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=c:location=c,n=null},o.readAsDataURL(t)}else{var l=Lt.URL||Lt.webkitURL,u=l.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function n8(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+o+l+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function fy(t,e){var r=t[0],n=t[1],i=t[2],s=t[3];r=wi(r,n,i,s,e[0],7,-680876936),s=wi(s,r,n,i,e[1],12,-389564586),i=wi(i,s,r,n,e[2],17,606105819),n=wi(n,i,s,r,e[3],22,-1044525330),r=wi(r,n,i,s,e[4],7,-176418897),s=wi(s,r,n,i,e[5],12,1200080426),i=wi(i,s,r,n,e[6],17,-1473231341),n=wi(n,i,s,r,e[7],22,-45705983),r=wi(r,n,i,s,e[8],7,1770035416),s=wi(s,r,n,i,e[9],12,-1958414417),i=wi(i,s,r,n,e[10],17,-42063),n=wi(n,i,s,r,e[11],22,-1990404162),r=wi(r,n,i,s,e[12],7,1804603682),s=wi(s,r,n,i,e[13],12,-40341101),i=wi(i,s,r,n,e[14],17,-1502002290),r=_i(r,n=wi(n,i,s,r,e[15],22,1236535329),i,s,e[1],5,-165796510),s=_i(s,r,n,i,e[6],9,-1069501632),i=_i(i,s,r,n,e[11],14,643717713),n=_i(n,i,s,r,e[0],20,-373897302),r=_i(r,n,i,s,e[5],5,-701558691),s=_i(s,r,n,i,e[10],9,38016083),i=_i(i,s,r,n,e[15],14,-660478335),n=_i(n,i,s,r,e[4],20,-405537848),r=_i(r,n,i,s,e[9],5,568446438),s=_i(s,r,n,i,e[14],9,-1019803690),i=_i(i,s,r,n,e[3],14,-187363961),n=_i(n,i,s,r,e[8],20,1163531501),r=_i(r,n,i,s,e[13],5,-1444681467),s=_i(s,r,n,i,e[2],9,-51403784),i=_i(i,s,r,n,e[7],14,1735328473),r=bi(r,n=_i(n,i,s,r,e[12],20,-1926607734),i,s,e[5],4,-378558),s=bi(s,r,n,i,e[8],11,-2022574463),i=bi(i,s,r,n,e[11],16,1839030562),n=bi(n,i,s,r,e[14],23,-35309556),r=bi(r,n,i,s,e[1],4,-1530992060),s=bi(s,r,n,i,e[4],11,1272893353),i=bi(i,s,r,n,e[7],16,-155497632),n=bi(n,i,s,r,e[10],23,-1094730640),r=bi(r,n,i,s,e[13],4,681279174),s=bi(s,r,n,i,e[0],11,-358537222),i=bi(i,s,r,n,e[3],16,-722521979),n=bi(n,i,s,r,e[6],23,76029189),r=bi(r,n,i,s,e[9],4,-640364487),s=bi(s,r,n,i,e[12],11,-421815835),i=bi(i,s,r,n,e[15],16,530742520),r=Si(r,n=bi(n,i,s,r,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Si(s,r,n,i,e[7],10,1126891415),i=Si(i,s,r,n,e[14],15,-1416354905),n=Si(n,i,s,r,e[5],21,-57434055),r=Si(r,n,i,s,e[12],6,1700485571),s=Si(s,r,n,i,e[3],10,-1894986606),i=Si(i,s,r,n,e[10],15,-1051523),n=Si(n,i,s,r,e[1],21,-2054922799),r=Si(r,n,i,s,e[8],6,1873313359),s=Si(s,r,n,i,e[15],10,-30611744),i=Si(i,s,r,n,e[6],15,-1560198380),n=Si(n,i,s,r,e[13],21,1309151649),r=Si(r,n,i,s,e[4],6,-145523070),s=Si(s,r,n,i,e[11],10,-1120210379),i=Si(i,s,r,n,e[2],15,718787259),n=Si(n,i,s,r,e[9],21,-343485551),t[0]=tu(r,t[0]),t[1]=tu(n,t[1]),t[2]=tu(i,t[2]),t[3]=tu(s,t[3])}function Fv(t,e,r,n,i,s){return e=tu(tu(e,t),tu(n,s)),tu(e<<i|e>>>32-i,r)}function wi(t,e,r,n,i,s,a){return Fv(e&r|~e&n,t,e,i,s,a)}function _i(t,e,r,n,i,s,a){return Fv(e&n|r&~n,t,e,i,s,a)}function bi(t,e,r,n,i,s,a){return Fv(e^r^n,t,e,i,s,a)}function Si(t,e,r,n,i,s,a){return Fv(r^(e|~n),t,e,i,s,a)}function i8(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)fy(n,bK(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(fy(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,fy(n,i),n}function bK(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}c0=Lt.atob.bind(Lt),Tw=Lt.btoa.bind(Lt);var d3="0123456789abcdef".split("");function SK(t){for(var e="",r=0;r<4;r++)e+=d3[t>>8*r+4&15]+d3[t>>8*r&15];return e}function TK(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Ew(t){return i8(t).map(TK).join("")}var EK=function(t){for(var e=0;e<t.length;e++)t[e]=SK(t[e]);return t.join("")}(i8("hello"))!="5d41402abc4b2a76b9719d911017c592";function tu(t,e){if(EK){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Aw(t,e){var r,n,i,s;if(t!==r){for(var a=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var u=0;for(l=0;l<256;l++){var c=o[l];u=(u+c+a.charCodeAt(l))%256,o[l]=o[u],o[u]=c}r=t,n=o}else o=n;var h=e.length,d=0,f=0,y="";for(l=0;l<h;l++)f=(f+(c=o[d=(d+1)%256]))%256,o[d]=o[f],o[f]=c,a=o[(o[d]+o[f])%256],y+=String.fromCharCode(e.charCodeAt(l)^a);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var p3={print:4,modify:8,copy:16,"annot-forms":32};function Rh(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(p3.perm!==void 0)throw new Error("Invalid permission: "+o);i+=p3[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=Ew(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Aw(this.encryptionKey,this.padding)}function Lh(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[n]}return e}function m3(t){if(wr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var s=Math.random().toString(35);return e[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[r]){var a=e[r][s];try{a[0].apply(t,n)}catch(o){Lt.console&&Rr.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function op(t){if(!(this instanceof op))return new op(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function s8(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Xl(t,e,r,n,i){if(!(this instanceof Xl))return new Xl(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,s8.call(this,n,i)}function vc(t,e,r,n,i){if(!(this instanceof vc))return new vc(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,s8.call(this,n,i)}function At(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,u="S",c=null;wr(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,s=t.compress||t.compressPdf||s,(c=t.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,d={},f={internal:{},__private__:{}};f.__private__.PubSub=m3;var y="1.3",v=f.__private__.getPdfVersion=function(){return y};f.__private__.setPdfVersion=function(k){y=k};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return b};var w=f.__private__.getPageFormat=function(k){return b[k]};i=i||"a4";var S={COMPAT:"compat",ADVANCED:"advanced"},T=S.COMPAT;function F(){this.saveGraphicsState(),oe(new vt(dt,0,0,-dt,0,gi()*dt).toString()+" cm"),this.setFontSize(this.getFontSize()/dt),u="n",T=S.ADVANCED}function j(){this.restoreGraphicsState(),u="S",T=S.COMPAT}var M=f.__private__.combineFontStyleAndFontWeight=function(k,W){if(k=="bold"&&W=="normal"||k=="bold"&&W==400||k=="normal"&&W=="italic"||k=="bold"&&W=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return W&&(k=W==400||W==="normal"?k==="italic"?"italic":"normal":W!=700&&W!=="bold"||k!=="normal"?(W==700?"bold":W)+""+k:"bold"),k};f.advancedAPI=function(k){var W=T===S.COMPAT;return W&&F.call(this),typeof k!="function"||(k(this),W&&j.call(this)),this},f.compatAPI=function(k){var W=T===S.ADVANCED;return W&&j.call(this),typeof k!="function"||(k(this),W&&F.call(this)),this},f.isAdvancedAPI=function(){return T===S.ADVANCED};var A,_=function(k){if(T!==S.ADVANCED)throw new Error(k+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},C=f.roundToPrecision=f.__private__.roundToPrecision=function(k,W){var pe=e||W;if(isNaN(k)||isNaN(pe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return k.toFixed(pe).replace(/0+$/,"")};A=f.hpf=f.__private__.hpf=typeof l=="number"?function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return C(k,l)}:l==="smart"?function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return C(k,k>-1&&k<1?16:5)}:function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return C(k,16)};var D=f.f2=f.__private__.f2=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.f2");return C(k,2)},N=f.__private__.f3=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.f3");return C(k,3)},E=f.scale=f.__private__.scale=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.scale");return T===S.COMPAT?k*dt:T===S.ADVANCED?k:void 0},R=function(k){return T===S.COMPAT?gi()-k:T===S.ADVANCED?k:void 0},H=function(k){return E(R(k))};f.__private__.setPrecision=f.setPrecision=function(k){typeof parseInt(k,10)=="number"&&(e=parseInt(k,10))};var me,ie="00000000000000000000000000000000",ee=f.__private__.getFileId=function(){return ie},J=f.__private__.setFileId=function(k){return ie=k!==void 0&&/^[a-fA-F0-9]{32}$/.test(k)?k.toUpperCase():ie.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(Mr=new Rh(c.userPermissions,c.userPassword,c.ownerPassword,ie)),ie};f.setFileId=function(k){return J(k),this},f.getFileId=function(){return ee()};var re=f.__private__.convertDateToPDFDate=function(k){var W=k.getTimezoneOffset(),pe=W<0?"+":"-",xe=Math.floor(Math.abs(W/60)),Ee=Math.abs(W%60),Be=[pe,U(xe),"'",U(Ee),"'"].join("");return["D:",k.getFullYear(),U(k.getMonth()+1),U(k.getDate()),U(k.getHours()),U(k.getMinutes()),U(k.getSeconds()),Be].join("")},de=f.__private__.convertPDFDateToDate=function(k){var W=parseInt(k.substr(2,4),10),pe=parseInt(k.substr(6,2),10)-1,xe=parseInt(k.substr(8,2),10),Ee=parseInt(k.substr(10,2),10),Be=parseInt(k.substr(12,2),10),Je=parseInt(k.substr(14,2),10);return new Date(W,pe,xe,Ee,Be,Je,0)},Se=f.__private__.setCreationDate=function(k){var W;if(k===void 0&&(k=new Date),k instanceof Date)W=re(k);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(k))throw new Error("Invalid argument passed to jsPDF.setCreationDate");W=k}return me=W},I=f.__private__.getCreationDate=function(k){var W=me;return k==="jsDate"&&(W=de(me)),W};f.setCreationDate=function(k){return Se(k),this},f.getCreationDate=function(k){return I(k)};var V,U=f.__private__.padd2=function(k){return("0"+parseInt(k)).slice(-2)},z=f.__private__.padd2Hex=function(k){return("00"+(k=k.toString())).substr(k.length)},Q=0,ge=[],G=[],ue=0,ye=[],Ne=[],je=!1,Ue=G,ze=function(){Q=0,ue=0,G=[],ge=[],ye=[],se=qr(),ae=qr()};f.__private__.setCustomOutputDestination=function(k){je=!0,Ue=k};var Pe=function(k){je||(Ue=k)};f.__private__.resetCustomOutputDestination=function(){je=!1,Ue=G};var oe=f.__private__.out=function(k){return k=k.toString(),ue+=k.length+1,Ue.push(k),Ue},He=f.__private__.write=function(k){return oe(arguments.length===1?k.toString():Array.prototype.join.call(arguments," "))},ht=f.__private__.getArrayBuffer=function(k){for(var W=k.length,pe=new ArrayBuffer(W),xe=new Uint8Array(pe);W--;)xe[W]=k.charCodeAt(W);return pe},Ye=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Ye};var nt=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(k){return nt=T===S.ADVANCED?k/dt:k,this};var ot,lt=f.__private__.getFontSize=f.getFontSize=function(){return T===S.COMPAT?nt:nt*dt},_t=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(k){return _t=k,this},f.__private__.getR2L=f.getR2L=function(){return _t};var St,Rt=f.__private__.setZoomMode=function(k){var W=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(k))ot=k;else if(isNaN(k)){if(W.indexOf(k)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+k+'" is not recognized.');ot=k}else ot=parseInt(k,10)};f.__private__.getZoomMode=function(){return ot};var Tt,kt=f.__private__.setPageMode=function(k){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(k)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+k+'" is not recognized.');St=k};f.__private__.getPageMode=function(){return St};var qt=f.__private__.setLayoutMode=function(k){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(k)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+k+'" is not recognized.');Tt=k};f.__private__.getLayoutMode=function(){return Tt},f.__private__.setDisplayMode=f.setDisplayMode=function(k,W,pe){return Rt(k),qt(W),kt(pe),this};var Ct={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(k){if(Object.keys(Ct).indexOf(k)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ct[k]},f.__private__.getDocumentProperties=function(){return Ct},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(k){for(var W in Ct)Ct.hasOwnProperty(W)&&k[W]&&(Ct[W]=k[W]);return this},f.__private__.setDocumentProperty=function(k,W){if(Object.keys(Ct).indexOf(k)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ct[k]=W};var Ht,dt,Or,Gt,Yn,tr={},Er={},Yi=[],Kt={},vs={},Ar={},Cn={},Fi=null,ur=0,Et=[],Zt=new m3(f),Xi=t.hotfixes||[],en={},Bn={},Di=[],vt=function k(W,pe,xe,Ee,Be,Je){if(!(this instanceof k))return new k(W,pe,xe,Ee,Be,Je);isNaN(W)&&(W=1),isNaN(pe)&&(pe=0),isNaN(xe)&&(xe=0),isNaN(Ee)&&(Ee=1),isNaN(Be)&&(Be=0),isNaN(Je)&&(Je=0),this._matrix=[W,pe,xe,Ee,Be,Je]};Object.defineProperty(vt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(k){this._matrix[0]=k}}),Object.defineProperty(vt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(k){this._matrix[1]=k}}),Object.defineProperty(vt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(k){this._matrix[2]=k}}),Object.defineProperty(vt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(k){this._matrix[3]=k}}),Object.defineProperty(vt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(k){this._matrix[4]=k}}),Object.defineProperty(vt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(k){this._matrix[5]=k}}),Object.defineProperty(vt.prototype,"a",{get:function(){return this._matrix[0]},set:function(k){this._matrix[0]=k}}),Object.defineProperty(vt.prototype,"b",{get:function(){return this._matrix[1]},set:function(k){this._matrix[1]=k}}),Object.defineProperty(vt.prototype,"c",{get:function(){return this._matrix[2]},set:function(k){this._matrix[2]=k}}),Object.defineProperty(vt.prototype,"d",{get:function(){return this._matrix[3]},set:function(k){this._matrix[3]=k}}),Object.defineProperty(vt.prototype,"e",{get:function(){return this._matrix[4]},set:function(k){this._matrix[4]=k}}),Object.defineProperty(vt.prototype,"f",{get:function(){return this._matrix[5]},set:function(k){this._matrix[5]=k}}),Object.defineProperty(vt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(vt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(vt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(vt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),vt.prototype.join=function(k){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(A).join(k)},vt.prototype.multiply=function(k){var W=k.sx*this.sx+k.shy*this.shx,pe=k.sx*this.shy+k.shy*this.sy,xe=k.shx*this.sx+k.sy*this.shx,Ee=k.shx*this.shy+k.sy*this.sy,Be=k.tx*this.sx+k.ty*this.shx+this.tx,Je=k.tx*this.shy+k.ty*this.sy+this.ty;return new vt(W,pe,xe,Ee,Be,Je)},vt.prototype.decompose=function(){var k=this.sx,W=this.shy,pe=this.shx,xe=this.sy,Ee=this.tx,Be=this.ty,Je=Math.sqrt(k*k+W*W),ft=(k/=Je)*pe+(W/=Je)*xe;pe-=k*ft,xe-=W*ft;var g=Math.sqrt(pe*pe+xe*xe);return ft/=g,k*(xe/=g)<W*(pe/=g)&&(k=-k,W=-W,ft=-ft,Je=-Je),{scale:new vt(Je,0,0,g,0,0),translate:new vt(1,0,0,1,Ee,Be),rotate:new vt(k,W,-W,k,0,0),skew:new vt(1,0,ft,1,0,0)}},vt.prototype.toString=function(k){return this.join(" ")},vt.prototype.inversed=function(){var k=this.sx,W=this.shy,pe=this.shx,xe=this.sy,Ee=this.tx,Be=this.ty,Je=1/(k*xe-W*pe),ft=xe*Je,g=-W*Je,L=-pe*Je,B=k*Je;return new vt(ft,g,L,B,-ft*Ee-L*Be,-g*Ee-B*Be)},vt.prototype.applyToPoint=function(k){var W=k.x*this.sx+k.y*this.shx+this.tx,pe=k.x*this.shy+k.y*this.sy+this.ty;return new _o(W,pe)},vt.prototype.applyToRectangle=function(k){var W=this.applyToPoint(k),pe=this.applyToPoint(new _o(k.x+k.w,k.y+k.h));return new _l(W.x,W.y,pe.x-W.x,pe.y-W.y)},vt.prototype.clone=function(){var k=this.sx,W=this.shy,pe=this.shx,xe=this.sy,Ee=this.tx,Be=this.ty;return new vt(k,W,pe,xe,Ee,Be)},f.Matrix=vt;var mi=f.matrixMult=function(k,W){return W.multiply(k)},xn=new vt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=xn;var tn=function(k,W){if(!vs[k]){var pe=(W instanceof Xl?"Sh":"P")+(Object.keys(Kt).length+1).toString(10);W.id=pe,vs[k]=pe,Kt[pe]=W,Zt.publish("addPattern",W)}};f.ShadingPattern=Xl,f.TilingPattern=vc,f.addShadingPattern=function(k,W){return _("addShadingPattern()"),tn(k,W),this},f.beginTilingPattern=function(k){_("beginTilingPattern()"),bl(k.boundingBox[0],k.boundingBox[1],k.boundingBox[2]-k.boundingBox[0],k.boundingBox[3]-k.boundingBox[1],k.matrix)},f.endTilingPattern=function(k,W){_("endTilingPattern()"),W.stream=Ne[V].join(`
`),tn(k,W),Zt.publish("endTilingPattern",W),Di.pop().restore()};var Kr=f.__private__.newObject=function(){var k=qr();return K(k,!0),k},qr=f.__private__.newObjectDeferred=function(){return Q++,ge[Q]=function(){return ue},Q},K=function(k,W){return W=typeof W=="boolean"&&W,ge[k]=ue,W&&oe(k+" 0 obj"),k},he=f.__private__.newAdditionalObject=function(){var k={objId:qr(),content:""};return ye.push(k),k},se=qr(),ae=qr(),ce=f.__private__.decodeColorString=function(k){var W=k.split(" ");if(W.length!==2||W[1]!=="g"&&W[1]!=="G")W.length===5&&(W[4]==="k"||W[4]==="K")&&(W=[(1-W[0])*(1-W[3]),(1-W[1])*(1-W[3]),(1-W[2])*(1-W[3]),"r"]);else{var pe=parseFloat(W[0]);W=[pe,pe,pe,"r"]}for(var xe="#",Ee=0;Ee<3;Ee++)xe+=("0"+Math.floor(255*parseFloat(W[Ee])).toString(16)).slice(-2);return xe},fe=f.__private__.encodeColorString=function(k){var W;typeof k=="string"&&(k={ch1:k});var pe=k.ch1,xe=k.ch2,Ee=k.ch3,Be=k.ch4,Je=k.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof pe=="string"&&pe.charAt(0)!=="#"){var ft=new n8(pe);if(ft.ok)pe=ft.toHex();else if(!/^\d*\.?\d*$/.test(pe))throw new Error('Invalid color "'+pe+'" passed to jsPDF.encodeColorString.')}if(typeof pe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(pe)&&(pe="#"+pe[1]+pe[1]+pe[2]+pe[2]+pe[3]+pe[3]),typeof pe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(pe)){var g=parseInt(pe.substr(1),16);pe=g>>16&255,xe=g>>8&255,Ee=255&g}if(xe===void 0||Be===void 0&&pe===xe&&xe===Ee)if(typeof pe=="string")W=pe+" "+Je[0];else switch(k.precision){case 2:W=D(pe/255)+" "+Je[0];break;case 3:default:W=N(pe/255)+" "+Je[0]}else if(Be===void 0||wr(Be)==="object"){if(Be&&!isNaN(Be.a)&&Be.a===0)return W=["1.","1.","1.",Je[1]].join(" ");if(typeof pe=="string")W=[pe,xe,Ee,Je[1]].join(" ");else switch(k.precision){case 2:W=[D(pe/255),D(xe/255),D(Ee/255),Je[1]].join(" ");break;default:case 3:W=[N(pe/255),N(xe/255),N(Ee/255),Je[1]].join(" ")}}else if(typeof pe=="string")W=[pe,xe,Ee,Be,Je[2]].join(" ");else switch(k.precision){case 2:W=[D(pe),D(xe),D(Ee),D(Be),Je[2]].join(" ");break;case 3:default:W=[N(pe),N(xe),N(Ee),N(Be),Je[2]].join(" ")}return W},ke=f.__private__.getFilters=function(){return a},Oe=f.__private__.putStream=function(k){var W=(k=k||{}).data||"",pe=k.filters||ke(),xe=k.alreadyAppliedFilters||[],Ee=k.addLength1||!1,Be=W.length,Je=k.objectId,ft=function(Mt){return Mt};if(c!==null&&Je===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(ft=Mr.encryptor(Je,0));var g={};pe===!0&&(pe=["FlateEncode"]);var L=k.additionalKeyValues||[],B=(g=At.API.processDataByFilters!==void 0?At.API.processDataByFilters(W,pe):{data:W,reverseChain:[]}).reverseChain+(Array.isArray(xe)?xe.join(" "):xe.toString());if(g.data.length!==0&&(L.push({key:"Length",value:g.data.length}),Ee===!0&&L.push({key:"Length1",value:Be})),B.length!=0)if(B.split("/").length-1==1)L.push({key:"Filter",value:B});else{L.push({key:"Filter",value:"["+B+"]"});for(var Z=0;Z<L.length;Z+=1)if(L[Z].key==="DecodeParms"){for(var Te=[],Fe=0;Fe<g.reverseChain.split("/").length-1;Fe+=1)Te.push("null");Te.push(L[Z].value),L[Z].value="["+Te.join(" ")+"]"}}oe("<<");for(var Ze=0;Ze<L.length;Ze++)oe("/"+L[Ze].key+" "+L[Ze].value);oe(">>"),g.data.length!==0&&(oe("stream"),oe(ft(g.data)),oe("endstream"))},Ce=f.__private__.putPage=function(k){var W=k.number,pe=k.data,xe=k.objId,Ee=k.contentsObjId;K(xe,!0),oe("<</Type /Page"),oe("/Parent "+k.rootDictionaryObjId+" 0 R"),oe("/Resources "+k.resourceDictionaryObjId+" 0 R"),oe("/MediaBox ["+parseFloat(A(k.mediaBox.bottomLeftX))+" "+parseFloat(A(k.mediaBox.bottomLeftY))+" "+A(k.mediaBox.topRightX)+" "+A(k.mediaBox.topRightY)+"]"),k.cropBox!==null&&oe("/CropBox ["+A(k.cropBox.bottomLeftX)+" "+A(k.cropBox.bottomLeftY)+" "+A(k.cropBox.topRightX)+" "+A(k.cropBox.topRightY)+"]"),k.bleedBox!==null&&oe("/BleedBox ["+A(k.bleedBox.bottomLeftX)+" "+A(k.bleedBox.bottomLeftY)+" "+A(k.bleedBox.topRightX)+" "+A(k.bleedBox.topRightY)+"]"),k.trimBox!==null&&oe("/TrimBox ["+A(k.trimBox.bottomLeftX)+" "+A(k.trimBox.bottomLeftY)+" "+A(k.trimBox.topRightX)+" "+A(k.trimBox.topRightY)+"]"),k.artBox!==null&&oe("/ArtBox ["+A(k.artBox.bottomLeftX)+" "+A(k.artBox.bottomLeftY)+" "+A(k.artBox.topRightX)+" "+A(k.artBox.topRightY)+"]"),typeof k.userUnit=="number"&&k.userUnit!==1&&oe("/UserUnit "+k.userUnit),Zt.publish("putPage",{objId:xe,pageContext:Et[W],pageNumber:W,page:pe}),oe("/Contents "+Ee+" 0 R"),oe(">>"),oe("endobj");var Be=pe.join(`
`);return T===S.ADVANCED&&(Be+=`
Q`),K(Ee,!0),Oe({data:Be,filters:ke(),objectId:Ee}),oe("endobj"),xe},Ie=f.__private__.putPages=function(){var k,W,pe=[];for(k=1;k<=ur;k++)Et[k].objId=qr(),Et[k].contentsObjId=qr();for(k=1;k<=ur;k++)pe.push(Ce({number:k,data:Ne[k],objId:Et[k].objId,contentsObjId:Et[k].contentsObjId,mediaBox:Et[k].mediaBox,cropBox:Et[k].cropBox,bleedBox:Et[k].bleedBox,trimBox:Et[k].trimBox,artBox:Et[k].artBox,userUnit:Et[k].userUnit,rootDictionaryObjId:se,resourceDictionaryObjId:ae}));K(se,!0),oe("<</Type /Pages");var xe="/Kids [";for(W=0;W<ur;W++)xe+=pe[W]+" 0 R ";oe(xe+"]"),oe("/Count "+ur),oe(">>"),oe("endobj"),Zt.publish("postPutPages")},De=function(k){Zt.publish("putFont",{font:k,out:oe,newObject:Kr,putStream:Oe}),k.isAlreadyPutted!==!0&&(k.objectNumber=Kr(),oe("<<"),oe("/Type /Font"),oe("/BaseFont /"+Lh(k.postScriptName)),oe("/Subtype /Type1"),typeof k.encoding=="string"&&oe("/Encoding /"+k.encoding),oe("/FirstChar 32"),oe("/LastChar 255"),oe(">>"),oe("endobj"))},Qe=function(){for(var k in tr)tr.hasOwnProperty(k)&&(h===!1||h===!0&&d.hasOwnProperty(k))&&De(tr[k])},it=function(k){k.objectNumber=Kr();var W=[];W.push({key:"Type",value:"/XObject"}),W.push({key:"Subtype",value:"/Form"}),W.push({key:"BBox",value:"["+[A(k.x),A(k.y),A(k.x+k.width),A(k.y+k.height)].join(" ")+"]"}),W.push({key:"Matrix",value:"["+k.matrix.toString()+"]"});var pe=k.pages[1].join(`
`);Oe({data:pe,additionalKeyValues:W,objectId:k.objectNumber}),oe("endobj")},pt=function(){for(var k in en)en.hasOwnProperty(k)&&it(en[k])},tt=function(k,W){var pe,xe=[],Ee=1/(W-1);for(pe=0;pe<1;pe+=Ee)xe.push(pe);if(xe.push(1),k[0].offset!=0){var Be={offset:0,color:k[0].color};k.unshift(Be)}if(k[k.length-1].offset!=1){var Je={offset:1,color:k[k.length-1].color};k.push(Je)}for(var ft="",g=0,L=0;L<xe.length;L++){for(pe=xe[L];pe>k[g+1].offset;)g++;var B=k[g].offset,Z=(pe-B)/(k[g+1].offset-B),Te=k[g].color,Fe=k[g+1].color;ft+=z(Math.round((1-Z)*Te[0]+Z*Fe[0]).toString(16))+z(Math.round((1-Z)*Te[1]+Z*Fe[1]).toString(16))+z(Math.round((1-Z)*Te[2]+Z*Fe[2]).toString(16))}return ft.trim()},ut=function(k,W){W||(W=21);var pe=Kr(),xe=tt(k.colors,W),Ee=[];Ee.push({key:"FunctionType",value:"0"}),Ee.push({key:"Domain",value:"[0.0 1.0]"}),Ee.push({key:"Size",value:"["+W+"]"}),Ee.push({key:"BitsPerSample",value:"8"}),Ee.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ee.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Oe({data:xe,additionalKeyValues:Ee,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:pe}),oe("endobj"),k.objectNumber=Kr(),oe("<< /ShadingType "+k.type),oe("/ColorSpace /DeviceRGB");var Be="/Coords ["+A(parseFloat(k.coords[0]))+" "+A(parseFloat(k.coords[1]))+" ";k.type===2?Be+=A(parseFloat(k.coords[2]))+" "+A(parseFloat(k.coords[3])):Be+=A(parseFloat(k.coords[2]))+" "+A(parseFloat(k.coords[3]))+" "+A(parseFloat(k.coords[4]))+" "+A(parseFloat(k.coords[5])),oe(Be+="]"),k.matrix&&oe("/Matrix ["+k.matrix.toString()+"]"),oe("/Function "+pe+" 0 R"),oe("/Extend [true true]"),oe(">>"),oe("endobj")},It=function(k,W){var pe=qr(),xe=Kr();W.push({resourcesOid:pe,objectOid:xe}),k.objectNumber=xe;var Ee=[];Ee.push({key:"Type",value:"/Pattern"}),Ee.push({key:"PatternType",value:"1"}),Ee.push({key:"PaintType",value:"1"}),Ee.push({key:"TilingType",value:"1"}),Ee.push({key:"BBox",value:"["+k.boundingBox.map(A).join(" ")+"]"}),Ee.push({key:"XStep",value:A(k.xStep)}),Ee.push({key:"YStep",value:A(k.yStep)}),Ee.push({key:"Resources",value:pe+" 0 R"}),k.matrix&&Ee.push({key:"Matrix",value:"["+k.matrix.toString()+"]"}),Oe({data:k.stream,additionalKeyValues:Ee,objectId:k.objectNumber}),oe("endobj")},rr=function(k){var W;for(W in Kt)Kt.hasOwnProperty(W)&&(Kt[W]instanceof Xl?ut(Kt[W]):Kt[W]instanceof vc&&It(Kt[W],k))},nr=function(k){for(var W in k.objectNumber=Kr(),oe("<<"),k)switch(W){case"opacity":oe("/ca "+D(k[W]));break;case"stroke-opacity":oe("/CA "+D(k[W]))}oe(">>"),oe("endobj")},Nr=function(){var k;for(k in Ar)Ar.hasOwnProperty(k)&&nr(Ar[k])},Oi=function(){for(var k in oe("/XObject <<"),en)en.hasOwnProperty(k)&&en[k].objectNumber>=0&&oe("/"+k+" "+en[k].objectNumber+" 0 R");Zt.publish("putXobjectDict"),oe(">>")},oa=function(){Mr.oid=Kr(),oe("<<"),oe("/Filter /Standard"),oe("/V "+Mr.v),oe("/R "+Mr.r),oe("/U <"+Mr.toHexString(Mr.U)+">"),oe("/O <"+Mr.toHexString(Mr.O)+">"),oe("/P "+Mr.P),oe(">>"),oe("endobj")},ys=function(){for(var k in oe("/Font <<"),tr)tr.hasOwnProperty(k)&&(h===!1||h===!0&&d.hasOwnProperty(k))&&oe("/"+k+" "+tr[k].objectNumber+" 0 R");oe(">>")},Qi=function(){if(Object.keys(Kt).length>0){for(var k in oe("/Shading <<"),Kt)Kt.hasOwnProperty(k)&&Kt[k]instanceof Xl&&Kt[k].objectNumber>=0&&oe("/"+k+" "+Kt[k].objectNumber+" 0 R");Zt.publish("putShadingPatternDict"),oe(">>")}},xs=function(k){if(Object.keys(Kt).length>0){for(var W in oe("/Pattern <<"),Kt)Kt.hasOwnProperty(W)&&Kt[W]instanceof f.TilingPattern&&Kt[W].objectNumber>=0&&Kt[W].objectNumber<k&&oe("/"+W+" "+Kt[W].objectNumber+" 0 R");Zt.publish("putTilingPatternDict"),oe(">>")}},Xn=function(){if(Object.keys(Ar).length>0){var k;for(k in oe("/ExtGState <<"),Ar)Ar.hasOwnProperty(k)&&Ar[k].objectNumber>=0&&oe("/"+k+" "+Ar[k].objectNumber+" 0 R");Zt.publish("putGStateDict"),oe(">>")}},jr=function(k){K(k.resourcesOid,!0),oe("<<"),oe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ys(),Qi(),xs(k.objectOid),Xn(),Oi(),oe(">>"),oe("endobj")},Vu=function(){var k=[];Qe(),Nr(),pt(),rr(k),Zt.publish("putResources"),k.forEach(jr),jr({resourcesOid:ae,objectOid:Number.MAX_SAFE_INTEGER}),Zt.publish("postPutResources")},Uu=function(){Zt.publish("putAdditionalObjects");for(var k=0;k<ye.length;k++){var W=ye[k];K(W.objId,!0),oe(W.content),oe("endobj")}Zt.publish("postPutAdditionalObjects")},eh=function(k){Er[k.fontName]=Er[k.fontName]||{},Er[k.fontName][k.fontStyle]=k.id},zu=function(k,W,pe,xe,Ee){var Be={id:"F"+(Object.keys(tr).length+1).toString(10),postScriptName:k,fontName:W,fontStyle:pe,encoding:xe,isStandardFont:Ee||!1,metadata:{}};return Zt.publish("addFont",{font:Be,instance:this}),tr[Be.id]=Be,eh(Be),Be.id},th=function(k){for(var W=0,pe=Ye.length;W<pe;W++){var xe=zu.call(this,k[W][0],k[W][1],k[W][2],Ye[W][3],!0);h===!1&&(d[xe]=!0);var Ee=k[W][0].split("-");eh({id:xe,fontName:Ee[0],fontStyle:Ee[1]||""})}Zt.publish("addFonts",{fonts:tr,dictionary:Er})},Ji=function(k){return k.foo=function(){try{return k.apply(this,arguments)}catch(xe){var W=xe.stack||"";~W.indexOf(" at ")&&(W=W.split(" at ")[1]);var pe="Error in function "+W.split(`
`)[0].split("<")[0]+": "+xe.message;if(!Lt.console)throw new Error(pe);Lt.console.error(pe,xe),Lt.alert&&alert(pe)}},k.foo.bar=k,k.foo},ul=function(k,W){var pe,xe,Ee,Be,Je,ft,g,L,B;if(Ee=(W=W||{}).sourceEncoding||"Unicode",Je=W.outputEncoding,(W.autoencode||Je)&&tr[Ht].metadata&&tr[Ht].metadata[Ee]&&tr[Ht].metadata[Ee].encoding&&(Be=tr[Ht].metadata[Ee].encoding,!Je&&tr[Ht].encoding&&(Je=tr[Ht].encoding),!Je&&Be.codePages&&(Je=Be.codePages[0]),typeof Je=="string"&&(Je=Be[Je]),Je)){for(g=!1,ft=[],pe=0,xe=k.length;pe<xe;pe++)(L=Je[k.charCodeAt(pe)])?ft.push(String.fromCharCode(L)):ft.push(k[pe]),ft[pe].charCodeAt(0)>>8&&(g=!0);k=ft.join("")}for(pe=k.length;g===void 0&&pe!==0;)k.charCodeAt(pe-1)>>8&&(g=!0),pe--;if(!g)return k;for(ft=W.noBOM?[]:[254,255],pe=0,xe=k.length;pe<xe;pe++){if((B=(L=k.charCodeAt(pe))>>8)>>8)throw new Error("Character at position "+pe+" of string '"+k+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ft.push(B),ft.push(L-(B<<8))}return String.fromCharCode.apply(void 0,ft)},rn=f.__private__.pdfEscape=f.pdfEscape=function(k,W){return ul(k,W).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ji=f.__private__.beginPage=function(k){Ne[++ur]=[],Et[ur]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(k[0]),topRightY:Number(k[1])}},Hu(ur),Pe(Ne[V])},go=function(k,W){var pe,xe,Ee;switch(r=W||r,typeof k=="string"&&(pe=w(k.toLowerCase()),Array.isArray(pe)&&(xe=pe[0],Ee=pe[1])),Array.isArray(k)&&(xe=k[0]*dt,Ee=k[1]*dt),isNaN(xe)&&(xe=i[0],Ee=i[1]),(xe>14400||Ee>14400)&&(Rr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),xe=Math.min(14400,xe),Ee=Math.min(14400,Ee)),i=[xe,Ee],r.substr(0,1)){case"l":Ee>xe&&(i=[Ee,xe]);break;case"p":xe>Ee&&(i=[Ee,xe])}ji(i),Ku(Gu),oe(Qn),Qu!==0&&oe(Qu+" J"),wl!==0&&oe(wl+" j"),Zt.publish("addPage",{pageNumber:ur})},cl=function(k){k>0&&k<=ur&&(Ne.splice(k,1),Et.splice(k,1),ur--,V>ur&&(V=ur),this.setPage(V))},Hu=function(k){k>0&&k<=ur&&(V=k)},pr=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Ne.length-1},vo=function(k,W,pe){var xe,Ee=void 0;return pe=pe||{},k=k!==void 0?k:tr[Ht].fontName,W=W!==void 0?W:tr[Ht].fontStyle,xe=k.toLowerCase(),Er[xe]!==void 0&&Er[xe][W]!==void 0?Ee=Er[xe][W]:Er[k]!==void 0&&Er[k][W]!==void 0?Ee=Er[k][W]:pe.disableWarning===!1&&Rr.warn("Unable to look up font label for font '"+k+"', '"+W+"'. Refer to getFontList() for available fonts."),Ee||pe.noFallback||(Ee=Er.times[W])==null&&(Ee=Er.times.normal),Ee},yo=f.__private__.putInfo=function(){var k=Kr(),W=function(xe){return xe};for(var pe in c!==null&&(W=Mr.encryptor(k,0)),oe("<<"),oe("/Producer ("+rn(W("jsPDF "+At.version))+")"),Ct)Ct.hasOwnProperty(pe)&&Ct[pe]&&oe("/"+pe.substr(0,1).toUpperCase()+pe.substr(1)+" ("+rn(W(Ct[pe]))+")");oe("/CreationDate ("+rn(W(me))+")"),oe(">>"),oe("endobj")},la=f.__private__.putCatalog=function(k){var W=(k=k||{}).rootDictionaryObjId||se;switch(Kr(),oe("<<"),oe("/Type /Catalog"),oe("/Pages "+W+" 0 R"),ot||(ot="fullwidth"),ot){case"fullwidth":oe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":oe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":oe("/OpenAction [3 0 R /Fit]");break;case"original":oe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var pe=""+ot;pe.substr(pe.length-1)==="%"&&(ot=parseInt(ot)/100),typeof ot=="number"&&oe("/OpenAction [3 0 R /XYZ null null "+D(ot)+"]")}switch(Tt||(Tt="continuous"),Tt){case"continuous":oe("/PageLayout /OneColumn");break;case"single":oe("/PageLayout /SinglePage");break;case"two":case"twoleft":oe("/PageLayout /TwoColumnLeft");break;case"tworight":oe("/PageLayout /TwoColumnRight")}St&&oe("/PageMode /"+St),Zt.publish("putCatalog"),oe(">>"),oe("endobj")},td=f.__private__.putTrailer=function(){oe("trailer"),oe("<<"),oe("/Size "+(Q+1)),oe("/Root "+Q+" 0 R"),oe("/Info "+(Q-1)+" 0 R"),c!==null&&oe("/Encrypt "+Mr.oid+" 0 R"),oe("/ID [ <"+ie+"> <"+ie+"> ]"),oe(">>")},rh=f.__private__.putHeader=function(){oe("%PDF-"+y),oe("%")},rd=f.__private__.putXRef=function(){var k="0000000000";oe("xref"),oe("0 "+(Q+1)),oe("0000000000 65535 f ");for(var W=1;W<=Q;W++)typeof ge[W]=="function"?oe((k+ge[W]()).slice(-10)+" 00000 n "):ge[W]!==void 0?oe((k+ge[W]).slice(-10)+" 00000 n "):oe("0000000000 00000 n ")},ua=f.__private__.buildDocument=function(){ze(),Pe(G),Zt.publish("buildDocument"),rh(),Ie(),Uu(),Vu(),c!==null&&oa(),yo(),la();var k=ue;return rd(),td(),oe("startxref"),oe(""+k),oe("%%EOF"),Pe(Ne[V]),G.join(`
`)},hl=f.__private__.getBlob=function(k){return new Blob([ht(k)],{type:"application/pdf"})},fl=f.output=f.__private__.output=Ji(function(k,W){switch(typeof(W=W||{})=="string"?W={filename:W}:W.filename=W.filename||"generated.pdf",k){case void 0:return ua();case"save":f.save(W.filename);break;case"arraybuffer":return ht(ua());case"blob":return hl(ua());case"bloburi":case"bloburl":if(Lt.URL!==void 0&&typeof Lt.URL.createObjectURL=="function")return Lt.URL&&Lt.URL.createObjectURL(hl(ua()))||void 0;Rr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var pe="",xe=ua();try{pe=Tw(xe)}catch{pe=Tw(unescape(encodeURIComponent(xe)))}return"data:application/pdf;filename="+W.filename+";base64,"+pe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Lt)==="[object Window]"){var Ee="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';W.pdfObjectUrl&&(Ee=W.pdfObjectUrl,Be="");var Je='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ee+'"'+Be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(W)+");<\/script></body></html>",ft=Lt.open();return ft!==null&&ft.document.write(Je),ft}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Lt)==="[object Window]"){var g='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(W.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+W.filename+'" width="500px" height="400px" /></body></html>',L=Lt.open();if(L!==null){L.document.write(g);var B=this;L.document.documentElement.querySelector("#pdfViewer").onload=function(){L.document.title=W.filename,L.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(B.output("bloburl"))}}return L}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Lt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Z='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",W)+'"></iframe></body></html>',Te=Lt.open();if(Te!==null&&(Te.document.write(Z),Te.document.title=W.filename),Te||typeof safari>"u")return Te;break;case"datauri":case"dataurl":return Lt.document.location.href=this.output("datauristring",W);default:return null}}),Ba=function(k){return Array.isArray(Xi)===!0&&Xi.indexOf(k)>-1};switch(n){case"pt":dt=1;break;case"mm":dt=72/25.4;break;case"cm":dt=72/2.54;break;case"in":dt=72;break;case"px":dt=Ba("px_scaling")==1?.75:96/72;break;case"pc":case"em":dt=12;break;case"ex":dt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);dt=n}var Mr=null;Se(),J();var nh=function(k){return c!==null?Mr.encryptor(k,0):function(W){return W}},Wu=f.__private__.getPageInfo=f.getPageInfo=function(k){if(isNaN(k)||k%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Et[k].objId,pageNumber:k,pageContext:Et[k]}},Ft=f.__private__.getPageInfoByObjId=function(k){if(isNaN(k)||k%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var W in Et)if(Et[W].objId===k)break;return Wu(W)},Va=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Et[V].objId,pageNumber:V,pageContext:Et[V]}};f.addPage=function(){return go.apply(this,arguments),this},f.setPage=function(){return Hu.apply(this,arguments),Pe.call(this,Ne[V]),this},f.insertPage=function(k){return this.addPage(),this.movePage(V,k),this},f.movePage=function(k,W){var pe,xe;if(k>W){pe=Ne[k],xe=Et[k];for(var Ee=k;Ee>W;Ee--)Ne[Ee]=Ne[Ee-1],Et[Ee]=Et[Ee-1];Ne[W]=pe,Et[W]=xe,this.setPage(W)}else if(k<W){pe=Ne[k],xe=Et[k];for(var Be=k;Be<W;Be++)Ne[Be]=Ne[Be+1],Et[Be]=Et[Be+1];Ne[W]=pe,Et[W]=xe,this.setPage(W)}return this},f.deletePage=function(){return cl.apply(this,arguments),this},f.__private__.text=f.text=function(k,W,pe,xe,Ee){var Be,Je,ft,g,L,B,Z,Te,Fe,Ze=(xe=xe||{}).scope||this;if(typeof k=="number"&&typeof W=="number"&&(typeof pe=="string"||Array.isArray(pe))){var Mt=pe;pe=W,W=k,k=Mt}if(arguments[3]instanceof vt?(_("The transform parameter of text() with a Matrix value"),Fe=Ee):(ft=arguments[4],g=arguments[5],wr(Z=arguments[3])==="object"&&Z!==null||(typeof ft=="string"&&(g=ft,ft=null),typeof Z=="string"&&(g=Z,Z=null),typeof Z=="number"&&(ft=Z,Z=null),xe={flags:Z,angle:ft,align:g})),isNaN(W)||isNaN(pe)||k==null)throw new Error("Invalid arguments passed to jsPDF.text");if(k.length===0)return Ze;var Xt="",Bt=!1,dr=typeof xe.lineHeightFactor=="number"?xe.lineHeightFactor:fr,Pr=Ze.internal.scaleFactor;function pa(Lr){return Lr=Lr.split("	").join(Array(xe.TabLen||9).join(" ")),rn(Lr,Z)}function Jn(Lr){for(var Fr,hn=Lr.concat(),In=[],Ao=hn.length;Ao--;)typeof(Fr=hn.shift())=="string"?In.push(Fr):Array.isArray(Lr)&&(Fr.length===1||Fr[1]===void 0&&Fr[2]===void 0)?In.push(Fr[0]):In.push([Fr[0],Fr[1],Fr[2]]);return In}function Wa(Lr,Fr){var hn;if(typeof Lr=="string")hn=Fr(Lr)[0];else if(Array.isArray(Lr)){for(var In,Ao,hd=Lr.concat(),gh=[],Kp=hd.length;Kp--;)typeof(In=hd.shift())=="string"?gh.push(Fr(In)[0]):Array.isArray(In)&&typeof In[0]=="string"&&(Ao=Fr(In[0],In[1],In[2]),gh.push([Ao[0],Ao[1],Ao[2]]));hn=gh}return hn}var qa=!1,id=!0;if(typeof k=="string")qa=!0;else if(Array.isArray(k)){var sd=k.concat();Je=[];for(var lh,Zn=sd.length;Zn--;)(typeof(lh=sd.shift())!="string"||Array.isArray(lh)&&typeof lh[0]!="string")&&(id=!1);qa=id}if(qa===!1)throw new Error('Type of text must be string or Array. "'+k+'" is not recognized.');typeof k=="string"&&(k=k.match(/[\r?\n]/)?k.split(/\r\n|\r|\n/g):[k]);var uh=nt/Ze.internal.scaleFactor,ch=uh*(dr-1);switch(xe.baseline){case"bottom":pe-=ch;break;case"top":pe+=uh-ch;break;case"hanging":pe+=uh-2*ch;break;case"middle":pe+=uh/2-ch}if((B=xe.maxWidth||0)>0&&(typeof k=="string"?k=Ze.splitTextToSize(k,B):Object.prototype.toString.call(k)==="[object Array]"&&(k=k.reduce(function(Lr,Fr){return Lr.concat(Ze.splitTextToSize(Fr,B))},[]))),Be={text:k,x:W,y:pe,options:xe,mutex:{pdfEscape:rn,activeFontKey:Ht,fonts:tr,activeFontSize:nt}},Zt.publish("preProcessText",Be),k=Be.text,ft=(xe=Be.options).angle,!(Fe instanceof vt)&&ft&&typeof ft=="number"){ft*=Math.PI/180,xe.rotationDirection===0&&(ft=-ft),T===S.ADVANCED&&(ft=-ft);var hh=Math.cos(ft),ad=Math.sin(ft);Fe=new vt(hh,ad,-ad,hh,0,0)}else ft&&ft instanceof vt&&(Fe=ft);T!==S.ADVANCED||Fe||(Fe=xn),(L=xe.charSpace||wo)!==void 0&&(Xt+=A(E(L))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Te=xe.horizontalScale)!==void 0&&(Xt+=A(100*Te)+` Tz
`),xe.lang;var Zi=-1,Hv=xe.renderingMode!==void 0?xe.renderingMode:xe.stroke,od=Ze.internal.getCurrentPageInfo().pageContext;switch(Hv){case 0:case!1:case"fill":Zi=0;break;case 1:case!0:case"stroke":Zi=1;break;case 2:case"fillThenStroke":Zi=2;break;case 3:case"invisible":Zi=3;break;case 4:case"fillAndAddForClipping":Zi=4;break;case 5:case"strokeAndAddPathForClipping":Zi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Zi=6;break;case 7:case"addToPathForClipping":Zi=7}var Wp=od.usedRenderingMode!==void 0?od.usedRenderingMode:-1;Zi!==-1?Xt+=Zi+` Tr
`:Wp!==-1&&(Xt+=`0 Tr
`),Zi!==-1&&(od.usedRenderingMode=Zi),g=xe.align||"left";var Us,fh=nt*dr,qp=Ze.internal.pageSize.getWidth(),$p=tr[Ht];L=xe.charSpace||wo,B=xe.maxWidth||0,Z=Object.assign({autoencode:!0,noBOM:!0},xe.flags);var El=[],Ju=function(Lr){return Ze.getStringUnitWidth(Lr,{font:$p,charSpace:L,fontSize:nt,doKerning:!1})*nt/Pr};if(Object.prototype.toString.call(k)==="[object Array]"){var es;Je=Jn(k),g!=="left"&&(Us=Je.map(Ju));var Mi,Al=0;if(g==="right"){W-=Us[0],k=[],Zn=Je.length;for(var So=0;So<Zn;So++)So===0?(Mi=bs(W),es=Pn(pe)):(Mi=E(Al-Us[So]),es=-fh),k.push([Je[So],Mi,es]),Al=Us[So]}else if(g==="center"){W-=Us[0]/2,k=[],Zn=Je.length;for(var To=0;To<Zn;To++)To===0?(Mi=bs(W),es=Pn(pe)):(Mi=E((Al-Us[To])/2),es=-fh),k.push([Je[To],Mi,es]),Al=Us[To]}else if(g==="left"){k=[],Zn=Je.length;for(var dh=0;dh<Zn;dh++)k.push(Je[dh])}else if(g==="justify"&&$p.encoding==="Identity-H"){k=[],Zn=Je.length,B=B!==0?B:qp;for(var Eo=0,cn=0;cn<Zn;cn++)if(es=cn===0?Pn(pe):-fh,Mi=cn===0?bs(W):Eo,cn<Zn-1){var ld=E((B-Us[cn])/(Je[cn].split(" ").length-1)),Bi=Je[cn].split(" ");k.push([Bi[0]+" ",Mi,es]),Eo=0;for(var zs=1;zs<Bi.length;zs++){var ph=(Ju(Bi[zs-1]+" "+Bi[zs])-Ju(Bi[zs]))*Pr+ld;zs==Bi.length-1?k.push([Bi[zs],ph,0]):k.push([Bi[zs]+" ",ph,0]),Eo-=ph}}else k.push([Je[cn],Mi,es]);k.push(["",Eo,0])}else{if(g!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(k=[],Zn=Je.length,B=B!==0?B:qp,cn=0;cn<Zn;cn++)es=cn===0?Pn(pe):-fh,Mi=cn===0?bs(W):0,cn<Zn-1?El.push(A(E((B-Us[cn])/(Je[cn].split(" ").length-1)))):El.push(0),k.push([Je[cn],Mi,es])}}var Gp=typeof xe.R2L=="boolean"?xe.R2L:_t;Gp===!0&&(k=Wa(k,function(Lr,Fr,hn){return[Lr.split("").reverse().join(""),Fr,hn]})),Be={text:k,x:W,y:pe,options:xe,mutex:{pdfEscape:rn,activeFontKey:Ht,fonts:tr,activeFontSize:nt}},Zt.publish("postProcessText",Be),k=Be.text,Bt=Be.mutex.isHex||!1;var ud=tr[Ht].encoding;ud!=="WinAnsiEncoding"&&ud!=="StandardEncoding"||(k=Wa(k,function(Lr,Fr,hn){return[pa(Lr),Fr,hn]})),Je=Jn(k),k=[];for(var Zu,ec,Nl,tc=0,mh=1,rc=Array.isArray(Je[0])?mh:tc,kl="",cd=function(Lr,Fr,hn){var In="";return hn instanceof vt?(hn=typeof xe.angle=="number"?mi(hn,new vt(1,0,0,1,Lr,Fr)):mi(new vt(1,0,0,1,Lr,Fr),hn),T===S.ADVANCED&&(hn=mi(new vt(1,0,0,-1,0,0),hn)),In=hn.join(" ")+` Tm
`):In=A(Lr)+" "+A(Fr)+` Td
`,In},Hs=0;Hs<Je.length;Hs++){switch(kl="",rc){case mh:Nl=(Bt?"<":"(")+Je[Hs][0]+(Bt?">":")"),Zu=parseFloat(Je[Hs][1]),ec=parseFloat(Je[Hs][2]);break;case tc:Nl=(Bt?"<":"(")+Je[Hs]+(Bt?">":")"),Zu=bs(W),ec=Pn(pe)}El!==void 0&&El[Hs]!==void 0&&(kl=El[Hs]+` Tw
`),Hs===0?k.push(kl+cd(Zu,ec,Fe)+Nl):rc===tc?k.push(kl+Nl):rc===mh&&k.push(kl+cd(Zu,ec,Fe)+Nl)}k=rc===tc?k.join(` Tj
T* `):k.join(` Tj
`),k+=` Tj
`;var Ws=`BT
/`;return Ws+=Ht+" "+nt+` Tf
`,Ws+=A(nt*dr)+` TL
`,Ws+=fa+`
`,Ws+=Xt,Ws+=k,oe(Ws+="ET"),d[Ht]=!0,Ze};var nd=f.__private__.clip=f.clip=function(k){return oe(k==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return nd("evenodd")},f.__private__.discardPath=f.discardPath=function(){return oe("n"),this};var Vs=f.__private__.isValidStyle=function(k){var W=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(k)!==-1&&(W=!0),W};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(k){return Vs(k)&&(u=k),this};var ih=f.__private__.getStyle=f.getStyle=function(k){var W=u;switch(k){case"D":case"S":W="S";break;case"F":W="f";break;case"FD":case"DF":W="B";break;case"f":case"f*":case"B":case"B*":W=k}return W},ws=f.close=function(){return oe("h"),this};f.stroke=function(){return oe("S"),this},f.fill=function(k){return dl("f",k),this},f.fillEvenOdd=function(k){return dl("f*",k),this},f.fillStroke=function(k){return dl("B",k),this},f.fillStrokeEvenOdd=function(k){return dl("B*",k),this};var dl=function(k,W){wr(W)==="object"?ml(W,k):oe(k)},qu=function(k){k===null||T===S.ADVANCED&&k===void 0||(k=ih(k),oe(k))};function pl(k,W,pe,xe,Ee){var Be=new vc(W||this.boundingBox,pe||this.xStep,xe||this.yStep,this.gState,Ee||this.matrix);Be.stream=this.stream;var Je=k+"$$"+this.cloneIndex+++"$$";return tn(Je,Be),Be}var ml=function(k,W){var pe=vs[k.key],xe=Kt[pe];if(xe instanceof Xl)oe("q"),oe(sh(W)),xe.gState&&f.setGState(xe.gState),oe(k.matrix.toString()+" cm"),oe("/"+pe+" sh"),oe("Q");else if(xe instanceof vc){var Ee=new vt(1,0,0,-1,0,gi());k.matrix&&(Ee=Ee.multiply(k.matrix||xn),pe=pl.call(xe,k.key,k.boundingBox,k.xStep,k.yStep,Ee).id),oe("q"),oe("/Pattern cs"),oe("/"+pe+" scn"),xe.gState&&f.setGState(xe.gState),oe(W),oe("Q")}},sh=function(k){switch(k){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ca=f.moveTo=function(k,W){return oe(A(E(k))+" "+A(H(W))+" m"),this},_s=f.lineTo=function(k,W){return oe(A(E(k))+" "+A(H(W))+" l"),this},ha=f.curveTo=function(k,W,pe,xe,Ee,Be){return oe([A(E(k)),A(H(W)),A(E(pe)),A(H(xe)),A(E(Ee)),A(H(Be)),"c"].join(" ")),this};f.__private__.line=f.line=function(k,W,pe,xe,Ee){if(isNaN(k)||isNaN(W)||isNaN(pe)||isNaN(xe)||!Vs(Ee))throw new Error("Invalid arguments passed to jsPDF.line");return T===S.COMPAT?this.lines([[pe-k,xe-W]],k,W,[1,1],Ee||"S"):this.lines([[pe-k,xe-W]],k,W,[1,1]).stroke()},f.__private__.lines=f.lines=function(k,W,pe,xe,Ee,Be){var Je,ft,g,L,B,Z,Te,Fe,Ze,Mt,Xt,Bt;if(typeof k=="number"&&(Bt=pe,pe=W,W=k,k=Bt),xe=xe||[1,1],Be=Be||!1,isNaN(W)||isNaN(pe)||!Array.isArray(k)||!Array.isArray(xe)||!Vs(Ee)||typeof Be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ca(W,pe),Je=xe[0],ft=xe[1],L=k.length,Mt=W,Xt=pe,g=0;g<L;g++)(B=k[g]).length===2?(Mt=B[0]*Je+Mt,Xt=B[1]*ft+Xt,_s(Mt,Xt)):(Z=B[0]*Je+Mt,Te=B[1]*ft+Xt,Fe=B[2]*Je+Mt,Ze=B[3]*ft+Xt,Mt=B[4]*Je+Mt,Xt=B[5]*ft+Xt,ha(Z,Te,Fe,Ze,Mt,Xt));return Be&&ws(),qu(Ee),this},f.path=function(k){for(var W=0;W<k.length;W++){var pe=k[W],xe=pe.c;switch(pe.op){case"m":ca(xe[0],xe[1]);break;case"l":_s(xe[0],xe[1]);break;case"c":ha.apply(this,xe);break;case"h":ws()}}return this},f.__private__.rect=f.rect=function(k,W,pe,xe,Ee){if(isNaN(k)||isNaN(W)||isNaN(pe)||isNaN(xe)||!Vs(Ee))throw new Error("Invalid arguments passed to jsPDF.rect");return T===S.COMPAT&&(xe=-xe),oe([A(E(k)),A(H(W)),A(E(pe)),A(E(xe)),"re"].join(" ")),qu(Ee),this},f.__private__.triangle=f.triangle=function(k,W,pe,xe,Ee,Be,Je){if(isNaN(k)||isNaN(W)||isNaN(pe)||isNaN(xe)||isNaN(Ee)||isNaN(Be)||!Vs(Je))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[pe-k,xe-W],[Ee-pe,Be-xe],[k-Ee,W-Be]],k,W,[1,1],Je,!0),this},f.__private__.roundedRect=f.roundedRect=function(k,W,pe,xe,Ee,Be,Je){if(isNaN(k)||isNaN(W)||isNaN(pe)||isNaN(xe)||isNaN(Ee)||isNaN(Be)||!Vs(Je))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ft=4/3*(Math.SQRT2-1);return Ee=Math.min(Ee,.5*pe),Be=Math.min(Be,.5*xe),this.lines([[pe-2*Ee,0],[Ee*ft,0,Ee,Be-Be*ft,Ee,Be],[0,xe-2*Be],[0,Be*ft,-Ee*ft,Be,-Ee,Be],[2*Ee-pe,0],[-Ee*ft,0,-Ee,-Be*ft,-Ee,-Be],[0,2*Be-xe],[0,-Be*ft,Ee*ft,-Be,Ee,-Be]],k+Ee,W,[1,1],Je,!0),this},f.__private__.ellipse=f.ellipse=function(k,W,pe,xe,Ee){if(isNaN(k)||isNaN(W)||isNaN(pe)||isNaN(xe)||!Vs(Ee))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Be=4/3*(Math.SQRT2-1)*pe,Je=4/3*(Math.SQRT2-1)*xe;return ca(k+pe,W),ha(k+pe,W-Je,k+Be,W-xe,k,W-xe),ha(k-Be,W-xe,k-pe,W-Je,k-pe,W),ha(k-pe,W+Je,k-Be,W+xe,k,W+xe),ha(k+Be,W+xe,k+pe,W+Je,k+pe,W),qu(Ee),this},f.__private__.circle=f.circle=function(k,W,pe,xe){if(isNaN(k)||isNaN(W)||isNaN(pe)||!Vs(xe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(k,W,pe,pe,xe)},f.setFont=function(k,W,pe){return pe&&(W=M(W,pe)),Ht=vo(k,W,{disableWarning:!1}),this};var $u=f.__private__.getFont=f.getFont=function(){return tr[vo.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var k,W,pe={};for(k in Er)if(Er.hasOwnProperty(k))for(W in pe[k]=[],Er[k])Er[k].hasOwnProperty(W)&&pe[k].push(W);return pe},f.addFont=function(k,W,pe,xe,Ee){var Be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Be.indexOf(arguments[3])!==-1?Ee=arguments[3]:arguments[3]&&Be.indexOf(arguments[3])==-1&&(pe=M(pe,xe)),Ee=Ee||"Identity-H",zu.call(this,k,W,pe,Ee)};var fr,Gu=t.lineWidth||.200025,gl=f.__private__.getLineWidth=f.getLineWidth=function(){return Gu},Ku=f.__private__.setLineWidth=f.setLineWidth=function(k){return Gu=k,oe(A(E(k))+" w"),this};f.__private__.setLineDash=At.API.setLineDash=At.API.setLineDashPattern=function(k,W){if(k=k||[],W=W||0,isNaN(W)||!Array.isArray(k))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return k=k.map(function(pe){return A(E(pe))}).join(" "),W=A(E(W)),oe("["+k+"] "+W+" d"),this};var Yu=f.__private__.getLineHeight=f.getLineHeight=function(){return nt*fr};f.__private__.getLineHeight=f.getLineHeight=function(){return nt*fr};var Xu=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(k){return typeof(k=k||1.15)=="number"&&(fr=k),this},xo=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return fr};Xu(t.lineHeight);var bs=f.__private__.getHorizontalCoordinate=function(k){return E(k)},Pn=f.__private__.getVerticalCoordinate=function(k){return T===S.ADVANCED?k:Et[V].mediaBox.topRightY-Et[V].mediaBox.bottomLeftY-E(k)},ah=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(k){return A(bs(k))},Ua=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(k){return A(Pn(k))},Qn=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return ce(Qn)},f.__private__.setStrokeColor=f.setDrawColor=function(k,W,pe,xe){return Qn=fe({ch1:k,ch2:W,ch3:pe,ch4:xe,pdfColorType:"draw",precision:2}),oe(Qn),this};var vl=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return ce(vl)},f.__private__.setFillColor=f.setFillColor=function(k,W,pe,xe){return vl=fe({ch1:k,ch2:W,ch3:pe,ch4:xe,pdfColorType:"fill",precision:2}),oe(vl),this};var fa=t.textColor||"0 g",yl=f.__private__.getTextColor=f.getTextColor=function(){return ce(fa)};f.__private__.setTextColor=f.setTextColor=function(k,W,pe,xe){return fa=fe({ch1:k,ch2:W,ch3:pe,ch4:xe,pdfColorType:"text",precision:3}),this};var wo=t.charSpace,xl=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(wo||0)};f.__private__.setCharSpace=f.setCharSpace=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return wo=k,this};var Qu=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(k){var W=f.CapJoinStyles[k];if(W===void 0)throw new Error("Line cap style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qu=W,oe(W+" J"),this};var wl=0;f.__private__.setLineJoin=f.setLineJoin=function(k){var W=f.CapJoinStyles[k];if(W===void 0)throw new Error("Line join style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return wl=W,oe(W+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(k){if(k=k||0,isNaN(k))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return oe(A(E(k))+" M"),this},f.GState=op,f.setGState=function(k){(k=typeof k=="string"?Ar[Cn[k]]:za(null,k)).equals(Fi)||(oe("/"+k.id+" gs"),Fi=k)};var za=function(k,W){if(!k||!Cn[k]){var pe=!1;for(var xe in Ar)if(Ar.hasOwnProperty(xe)&&Ar[xe].equals(W)){pe=!0;break}if(pe)W=Ar[xe];else{var Ee="GS"+(Object.keys(Ar).length+1).toString(10);Ar[Ee]=W,W.id=Ee}return k&&(Cn[k]=W.id),Zt.publish("addGState",W),W}};f.addGState=function(k,W){return za(k,W),this},f.saveGraphicsState=function(){return oe("q"),Yi.push({key:Ht,size:nt,color:fa}),this},f.restoreGraphicsState=function(){oe("Q");var k=Yi.pop();return Ht=k.key,nt=k.size,fa=k.color,Fi=null,this},f.setCurrentTransformationMatrix=function(k){return oe(k.toString()+" cm"),this},f.comment=function(k){return oe("#"+k),this};var _o=function(k,W){var pe=k||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return pe},set:function(Be){isNaN(Be)||(pe=parseFloat(Be))}});var xe=W||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return xe},set:function(Be){isNaN(Be)||(xe=parseFloat(Be))}});var Ee="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ee},set:function(Be){Ee=Be.toString()}}),this},_l=function(k,W,pe,xe){_o.call(this,k,W),this.type="rect";var Ee=pe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ee},set:function(Je){isNaN(Je)||(Ee=parseFloat(Je))}});var Be=xe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Be},set:function(Je){isNaN(Je)||(Be=parseFloat(Je))}}),this},bo=function(){this.page=ur,this.currentPage=V,this.pages=Ne.slice(0),this.pagesContext=Et.slice(0),this.x=Or,this.y=Gt,this.matrix=Yn,this.width=Ha(V),this.height=gi(V),this.outputDestination=Ue,this.id="",this.objectNumber=-1};bo.prototype.restore=function(){ur=this.page,V=this.currentPage,Et=this.pagesContext,Ne=this.pages,Or=this.x,Gt=this.y,Yn=this.matrix,Sl(V,this.width),Tl(V,this.height),Ue=this.outputDestination};var bl=function(k,W,pe,xe,Ee){Di.push(new bo),ur=V=0,Ne=[],Or=k,Gt=W,Yn=Ee,ji([pe,xe])},oh=function(k){if(Bn[k])Di.pop().restore();else{var W=new bo,pe="Xo"+(Object.keys(en).length+1).toString(10);W.id=pe,Bn[k]=pe,en[pe]=W,Zt.publish("addFormObject",W),Di.pop().restore()}};for(var da in f.beginFormObject=function(k,W,pe,xe,Ee){return bl(k,W,pe,xe,Ee),this},f.endFormObject=function(k){return oh(k),this},f.doFormObject=function(k,W){var pe=en[Bn[k]];return oe("q"),oe(W.toString()+" cm"),oe("/"+pe.id+" Do"),oe("Q"),this},f.getFormObject=function(k){var W=en[Bn[k]];return{x:W.x,y:W.y,width:W.width,height:W.height,matrix:W.matrix}},f.save=function(k,W){return k=k||"generated.pdf",(W=W||{}).returnPromise=W.returnPromise||!1,W.returnPromise===!1?(uc(hl(ua()),k),typeof uc.unload=="function"&&Lt.setTimeout&&setTimeout(uc.unload,911),this):new Promise(function(pe,xe){try{var Ee=uc(hl(ua()),k);typeof uc.unload=="function"&&Lt.setTimeout&&setTimeout(uc.unload,911),pe(Ee)}catch(Be){xe(Be.message)}})},At.API)At.API.hasOwnProperty(da)&&(da==="events"&&At.API.events.length?function(k,W){var pe,xe,Ee;for(Ee=W.length-1;Ee!==-1;Ee--)pe=W[Ee][0],xe=W[Ee][1],k.subscribe.apply(k,[pe].concat(typeof xe=="function"?[xe]:xe))}(Zt,At.API.events):f[da]=At.API[da]);var Ha=f.getPageWidth=function(k){return(Et[k=k||V].mediaBox.topRightX-Et[k].mediaBox.bottomLeftX)/dt},Sl=f.setPageWidth=function(k,W){Et[k].mediaBox.topRightX=W*dt+Et[k].mediaBox.bottomLeftX},gi=f.getPageHeight=function(k){return(Et[k=k||V].mediaBox.topRightY-Et[k].mediaBox.bottomLeftY)/dt},Tl=f.setPageHeight=function(k,W){Et[k].mediaBox.topRightY=W*dt+Et[k].mediaBox.bottomLeftY};return f.internal={pdfEscape:rn,getStyle:ih,getFont:$u,getFontSize:lt,getCharSpace:xl,getTextColor:yl,getLineHeight:Yu,getLineHeightFactor:xo,getLineWidth:gl,write:He,getHorizontalCoordinate:bs,getVerticalCoordinate:Pn,getCoordinateString:ah,getVerticalCoordinateString:Ua,collections:{},newObject:Kr,newAdditionalObject:he,newObjectDeferred:qr,newObjectDeferredBegin:K,getFilters:ke,putStream:Oe,events:Zt,scaleFactor:dt,pageSize:{getWidth:function(){return Ha(V)},setWidth:function(k){Sl(V,k)},getHeight:function(){return gi(V)},setHeight:function(k){Tl(V,k)}},encryptionOptions:c,encryption:Mr,getEncryptor:nh,output:fl,getNumberOfPages:pr,pages:Ne,out:oe,f2:D,f3:N,getPageInfo:Wu,getPageInfoByObjId:Ft,getCurrentPageInfo:Va,getPDFVersion:v,Point:_o,Rectangle:_l,Matrix:vt,hasHotfix:Ba},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Ha(V)},set:function(k){Sl(V,k)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return gi(V)},set:function(k){Tl(V,k)},enumerable:!0,configurable:!0}),th.call(f,Ye),Ht="F1",go(i,r),Zt.publish("initialized"),f}Rh.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Rh.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Rh.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Rh.prototype.processOwnerPassword=function(t,e){return Aw(Ew(e).substr(0,5),t)},Rh.prototype.encryptor=function(t,e){var r=Ew(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return Aw(r,n)}},op.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||wr(t)!==wr(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},At.API={events:[]},At.version="2.5.2";var sn=At.API,mb=1,Kc=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Sh=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Vt=function(t){return t.toFixed(2)},Bl=function(t){return t.toFixed(5)};sn.__acroform__={};var gs=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},g3=function(t){return t*mb},Ka=function(t){var e=new o8,r=wt.internal.getHeight(t)||0,n=wt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Vt(n)),Number(Vt(r))],e},AK=sn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},NK=sn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},kK=sn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},mn=sn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return kK(t,e-1)},gn=sn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return AK(t,e-1)},vn=sn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return NK(t,e-1)},CK=sn.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(s+o)||0,l.upperRight_X=r(i+a)||0,l.upperRight_Y=n(s)||0,[Number(Vt(l.lowerLeft_X)),Number(Vt(l.lowerLeft_Y)),Number(Vt(l.upperRight_X)),Number(Vt(l.upperRight_Y))]},PK=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=Nw(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Vt(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Ka(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},Nw=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(N){return N.split(`
`)}):i.map(function(N){return[N]});var s=r,a=wt.internal.getHeight(t)||0;a=a<0?-a:a;var o=wt.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(N,E,R){if(N+1<i.length){var H=E+" "+i[N+1][0];return zm(H,t,R).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var u,c,h=zm("3",t,s).height,d=t.multiline?a-s:(a-h)/2,f=d+=2,y=0,v=0,b=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+zm(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var w="",S=0,T=0;T<i.length;T++)if(i.hasOwnProperty(T)){var F=!1;if(i[T].length!==1&&b!==i[T].length-1){if((h+2)*(S+2)+2>a)continue e;w+=i[T][b],F=!0,v=T,T--}else{w=(w+=i[T][b]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var j=parseInt(T),M=l(j,w,s),A=T>=i.length-1;if(M&&!A){w+=" ",b=0;continue}if(M||A){if(A)v=j;else if(t.multiline&&(h+2)*(S+2)+2>a)continue e}else{if(!t.multiline||(h+2)*(S+2)+2>a)continue e;v=j}}for(var _="",C=y;C<=v;C++){var D=i[C];if(t.multiline){if(C===v){_+=D[b]+" ",b=(b+1)%D.length;continue}if(C===y){_+=D[D.length-1]+" ";continue}}_+=D[0]+" "}switch(_=_.substr(_.length-1)==" "?_.substr(0,_.length-1):_,c=zm(_,t,s).width,t.textAlign){case"right":u=o-c-2;break;case"center":u=(o-c)/2;break;case"left":default:u=2}e+=Vt(u)+" "+Vt(f)+` Td
`,e+="("+Kc(_)+`) Tj
`,e+=-Vt(u)+` 0 Td
`,f=-(s+2),c=0,y=F?v:v+1,S++,w=""}break}return n.text=e,n.fontSize=s,n},zm=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},IK={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},RK=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},LK=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,i=t[r];e.internal.newObjectDeferredBegin(i.objId,!0),wr(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[n]}},FK=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(ja.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(IK)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");mb=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new l8,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&RK(s,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var a in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var o=n[a],l=[],u=o.Rect;if(o.Rect&&(o.Rect=CK(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=wt.createDefaultAppearanceStream(o),wr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var c=PK(o);l.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(o.appearanceStreamContent){var h="";for(var d in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(d)){var f=o.appearanceStreamContent[d];if(h+="/"+d+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var a in f)if(f.hasOwnProperty(a)){var y=f[a];typeof y=="function"&&(y=y.call(i,o)),h+="/"+a+" "+y+" ",i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y)}}else typeof(y=f)=="function"&&(y=y.call(i,o)),h+="/"+a+" "+y,i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&LK(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},a8=sn.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),wr(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+Kc(n(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},dy=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Kc(n(t))+")"},eo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};eo.prototype.toString=function(){return this.objId+" 0 R"},eo.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},eo.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:a8(i,this.objId,this.scope)}):i instanceof eo?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var o8=function(){eo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};gs(o8,eo);var l8=function(){eo.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Kc(r(t))+")"}},set:function(r){t=r}})};gs(l8,eo);var ja=function t(){eo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!mn(e,3)},set:function(w){w?this.F=gn(e,3):this.F=vn(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');r=w}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(w){n=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(w){n[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(w){n[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(w){n[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(w){n[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof T1)return;s="FieldObject"+t.FieldNum++}var w=function(S){return S};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+Kc(w(s))+")"},set:function(w){s=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(w){s=w}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/mb:u},set:function(w){u=w}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(w){c=w}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof T1||this instanceof vu))return dy(h,this.objId,this.scope)},set:function(w){w=w.toString(),h=w}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof Fn?d:dy(d,this.objId,this.scope)},set:function(w){w=w.toString(),d=this instanceof Fn?w:w.substr(0,1)==="("?Sh(w.substr(1,w.length-2)):Sh(w)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Fn?Sh(d.substr(1,d.length-1)):d},set:function(w){w=w.toString(),d=this instanceof Fn?"/"+w:w}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Fn?f:dy(f,this.objId,this.scope)},set:function(w){w=w.toString(),f=this instanceof Fn?w:w.substr(0,1)==="("?Sh(w.substr(1,w.length-2)):Sh(w)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Fn?Sh(f.substr(1,f.length-1)):f},set:function(w){w=w.toString(),f=this instanceof Fn?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(w){w=!!w,v=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(w){y=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,1)},set:function(w){w?this.Ff=gn(this.Ff,1):this.Ff=vn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,2)},set:function(w){w?this.Ff=gn(this.Ff,2):this.Ff=vn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,3)},set:function(w){w?this.Ff=gn(this.Ff,3):this.Ff=vn(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');b=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(b){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:b=2;break;case"center":case 1:b=1;break;case"left":case 0:default:b=0}}})};gs(ja,eo);var Sc=function(){ja.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return a8(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(s,a,o){o||(o=1);for(var l,u=[];l=a.exec(s);)u.push(l[o]);return u}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,18)},set:function(r){r?this.Ff=gn(this.Ff,18):this.Ff=vn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=gn(this.Ff,19):this.Ff=vn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,20)},set:function(r){r?(this.Ff=gn(this.Ff,20),e.sort()):this.Ff=vn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,22)},set:function(r){r?this.Ff=gn(this.Ff,22):this.Ff=vn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,23)},set:function(r){r?this.Ff=gn(this.Ff,23):this.Ff=vn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,27)},set:function(r){r?this.Ff=gn(this.Ff,27):this.Ff=vn(this.Ff,27)}}),this.hasAppearanceStream=!1};gs(Sc,ja);var Tc=function(){Sc.call(this),this.fontName="helvetica",this.combo=!1};gs(Tc,Sc);var Ec=function(){Tc.call(this),this.combo=!0};gs(Ec,Tc);var h0=function(){Ec.call(this),this.edit=!0};gs(h0,Ec);var Fn=function(){ja.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,15)},set:function(r){r?this.Ff=gn(this.Ff,15):this.Ff=vn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,16)},set:function(r){r?this.Ff=gn(this.Ff,16):this.Ff=vn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,17)},set:function(r){r?this.Ff=gn(this.Ff,17):this.Ff=vn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,26)},set:function(r){r?this.Ff=gn(this.Ff,26):this.Ff=vn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+Kc(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){wr(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};gs(Fn,ja);var f0=function(){Fn.call(this),this.pushButton=!0};gs(f0,Fn);var Ac=function(){Fn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};gs(Ac,Fn);var T1=function(){var t,e;ja.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+Kc(i(n[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){wr(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=wt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};gs(T1,ja),Ac.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Ac.prototype.createOption=function(t){var e=new T1;return e.Parent=this,e.optionName=t,this.Kids.push(e),DK.call(this.scope,e),e};var d0=function(){Fn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=wt.CheckBox.createAppearanceStream()};gs(d0,Fn);var vu=function(){ja.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,13)},set:function(e){e?this.Ff=gn(this.Ff,13):this.Ff=vn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,21)},set:function(e){e?this.Ff=gn(this.Ff,21):this.Ff=vn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,23)},set:function(e){e?this.Ff=gn(this.Ff,23):this.Ff=vn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,24)},set:function(e){e?this.Ff=gn(this.Ff,24):this.Ff=vn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,25)},set:function(e){e?this.Ff=gn(this.Ff,25):this.Ff=vn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,26)},set:function(e){e?this.Ff=gn(this.Ff,26):this.Ff=vn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};gs(vu,ja);var p0=function(){vu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!mn(this.Ff,14)},set:function(t){t?this.Ff=gn(this.Ff,14):this.Ff=vn(this.Ff,14)}}),this.password=!0};gs(p0,vu);var wt={CheckBox:{createAppearanceStream:function(){return{N:{On:wt.CheckBox.YesNormal},D:{On:wt.CheckBox.YesPushDown,Off:wt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Ka(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=Nw(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Vt(wt.internal.getWidth(t))+" "+Vt(wt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Vt(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Ka(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],s=wt.internal.getHeight(t),a=wt.internal.getWidth(t),o=Nw(t,t.caption);return i.push("1 g"),i.push("0 0 "+Vt(a)+" "+Vt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Vt(a-1)+" "+Vt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Vt(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Ka(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Vt(wt.internal.getWidth(t))+" "+Vt(wt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:wt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=wt.RadioButton.Circle.YesNormal,e.D[t]=wt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Ka(t);e.scope=t.scope;var r=[],n=wt.internal.getWidth(t)<=wt.internal.getHeight(t)?wt.internal.getWidth(t)/4:wt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=wt.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Bl(wt.internal.getWidth(t)/2)+" "+Bl(wt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Ka(t);e.scope=t.scope;var r=[],n=wt.internal.getWidth(t)<=wt.internal.getHeight(t)?wt.internal.getWidth(t)/4:wt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*wt.internal.Bezier_C).toFixed(5)),a=Number((n*wt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Bl(wt.internal.getWidth(t)/2)+" "+Bl(wt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Bl(wt.internal.getWidth(t)/2)+" "+Bl(wt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Ka(t);e.scope=t.scope;var r=[],n=wt.internal.getWidth(t)<=wt.internal.getHeight(t)?wt.internal.getWidth(t)/4:wt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*wt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Bl(wt.internal.getWidth(t)/2)+" "+Bl(wt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:wt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=wt.RadioButton.Cross.YesNormal,e.D[t]=wt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Ka(t);e.scope=t.scope;var r=[],n=wt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Vt(wt.internal.getWidth(t)-2)+" "+Vt(wt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Vt(n.x1.x)+" "+Vt(n.x1.y)+" m"),r.push(Vt(n.x2.x)+" "+Vt(n.x2.y)+" l"),r.push(Vt(n.x4.x)+" "+Vt(n.x4.y)+" m"),r.push(Vt(n.x3.x)+" "+Vt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Ka(t);e.scope=t.scope;var r=wt.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Vt(wt.internal.getWidth(t))+" "+Vt(wt.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Vt(wt.internal.getWidth(t)-2)+" "+Vt(wt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Vt(r.x1.x)+" "+Vt(r.x1.y)+" m"),n.push(Vt(r.x2.x)+" "+Vt(r.x2.y)+" l"),n.push(Vt(r.x4.x)+" "+Vt(r.x4.y)+" m"),n.push(Vt(r.x3.x)+" "+Vt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Ka(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Vt(wt.internal.getWidth(t))+" "+Vt(wt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};wt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=wt.internal.getWidth(t),r=wt.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},wt.internal.getWidth=function(t){var e=0;return wr(t)==="object"&&(e=g3(t.Rect[2])),e},wt.internal.getHeight=function(t){var e=0;return wr(t)==="object"&&(e=g3(t.Rect[3])),e};var DK=sn.addField=function(t){if(FK(this,t),!(t instanceof ja))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};sn.AcroFormChoiceField=Sc,sn.AcroFormListBox=Tc,sn.AcroFormComboBox=Ec,sn.AcroFormEditBox=h0,sn.AcroFormButton=Fn,sn.AcroFormPushButton=f0,sn.AcroFormRadioButton=Ac,sn.AcroFormCheckBox=d0,sn.AcroFormTextField=vu,sn.AcroFormPasswordField=p0,sn.AcroFormAppearance=wt,sn.AcroForm={ChoiceField:Sc,ListBox:Tc,ComboBox:Ec,EditBox:h0,Button:Fn,PushButton:f0,RadioButton:Ac,CheckBox:d0,TextField:vu,PasswordField:p0,Appearance:wt},At.AcroForm={ChoiceField:Sc,ListBox:Tc,ComboBox:Ec,EditBox:h0,Button:Fn,PushButton:f0,RadioButton:Ac,CheckBox:d0,TextField:vu,PasswordField:p0,Appearance:wt};var OK=At.AcroForm;function u8(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(N,E){var R,H,me,ie,ee,J=e;if((E=E||e)==="RGBA"||N.data!==void 0&&N.data instanceof Uint8ClampedArray&&"height"in N&&"width"in N)return"RGBA";if(M(N))for(ee in r)for(me=r[ee],R=0;R<me.length;R+=1){for(ie=!0,H=0;H<me[R].length;H+=1)if(me[R][H]!==void 0&&me[R][H]!==N[H]){ie=!1;break}if(ie===!0){J=ee;break}}else for(ee in r)for(me=r[ee],R=0;R<me.length;R+=1){for(ie=!0,H=0;H<me[R].length;H+=1)if(me[R][H]!==void 0&&me[R][H]!==N.charCodeAt(H)){ie=!1;break}if(ie===!0){J=ee;break}}return J===e&&E!==e&&(J=E),J},i=function N(E){for(var R=this.internal.write,H=this.internal.putStream,me=(0,this.internal.getFilters)();me.indexOf("FlateEncode")!==-1;)me.splice(me.indexOf("FlateEncode"),1);E.objectId=this.internal.newObject();var ie=[];if(ie.push({key:"Type",value:"/XObject"}),ie.push({key:"Subtype",value:"/Image"}),ie.push({key:"Width",value:E.width}),ie.push({key:"Height",value:E.height}),E.colorSpace===b.INDEXED?ie.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(E.palette.length/3-1)+" "+("sMask"in E&&E.sMask!==void 0?E.objectId+2:E.objectId+1)+" 0 R]"}):(ie.push({key:"ColorSpace",value:"/"+E.colorSpace}),E.colorSpace===b.DEVICE_CMYK&&ie.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ie.push({key:"BitsPerComponent",value:E.bitsPerComponent}),"decodeParameters"in E&&E.decodeParameters!==void 0&&ie.push({key:"DecodeParms",value:"<<"+E.decodeParameters+">>"}),"transparency"in E&&Array.isArray(E.transparency)){for(var ee="",J=0,re=E.transparency.length;J<re;J++)ee+=E.transparency[J]+" "+E.transparency[J]+" ";ie.push({key:"Mask",value:"["+ee+"]"})}E.sMask!==void 0&&ie.push({key:"SMask",value:E.objectId+1+" 0 R"});var de=E.filter!==void 0?["/"+E.filter]:void 0;if(H({data:E.data,additionalKeyValues:ie,alreadyAppliedFilters:de,objectId:E.objectId}),R("endobj"),"sMask"in E&&E.sMask!==void 0){var Se="/Predictor "+E.predictor+" /Colors 1 /BitsPerComponent "+E.bitsPerComponent+" /Columns "+E.width,I={width:E.width,height:E.height,colorSpace:"DeviceGray",bitsPerComponent:E.bitsPerComponent,decodeParameters:Se,data:E.sMask};"filter"in E&&(I.filter=E.filter),N.call(this,I)}if(E.colorSpace===b.INDEXED){var V=this.internal.newObject();H({data:_(new Uint8Array(E.palette)),objectId:V}),R("endobj")}},s=function(){var N=this.internal.collections.addImage_images;for(var E in N)i.call(this,N[E])},a=function(){var N,E=this.internal.collections.addImage_images,R=this.internal.write;for(var H in E)R("/I"+(N=E[H]).index,N.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},l=function(){var N=this.internal.collections.addImage_images;return o.call(this),N},u=function(){return Object.keys(this.internal.collections.addImage_images).length},c=function(N){return typeof t["process"+N.toUpperCase()]=="function"},h=function(N){return wr(N)==="object"&&N.nodeType===1},d=function(N,E){if(N.nodeName==="IMG"&&N.hasAttribute("src")){var R=""+N.getAttribute("src");if(R.indexOf("data:image/")===0)return c0(unescape(R).split("base64,").pop());var H=t.loadFile(R,!0);if(H!==void 0)return H}if(N.nodeName==="CANVAS"){if(N.width===0||N.height===0)throw new Error("Given canvas must have data. Canvas width: "+N.width+", height: "+N.height);var me;switch(E){case"PNG":me="image/png";break;case"WEBP":me="image/webp";break;case"JPEG":case"JPG":default:me="image/jpeg"}return c0(N.toDataURL(me,1).split("base64,").pop())}},f=function(N){var E=this.internal.collections.addImage_images;if(E){for(var R in E)if(N===E[R].alias)return E[R]}},y=function(N,E,R){return N||E||(N=-96,E=-96),N<0&&(N=-1*R.width*72/N/this.internal.scaleFactor),E<0&&(E=-1*R.height*72/E/this.internal.scaleFactor),N===0&&(N=E*R.width/R.height),E===0&&(E=N*R.height/R.width),[N,E]},v=function(N,E,R,H,me,ie){var ee=y.call(this,R,H,me),J=this.internal.getCoordinateString,re=this.internal.getVerticalCoordinateString,de=l.call(this);if(R=ee[0],H=ee[1],de[me.index]=me,ie){ie*=Math.PI/180;var Se=Math.cos(ie),I=Math.sin(ie),V=function(z){return z.toFixed(4)},U=[V(Se),V(I),V(-1*I),V(Se),0,0,"cm"]}this.internal.write("q"),ie?(this.internal.write([1,"0","0",1,J(N),re(E+H),"cm"].join(" ")),this.internal.write(U.join(" ")),this.internal.write([J(R),"0","0",J(H),"0","0","cm"].join(" "))):this.internal.write([J(R),"0","0",J(H),J(N),re(E+H),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+me.index+" Do"),this.internal.write("Q")},b=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},S=t.__addimage__.sHashCode=function(N){var E,R,H=0;if(typeof N=="string")for(R=N.length,E=0;E<R;E++)H=(H<<5)-H+N.charCodeAt(E),H|=0;else if(M(N))for(R=N.byteLength/2,E=0;E<R;E++)H=(H<<5)-H+N[E],H|=0;return H},T=t.__addimage__.validateStringAsBase64=function(N){(N=N||"").toString().trim();var E=!0;return N.length===0&&(E=!1),N.length%4!=0&&(E=!1),/^[A-Za-z0-9+/]+$/.test(N.substr(0,N.length-2))===!1&&(E=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(N.substr(-2))===!1&&(E=!1),E},F=t.__addimage__.extractImageFromDataUrl=function(N){var E=(N=N||"").split("base64,"),R=null;if(E.length===2){var H=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(E[0]);Array.isArray(H)&&(R={mimeType:H[1],charset:H[2],data:E[1]})}return R},j=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(N){return j()&&N instanceof ArrayBuffer};var M=t.__addimage__.isArrayBufferView=function(N){return j()&&typeof Uint32Array<"u"&&(N instanceof Int8Array||N instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&N instanceof Uint8ClampedArray||N instanceof Int16Array||N instanceof Uint16Array||N instanceof Int32Array||N instanceof Uint32Array||N instanceof Float32Array||N instanceof Float64Array)},A=t.__addimage__.binaryStringToUint8Array=function(N){for(var E=N.length,R=new Uint8Array(E),H=0;H<E;H++)R[H]=N.charCodeAt(H);return R},_=t.__addimage__.arrayBufferToBinaryString=function(N){for(var E="",R=M(N)?N:new Uint8Array(N),H=0;H<R.length;H+=8192)E+=String.fromCharCode.apply(null,R.subarray(H,H+8192));return E};t.addImage=function(){var N,E,R,H,me,ie,ee,J,re;if(typeof arguments[1]=="number"?(E=e,R=arguments[1],H=arguments[2],me=arguments[3],ie=arguments[4],ee=arguments[5],J=arguments[6],re=arguments[7]):(E=arguments[1],R=arguments[2],H=arguments[3],me=arguments[4],ie=arguments[5],ee=arguments[6],J=arguments[7],re=arguments[8]),wr(N=arguments[0])==="object"&&!h(N)&&"imageData"in N){var de=N;N=de.imageData,E=de.format||E||e,R=de.x||R||0,H=de.y||H||0,me=de.w||de.width||me,ie=de.h||de.height||ie,ee=de.alias||ee,J=de.compression||J,re=de.rotation||de.angle||re}var Se=this.internal.getFilters();if(J===void 0&&Se.indexOf("FlateEncode")!==-1&&(J="SLOW"),isNaN(R)||isNaN(H))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var I=C.call(this,N,E,ee,J);return v.call(this,R,H,me,ie,I,re),this};var C=function(N,E,R,H){var me,ie,ee;if(typeof N=="string"&&n(N)===e){N=unescape(N);var J=D(N,!1);(J!==""||(J=t.loadFile(N,!0))!==void 0)&&(N=J)}if(h(N)&&(N=d(N,E)),E=n(N,E),!c(E))throw new Error("addImage does not support files of type '"+E+"', please ensure that a plugin for '"+E+"' support is added.");if(((ee=R)==null||ee.length===0)&&(R=function(re){return typeof re=="string"||M(re)?S(re):M(re.data)?S(re.data):null}(N)),(me=f.call(this,R))||(j()&&(N instanceof Uint8Array||E==="RGBA"||(ie=N,N=A(N))),me=this["process"+E.toUpperCase()](N,u.call(this),R,function(re){return re&&typeof re=="string"&&(re=re.toUpperCase()),re in t.image_compression?re:w.NONE}(H),ie)),!me)throw new Error("An unknown error occurred whilst processing the image.");return me},D=t.__addimage__.convertBase64ToBinaryString=function(N,E){var R;E=typeof E!="boolean"||E;var H,me="";if(typeof N=="string"){H=(R=F(N))!==null?R.data:N;try{me=c0(H)}catch(ie){if(E)throw T(H)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ie.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return me};t.getImageProperties=function(N){var E,R,H="";if(h(N)&&(N=d(N)),typeof N=="string"&&n(N)===e&&((H=D(N,!1))===""&&(H=t.loadFile(N)||""),N=H),R=n(N),!c(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(!j()||N instanceof Uint8Array||(N=A(N)),!(E=this["process"+R.toUpperCase()](N)))throw new Error("An unknown error occurred whilst processing the image");return E.fileType=R,E}})(At.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};At.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,c=!1,h=0;h<u.length&&!c;h++)switch((n=u[h]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var d=0;d<u.length;d++){n=u[d];var f=this.internal.pdfEscape,y=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(v.objId),S=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+f(w(n.contents))+")",s+=" /Popup "+b.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+f(w(S))+") >>",v.content=s;var T=v.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+T,n.open&&(s+=" /Open true"),s+=" >>",b.content=s,this.internal.write(v.objId,"0 R",b.objId,"0 R");break;case"freetext":i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var F=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(y(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+F+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var j=this.annotations._nameMap[n.options.name];n.options.pageNumber=j.page,n.options.top=j.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(y(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var M=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+M+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:u(n),w:l(r+i),h:u(n+s)},options:a,type:"link"})},t.textWithLink=function(r,n,i,s){var a,o,l=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var c=this.splitTextToSize(r,o).length;a=Math.ceil(u*c)}else o=l,a=u;return this.text(r,n,i,s),i+=.2*u,s.align==="center"&&(n-=l/2),s.align==="right"&&(n-=l),this.link(n,i-u,o,a,s),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(At.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(v){return e[v.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},o=t.__arabicParser__.isArabicEndLetter=function(v){return a(v)&&s(v)&&e[v.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(v){return a(v)&&i.indexOf(v.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return a(v)&&s(v)&&e[v.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(v){return a(v)&&s(v)&&e[v.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(v){return a(v)&&s(v)&&e[v.charCodeAt(0)].length>=3};var c=t.__arabicParser__.arabicLetterHasMedialForm=function(v){return a(v)&&s(v)&&e[v.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(v){var b=0,w=r,S="",T=0;for(b=0;b<v.length;b+=1)w[v.charCodeAt(b)]!==void 0?(T++,typeof(w=w[v.charCodeAt(b)])=="number"&&(S+=String.fromCharCode(w),w=r,T=0),b===v.length-1&&(w=r,S+=v.charAt(b-(T-1)),b-=T-1,T=0)):(w=r,S+=v.charAt(b-T),b-=T,T=0);return S};t.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&n[v.charCodeAt(0)]!==void 0};var d=t.__arabicParser__.getCorrectForm=function(v,b,w){return a(v)?s(v)===!1?-1:!u(v)||!a(b)&&!a(w)||!a(w)&&o(b)||o(v)&&!a(b)||o(v)&&l(b)||o(v)&&o(b)?0:c(v)&&a(b)&&!o(b)&&a(w)&&u(w)?3:o(v)||!a(w)?1:2:-1},f=function(v){var b=0,w=0,S=0,T="",F="",j="",M=(v=v||"").split("\\s+"),A=[];for(b=0;b<M.length;b+=1){for(A.push(""),w=0;w<M[b].length;w+=1)T=M[b][w],F=M[b][w-1],j=M[b][w+1],a(T)?(S=d(T,F,j),A[b]+=S!==-1?String.fromCharCode(e[T.charCodeAt(0)][S]):T):A[b]+=T;A[b]=h(A[b])}return A.join(" ")},y=t.__arabicParser__.processArabic=t.processArabic=function(){var v,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(b)){var S=0;for(w=[],S=0;S<b.length;S+=1)Array.isArray(b[S])?w.push([f(b[S][0]),b[S][1],b[S][2]]):w.push([f(b[S])]);v=w}else v=f(b);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};t.events.push(["preProcessText",y])}(At.API),At.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(At.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(v){l=v}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(v){c=v}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(v){h=v}});var d=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return d},set:function(v){d=v}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(v){y=v}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){n.call(this);var c=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),d=u.scaleFactor||this.internal.scaleFactor,f=0,y=0,v=0,b=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=u.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(T,F){return T.concat(b.splitTextToSize(F,w))},[])):l=Array.isArray(l)?l:[l];for(var S=0;S<l.length;S++)f<(v=this.getStringUnitWidth(l[S],{font:h})*c)&&(f=v);return f!==0&&(y=l.length),{w:f/=d,h:Math.max((y*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/d,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,d=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,f&&d&&(this.printHeaderRow(l.lineNumber,!0),l.y+=d[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,c,h,d){if(n.call(this),!c)throw new Error("No data for PDF table.");var f,y,v,b,w=[],S=[],T=[],F={},j={},M=[],A=[],_=(d=d||{}).autoSize||!1,C=d.printHeaders!==!1,D=d.css&&d.css["font-size"]!==void 0?16*d.css["font-size"]:d.fontSize||12,N=d.margins||Object.assign({width:this.getPageWidth()},e),E=typeof d.padding=="number"?d.padding:3,R=d.headerBackgroundColor||"#c8c8c8",H=d.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=C,this.internal.__cell__.margins=N,this.internal.__cell__.table_font_size=D,this.internal.__cell__.padding=E,this.internal.__cell__.headerBackgroundColor=R,this.internal.__cell__.headerTextColor=H,this.setFontSize(D),h==null)S=w=Object.keys(c[0]),T=w.map(function(){return"left"});else if(Array.isArray(h)&&wr(h[0])==="object")for(w=h.map(function(de){return de.name}),S=h.map(function(de){return de.prompt||de.name||""}),T=h.map(function(de){return de.align||"left"}),f=0;f<h.length;f+=1)j[h[f].name]=h[f].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(S=w=h,T=w.map(function(){return"left"}));if(_||Array.isArray(h)&&typeof h[0]=="string")for(f=0;f<w.length;f+=1){for(F[b=w[f]]=c.map(function(de){return de[b]}),this.setFont(void 0,"bold"),M.push(this.getTextDimensions(S[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=F[b],this.setFont(void 0,"normal"),v=0;v<y.length;v+=1)M.push(this.getTextDimensions(y[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);j[b]=Math.max.apply(null,M)+E+E,M=[]}if(C){var me={};for(f=0;f<w.length;f+=1)me[w[f]]={},me[w[f]].text=S[f],me[w[f]].align=T[f];var ie=o.call(this,me,j);A=w.map(function(de){return new s(l,u,j[de],ie,me[de].text,void 0,me[de].align)}),this.setTableHeaderRow(A),this.printHeaderRow(1,!1)}var ee=h.reduce(function(de,Se){return de[Se.name]=Se.align,de},{});for(f=0;f<c.length;f+=1){"rowStart"in d&&d.rowStart instanceof Function&&d.rowStart({row:f,data:c[f]},this);var J=o.call(this,c[f],j);for(v=0;v<w.length;v+=1){var re=c[f][w[v]];"cellStart"in d&&d.cellStart instanceof Function&&d.cellStart({row:f,col:v,data:re},this),a.call(this,new s(l,u,j[w[v]],J,re,f+2,ee[w[v]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var o=function(l,u){var c=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,d=this.internal.scaleFactor;return Object.keys(l).map(function(f){var y=l[f];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,u[f]-c-c)},this).map(function(f){return this.getLineHeightFactor()*f.length*h/d+c+c},this).reduce(function(f,y){return Math.max(f,y)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var d=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){c=this.internal.__cell__.tableHeaderRow[f].clone(),u&&(c.y=this.internal.__cell__.margins.top||0,d.push(c)),c.lineNumber=l;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,c),this.setTextColor(y)}d.length>0&&this.setTableHeaderRow(d),this.setFont(void 0,"normal"),r=!1}}(At.API);var c8={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},h8=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],kw=u8(h8),f8=[100,200,300,400,500,600,700,800,900],jK=u8(f8);function Cw(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return c8[s=s||"normal"]?s:"normal"}(t.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof kw[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function v3(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var MK={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},y3={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function x3(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function BK(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",i=Object.assign({},MK,r.genericFontFamilies||{}),s=null,a=null,o=0;o<e.length;++o)if(i[(s=Cw(e[o])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){a=t[s.family];break}if(!(a=a||t[n]))throw new Error("Could not find a font-family for the rule '"+x3(s)+"' and default family '"+n+"'.");if(a=function(l,u){if(u[l])return u[l];var c=kw[l],h=c<=kw.normal?-1:1,d=v3(u,h8,c,h);if(!d)throw new Error("Could not find a matching font-stretch value for "+l);return d}(s.stretch,a),a=function(l,u){if(u[l])return u[l];for(var c=c8[l],h=0;h<c.length;++h)if(u[c[h]])return u[c[h]];throw new Error("Could not find a matching font-style for "+l)}(s.style,a),!(a=function(l,u){if(u[l])return u[l];if(l===400&&u[500])return u[500];if(l===500&&u[400])return u[400];var c=jK[l],h=v3(u,f8,c,l<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+l);return h}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+x3(s)+"'.");return a}function w3(t){return t.trimLeft()}function VK(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function UK(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Hm,_3,b3,py=["times"];(function(t){var e,r,n,i,s,a,o,l,u,c=function(I){return I=I||{},this.isStrokeTransparent=I.isStrokeTransparent||!1,this.strokeOpacity=I.strokeOpacity||1,this.strokeStyle=I.strokeStyle||"#000000",this.fillStyle=I.fillStyle||"#000000",this.isFillTransparent=I.isFillTransparent||!1,this.fillOpacity=I.fillOpacity||1,this.font=I.font||"10px sans-serif",this.textBaseline=I.textBaseline||"alphabetic",this.textAlign=I.textAlign||"left",this.lineWidth=I.lineWidth||1,this.lineJoin=I.lineJoin||"miter",this.lineCap=I.lineCap||"butt",this.path=I.path||[],this.transform=I.transform!==void 0?I.transform.clone():new l,this.globalCompositeOperation=I.globalCompositeOperation||"normal",this.globalAlpha=I.globalAlpha||1,this.clip_path=I.clip_path||[],this.currentPoint=I.currentPoint||new a,this.miterLimit=I.miterLimit||10,this.lastPoint=I.lastPoint||new a,this.lineDashOffset=I.lineDashOffset||0,this.lineDash=I.lineDash||[],this.margin=I.margin||[0,0,0,0],this.prevPageLastElemOffset=I.prevPageLastElemOffset||0,this.ignoreClearRect=typeof I.ignoreClearRect!="boolean"||I.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,u=new c}]);var h=function(I){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var V=I;Object.defineProperty(this,"pdf",{get:function(){return V}});var U=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return U},set:function(Pe){U=!!Pe}});var z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return z},set:function(Pe){z=!!Pe}});var Q=0;Object.defineProperty(this,"posX",{get:function(){return Q},set:function(Pe){isNaN(Pe)||(Q=Pe)}});var ge=0;Object.defineProperty(this,"posY",{get:function(){return ge},set:function(Pe){isNaN(Pe)||(ge=Pe)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Pe){var oe;typeof Pe=="number"?oe=[Pe,Pe,Pe,Pe]:((oe=new Array(4))[0]=Pe[0],oe[1]=Pe.length>=2?Pe[1]:oe[0],oe[2]=Pe.length>=3?Pe[2]:oe[0],oe[3]=Pe.length>=4?Pe[3]:oe[1]),u.margin=oe}});var G=!1;Object.defineProperty(this,"autoPaging",{get:function(){return G},set:function(Pe){G=Pe}});var ue=0;Object.defineProperty(this,"lastBreak",{get:function(){return ue},set:function(Pe){ue=Pe}});var ye=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ye},set:function(Pe){ye=Pe}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Pe){Pe instanceof c&&(u=Pe)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Pe){u.path=Pe}});var Ne=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ne},set:function(Pe){Ne=Pe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Pe){var oe;oe=d(Pe),this.ctx.fillStyle=oe.style,this.ctx.isFillTransparent=oe.a===0,this.ctx.fillOpacity=oe.a,this.pdf.setFillColor(oe.r,oe.g,oe.b,{a:oe.a}),this.pdf.setTextColor(oe.r,oe.g,oe.b,{a:oe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Pe){var oe=d(Pe);this.ctx.strokeStyle=oe.style,this.ctx.isStrokeTransparent=oe.a===0,this.ctx.strokeOpacity=oe.a,oe.a===0?this.pdf.setDrawColor(255,255,255):(oe.a,this.pdf.setDrawColor(oe.r,oe.g,oe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Pe){["butt","round","square"].indexOf(Pe)!==-1&&(this.ctx.lineCap=Pe,this.pdf.setLineCap(Pe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Pe){isNaN(Pe)||(this.ctx.lineWidth=Pe,this.pdf.setLineWidth(Pe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Pe){["bevel","round","miter"].indexOf(Pe)!==-1&&(this.ctx.lineJoin=Pe,this.pdf.setLineJoin(Pe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Pe){isNaN(Pe)||(this.ctx.miterLimit=Pe,this.pdf.setMiterLimit(Pe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Pe){this.ctx.textBaseline=Pe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Pe){["right","end","center","left","start"].indexOf(Pe)!==-1&&(this.ctx.textAlign=Pe)}});var je=null;function Ue(Pe,oe){if(je===null){var He=function(ht){var Ye=[];return Object.keys(ht).forEach(function(nt){ht[nt].forEach(function(ot){var lt=null;switch(ot){case"bold":lt={family:nt,weight:"bold"};break;case"italic":lt={family:nt,style:"italic"};break;case"bolditalic":lt={family:nt,weight:"bold",style:"italic"};break;case"":case"normal":lt={family:nt}}lt!==null&&(lt.ref={name:nt,style:ot},Ye.push(lt))})}),Ye}(Pe.getFontList());je=function(ht){for(var Ye={},nt=0;nt<ht.length;++nt){var ot=Cw(ht[nt]),lt=ot.family,_t=ot.stretch,St=ot.style,Rt=ot.weight;Ye[lt]=Ye[lt]||{},Ye[lt][_t]=Ye[lt][_t]||{},Ye[lt][_t][St]=Ye[lt][_t][St]||{},Ye[lt][_t][St][Rt]=ot}return Ye}(He.concat(oe))}return je}var ze=null;Object.defineProperty(this,"fontFaces",{get:function(){return ze},set:function(Pe){je=null,ze=Pe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Pe){var oe;if(this.ctx.font=Pe,(oe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Pe))!==null){var He=oe[1],ht=(oe[2],oe[3]),Ye=oe[4],nt=(oe[5],oe[6]),ot=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ye)[2];Ye=Math.floor(ot==="px"?parseFloat(Ye)*this.pdf.internal.scaleFactor:ot==="em"?parseFloat(Ye)*this.pdf.getFontSize():parseFloat(Ye)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ye);var lt=function(Ct){var Ht,dt,Or=[],Gt=Ct.trim();if(Gt==="")return py;if(Gt in y3)return[y3[Gt]];for(;Gt!=="";){switch(dt=null,Ht=(Gt=w3(Gt)).charAt(0)){case'"':case"'":dt=VK(Gt.substring(1),Ht);break;default:dt=UK(Gt)}if(dt===null||(Or.push(dt[0]),(Gt=w3(dt[1]))!==""&&Gt.charAt(0)!==","))return py;Gt=Gt.replace(/^,/,"")}return Or}(nt);if(this.fontFaces){var _t=BK(Ue(this.pdf,this.fontFaces),lt.map(function(Ct){return{family:Ct,stretch:"normal",weight:ht,style:He}}));this.pdf.setFont(_t.ref.name,_t.ref.style)}else{var St="";(ht==="bold"||parseInt(ht,10)>=700||He==="bold")&&(St="bold"),He==="italic"&&(St+="italic"),St.length===0&&(St="normal");for(var Rt="",Tt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},kt=0;kt<lt.length;kt++){if(this.pdf.internal.getFont(lt[kt],St,{noFallback:!0,disableWarning:!0})!==void 0){Rt=lt[kt];break}if(St==="bolditalic"&&this.pdf.internal.getFont(lt[kt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Rt=lt[kt],St="bold";else if(this.pdf.internal.getFont(lt[kt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Rt=lt[kt],St="normal";break}}if(Rt===""){for(var qt=0;qt<lt.length;qt++)if(Tt[lt[qt]]){Rt=Tt[lt[qt]];break}}Rt=Rt===""?"Times":Rt,this.pdf.setFont(Rt,St)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Pe){this.ctx.globalCompositeOperation=Pe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Pe){this.ctx.globalAlpha=Pe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Pe){this.ctx.lineDashOffset=Pe,Se.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Pe){this.ctx.lineDash=Pe,Se.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Pe){this.ctx.ignoreClearRect=!!Pe}})};h.prototype.setLineDash=function(I){this.lineDash=I},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){F.call(this,"fill",!1)},h.prototype.stroke=function(){F.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(I,V){if(isNaN(I)||isNaN(V))throw Rr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var U=this.ctx.transform.applyToPoint(new a(I,V));this.path.push({type:"mt",x:U.x,y:U.y}),this.ctx.lastPoint=new a(I,V)},h.prototype.closePath=function(){var I=new a(0,0),V=0;for(V=this.path.length-1;V!==-1;V--)if(this.path[V].type==="begin"&&wr(this.path[V+1])==="object"&&typeof this.path[V+1].x=="number"){I=new a(this.path[V+1].x,this.path[V+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(I.x,I.y)},h.prototype.lineTo=function(I,V){if(isNaN(I)||isNaN(V))throw Rr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var U=this.ctx.transform.applyToPoint(new a(I,V));this.path.push({type:"lt",x:U.x,y:U.y}),this.ctx.lastPoint=new a(U.x,U.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),F.call(this,null,!0)},h.prototype.quadraticCurveTo=function(I,V,U,z){if(isNaN(U)||isNaN(z)||isNaN(I)||isNaN(V))throw Rr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Q=this.ctx.transform.applyToPoint(new a(U,z)),ge=this.ctx.transform.applyToPoint(new a(I,V));this.path.push({type:"qct",x1:ge.x,y1:ge.y,x:Q.x,y:Q.y}),this.ctx.lastPoint=new a(Q.x,Q.y)},h.prototype.bezierCurveTo=function(I,V,U,z,Q,ge){if(isNaN(Q)||isNaN(ge)||isNaN(I)||isNaN(V)||isNaN(U)||isNaN(z))throw Rr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var G=this.ctx.transform.applyToPoint(new a(Q,ge)),ue=this.ctx.transform.applyToPoint(new a(I,V)),ye=this.ctx.transform.applyToPoint(new a(U,z));this.path.push({type:"bct",x1:ue.x,y1:ue.y,x2:ye.x,y2:ye.y,x:G.x,y:G.y}),this.ctx.lastPoint=new a(G.x,G.y)},h.prototype.arc=function(I,V,U,z,Q,ge){if(isNaN(I)||isNaN(V)||isNaN(U)||isNaN(z)||isNaN(Q))throw Rr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ge=!!ge,!this.ctx.transform.isIdentity){var G=this.ctx.transform.applyToPoint(new a(I,V));I=G.x,V=G.y;var ue=this.ctx.transform.applyToPoint(new a(0,U)),ye=this.ctx.transform.applyToPoint(new a(0,0));U=Math.sqrt(Math.pow(ue.x-ye.x,2)+Math.pow(ue.y-ye.y,2))}Math.abs(Q-z)>=2*Math.PI&&(z=0,Q=2*Math.PI),this.path.push({type:"arc",x:I,y:V,radius:U,startAngle:z,endAngle:Q,counterclockwise:ge})},h.prototype.arcTo=function(I,V,U,z,Q){throw new Error("arcTo not implemented.")},h.prototype.rect=function(I,V,U,z){if(isNaN(I)||isNaN(V)||isNaN(U)||isNaN(z))throw Rr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(I,V),this.lineTo(I+U,V),this.lineTo(I+U,V+z),this.lineTo(I,V+z),this.lineTo(I,V),this.lineTo(I+U,V),this.lineTo(I,V)},h.prototype.fillRect=function(I,V,U,z){if(isNaN(I)||isNaN(V)||isNaN(U)||isNaN(z))throw Rr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var Q={};this.lineCap!=="butt"&&(Q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(I,V,U,z),this.fill(),Q.hasOwnProperty("lineCap")&&(this.lineCap=Q.lineCap),Q.hasOwnProperty("lineJoin")&&(this.lineJoin=Q.lineJoin)}},h.prototype.strokeRect=function(I,V,U,z){if(isNaN(I)||isNaN(V)||isNaN(U)||isNaN(z))throw Rr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(I,V,U,z),this.stroke())},h.prototype.clearRect=function(I,V,U,z){if(isNaN(I)||isNaN(V)||isNaN(U)||isNaN(z))throw Rr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(I,V,U,z))},h.prototype.save=function(I){I=typeof I!="boolean"||I;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,U=0;U<this.pdf.internal.getNumberOfPages();U++)this.pdf.setPage(U+1),this.pdf.internal.out("q");if(this.pdf.setPage(V),I){this.ctx.fontSize=this.pdf.internal.getFontSize();var z=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=z}},h.prototype.restore=function(I){I=typeof I!="boolean"||I;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,U=0;U<this.pdf.internal.getNumberOfPages();U++)this.pdf.setPage(U+1),this.pdf.internal.out("Q");this.pdf.setPage(V),I&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(I){var V,U,z,Q;if(I.isCanvasGradient===!0&&(I=I.getColor()),!I)return{r:0,g:0,b:0,a:0,style:I};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(I))V=0,U=0,z=0,Q=0;else{var ge=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(I);if(ge!==null)V=parseInt(ge[1]),U=parseInt(ge[2]),z=parseInt(ge[3]),Q=1;else if((ge=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(I))!==null)V=parseInt(ge[1]),U=parseInt(ge[2]),z=parseInt(ge[3]),Q=parseFloat(ge[4]);else{if(Q=1,typeof I=="string"&&I.charAt(0)!=="#"){var G=new n8(I);I=G.ok?G.toHex():"#000000"}I.length===4?(V=I.substring(1,2),V+=V,U=I.substring(2,3),U+=U,z=I.substring(3,4),z+=z):(V=I.substring(1,3),U=I.substring(3,5),z=I.substring(5,7)),V=parseInt(V,16),U=parseInt(U,16),z=parseInt(z,16)}}return{r:V,g:U,b:z,a:Q,style:I}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(I,V,U,z){if(isNaN(V)||isNaN(U)||typeof I!="string")throw Rr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(z=isNaN(z)?void 0:z,!f.call(this)){var Q=J(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;E.call(this,{text:I,x:V,y:U,scale:ge,angle:Q,align:this.textAlign,maxWidth:z})}},h.prototype.strokeText=function(I,V,U,z){if(isNaN(V)||isNaN(U)||typeof I!="string")throw Rr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){z=isNaN(z)?void 0:z;var Q=J(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;E.call(this,{text:I,x:V,y:U,scale:ge,renderingMode:"stroke",angle:Q,align:this.textAlign,maxWidth:z})}},h.prototype.measureText=function(I){if(typeof I!="string")throw Rr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var V=this.pdf,U=this.pdf.internal.scaleFactor,z=V.internal.getFontSize(),Q=V.getStringUnitWidth(I)*z/V.internal.scaleFactor,ge=function(G){var ue=(G=G||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ue}}),this};return new ge({width:Q*=Math.round(96*U/72*1e4)/1e4})},h.prototype.scale=function(I,V){if(isNaN(I)||isNaN(V))throw Rr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var U=new l(I,0,0,V,0,0);this.ctx.transform=this.ctx.transform.multiply(U)},h.prototype.rotate=function(I){if(isNaN(I))throw Rr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var V=new l(Math.cos(I),Math.sin(I),-Math.sin(I),Math.cos(I),0,0);this.ctx.transform=this.ctx.transform.multiply(V)},h.prototype.translate=function(I,V){if(isNaN(I)||isNaN(V))throw Rr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var U=new l(1,0,0,1,I,V);this.ctx.transform=this.ctx.transform.multiply(U)},h.prototype.transform=function(I,V,U,z,Q,ge){if(isNaN(I)||isNaN(V)||isNaN(U)||isNaN(z)||isNaN(Q)||isNaN(ge))throw Rr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var G=new l(I,V,U,z,Q,ge);this.ctx.transform=this.ctx.transform.multiply(G)},h.prototype.setTransform=function(I,V,U,z,Q,ge){I=isNaN(I)?1:I,V=isNaN(V)?0:V,U=isNaN(U)?0:U,z=isNaN(z)?1:z,Q=isNaN(Q)?0:Q,ge=isNaN(ge)?0:ge,this.ctx.transform=new l(I,V,U,z,Q,ge)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(I,V,U,z,Q,ge,G,ue,ye){var Ne=this.pdf.getImageProperties(I),je=1,Ue=1,ze=1,Pe=1;z!==void 0&&ue!==void 0&&(ze=ue/z,Pe=ye/Q,je=Ne.width/z*ue/z,Ue=Ne.height/Q*ye/Q),ge===void 0&&(ge=V,G=U,V=0,U=0),z!==void 0&&ue===void 0&&(ue=z,ye=Q),z===void 0&&ue===void 0&&(ue=Ne.width,ye=Ne.height);for(var oe,He=this.ctx.transform.decompose(),ht=J(He.rotate.shx),Ye=new l,nt=(Ye=(Ye=(Ye=Ye.multiply(He.translate)).multiply(He.skew)).multiply(He.scale)).applyToRectangle(new o(ge-V*ze,G-U*Pe,z*je,Q*Ue)),ot=b.call(this,nt),lt=[],_t=0;_t<ot.length;_t+=1)lt.indexOf(ot[_t])===-1&&lt.push(ot[_t]);if(T(lt),this.autoPaging)for(var St=lt[0],Rt=lt[lt.length-1],Tt=St;Tt<Rt+1;Tt++){this.pdf.setPage(Tt);var kt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],qt=Tt===1?this.posY+this.margin[0]:this.margin[0],Ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ht=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],dt=Tt===1?0:Ct+(Tt-2)*Ht;if(this.ctx.clip_path.length!==0){var Or=this.path;oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(oe,this.posX+this.margin[3],-dt+qt+this.ctx.prevPageLastElemOffset),j.call(this,"fill",!0),this.path=Or}var Gt=JSON.parse(JSON.stringify(nt));Gt=S([Gt],this.posX+this.margin[3],-dt+qt+this.ctx.prevPageLastElemOffset)[0];var Yn=(Tt>St||Tt<Rt)&&v.call(this);Yn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],kt,Ht,null).clip().discardPath()),this.pdf.addImage(I,"JPEG",Gt.x,Gt.y,Gt.w,Gt.h,null,null,ht),Yn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(I,"JPEG",nt.x,nt.y,nt.w,nt.h,null,null,ht)};var b=function(I,V,U){var z=[];V=V||this.pdf.internal.pageSize.width,U=U||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Q=this.posY+this.ctx.prevPageLastElemOffset;switch(I.type){default:case"mt":case"lt":z.push(Math.floor((I.y+Q)/U)+1);break;case"arc":z.push(Math.floor((I.y+Q-I.radius)/U)+1),z.push(Math.floor((I.y+Q+I.radius)/U)+1);break;case"qct":var ge=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x,I.y);z.push(Math.floor((ge.y+Q)/U)+1),z.push(Math.floor((ge.y+ge.h+Q)/U)+1);break;case"bct":var G=de(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x2,I.y2,I.x,I.y);z.push(Math.floor((G.y+Q)/U)+1),z.push(Math.floor((G.y+G.h+Q)/U)+1);break;case"rect":z.push(Math.floor((I.y+Q)/U)+1),z.push(Math.floor((I.y+I.h+Q)/U)+1)}for(var ue=0;ue<z.length;ue+=1)for(;this.pdf.internal.getNumberOfPages()<z[ue];)w.call(this);return z},w=function(){var I=this.fillStyle,V=this.strokeStyle,U=this.font,z=this.lineCap,Q=this.lineWidth,ge=this.lineJoin;this.pdf.addPage(),this.fillStyle=I,this.strokeStyle=V,this.font=U,this.lineCap=z,this.lineWidth=Q,this.lineJoin=ge},S=function(I,V,U){for(var z=0;z<I.length;z++)switch(I[z].type){case"bct":I[z].x2+=V,I[z].y2+=U;case"qct":I[z].x1+=V,I[z].y1+=U;case"mt":case"lt":case"arc":default:I[z].x+=V,I[z].y+=U}return I},T=function(I){return I.sort(function(V,U){return V-U})},F=function(I,V){for(var U,z,Q=this.fillStyle,ge=this.strokeStyle,G=this.lineCap,ue=this.lineWidth,ye=Math.abs(ue*this.ctx.transform.scaleX),Ne=this.lineJoin,je=JSON.parse(JSON.stringify(this.path)),Ue=JSON.parse(JSON.stringify(this.path)),ze=[],Pe=0;Pe<Ue.length;Pe++)if(Ue[Pe].x!==void 0)for(var oe=b.call(this,Ue[Pe]),He=0;He<oe.length;He+=1)ze.indexOf(oe[He])===-1&&ze.push(oe[He]);for(var ht=0;ht<ze.length;ht++)for(;this.pdf.internal.getNumberOfPages()<ze[ht];)w.call(this);if(T(ze),this.autoPaging)for(var Ye=ze[0],nt=ze[ze.length-1],ot=Ye;ot<nt+1;ot++){this.pdf.setPage(ot),this.fillStyle=Q,this.strokeStyle=ge,this.lineCap=G,this.lineWidth=ye,this.lineJoin=Ne;var lt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_t=ot===1?this.posY+this.margin[0]:this.margin[0],St=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Rt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Tt=ot===1?0:St+(ot-2)*Rt;if(this.ctx.clip_path.length!==0){var kt=this.path;U=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(U,this.posX+this.margin[3],-Tt+_t+this.ctx.prevPageLastElemOffset),j.call(this,I,!0),this.path=kt}if(z=JSON.parse(JSON.stringify(je)),this.path=S(z,this.posX+this.margin[3],-Tt+_t+this.ctx.prevPageLastElemOffset),V===!1||ot===0){var qt=(ot>Ye||ot<nt)&&v.call(this);qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lt,Rt,null).clip().discardPath()),j.call(this,I,V),qt&&this.pdf.restoreGraphicsState()}this.lineWidth=ue}else this.lineWidth=ye,j.call(this,I,V),this.lineWidth=ue;this.path=je},j=function(I,V){if((I!=="stroke"||V||!y.call(this))&&(I==="stroke"||V||!f.call(this))){for(var U,z,Q=[],ge=this.path,G=0;G<ge.length;G++){var ue=ge[G];switch(ue.type){case"begin":Q.push({begin:!0});break;case"close":Q.push({close:!0});break;case"mt":Q.push({start:ue,deltas:[],abs:[]});break;case"lt":var ye=Q.length;if(ge[G-1]&&!isNaN(ge[G-1].x)&&(U=[ue.x-ge[G-1].x,ue.y-ge[G-1].y],ye>0)){for(;ye>=0;ye--)if(Q[ye-1].close!==!0&&Q[ye-1].begin!==!0){Q[ye-1].deltas.push(U),Q[ye-1].abs.push(ue);break}}break;case"bct":U=[ue.x1-ge[G-1].x,ue.y1-ge[G-1].y,ue.x2-ge[G-1].x,ue.y2-ge[G-1].y,ue.x-ge[G-1].x,ue.y-ge[G-1].y],Q[Q.length-1].deltas.push(U);break;case"qct":var Ne=ge[G-1].x+2/3*(ue.x1-ge[G-1].x),je=ge[G-1].y+2/3*(ue.y1-ge[G-1].y),Ue=ue.x+2/3*(ue.x1-ue.x),ze=ue.y+2/3*(ue.y1-ue.y),Pe=ue.x,oe=ue.y;U=[Ne-ge[G-1].x,je-ge[G-1].y,Ue-ge[G-1].x,ze-ge[G-1].y,Pe-ge[G-1].x,oe-ge[G-1].y],Q[Q.length-1].deltas.push(U);break;case"arc":Q.push({deltas:[],abs:[],arc:!0}),Array.isArray(Q[Q.length-1].abs)&&Q[Q.length-1].abs.push(ue)}}z=V?null:I==="stroke"?"stroke":"fill";for(var He=!1,ht=0;ht<Q.length;ht++)if(Q[ht].arc)for(var Ye=Q[ht].abs,nt=0;nt<Ye.length;nt++){var ot=Ye[nt];ot.type==="arc"?_.call(this,ot.x,ot.y,ot.radius,ot.startAngle,ot.endAngle,ot.counterclockwise,void 0,V,!He):R.call(this,ot.x,ot.y),He=!0}else if(Q[ht].close===!0)this.pdf.internal.out("h"),He=!1;else if(Q[ht].begin!==!0){var lt=Q[ht].start.x,_t=Q[ht].start.y;H.call(this,Q[ht].deltas,lt,_t),He=!0}z&&C.call(this,z),V&&D.call(this)}},M=function(I){var V=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,U=V*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return I-U;case"top":return I+V-U;case"hanging":return I+V-2*U;case"middle":return I+V/2-U;case"ideographic":return I;case"alphabetic":default:return I}},A=function(I){return I+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var I=function(){};return I.colorStops=[],I.addColorStop=function(V,U){this.colorStops.push([V,U])},I.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},I.isCanvasGradient=!0,I},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var _=function(I,V,U,z,Q,ge,G,ue,ye){for(var Ne=ie.call(this,U,z,Q,ge),je=0;je<Ne.length;je++){var Ue=Ne[je];je===0&&(ye?N.call(this,Ue.x1+I,Ue.y1+V):R.call(this,Ue.x1+I,Ue.y1+V)),me.call(this,I,V,Ue.x2,Ue.y2,Ue.x3,Ue.y3,Ue.x4,Ue.y4)}ue?D.call(this):C.call(this,G)},C=function(I){switch(I){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},D=function(){this.pdf.clip(),this.pdf.discardPath()},N=function(I,V){this.pdf.internal.out(r(I)+" "+n(V)+" m")},E=function(I){var V;switch(I.align){case"right":case"end":V="right";break;case"center":V="center";break;case"left":case"start":default:V="left"}var U=this.pdf.getTextDimensions(I.text),z=M.call(this,I.y),Q=A.call(this,z)-U.h,ge=this.ctx.transform.applyToPoint(new a(I.x,z)),G=this.ctx.transform.decompose(),ue=new l;ue=(ue=(ue=ue.multiply(G.translate)).multiply(G.skew)).multiply(G.scale);for(var ye,Ne,je,Ue=this.ctx.transform.applyToRectangle(new o(I.x,z,U.w,U.h)),ze=ue.applyToRectangle(new o(I.x,Q,U.w,U.h)),Pe=b.call(this,ze),oe=[],He=0;He<Pe.length;He+=1)oe.indexOf(Pe[He])===-1&&oe.push(Pe[He]);if(T(oe),this.autoPaging)for(var ht=oe[0],Ye=oe[oe.length-1],nt=ht;nt<Ye+1;nt++){this.pdf.setPage(nt);var ot=nt===1?this.posY+this.margin[0]:this.margin[0],lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_t=this.pdf.internal.pageSize.height-this.margin[2],St=_t-this.margin[0],Rt=this.pdf.internal.pageSize.width-this.margin[1],Tt=Rt-this.margin[3],kt=nt===1?0:lt+(nt-2)*St;if(this.ctx.clip_path.length!==0){var qt=this.path;ye=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(ye,this.posX+this.margin[3],-1*kt+ot),j.call(this,"fill",!0),this.path=qt}var Ct=S([JSON.parse(JSON.stringify(ze))],this.posX+this.margin[3],-kt+ot+this.ctx.prevPageLastElemOffset)[0];I.scale>=.01&&(Ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ne*I.scale),je=this.lineWidth,this.lineWidth=je*I.scale);var Ht=this.autoPaging!=="text";if(Ht||Ct.y+Ct.h<=_t){if(Ht||Ct.y>=ot&&Ct.x<=Rt){var dt=Ht?I.text:this.pdf.splitTextToSize(I.text,I.maxWidth||Rt-Ct.x)[0],Or=S([JSON.parse(JSON.stringify(Ue))],this.posX+this.margin[3],-kt+ot+this.ctx.prevPageLastElemOffset)[0],Gt=Ht&&(nt>ht||nt<Ye)&&v.call(this);Gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Tt,St,null).clip().discardPath()),this.pdf.text(dt,Or.x,Or.y,{angle:I.angle,align:V,renderingMode:I.renderingMode}),Gt&&this.pdf.restoreGraphicsState()}}else Ct.y<_t&&(this.ctx.prevPageLastElemOffset+=_t-Ct.y);I.scale>=.01&&(this.pdf.setFontSize(Ne),this.lineWidth=je)}else I.scale>=.01&&(Ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ne*I.scale),je=this.lineWidth,this.lineWidth=je*I.scale),this.pdf.text(I.text,ge.x+this.posX,ge.y+this.posY,{angle:I.angle,align:V,renderingMode:I.renderingMode,maxWidth:I.maxWidth}),I.scale>=.01&&(this.pdf.setFontSize(Ne),this.lineWidth=je)},R=function(I,V,U,z){U=U||0,z=z||0,this.pdf.internal.out(r(I+U)+" "+n(V+z)+" l")},H=function(I,V,U){return this.pdf.lines(I,V,U,null,null)},me=function(I,V,U,z,Q,ge,G,ue){this.pdf.internal.out([e(i(U+I)),e(s(z+V)),e(i(Q+I)),e(s(ge+V)),e(i(G+I)),e(s(ue+V)),"c"].join(" "))},ie=function(I,V,U,z){for(var Q=2*Math.PI,ge=Math.PI/2;V>U;)V-=Q;var G=Math.abs(U-V);G<Q&&z&&(G=Q-G);for(var ue=[],ye=z?-1:1,Ne=V;G>1e-5;){var je=Ne+ye*Math.min(G,ge);ue.push(ee.call(this,I,Ne,je)),G-=Math.abs(je-Ne),Ne=je}return ue},ee=function(I,V,U){var z=(U-V)/2,Q=I*Math.cos(z),ge=I*Math.sin(z),G=Q,ue=-ge,ye=G*G+ue*ue,Ne=ye+G*Q+ue*ge,je=4/3*(Math.sqrt(2*ye*Ne)-Ne)/(G*ge-ue*Q),Ue=G-je*ue,ze=ue+je*G,Pe=Ue,oe=-ze,He=z+V,ht=Math.cos(He),Ye=Math.sin(He);return{x1:I*Math.cos(V),y1:I*Math.sin(V),x2:Ue*ht-ze*Ye,y2:Ue*Ye+ze*ht,x3:Pe*ht-oe*Ye,y3:Pe*Ye+oe*ht,x4:I*Math.cos(U),y4:I*Math.sin(U)}},J=function(I){return 180*I/Math.PI},re=function(I,V,U,z,Q,ge){var G=I+.5*(U-I),ue=V+.5*(z-V),ye=Q+.5*(U-Q),Ne=ge+.5*(z-ge),je=Math.min(I,Q,G,ye),Ue=Math.max(I,Q,G,ye),ze=Math.min(V,ge,ue,Ne),Pe=Math.max(V,ge,ue,Ne);return new o(je,ze,Ue-je,Pe-ze)},de=function(I,V,U,z,Q,ge,G,ue){var ye,Ne,je,Ue,ze,Pe,oe,He,ht,Ye,nt,ot,lt,_t,St=U-I,Rt=z-V,Tt=Q-U,kt=ge-z,qt=G-Q,Ct=ue-ge;for(Ne=0;Ne<41;Ne++)ht=(oe=(je=I+(ye=Ne/40)*St)+ye*((ze=U+ye*Tt)-je))+ye*(ze+ye*(Q+ye*qt-ze)-oe),Ye=(He=(Ue=V+ye*Rt)+ye*((Pe=z+ye*kt)-Ue))+ye*(Pe+ye*(ge+ye*Ct-Pe)-He),Ne==0?(nt=ht,ot=Ye,lt=ht,_t=Ye):(nt=Math.min(nt,ht),ot=Math.min(ot,Ye),lt=Math.max(lt,ht),_t=Math.max(_t,Ye));return new o(Math.round(nt),Math.round(ot),Math.round(lt-nt),Math.round(_t-ot))},Se=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var I,V,U=(I=this.ctx.lineDash,V=this.ctx.lineDashOffset,JSON.stringify({lineDash:I,lineDashOffset:V}));this.prevLineDash!==U&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=U)}}})(At.API),function(t){var e=function(s){var a,o,l,u,c,h,d,f,y,v;for(o=[],l=0,u=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;u>l;l+=4)(c=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(h=(c=((c=((c=((c=(c-(v=c%85))/85)-(y=c%85))/85)-(f=c%85))/85)-(d=c%85))/85)%85,o.push(h+33,d+33,f+33,y+33,v+33)):o.push(122);return function(b,w){for(var S=w;S>0;S--)b.pop()}(o,a.length),String.fromCharCode.apply(String,o)+"~>"},r=function(s){var a,o,l,u,c,h=String,d="length",f=255,y="charCodeAt",v="slice",b="replace";for(s[v](-2),s=s[v](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),l=[],u=0,c=(s+=a="uuuuu"[v](s[d]%5||5))[d];c>u;u+=5)o=52200625*(s[y](u)-33)+614125*(s[y](u+1)-33)+7225*(s[y](u+2)-33)+85*(s[y](u+3)-33)+(s[y](u+4)-33),l.push(f&o>>24,f&o>>16,f&o>>8,f&o);return function(w,S){for(var T=S;T>0;T--)w.pop()}(l,a[d]),h.fromCharCode.apply(h,l)},n=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var o="",l=0;l<s.length;l+=2)o+=String.fromCharCode("0x"+(s[l]+s[l+1]));return o},i=function(s){for(var a=new Uint8Array(s.length),o=s.length;o--;)a[o]=s.charCodeAt(o);return s=(a=Sw(a)).reduce(function(l,u){return l+String.fromCharCode(u)},"")};t.processDataByFilters=function(s,a){var o=0,l=s||"",u=[];for(typeof(a=a||[])=="string"&&(a=[a]),o=0;o<a.length;o+=1)switch(a[o]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[o]+'" is not implemented')}return{data:l,reverseChain:u.reverse().join(" ")}}}(At.API),function(t){t.loadFile=function(e,r,n){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,u,c){var h=new XMLHttpRequest,d=0,f=function(y){var v=y.length,b=[],w=String.fromCharCode;for(d=0;d<v;d+=1)b.push(w(255&y.charCodeAt(d)));return b.join("")};if(h.open("GET",l,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?c(f(this.responseText)):c(void 0)}),h.send(null),u&&h.status===200)return f(h.responseText)}(i,s,a)}catch{}return o}(e,r,n)},t.loadImageFile=t.loadFile}(At.API),function(t){function e(){return(Lt.html2canvas?Promise.resolve(Lt.html2canvas):yw(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function r(){return(Lt.DOMPurify?Promise.resolve(Lt.DOMPurify):yw(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var o=wr(a);return o==="undefined"?"undefined":o==="string"||a instanceof String?"string":o==="number"||a instanceof Number?"number":o==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":o==="object"?"object":"unknown"},i=function(a,o){var l=document.createElement(a);for(var u in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[u]=o.style[u];return l},s=function a(o){var l=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),u=a.convert(Promise.resolve(),l);return u=(u=u.setProgress(1,a,1,[a])).set(o)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,o){return a.__proto__=o||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,o){return this.then(function(){switch(o=o||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(r).then(function(l){return this.set({src:i("div",{innerHTML:a,dompurify:l})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(u,c){for(var h=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),d=u.firstChild;d;d=d.nextSibling)c!==!0&&d.nodeType===1&&d.nodeName==="SCRIPT"||h.appendChild(l(d,c));return u.nodeType===1&&(u.nodeName==="CANVAS"?(h.width=u.width,h.height=u.height,h.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(h.value=u.value),h.addEventListener("load",function(){h.scrollTop=u.scrollTop,h.scrollLeft=u.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=this.opt.jsPDF,u=this.opt.fontFaces,c=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:c,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=u,u)for(var d=0;d<u.length;++d){var f=u[d],y=f.src.find(function(v){return v.format==="truetype"});y&&l.addFont(y.url,f.ref.name,f.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,l.context2d.save(!0),o(this.prop.container,h)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(a,o):this.outputPdf(a,o)},s.prototype.outputPdf=function(a,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,o)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(n(a)!=="object")return this;var o=Object.keys(a||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=a[l]};switch(l){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[l]=a[l]}}},this);return this.then(function(){return this.thenList(o)})},s.prototype.get=function(a,o){return this.then(function(){var l=a in s.template.prop?this.prop[a]:this.opt[a];return o?o(l):l})},s.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function o(l,u){return Math.floor(l*u/72*96)}return this.then(function(){(a=a||At.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:o(a.inner.width,a.k),height:o(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,o,l,u){return a!=null&&(this.progress.val=a),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,o,l,u){return this.setProgress(a?this.progress.val+a:null,o||null,l?this.progress.n+l:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(a,o){var l=this;return this.thenCore(a,o,function(u,c){return l.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(h){return l.updateProgress(null,u),h}).then(u,c).then(function(h){return l.updateProgress(1),h})})},s.prototype.thenCore=function(a,o,l){l=l||Promise.prototype.then,a&&(a=a.bind(this)),o&&(o=o.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),c=l.call(u,a,o);return s.convert(c,this.__proto__)},s.prototype.thenExternal=function(a,o){return Promise.prototype.then.call(this,a,o)},s.prototype.thenList=function(a){var o=this;return a.forEach(function(l){o=o.thenCore(l)}),o},s.prototype.catch=function(a){a&&(a=a.bind(this));var o=Promise.prototype.catch.call(this,a);return s.convert(o,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,At.getPageSize=function(a,o,l){if(wr(a)==="object"){var u=a;a=u.orientation,o=u.unit||o,l=u.format||l}o=o||"mm",l=l||"a4",a=(""+(a||"P")).toLowerCase();var c,h=(""+l).toLowerCase(),d={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":c=1;break;case"mm":c=72/25.4;break;case"cm":c=72/2.54;break;case"in":c=72;break;case"px":c=.75;break;case"pc":case"em":c=12;break;case"ex":c=6;break;default:throw"Invalid unit: "+o}var f,y=0,v=0;if(d.hasOwnProperty(h))y=d[h][1]/c,v=d[h][0]/c;else try{y=l[1],v=l[0]}catch{throw new Error("Invalid format: "+l)}if(a==="p"||a==="portrait")a="p",v>y&&(f=v,v=y,y=f);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",y>v&&(f=v,v=y,y=f)}return{width:v,height:y,unit:o,k:c,orientation:a}},t.html=function(a,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(Cw):null;var l=new s(o);return o.worker?l:l.from(a).doCallback()}}(At.API),At.API.addJS=function(t){return b3=t,this.internal.events.subscribe("postPutResources",function(){Hm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Hm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),_3=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+b3+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Hm!==void 0&&_3!==void 0&&this.internal.out("/Names <</JavaScript "+Hm+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=n.exec(a);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(s=0;s<u;s++){var h=r.internal.newObject();c.push(h);var d=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+d.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<c.length;s++)r.internal.write("(page_"+(s+1)+")"+c[s]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var a={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(At.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,s,a,o){var l,u=this.decode.DCT_DECODE,c=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(h){for(var d,f=256*h.charCodeAt(4)+h.charCodeAt(5),y=h.length,v={width:0,height:0,numcomponents:1},b=4;b<y;b+=2){if(b+=f,e.indexOf(h.charCodeAt(b+1))!==-1){d=256*h.charCodeAt(b+5)+h.charCodeAt(b+6),v={width:256*h.charCodeAt(b+7)+h.charCodeAt(b+8),height:d,numcomponents:h.charCodeAt(b+9)};break}f=256*h.charCodeAt(b+2)+h.charCodeAt(b+3)}return v}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}c={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:i}}return c}}(At.API);var Th,Wm,S3,T3,E3,zK=function(){var t,e,r;function n(s){var a,o,l,u,c,h,d,f,y,v,b,w,S,T;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(a=this.readUInt32(),y=(function(){var F,j;for(j=[],F=0;F<4;++F)j.push(String.fromCharCode(this.data[this.pos++]));return j}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},c=this.readUInt16(),u=this.readUInt16()||100,h.delay=1e3*c/u,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(y==="fdAT"&&(this.pos+=4,a-=4),s=(h!=null?h.data:void 0)||this.imgData,w=0;0<=a?w<a:w>a;0<=a?++w:--w)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((v=l-this.transparency.indexed.length)>0)for(S=0;0<=v?S<v:S>v;0<=v?++S:--S)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":d=(b=this.read(a)).indexOf(0),f=String.fromCharCode.apply(String,b.slice(0,d)),this.text[f]=String.fromCharCode.apply(String,b.slice(d+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(T=this.colorType)===4||T===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var a,o;for(o=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*a),l=0,u=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function c(h,d,f,y){var v,b,w,S,T,F,j,M,A,_,C,D,N,E,R,H,me,ie,ee,J,re,de=Math.ceil((u.width-h)/f),Se=Math.ceil((u.height-d)/y),I=u.width==de&&u.height==Se;for(E=a*de,D=I?o:new Uint8Array(E*Se),F=s.length,N=0,b=0;N<Se&&l<F;){switch(s[l++]){case 0:for(S=me=0;me<E;S=me+=1)D[b++]=s[l++];break;case 1:for(S=ie=0;ie<E;S=ie+=1)v=s[l++],T=S<a?0:D[b-a],D[b++]=(v+T)%256;break;case 2:for(S=ee=0;ee<E;S=ee+=1)v=s[l++],w=(S-S%a)/a,R=N&&D[(N-1)*E+w*a+S%a],D[b++]=(R+v)%256;break;case 3:for(S=J=0;J<E;S=J+=1)v=s[l++],w=(S-S%a)/a,T=S<a?0:D[b-a],R=N&&D[(N-1)*E+w*a+S%a],D[b++]=(v+Math.floor((T+R)/2))%256;break;case 4:for(S=re=0;re<E;S=re+=1)v=s[l++],w=(S-S%a)/a,T=S<a?0:D[b-a],N===0?R=H=0:(R=D[(N-1)*E+w*a+S%a],H=w&&D[(N-1)*E+(w-1)*a+S%a]),j=T+R-H,M=Math.abs(j-T),_=Math.abs(j-R),C=Math.abs(j-H),A=M<=_&&M<=C?T:_<=C?R:H,D[b++]=(v+A)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!I){var V=((d+N*y)*u.width+h)*a,U=N*E;for(S=0;S<de;S+=1){for(var z=0;z<a;z+=1)o[V++]=D[U++];V+=(f-1)*a}}N++}}return s=xK(s),u.interlaceMethod==1?(c(0,0,8,8),c(4,0,8,8),c(0,4,4,8),c(2,0,4,4),c(0,2,2,4),c(1,0,2,2),c(0,1,1,2)):c(0,0,1,1),o},n.prototype.decodePalette=function(){var s,a,o,l,u,c,h,d,f;for(o=this.palette,c=this.transparency.indexed||[],u=new Uint8Array((c.length||0)+o.length),l=0,s=0,a=h=0,d=o.length;h<d;a=h+=3)u[l++]=o[a],u[l++]=o[a+1],u[l++]=o[a+2],u[l++]=(f=c[s++])!=null?f:255;return u},n.prototype.copyToImageData=function(s,a){var o,l,u,c,h,d,f,y,v,b,w;if(l=this.colors,v=null,o=this.hasAlphaChannel,this.palette.length&&(v=(w=this._decodedPalette)!=null?w:this._decodedPalette=this.decodePalette(),l=4,o=!0),y=(u=s.data||s).length,h=v||a,c=d=0,l===1)for(;c<y;)f=v?4*a[c/4]:d,b=h[f++],u[c++]=b,u[c++]=b,u[c++]=b,u[c++]=o?h[f++]:255,d=f;else for(;c<y;)f=v?4*a[c/4]:d,u[c++]=h[f++],u[c++]=h[f++],u[c++]=h[f++],u[c++]=o?h[f++]:255,d=f},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(Lt)==="[object Window]"){try{e=Lt.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var a;if(i()===!0)return r.width=s.width,r.height=s.height,r.clearRect(0,0,s.width,s.height),r.putImageData(s,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var a,o,l,u,c,h,d,f;if(this.animation){for(f=[],o=c=0,h=(d=this.animation.frames).length;c<h;o=++c)a=d[o],l=s.createImageData(a.width,a.height),u=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(l,u),a.imageData=l,f.push(a.image=t(l));return f}},n.prototype.renderFrame=function(s,a){var o,l,u;return o=(l=this.animation.frames)[a],u=l[a-1],a===0&&s.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?s.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&s.putImageData(u.imageData,u.xOffset,u.yOffset),o.blendOp===0&&s.clearRect(o.xOffset,o.yOffset,o.width,o.height),s.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(s){var a,o,l,u,c,h,d=this;return o=0,h=this.animation,u=h.numFrames,l=h.frames,c=h.numPlays,(a=function(){var f,y;if(f=o++%u,y=l[f],d.renderFrame(s,f),u>1&&o/u<c)return d.animation._timeout=setTimeout(a,y.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var a,o;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(o=a.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),a.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function HK(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<(7&i)+1;t[e++],t[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var u=!0,c=[],h=0,d=null,f=0,y=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,y=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((N=t[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var v=t[e++];h=t[e++]|t[e++]<<8,d=t[e++],!(1&v)&&(d=null),f=v>>2&7,e++;break;case 254:for(;;){if(!((N=t[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var b=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,T=t[e++]|t[e++]<<8,F=t[e++],j=F>>6&1,M=1<<(7&F)+1,A=o,_=l,C=!1;F>>7&&(C=!0,A=e,_=M,e+=3*M);var D=e;for(e++;;){var N;if(!((N=t[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}c.push({x:b,y:w,width:S,height:T,has_local_palette:C,palette_offset:A,palette_size:_,data_offset:D,data_length:e-D,transparent_index:d,interlaced:!!j,delay:h,disposal:f});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return y},this.frameInfo=function(E){if(E<0||E>=c.length)throw new Error("Frame index out of range.");return c[E]},this.decodeAndBlitFrameBGRA=function(E,R){var H=this.frameInfo(E),me=H.width*H.height,ie=new Uint8Array(me);A3(t,H.data_offset,ie,me);var ee=H.palette_offset,J=H.transparent_index;J===null&&(J=256);var re=H.width,de=r-re,Se=re,I=4*(H.y*r+H.x),V=4*((H.y+H.height)*r+H.x),U=I,z=4*de;H.interlaced===!0&&(z+=4*r*7);for(var Q=8,ge=0,G=ie.length;ge<G;++ge){var ue=ie[ge];if(Se===0&&(Se=re,(U+=z)>=V&&(z=4*de+4*r*(Q-1),U=I+(re+de)*(Q<<1),Q>>=1)),ue===J)U+=4;else{var ye=t[ee+3*ue],Ne=t[ee+3*ue+1],je=t[ee+3*ue+2];R[U++]=je,R[U++]=Ne,R[U++]=ye,R[U++]=255}--Se}},this.decodeAndBlitFrameRGBA=function(E,R){var H=this.frameInfo(E),me=H.width*H.height,ie=new Uint8Array(me);A3(t,H.data_offset,ie,me);var ee=H.palette_offset,J=H.transparent_index;J===null&&(J=256);var re=H.width,de=r-re,Se=re,I=4*(H.y*r+H.x),V=4*((H.y+H.height)*r+H.x),U=I,z=4*de;H.interlaced===!0&&(z+=4*r*7);for(var Q=8,ge=0,G=ie.length;ge<G;++ge){var ue=ie[ge];if(Se===0&&(Se=re,(U+=z)>=V&&(z=4*de+4*r*(Q-1),U=I+(re+de)*(Q<<1),Q>>=1)),ue===J)U+=4;else{var ye=t[ee+3*ue],Ne=t[ee+3*ue+1],je=t[ee+3*ue+2];R[U++]=ye,R[U++]=Ne,R[U++]=je,R[U++]=255}--Se}}}function A3(t,e,r,n){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,l=i+1,u=(1<<l)-1,c=0,h=0,d=0,f=t[e++],y=new Int32Array(4096),v=null;;){for(;c<16&&f!==0;)h|=t[e++]<<c,c+=8,f===1?f=t[e++]:--f;if(c<l)break;var b=h&u;if(h>>=l,c-=l,b!==s){if(b===a)break;for(var w=b<o?b:v,S=0,T=w;T>s;)T=y[T]>>8,++S;var F=T;if(d+S+(w!==b?1:0)>n)return void Rr.log("Warning, gif stream longer than expected.");r[d++]=F;var j=d+=S;for(w!==b&&(r[d++]=F),T=w;S--;)T=y[T],r[--j]=255&T,T>>=8;v!==null&&o<4096&&(y[o++]=v<<8|F,o>=u+1&&l<12&&(++l,u=u<<1|1)),v=b}else o=a+1,u=(1<<(l=i+1))-1,v=null}return d!==n&&Rr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function my(t){var e,r,n,i,s,a=Math.floor,o=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),h=new Array(65535),d=new Array(65535),f=new Array(64),y=new Array(64),v=[],b=0,w=7,S=new Array(64),T=new Array(64),F=new Array(64),j=new Array(256),M=new Array(2048),A=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],_=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],N=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],E=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],me=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ie(I,V){for(var U=0,z=0,Q=new Array,ge=1;ge<=16;ge++){for(var G=1;G<=I[ge];G++)Q[V[z]]=[],Q[V[z]][0]=U,Q[V[z]][1]=ge,z++,U++;U*=2}return Q}function ee(I){for(var V=I[0],U=I[1]-1;U>=0;)V&1<<U&&(b|=1<<w),U--,--w<0&&(b==255?(J(255),J(0)):J(b),w=7,b=0)}function J(I){v.push(I)}function re(I){J(I>>8&255),J(255&I)}function de(I,V,U,z,Q){for(var ge,G=Q[0],ue=Q[240],ye=function(Ye,nt){var ot,lt,_t,St,Rt,Tt,kt,qt,Ct,Ht,dt=0;for(Ct=0;Ct<8;++Ct){ot=Ye[dt],lt=Ye[dt+1],_t=Ye[dt+2],St=Ye[dt+3],Rt=Ye[dt+4],Tt=Ye[dt+5],kt=Ye[dt+6];var Or=ot+(qt=Ye[dt+7]),Gt=ot-qt,Yn=lt+kt,tr=lt-kt,Er=_t+Tt,Yi=_t-Tt,Kt=St+Rt,vs=St-Rt,Ar=Or+Kt,Cn=Or-Kt,Fi=Yn+Er,ur=Yn-Er;Ye[dt]=Ar+Fi,Ye[dt+4]=Ar-Fi;var Et=.707106781*(ur+Cn);Ye[dt+2]=Cn+Et,Ye[dt+6]=Cn-Et;var Zt=.382683433*((Ar=vs+Yi)-(ur=tr+Gt)),Xi=.5411961*Ar+Zt,en=1.306562965*ur+Zt,Bn=.707106781*(Fi=Yi+tr),Di=Gt+Bn,vt=Gt-Bn;Ye[dt+5]=vt+Xi,Ye[dt+3]=vt-Xi,Ye[dt+1]=Di+en,Ye[dt+7]=Di-en,dt+=8}for(dt=0,Ct=0;Ct<8;++Ct){ot=Ye[dt],lt=Ye[dt+8],_t=Ye[dt+16],St=Ye[dt+24],Rt=Ye[dt+32],Tt=Ye[dt+40],kt=Ye[dt+48];var mi=ot+(qt=Ye[dt+56]),xn=ot-qt,tn=lt+kt,Kr=lt-kt,qr=_t+Tt,K=_t-Tt,he=St+Rt,se=St-Rt,ae=mi+he,ce=mi-he,fe=tn+qr,ke=tn-qr;Ye[dt]=ae+fe,Ye[dt+32]=ae-fe;var Oe=.707106781*(ke+ce);Ye[dt+16]=ce+Oe,Ye[dt+48]=ce-Oe;var Ce=.382683433*((ae=se+K)-(ke=Kr+xn)),Ie=.5411961*ae+Ce,De=1.306562965*ke+Ce,Qe=.707106781*(fe=K+Kr),it=xn+Qe,pt=xn-Qe;Ye[dt+40]=pt+Ie,Ye[dt+24]=pt-Ie,Ye[dt+8]=it+De,Ye[dt+56]=it-De,dt++}for(Ct=0;Ct<64;++Ct)Ht=Ye[Ct]*nt[Ct],f[Ct]=Ht>0?Ht+.5|0:Ht-.5|0;return f}(I,V),Ne=0;Ne<64;++Ne)y[A[Ne]]=ye[Ne];var je=y[0]-U;U=y[0],je==0?ee(z[0]):(ee(z[d[ge=32767+je]]),ee(h[ge]));for(var Ue=63;Ue>0&&y[Ue]==0;)Ue--;if(Ue==0)return ee(G),U;for(var ze,Pe=1;Pe<=Ue;){for(var oe=Pe;y[Pe]==0&&Pe<=Ue;)++Pe;var He=Pe-oe;if(He>=16){ze=He>>4;for(var ht=1;ht<=ze;++ht)ee(ue);He&=15}ge=32767+y[Pe],ee(Q[(He<<4)+d[ge]]),ee(h[ge]),Pe++}return Ue!=63&&ee(G),U}function Se(I){I=Math.min(Math.max(I,1),100),s!=I&&(function(V){for(var U=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],z=0;z<64;z++){var Q=a((U[z]*V+50)/100);Q=Math.min(Math.max(Q,1),255),o[A[z]]=Q}for(var ge=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],G=0;G<64;G++){var ue=a((ge[G]*V+50)/100);ue=Math.min(Math.max(ue,1),255),l[A[G]]=ue}for(var ye=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ne=0,je=0;je<8;je++)for(var Ue=0;Ue<8;Ue++)u[Ne]=1/(o[A[Ne]]*ye[je]*ye[Ue]*8),c[Ne]=1/(l[A[Ne]]*ye[je]*ye[Ue]*8),Ne++}(I<50?Math.floor(5e3/I):Math.floor(200-2*I)),s=I)}this.encode=function(I,V){V&&Se(V),v=new Array,b=0,w=7,re(65496),re(65504),re(16),J(74),J(70),J(73),J(70),J(0),J(1),J(1),J(0),re(1),re(1),J(0),J(0),function(){re(65499),re(132),J(0);for(var lt=0;lt<64;lt++)J(o[lt]);J(1);for(var _t=0;_t<64;_t++)J(l[_t])}(),function(lt,_t){re(65472),re(17),J(8),re(_t),re(lt),J(3),J(1),J(17),J(0),J(2),J(17),J(1),J(3),J(17),J(1)}(I.width,I.height),function(){re(65476),re(418),J(0);for(var lt=0;lt<16;lt++)J(_[lt+1]);for(var _t=0;_t<=11;_t++)J(C[_t]);J(16);for(var St=0;St<16;St++)J(D[St+1]);for(var Rt=0;Rt<=161;Rt++)J(N[Rt]);J(1);for(var Tt=0;Tt<16;Tt++)J(E[Tt+1]);for(var kt=0;kt<=11;kt++)J(R[kt]);J(17);for(var qt=0;qt<16;qt++)J(H[qt+1]);for(var Ct=0;Ct<=161;Ct++)J(me[Ct])}(),re(65498),re(12),J(3),J(1),J(0),J(2),J(17),J(3),J(17),J(0),J(63),J(0);var U=0,z=0,Q=0;b=0,w=7,this.encode.displayName="_encode_";for(var ge,G,ue,ye,Ne,je,Ue,ze,Pe,oe=I.data,He=I.width,ht=I.height,Ye=4*He,nt=0;nt<ht;){for(ge=0;ge<Ye;){for(Ne=Ye*nt+ge,Ue=-1,ze=0,Pe=0;Pe<64;Pe++)je=Ne+(ze=Pe>>3)*Ye+(Ue=4*(7&Pe)),nt+ze>=ht&&(je-=Ye*(nt+1+ze-ht)),ge+Ue>=Ye&&(je-=ge+Ue-Ye+4),G=oe[je++],ue=oe[je++],ye=oe[je++],S[Pe]=(M[G]+M[ue+256>>0]+M[ye+512>>0]>>16)-128,T[Pe]=(M[G+768>>0]+M[ue+1024>>0]+M[ye+1280>>0]>>16)-128,F[Pe]=(M[G+1280>>0]+M[ue+1536>>0]+M[ye+1792>>0]>>16)-128;U=de(S,u,U,e,n),z=de(T,c,z,r,i),Q=de(F,c,Q,r,i),ge+=32}nt+=8}if(w>=0){var ot=[];ot[1]=w+1,ot[0]=(1<<w+1)-1,ee(ot)}return re(65497),new Uint8Array(v)},t=t||50,function(){for(var I=String.fromCharCode,V=0;V<256;V++)j[V]=I(V)}(),e=ie(_,C),r=ie(E,R),n=ie(D,N),i=ie(H,me),function(){for(var I=1,V=2,U=1;U<=15;U++){for(var z=I;z<V;z++)d[32767+z]=U,h[32767+z]=[],h[32767+z][1]=U,h[32767+z][0]=z;for(var Q=-(V-1);Q<=-I;Q++)d[32767+Q]=U,h[32767+Q]=[],h[32767+Q][1]=U,h[32767+Q][0]=V-1+Q;I<<=1,V<<=1}}(),function(){for(var I=0;I<256;I++)M[I]=19595*I,M[I+256>>0]=38470*I,M[I+512>>0]=7471*I+32768,M[I+768>>0]=-11059*I,M[I+1024>>0]=-21709*I,M[I+1280>>0]=32768*I+8421375,M[I+1536>>0]=-27439*I,M[I+1792>>0]=-5329*I}(),Se(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function xa(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function N3(t){function e(_){if(!_)throw Error("assert :P")}function r(_,C,D){for(var N=0;4>N;N++)if(_[C+N]!=D.charCodeAt(N))return!0;return!1}function n(_,C,D,N,E){for(var R=0;R<E;R++)_[C+R]=D[N+R]}function i(_,C,D,N){for(var E=0;E<N;E++)_[C+E]=D}function s(_){return new Int32Array(_)}function a(_,C){for(var D=[],N=0;N<_;N++)D.push(new C);return D}function o(_,C){var D=[];return function N(E,R,H){for(var me=H[R],ie=0;ie<me&&(E.push(H.length>R+1?[]:new C),!(H.length<R+1));ie++)N(E[ie],R+1,H)}(D,0,_),D}var l=function(){var _=this;function C(m,x){for(var P=1<<x-1>>>0;m&P;)P>>>=1;return P?(m&P-1)+P:m}function D(m,x,P,O,q){e(!(O%P));do m[x+(O-=P)]=q;while(0<O)}function N(m,x,P,O,q){if(e(2328>=q),512>=q)var Y=s(512);else if((Y=s(q))==null)return 0;return function(X,te,ne,le,we,Re){var Le,Ae,$e=te,Me=1<<ne,_e=s(16),be=s(16);for(e(we!=0),e(le!=null),e(X!=null),e(0<ne),Ae=0;Ae<we;++Ae){if(15<le[Ae])return 0;++_e[le[Ae]]}if(_e[0]==we)return 0;for(be[1]=0,Le=1;15>Le;++Le){if(_e[Le]>1<<Le)return 0;be[Le+1]=be[Le]+_e[Le]}for(Ae=0;Ae<we;++Ae)Le=le[Ae],0<le[Ae]&&(Re[be[Le]++]=Ae);if(be[15]==1)return(le=new E).g=0,le.value=Re[0],D(X,$e,1,Me,le),Me;var We,Xe=-1,qe=Me-1,gt=0,ct=1,Pt=1,mt=1<<ne;for(Ae=0,Le=1,we=2;Le<=ne;++Le,we<<=1){if(ct+=Pt<<=1,0>(Pt-=_e[Le]))return 0;for(;0<_e[Le];--_e[Le])(le=new E).g=Le,le.value=Re[Ae++],D(X,$e+gt,we,mt,le),gt=C(gt,Le)}for(Le=ne+1,we=2;15>=Le;++Le,we<<=1){if(ct+=Pt<<=1,0>(Pt-=_e[Le]))return 0;for(;0<_e[Le];--_e[Le]){if(le=new E,(gt&qe)!=Xe){for($e+=mt,We=1<<(Xe=Le)-ne;15>Xe&&!(0>=(We-=_e[Xe]));)++Xe,We<<=1;Me+=mt=1<<(We=Xe-ne),X[te+(Xe=gt&qe)].g=We+ne,X[te+Xe].value=$e-te-Xe}le.g=Le-ne,le.value=Re[Ae++],D(X,$e+(gt>>ne),we,mt,le),gt=C(gt,Le)}}return ct!=2*be[15]-1?0:Me}(m,x,P,O,q,Y)}function E(){this.value=this.g=0}function R(){this.value=this.g=0}function H(){this.G=a(5,E),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Zn,R)}function me(m,x,P,O){e(m!=null),e(x!=null),e(2147483648>O),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=x,m.pa=P,m.Jd=x,m.Yc=P+O,m.Zc=4<=O?P+O-4+1:P,ge(m)}function ie(m,x){for(var P=0;0<x--;)P|=ue(m,128)<<x;return P}function ee(m,x){var P=ie(m,x);return G(m)?-P:P}function J(m,x,P,O){var q,Y=0;for(e(m!=null),e(x!=null),e(4294967288>O),m.Sb=O,m.Ra=0,m.u=0,m.h=0,4<O&&(O=4),q=0;q<O;++q)Y+=x[P+q]<<8*q;m.Ra=Y,m.bb=O,m.oa=x,m.pa=P}function re(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<hh-8>>>0,++m.bb,m.u-=8;U(m)&&(m.h=1,m.u=0)}function de(m,x){if(e(0<=x),!m.h&&x<=ch){var P=V(m)&uh[x];return m.u+=x,re(m),P}return m.h=1,m.u=0}function Se(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function I(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function V(m){return m.Ra>>>(m.u&hh-1)>>>0}function U(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>hh}function z(m,x){m.u=x,m.h=U(m)}function Q(m){m.u>=ad&&(e(m.u>=ad),re(m))}function ge(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function G(m){return ie(m,1)}function ue(m,x){var P=m.Ca;0>m.b&&ge(m);var O=m.b,q=P*x>>>8,Y=(m.I>>>O>q)+0;for(Y?(P-=q,m.I-=q+1<<O>>>0):P=q+1,O=P,q=0;256<=O;)q+=8,O>>=8;return O=7^q+Zi[O],m.b-=O,m.Ca=(P<<O)-1,Y}function ye(m,x,P){m[x+0]=P>>24&255,m[x+1]=P>>16&255,m[x+2]=P>>8&255,m[x+3]=P>>0&255}function Ne(m,x){return m[x+0]<<0|m[x+1]<<8}function je(m,x){return Ne(m,x)|m[x+2]<<16}function Ue(m,x){return Ne(m,x)|Ne(m,x+2)<<16}function ze(m,x){var P=1<<x;return e(m!=null),e(0<x),m.X=s(P),m.X==null?0:(m.Mb=32-x,m.Xa=x,1)}function Pe(m,x){e(m!=null),e(x!=null),e(m.Xa==x.Xa),n(x.X,0,m.X,0,1<<x.Xa)}function oe(){this.X=[],this.Xa=this.Mb=0}function He(m,x,P,O){e(P!=null),e(O!=null);var q=P[0],Y=O[0];return q==0&&(q=(m*Y+x/2)/x),Y==0&&(Y=(x*q+m/2)/m),0>=q||0>=Y?0:(P[0]=q,O[0]=Y,1)}function ht(m,x){return m+(1<<x)-1>>>x}function Ye(m,x){return((4278255360&m)+(4278255360&x)>>>0&4278255360)+((16711935&m)+(16711935&x)>>>0&16711935)>>>0}function nt(m,x){_[x]=function(P,O,q,Y,X,te,ne){var le;for(le=0;le<X;++le){var we=_[m](te[ne+le-1],q,Y+le);te[ne+le]=Ye(P[O+le],we)}}}function ot(){this.ud=this.hd=this.jd=0}function lt(m,x){return((4278124286&(m^x))>>>1)+(m&x)>>>0}function _t(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function St(m,x){return _t(m+(m-x+.5>>1))}function Rt(m,x,P){return Math.abs(x-P)-Math.abs(m-P)}function Tt(m,x,P,O,q,Y,X){for(O=Y[X-1],P=0;P<q;++P)Y[X+P]=O=Ye(m[x+P],O)}function kt(m,x,P,O,q){var Y;for(Y=0;Y<P;++Y){var X=m[x+Y],te=X>>8&255,ne=16711935&(ne=(ne=16711935&X)+((te<<16)+te));O[q+Y]=(4278255360&X)+ne>>>0}}function qt(m,x){x.jd=m>>0&255,x.hd=m>>8&255,x.ud=m>>16&255}function Ct(m,x,P,O,q,Y){var X;for(X=0;X<O;++X){var te=x[P+X],ne=te>>>8,le=te,we=255&(we=(we=te>>>16)+((m.jd<<24>>24)*(ne<<24>>24)>>>5));le=255&(le=(le=le+((m.hd<<24>>24)*(ne<<24>>24)>>>5))+((m.ud<<24>>24)*(we<<24>>24)>>>5)),q[Y+X]=(4278255360&te)+(we<<16)+le}}function Ht(m,x,P,O,q){_[x]=function(Y,X,te,ne,le,we,Re,Le,Ae){for(ne=Re;ne<Le;++ne)for(Re=0;Re<Ae;++Re)le[we++]=q(te[O(Y[X++])])},_[m]=function(Y,X,te,ne,le,we,Re){var Le=8>>Y.b,Ae=Y.Ea,$e=Y.K[0],Me=Y.w;if(8>Le)for(Y=(1<<Y.b)-1,Me=(1<<Le)-1;X<te;++X){var _e,be=0;for(_e=0;_e<Ae;++_e)_e&Y||(be=O(ne[le++])),we[Re++]=q($e[be&Me]),be>>=Le}else _["VP8LMapColor"+P](ne,le,$e,Me,we,Re,X,te,Ae)}}function dt(m,x,P,O,q){for(P=x+P;x<P;){var Y=m[x++];O[q++]=Y>>16&255,O[q++]=Y>>8&255,O[q++]=Y>>0&255}}function Or(m,x,P,O,q){for(P=x+P;x<P;){var Y=m[x++];O[q++]=Y>>16&255,O[q++]=Y>>8&255,O[q++]=Y>>0&255,O[q++]=Y>>24&255}}function Gt(m,x,P,O,q){for(P=x+P;x<P;){var Y=(X=m[x++])>>16&240|X>>12&15,X=X>>0&240|X>>28&15;O[q++]=Y,O[q++]=X}}function Yn(m,x,P,O,q){for(P=x+P;x<P;){var Y=(X=m[x++])>>16&248|X>>13&7,X=X>>5&224|X>>3&31;O[q++]=Y,O[q++]=X}}function tr(m,x,P,O,q){for(P=x+P;x<P;){var Y=m[x++];O[q++]=Y>>0&255,O[q++]=Y>>8&255,O[q++]=Y>>16&255}}function Er(m,x,P,O,q,Y){if(Y==0)for(P=x+P;x<P;)ye(O,((Y=m[x++])[0]>>24|Y[1]>>8&65280|Y[2]<<8&16711680|Y[3]<<24)>>>0),q+=32;else n(O,q,m,x,P)}function Yi(m,x){_[x][0]=_[m+"0"],_[x][1]=_[m+"1"],_[x][2]=_[m+"2"],_[x][3]=_[m+"3"],_[x][4]=_[m+"4"],_[x][5]=_[m+"5"],_[x][6]=_[m+"6"],_[x][7]=_[m+"7"],_[x][8]=_[m+"8"],_[x][9]=_[m+"9"],_[x][10]=_[m+"10"],_[x][11]=_[m+"11"],_[x][12]=_[m+"12"],_[x][13]=_[m+"13"],_[x][14]=_[m+"0"],_[x][15]=_[m+"0"]}function Kt(m){return m==$v||m==Gv||m==em||m==Kv}function vs(){this.eb=[],this.size=this.A=this.fb=0}function Ar(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Cn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new vs,this.f.kb=new Ar,this.sd=null}function Fi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ur(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Et(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function Zt(m,x){var P=m.T,O=x.ba.f.RGBA,q=O.eb,Y=O.fb+m.ka*O.A,X=$s[x.ba.S],te=m.y,ne=m.O,le=m.f,we=m.N,Re=m.ea,Le=m.W,Ae=x.cc,$e=x.dc,Me=x.Mc,_e=x.Nc,be=m.ka,We=m.ka+m.T,Xe=m.U,qe=Xe+1>>1;for(be==0?X(te,ne,null,null,le,we,Re,Le,le,we,Re,Le,q,Y,null,null,Xe):(X(x.ec,x.fc,te,ne,Ae,$e,Me,_e,le,we,Re,Le,q,Y-O.A,q,Y,Xe),++P);be+2<We;be+=2)Ae=le,$e=we,Me=Re,_e=Le,we+=m.Rc,Le+=m.Rc,Y+=2*O.A,X(te,(ne+=2*m.fa)-m.fa,te,ne,Ae,$e,Me,_e,le,we,Re,Le,q,Y-O.A,q,Y,Xe);return ne+=m.fa,m.j+We<m.o?(n(x.ec,x.fc,te,ne,Xe),n(x.cc,x.dc,le,we,qe),n(x.Mc,x.Nc,Re,Le,qe),P--):1&We||X(te,ne,null,null,le,we,Re,Le,le,we,Re,Le,q,Y+O.A,null,null,Xe),P}function Xi(m,x,P){var O=m.F,q=[m.J];if(O!=null){var Y=m.U,X=x.ba.S,te=X==Zp||X==em;x=x.ba.f.RGBA;var ne=[0],le=m.ka;ne[0]=m.T,m.Kb&&(le==0?--ne[0]:(--le,q[0]-=m.width),m.j+m.ka+m.T==m.o&&(ne[0]=m.o-m.j-le));var we=x.eb;le=x.fb+le*x.A,m=Fr(O,q[0],m.width,Y,ne,we,le+(te?0:3),x.A),e(P==ne),m&&Kt(X)&&Ws(we,le,te,Y,ne,x.A)}return 0}function en(m){var x=m.ma,P=x.ba.S,O=11>P,q=P==Qp||P==Jp||P==Zp||P==qv||P==12||Kt(P);if(x.memory=null,x.Ib=null,x.Jb=null,x.Nd=null,!id(x.Oa,m,q?11:12))return 0;if(q&&Kt(P)&&Je(),m.da)alert("todo:use_scaling");else{if(O){if(x.Ib=Et,m.Kb){if(P=m.U+1>>1,x.memory=s(m.U+2*P),x.memory==null)return 0;x.ec=x.memory,x.fc=0,x.cc=x.ec,x.dc=x.fc+m.U,x.Mc=x.cc,x.Nc=x.dc+P,x.Ib=Zt,Je()}}else alert("todo:EmitYUV");q&&(x.Jb=Xi,O&&Ee())}if(O&&!$b){for(m=0;256>m;++m)mL[m]=89858*(m-128)+rm>>tm,yL[m]=-22014*(m-128)+rm,vL[m]=-45773*(m-128),gL[m]=113618*(m-128)+rm>>tm;for(m=dd;m<Qv;++m)x=76283*(m-16)+rm>>tm,xL[m-dd]=dr(x,255),wL[m-dd]=dr(x+8>>4,15);$b=1}return 1}function Bn(m){var x=m.ma,P=m.U,O=m.T;return e(!(1&m.ka)),0>=P||0>=O?0:(P=x.Ib(m,x),x.Jb!=null&&x.Jb(m,x,P),x.Dc+=P,1)}function Di(m){m.ma.memory=null}function vt(m,x,P,O){return de(m,8)!=47?0:(x[0]=de(m,14)+1,P[0]=de(m,14)+1,O[0]=de(m,1),de(m,3)!=0?0:!m.h)}function mi(m,x){if(4>m)return m+1;var P=m-2>>1;return(2+(1&m)<<P)+de(x,P)+1}function xn(m,x){return 120<x?x-120:1<=(P=((P=tL[x-1])>>4)*m+(8-(15&P)))?P:1;var P}function tn(m,x,P){var O=V(P),q=m[x+=255&O].g-8;return 0<q&&(z(P,P.u+8),O=V(P),x+=m[x].value,x+=O&(1<<q)-1),z(P,P.u+m[x].g),m[x].value}function Kr(m,x,P){return P.g+=m.g,P.value+=m.value<<x>>>0,e(8>=P.g),m.g}function qr(m,x,P){var O=m.xc;return e((x=O==0?0:m.vc[m.md*(P>>O)+(x>>O)])<m.Wb),m.Ya[x]}function K(m,x,P,O){var q=m.ab,Y=m.c*x,X=m.C;x=X+x;var te=P,ne=O;for(O=m.Ta,P=m.Ua;0<q--;){var le=m.gc[q],we=X,Re=x,Le=te,Ae=ne,$e=(ne=O,te=P,le.Ea);switch(e(we<Re),e(Re<=le.nc),le.hc){case 2:Wp(Le,Ae,(Re-we)*$e,ne,te);break;case 0:var Me=we,_e=Re,be=ne,We=te,Xe=(mt=le).Ea;Me==0&&(Hv(Le,Ae,null,null,1,be,We),Tt(Le,Ae+1,0,0,Xe-1,be,We+1),Ae+=Xe,We+=Xe,++Me);for(var qe=1<<mt.b,gt=qe-1,ct=ht(Xe,mt.b),Pt=mt.K,mt=mt.w+(Me>>mt.b)*ct;Me<_e;){var cr=Pt,mr=mt,sr=1;for(od(Le,Ae,be,We-Xe,1,be,We);sr<Xe;){var Qt=(sr&~gt)+qe;Qt>Xe&&(Qt=Xe),(0,El[cr[mr++]>>8&15])(Le,Ae+ +sr,be,We+sr-Xe,Qt-sr,be,We+sr),sr=Qt}Ae+=Xe,We+=Xe,++Me&gt||(mt+=ct)}Re!=le.nc&&n(ne,te-$e,ne,te+(Re-we-1)*$e,$e);break;case 1:for($e=Le,_e=Ae,Xe=(Le=le.Ea)-(We=Le&~(be=(Ae=1<<le.b)-1)),Me=ht(Le,le.b),qe=le.K,le=le.w+(we>>le.b)*Me;we<Re;){for(gt=qe,ct=le,Pt=new ot,mt=_e+We,cr=_e+Le;_e<mt;)qt(gt[ct++],Pt),Ju(Pt,$e,_e,Ae,ne,te),_e+=Ae,te+=Ae;_e<cr&&(qt(gt[ct++],Pt),Ju(Pt,$e,_e,Xe,ne,te),_e+=Xe,te+=Xe),++we&be||(le+=Me)}break;case 3:if(Le==ne&&Ae==te&&0<le.b){for(_e=ne,Le=$e=te+(Re-we)*$e-(We=(Re-we)*ht(le.Ea,le.b)),Ae=ne,be=te,Me=[],We=(Xe=We)-1;0<=We;--We)Me[We]=Ae[be+We];for(We=Xe-1;0<=We;--We)_e[Le+We]=Me[We];Us(le,we,Re,ne,$e,ne,te)}else Us(le,we,Re,Le,Ae,ne,te)}te=O,ne=P}ne!=P&&n(O,P,te,ne,Y)}function he(m,x){var P=m.V,O=m.Ba+m.c*m.C,q=x-m.C;if(e(x<=m.l.o),e(16>=q),0<q){var Y=m.l,X=m.Ta,te=m.Ua,ne=Y.width;if(K(m,q,P,O),q=te=[te],e((P=m.C)<(O=x)),e(Y.v<Y.va),O>Y.o&&(O=Y.o),P<Y.j){var le=Y.j-P;P=Y.j,q[0]+=le*ne}if(P>=O?P=0:(q[0]+=4*Y.v,Y.ka=P-Y.j,Y.U=Y.va-Y.v,Y.T=O-P,P=1),P){if(te=te[0],11>(P=m.ca).S){var we=P.f.RGBA,Re=(O=P.S,q=Y.U,Y=Y.T,le=we.eb,we.A),Le=Y;for(we=we.fb+m.Ma*we.A;0<Le--;){var Ae=X,$e=te,Me=q,_e=le,be=we;switch(O){case Xp:es(Ae,$e,Me,_e,be);break;case Qp:Mi(Ae,$e,Me,_e,be);break;case $v:Mi(Ae,$e,Me,_e,be),Ws(_e,be,0,Me,1,0);break;case jb:To(Ae,$e,Me,_e,be);break;case Jp:Er(Ae,$e,Me,_e,be,1);break;case Gv:Er(Ae,$e,Me,_e,be,1),Ws(_e,be,0,Me,1,0);break;case Zp:Er(Ae,$e,Me,_e,be,0);break;case em:Er(Ae,$e,Me,_e,be,0),Ws(_e,be,1,Me,1,0);break;case qv:Al(Ae,$e,Me,_e,be);break;case Kv:Al(Ae,$e,Me,_e,be),Lr(_e,be,Me,1,0);break;case Mb:So(Ae,$e,Me,_e,be);break;default:e(0)}te+=ne,we+=Re}m.Ma+=Y}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=P.height)}}m.C=x,e(m.C<=m.i)}function se(m){var x;if(0<m.ua)return 0;for(x=0;x<m.Wb;++x){var P=m.Ya[x].G,O=m.Ya[x].H;if(0<P[1][O[1]+0].g||0<P[2][O[2]+0].g||0<P[3][O[3]+0].g)return 0}return 1}function ae(m,x,P,O,q,Y){if(m.Z!=0){var X=m.qd,te=m.rd;for(e(Pl[m.Z]!=null);x<P;++x)Pl[m.Z](X,te,O,q,O,q,Y),X=O,te=q,q+=Y;m.qd=X,m.rd=te}}function ce(m,x){var P=m.l.ma,O=P.Z==0||P.Z==1?m.l.j:m.C;if(O=m.C<O?O:m.C,e(x<=m.l.o),x>O){var q=m.l.width,Y=P.ca,X=P.tb+q*O,te=m.V,ne=m.Ba+m.c*O,le=m.gc;e(m.ab==1),e(le[0].hc==3),qp(le[0],O,x,te,ne,Y,X),ae(P,O,x,Y,X,q)}m.C=m.Ma=x}function fe(m,x,P,O,q,Y,X){var te=m.$/O,ne=m.$%O,le=m.m,we=m.s,Re=P+m.$,Le=Re;q=P+O*q;var Ae=P+O*Y,$e=280+we.ua,Me=m.Pb?te:16777216,_e=0<we.ua?we.Wa:null,be=we.wc,We=Re<Ae?qr(we,ne,te):null;e(m.C<Y),e(Ae<=q);var Xe=!1;e:for(;;){for(;Xe||Re<Ae;){var qe=0;if(te>=Me){var gt=Re-P;e((Me=m).Pb),Me.wd=Me.m,Me.xd=gt,0<Me.s.ua&&Pe(Me.s.Wa,Me.s.vb),Me=te+nL}if(ne&be||(We=qr(we,ne,te)),e(We!=null),We.Qb&&(x[Re]=We.qb,Xe=!0),!Xe)if(Q(le),We.jc){qe=le,gt=x;var ct=Re,Pt=We.pd[V(qe)&Zn-1];e(We.jc),256>Pt.g?(z(qe,qe.u+Pt.g),gt[ct]=Pt.value,qe=0):(z(qe,qe.u+Pt.g-256),e(256<=Pt.value),qe=Pt.value),qe==0&&(Xe=!0)}else qe=tn(We.G[0],We.H[0],le);if(le.h)break;if(Xe||256>qe){if(!Xe)if(We.nd)x[Re]=(We.qb|qe<<8)>>>0;else{if(Q(le),Xe=tn(We.G[1],We.H[1],le),Q(le),gt=tn(We.G[2],We.H[2],le),ct=tn(We.G[3],We.H[3],le),le.h)break;x[Re]=(ct<<24|Xe<<16|qe<<8|gt)>>>0}if(Xe=!1,++Re,++ne>=O&&(ne=0,++te,X!=null&&te<=Y&&!(te%16)&&X(m,te),_e!=null))for(;Le<Re;)qe=x[Le++],_e.X[(506832829*qe&4294967295)>>>_e.Mb]=qe}else if(280>qe){if(qe=mi(qe-256,le),gt=tn(We.G[4],We.H[4],le),Q(le),gt=xn(O,gt=mi(gt,le)),le.h)break;if(Re-P<gt||q-Re<qe)break e;for(ct=0;ct<qe;++ct)x[Re+ct]=x[Re+ct-gt];for(Re+=qe,ne+=qe;ne>=O;)ne-=O,++te,X!=null&&te<=Y&&!(te%16)&&X(m,te);if(e(Re<=q),ne&be&&(We=qr(we,ne,te)),_e!=null)for(;Le<Re;)qe=x[Le++],_e.X[(506832829*qe&4294967295)>>>_e.Mb]=qe}else{if(!(qe<$e))break e;for(Xe=qe-280,e(_e!=null);Le<Re;)qe=x[Le++],_e.X[(506832829*qe&4294967295)>>>_e.Mb]=qe;qe=Re,e(!(Xe>>>(gt=_e).Xa)),x[qe]=gt.X[Xe],Xe=!0}Xe||e(le.h==U(le))}if(m.Pb&&le.h&&Re<q)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&Pe(m.s.vb,m.s.Wa);else{if(le.h)break e;X!=null&&X(m,te>Y?Y:te),m.a=0,m.$=Re-P}return 1}return m.a=3,0}function ke(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var x=m.Wa;x!=null&&(x.X=null),m.vb=null,e(m!=null)}function Oe(){var m=new oh;return m==null?null:(m.a=0,m.xb=Ub,Yi("Predictor","VP8LPredictors"),Yi("Predictor","VP8LPredictors_C"),Yi("PredictorAdd","VP8LPredictorsAdd"),Yi("PredictorAdd","VP8LPredictorsAdd_C"),Wp=kt,Ju=Ct,es=dt,Mi=Or,Al=Gt,So=Yn,To=tr,_.VP8LMapColor32b=fh,_.VP8LMapColor8b=$p,m)}function Ce(m,x,P,O,q){var Y=1,X=[m],te=[x],ne=O.m,le=O.s,we=null,Re=0;e:for(;;){if(P)for(;Y&&de(ne,1);){var Le=X,Ae=te,$e=O,Me=1,_e=$e.m,be=$e.gc[$e.ab],We=de(_e,2);if($e.Oc&1<<We)Y=0;else{switch($e.Oc|=1<<We,be.hc=We,be.Ea=Le[0],be.nc=Ae[0],be.K=[null],++$e.ab,e(4>=$e.ab),We){case 0:case 1:be.b=de(_e,3)+2,Me=Ce(ht(be.Ea,be.b),ht(be.nc,be.b),0,$e,be.K),be.K=be.K[0];break;case 3:var Xe,qe=de(_e,8)+1,gt=16<qe?0:4<qe?1:2<qe?2:3;if(Le[0]=ht(be.Ea,gt),be.b=gt,Xe=Me=Ce(qe,1,0,$e,be.K)){var ct,Pt=qe,mt=be,cr=1<<(8>>mt.b),mr=s(cr);if(mr==null)Xe=0;else{var sr=mt.K[0],Qt=mt.w;for(mr[0]=mt.K[0][0],ct=1;ct<1*Pt;++ct)mr[ct]=Ye(sr[Qt+ct],mr[ct-1]);for(;ct<4*cr;++ct)mr[ct]=0;mt.K[0]=null,mt.K[0]=mr,Xe=1}}Me=Xe;break;case 2:break;default:e(0)}Y=Me}}if(X=X[0],te=te[0],Y&&de(ne,1)&&!(Y=1<=(Re=de(ne,4))&&11>=Re)){O.a=3;break e}var Ir;if(Ir=Y)t:{var kr,Wt,wn,ts=O,_n=X,rs=te,gr=Re,Ts=P,Es=ts.m,Vn=ts.s,ei=[null],Vi=1,Gs=0,$a=rL[gr];r:for(;;){if(Ts&&de(Es,1)){var Un=de(Es,3)+2,ko=ht(_n,Un),nc=ht(rs,Un),vh=ko*nc;if(!Ce(ko,nc,0,ts,ei))break r;for(ei=ei[0],Vn.xc=Un,kr=0;kr<vh;++kr){var Il=ei[kr]>>8&65535;ei[kr]=Il,Il>=Vi&&(Vi=Il+1)}}if(Es.h)break r;for(Wt=0;5>Wt;++Wt){var nn=Bb[Wt];!Wt&&0<gr&&(nn+=1<<gr),Gs<nn&&(Gs=nn)}var Jv=a(Vi*$a,E),Yb=Vi,Xb=a(Yb,H);if(Xb==null)var im=null;else e(65536>=Yb),im=Xb;var pd=s(Gs);if(im==null||pd==null||Jv==null){ts.a=1;break r}var sm=Jv;for(kr=wn=0;kr<Vi;++kr){var ga=im[kr],yh=ga.G,xh=ga.H,Qb=0,am=1,Jb=0;for(Wt=0;5>Wt;++Wt){nn=Bb[Wt],yh[Wt]=sm,xh[Wt]=wn,!Wt&&0<gr&&(nn+=1<<gr);i:{var om,Zv=nn,lm=ts,md=pd,SL=sm,TL=wn,e2=0,Rl=lm.m,EL=de(Rl,1);if(i(md,0,0,Zv),EL){var AL=de(Rl,1)+1,NL=de(Rl,1),Zb=de(Rl,NL==0?1:8);md[Zb]=1,AL==2&&(md[Zb=de(Rl,8)]=1);var um=1}else{var e4=s(19),t4=de(Rl,4)+4;if(19<t4){lm.a=3;var cm=0;break i}for(om=0;om<t4;++om)e4[eL[om]]=de(Rl,3);var t2=void 0,gd=void 0,r4=lm,kL=e4,hm=Zv,n4=md,r2=0,Ll=r4.m,i4=8,s4=a(128,E);n:for(;N(s4,0,7,kL,19);){if(de(Ll,1)){var CL=2+2*de(Ll,3);if((t2=2+de(Ll,CL))>hm)break n}else t2=hm;for(gd=0;gd<hm&&t2--;){Q(Ll);var a4=s4[0+(127&V(Ll))];z(Ll,Ll.u+a4.g);var wh=a4.value;if(16>wh)n4[gd++]=wh,wh!=0&&(i4=wh);else{var PL=wh==16,o4=wh-16,IL=JR[o4],l4=de(Ll,QR[o4])+IL;if(gd+l4>hm)break n;for(var RL=PL?i4:0;0<l4--;)n4[gd++]=RL}}r2=1;break n}r2||(r4.a=3),um=r2}(um=um&&!Rl.h)&&(e2=N(SL,TL,8,md,Zv)),um&&e2!=0?cm=e2:(lm.a=3,cm=0)}if(cm==0)break r;if(am&&ZR[Wt]==1&&(am=sm[wn].g==0),Qb+=sm[wn].g,wn+=cm,3>=Wt){var vd,n2=pd[0];for(vd=1;vd<nn;++vd)pd[vd]>n2&&(n2=pd[vd]);Jb+=n2}}if(ga.nd=am,ga.Qb=0,am&&(ga.qb=(yh[3][xh[3]+0].value<<24|yh[1][xh[1]+0].value<<16|yh[2][xh[2]+0].value)>>>0,Qb==0&&256>yh[0][xh[0]+0].value&&(ga.Qb=1,ga.qb+=yh[0][xh[0]+0].value<<8)),ga.jc=!ga.Qb&&6>Jb,ga.jc){var fm,Co=ga;for(fm=0;fm<Zn;++fm){var Fl=fm,Dl=Co.pd[Fl],dm=Co.G[0][Co.H[0]+Fl];256<=dm.value?(Dl.g=dm.g+256,Dl.value=dm.value):(Dl.g=0,Dl.value=0,Fl>>=Kr(dm,8,Dl),Fl>>=Kr(Co.G[1][Co.H[1]+Fl],16,Dl),Fl>>=Kr(Co.G[2][Co.H[2]+Fl],0,Dl),Kr(Co.G[3][Co.H[3]+Fl],24,Dl))}}}Vn.vc=ei,Vn.Wb=Vi,Vn.Ya=im,Vn.yc=Jv,Ir=1;break t}Ir=0}if(!(Y=Ir)){O.a=3;break e}if(0<Re){if(le.ua=1<<Re,!ze(le.Wa,Re)){O.a=1,Y=0;break e}}else le.ua=0;var i2=O,u4=X,LL=te,s2=i2.s,a2=s2.xc;if(i2.c=u4,i2.i=LL,s2.md=ht(u4,a2),s2.wc=a2==0?-1:(1<<a2)-1,P){O.xb=cL;break e}if((we=s(X*te))==null){O.a=1,Y=0;break e}Y=(Y=fe(O,we,0,X,te,te,null))&&!ne.h;break e}return Y?(q!=null?q[0]=we:(e(we==null),e(P)),O.$=0,P||ke(le)):ke(le),Y}function Ie(m,x){var P=m.c*m.i,O=P+x+16*x;return e(m.c<=x),m.V=s(O),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+P+x,1)}function De(m,x){var P=m.C,O=x-P,q=m.V,Y=m.Ba+m.c*P;for(e(x<=m.l.o);0<O;){var X=16<O?16:O,te=m.l.ma,ne=m.l.width,le=ne*X,we=te.ca,Re=te.tb+ne*P,Le=m.Ta,Ae=m.Ua;K(m,X,q,Y),hn(Le,Ae,we,Re,le),ae(te,P,P+X,we,Re,ne),O-=X,q+=X*m.c,P+=X}e(P==x),m.C=m.Ma=x}function Qe(){this.ub=this.yd=this.td=this.Rb=0}function it(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function pt(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function tt(){this.Yb=function(){var m=[];return function x(P,O,q){for(var Y=q[O],X=0;X<Y&&(P.push(q.length>O+1?[]:0),!(q.length<O+1));X++)x(P[X],O+1,q)}(m,0,[3,11]),m}()}function ut(){this.jb=s(3),this.Wc=o([4,8],tt),this.Xc=o([4,17],tt)}function It(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function rr(){this.ld=this.La=this.dd=this.tc=0}function nr(){this.Na=this.la=0}function Nr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Oi(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function oa(){this.uc=this.M=this.Nb=0,this.wa=Array(new rr),this.Y=0,this.ya=Array(new Oi),this.aa=0,this.l=new xs}function ys(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Qi(){this.cb=this.a=0,this.sc="",this.m=new Se,this.Od=new Qe,this.Kc=new it,this.ed=new It,this.Qa=new pt,this.Ic=this.$c=this.Aa=0,this.D=new oa,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,Se),this.ia=0,this.pb=a(4,Nr),this.Pa=new ut,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ys),this.Hd=0,this.rb=Array(new nr),this.sb=0,this.wa=Array(new rr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Oi),this.L=this.aa=0,this.gd=o([4,2],rr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function xs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Xn(){var m=new Qi;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,fd||(fd=eh)),m}function jr(m,x,P){return m.a==0&&(m.a=x,m.sc=P,m.cb=0),0}function Vu(m,x,P){return 3<=P&&m[x+0]==157&&m[x+1]==1&&m[x+2]==42}function Uu(m,x){if(m==null)return 0;if(m.a=0,m.sc="OK",x==null)return jr(m,2,"null VP8Io passed to VP8GetHeaders()");var P=x.data,O=x.w,q=x.ha;if(4>q)return jr(m,7,"Truncated header.");var Y=P[O+0]|P[O+1]<<8|P[O+2]<<16,X=m.Od;if(X.Rb=!(1&Y),X.td=Y>>1&7,X.yd=Y>>4&1,X.ub=Y>>5,3<X.td)return jr(m,3,"Incorrect keyframe parameters.");if(!X.yd)return jr(m,4,"Frame not displayable.");O+=3,q-=3;var te=m.Kc;if(X.Rb){if(7>q)return jr(m,7,"cannot parse picture header");if(!Vu(P,O,q))return jr(m,3,"Bad code word");te.c=16383&(P[O+4]<<8|P[O+3]),te.Td=P[O+4]>>6,te.i=16383&(P[O+6]<<8|P[O+5]),te.Ud=P[O+6]>>6,O+=7,q-=7,m.za=te.c+15>>4,m.Ub=te.i+15>>4,x.width=te.c,x.height=te.i,x.Da=0,x.j=0,x.v=0,x.va=x.width,x.o=x.height,x.da=0,x.ib=x.width,x.hb=x.height,x.U=x.width,x.T=x.height,i((Y=m.Pa).jb,0,255,Y.jb.length),e((Y=m.Qa)!=null),Y.Cb=0,Y.Bb=0,Y.Fb=1,i(Y.Zb,0,0,Y.Zb.length),i(Y.Lb,0,0,Y.Lb)}if(X.ub>q)return jr(m,7,"bad partition length");me(Y=m.m,P,O,X.ub),O+=X.ub,q-=X.ub,X.Rb&&(te.Ld=G(Y),te.Kd=G(Y)),te=m.Qa;var ne,le=m.Pa;if(e(Y!=null),e(te!=null),te.Cb=G(Y),te.Cb){if(te.Bb=G(Y),G(Y)){for(te.Fb=G(Y),ne=0;4>ne;++ne)te.Zb[ne]=G(Y)?ee(Y,7):0;for(ne=0;4>ne;++ne)te.Lb[ne]=G(Y)?ee(Y,6):0}if(te.Bb)for(ne=0;3>ne;++ne)le.jb[ne]=G(Y)?ie(Y,8):255}else te.Bb=0;if(Y.Ka)return jr(m,3,"cannot parse segment header");if((te=m.ed).zd=G(Y),te.Tb=ie(Y,6),te.wb=ie(Y,3),te.Pc=G(Y),te.Pc&&G(Y)){for(le=0;4>le;++le)G(Y)&&(te.vd[le]=ee(Y,6));for(le=0;4>le;++le)G(Y)&&(te.od[le]=ee(Y,6))}if(m.L=te.Tb==0?0:te.zd?1:2,Y.Ka)return jr(m,3,"cannot parse filter header");var we=q;if(q=ne=O,O=ne+we,te=we,m.Xb=(1<<ie(m.m,2))-1,we<3*(le=m.Xb))P=7;else{for(ne+=3*le,te-=3*le,we=0;we<le;++we){var Re=P[q+0]|P[q+1]<<8|P[q+2]<<16;Re>te&&(Re=te),me(m.Jc[+we],P,ne,Re),ne+=Re,te-=Re,q+=3}me(m.Jc[+le],P,ne,te),P=ne<O?0:5}if(P!=0)return jr(m,P,"cannot parse partitions");for(P=ie(ne=m.m,7),q=G(ne)?ee(ne,4):0,O=G(ne)?ee(ne,4):0,te=G(ne)?ee(ne,4):0,le=G(ne)?ee(ne,4):0,ne=G(ne)?ee(ne,4):0,we=m.Qa,Re=0;4>Re;++Re){if(we.Cb){var Le=we.Zb[Re];we.Fb||(Le+=P)}else{if(0<Re){m.pb[Re]=m.pb[0];continue}Le=P}var Ae=m.pb[Re];Ae.Sc[0]=Yv[dr(Le+q,127)],Ae.Sc[1]=Xv[dr(Le+0,127)],Ae.Eb[0]=2*Yv[dr(Le+O,127)],Ae.Eb[1]=101581*Xv[dr(Le+te,127)]>>16,8>Ae.Eb[1]&&(Ae.Eb[1]=8),Ae.Qc[0]=Yv[dr(Le+le,117)],Ae.Qc[1]=Xv[dr(Le+ne,127)],Ae.lc=Le+ne}if(!X.Rb)return jr(m,4,"Not a key frame.");for(G(Y),X=m.Pa,P=0;4>P;++P){for(q=0;8>q;++q)for(O=0;3>O;++O)for(te=0;11>te;++te)le=ue(Y,lL[P][q][O][te])?ie(Y,8):aL[P][q][O][te],X.Wc[P][q].Yb[O][te]=le;for(q=0;17>q;++q)X.Xc[P][q]=X.Wc[P][uL[q]]}return m.kc=G(Y),m.kc&&(m.Bd=ie(Y,8)),m.cb=1}function eh(m,x,P,O,q,Y,X){var te=x[q].Yb[P];for(P=0;16>q;++q){if(!ue(m,te[P+0]))return q;for(;!ue(m,te[P+1]);)if(te=x[++q].Yb[0],P=0,q==16)return 16;var ne=x[q+1].Yb;if(ue(m,te[P+2])){var le=m,we=0;if(ue(le,(Le=te)[(Re=P)+3]))if(ue(le,Le[Re+6])){for(te=0,Re=2*(we=ue(le,Le[Re+8]))+(Le=ue(le,Le[Re+9+we])),we=0,Le=iL[Re];Le[te];++te)we+=we+ue(le,Le[te]);we+=3+(8<<Re)}else ue(le,Le[Re+7])?(we=7+2*ue(le,165),we+=ue(le,145)):we=5+ue(le,159);else we=ue(le,Le[Re+4])?3+ue(le,Le[Re+5]):2;te=ne[2]}else we=1,te=ne[1];ne=X+sL[q],0>(le=m).b&&ge(le);var Re,Le=le.b,Ae=(Re=le.Ca>>1)-(le.I>>Le)>>31;--le.b,le.Ca+=Ae,le.Ca|=1,le.I-=(Re+1&Ae)<<Le,Y[ne]=((we^Ae)-Ae)*O[(0<q)+0]}return 16}function zu(m){var x=m.rb[m.sb-1];x.la=0,x.Na=0,i(m.zc,0,0,m.zc.length),m.ja=0}function th(m,x){if(m==null)return 0;if(x==null)return jr(m,2,"NULL VP8Io parameter in VP8Decode().");if(!m.cb&&!Uu(m,x))return 0;if(e(m.cb),x.ac==null||x.ac(x)){x.ob&&(m.L=0);var P=nm[m.L];if(m.L==2?(m.yb=0,m.zb=0):(m.yb=x.v-P>>4,m.zb=x.j-P>>4,0>m.yb&&(m.yb=0),0>m.zb&&(m.zb=0)),m.Va=x.o+15+P>>4,m.Hb=x.va+15+P>>4,m.Hb>m.za&&(m.Hb=m.za),m.Va>m.Ub&&(m.Va=m.Ub),0<m.L){var O=m.ed;for(P=0;4>P;++P){var q;if(m.Qa.Cb){var Y=m.Qa.Lb[P];m.Qa.Fb||(Y+=O.Tb)}else Y=O.Tb;for(q=0;1>=q;++q){var X=m.gd[P][q],te=Y;if(O.Pc&&(te+=O.vd[0],q&&(te+=O.od[0])),0<(te=0>te?0:63<te?63:te)){var ne=te;0<O.wb&&(ne=4<O.wb?ne>>2:ne>>1)>9-O.wb&&(ne=9-O.wb),1>ne&&(ne=1),X.dd=ne,X.tc=2*te+ne,X.ld=40<=te?2:15<=te?1:0}else X.tc=0;X.La=q}}}P=0}else jr(m,6,"Frame setup failed"),P=m.a;if(P=P==0){if(P){m.$c=0,0<m.Aa||(m.Ic=bL);e:{P=m.Ic,O=4*(ne=m.za);var le=32*ne,we=ne+1,Re=0<m.L?ne*(0<m.Aa?2:1):0,Le=(m.Aa==2?2:1)*ne;if((X=O+832+(q=3*(16*P+nm[m.L])/2*le)+(Y=m.Fa!=null&&0<m.Fa.length?m.Kc.c*m.Kc.i:0))!=X)P=0;else{if(X>m.Vb){if(m.Vb=0,m.Ec=s(X),m.Fc=0,m.Ec==null){P=jr(m,1,"no memory during frame initialization.");break e}m.Vb=X}X=m.Ec,te=m.Fc,m.Ac=X,m.Bc=te,te+=O,m.Gd=a(le,ys),m.Hd=0,m.rb=a(we+1,nr),m.sb=1,m.wa=Re?a(Re,rr):null,m.Y=0,m.D.Nb=0,m.D.wa=m.wa,m.D.Y=m.Y,0<m.Aa&&(m.D.Y+=ne),e(!0),m.oc=X,m.pc=te,te+=832,m.ya=a(Le,Oi),m.aa=0,m.D.ya=m.ya,m.D.aa=m.aa,m.Aa==2&&(m.D.aa+=ne),m.R=16*ne,m.B=8*ne,ne=(le=nm[m.L])*m.R,le=le/2*m.B,m.sa=X,m.ta=te+ne,m.qa=m.sa,m.ra=m.ta+16*P*m.R+le,m.Ha=m.qa,m.Ia=m.ra+8*P*m.B+le,m.$c=0,te+=q,m.mb=Y?X:null,m.nb=Y?te:null,e(te+Y<=m.Fc+m.Vb),zu(m),i(m.Ac,m.Bc,0,O),P=1}}if(P){if(x.ka=0,x.y=m.sa,x.O=m.ta,x.f=m.qa,x.N=m.ra,x.ea=m.Ha,x.Vd=m.Ia,x.fa=m.R,x.Rc=m.B,x.F=null,x.J=0,!Kp){for(P=-255;255>=P;++P)In[255+P]=0>P?-P:P;for(P=-1020;1020>=P;++P)Ao[1020+P]=-128>P?-128:127<P?127:P;for(P=-112;112>=P;++P)hd[112+P]=-16>P?-16:15<P?15:P;for(P=-255;510>=P;++P)gh[255+P]=0>P?0:255<P?255:P;Kp=1}dh=yo,Eo=cl,ld=Hu,Bi=pr,zs=vo,cn=go,ph=vl,Gp=fa,ud=xl,Zu=Qu,ec=yl,Nl=wo,tc=wl,mh=za,rc=xo,kl=bs,cd=Pn,Hs=ah,ma[0]=Vs,ma[1]=td,ma[2]=Va,ma[3]=nd,ma[4]=ih,ma[5]=dl,ma[6]=ws,ma[7]=qu,ma[8]=ml,ma[9]=pl,Cl[0]=Ba,Cl[1]=rd,Cl[2]=ua,Cl[3]=hl,Cl[4]=Mr,Cl[5]=nh,Cl[6]=Wu,No[0]=ha,No[1]=rh,No[2]=sh,No[3]=ca,No[4]=fr,No[5]=$u,No[6]=Gu,P=1}else P=0}P&&(P=function(Ae,$e){for(Ae.M=0;Ae.M<Ae.Va;++Ae.M){var Me,_e=Ae.Jc[Ae.M&Ae.Xb],be=Ae.m,We=Ae;for(Me=0;Me<We.za;++Me){var Xe=be,qe=We,gt=qe.Ac,ct=qe.Bc+4*Me,Pt=qe.zc,mt=qe.ya[qe.aa+Me];if(qe.Qa.Bb?mt.$b=ue(Xe,qe.Pa.jb[0])?2+ue(Xe,qe.Pa.jb[2]):ue(Xe,qe.Pa.jb[1]):mt.$b=0,qe.kc&&(mt.Ad=ue(Xe,qe.Bd)),mt.Za=!ue(Xe,145)+0,mt.Za){var cr=mt.Ob,mr=0;for(qe=0;4>qe;++qe){var sr,Qt=Pt[0+qe];for(sr=0;4>sr;++sr){Qt=oL[gt[ct+sr]][Qt];for(var Ir=Vb[ue(Xe,Qt[0])];0<Ir;)Ir=Vb[2*Ir+ue(Xe,Qt[Ir])];Qt=-Ir,gt[ct+sr]=Qt}n(cr,mr,gt,ct,4),mr+=4,Pt[0+qe]=Qt}}else Qt=ue(Xe,156)?ue(Xe,128)?1:3:ue(Xe,163)?2:0,mt.Ob[0]=Qt,i(gt,ct,Qt,4),i(Pt,0,Qt,4);mt.Dd=ue(Xe,142)?ue(Xe,114)?ue(Xe,183)?1:3:2:0}if(We.m.Ka)return jr(Ae,7,"Premature end-of-partition0 encountered.");for(;Ae.ja<Ae.za;++Ae.ja){if(We=_e,Xe=(be=Ae).rb[be.sb-1],gt=be.rb[be.sb+be.ja],Me=be.ya[be.aa+be.ja],ct=be.kc?Me.Ad:0)Xe.la=gt.la=0,Me.Za||(Xe.Na=gt.Na=0),Me.Hc=0,Me.Gc=0,Me.ia=0;else{var kr,Wt;if(Xe=gt,gt=We,ct=be.Pa.Xc,Pt=be.ya[be.aa+be.ja],mt=be.pb[Pt.$b],qe=Pt.ad,cr=0,mr=be.rb[be.sb-1],Qt=sr=0,i(qe,cr,0,384),Pt.Za)var wn=0,ts=ct[3];else{Ir=s(16);var _n=Xe.Na+mr.Na;if(_n=fd(gt,ct[1],_n,mt.Eb,0,Ir,0),Xe.Na=mr.Na=(0<_n)+0,1<_n)dh(Ir,0,qe,cr);else{var rs=Ir[0]+3>>3;for(Ir=0;256>Ir;Ir+=16)qe[cr+Ir]=rs}wn=1,ts=ct[0]}var gr=15&Xe.la,Ts=15&mr.la;for(Ir=0;4>Ir;++Ir){var Es=1&Ts;for(rs=Wt=0;4>rs;++rs)gr=gr>>1|(Es=(_n=fd(gt,ts,_n=Es+(1&gr),mt.Sc,wn,qe,cr))>wn)<<7,Wt=Wt<<2|(3<_n?3:1<_n?2:qe[cr+0]!=0),cr+=16;gr>>=4,Ts=Ts>>1|Es<<7,sr=(sr<<8|Wt)>>>0}for(ts=gr,wn=Ts>>4,kr=0;4>kr;kr+=2){for(Wt=0,gr=Xe.la>>4+kr,Ts=mr.la>>4+kr,Ir=0;2>Ir;++Ir){for(Es=1&Ts,rs=0;2>rs;++rs)_n=Es+(1&gr),gr=gr>>1|(Es=0<(_n=fd(gt,ct[2],_n,mt.Qc,0,qe,cr)))<<3,Wt=Wt<<2|(3<_n?3:1<_n?2:qe[cr+0]!=0),cr+=16;gr>>=2,Ts=Ts>>1|Es<<5}Qt|=Wt<<4*kr,ts|=gr<<4<<kr,wn|=(240&Ts)<<kr}Xe.la=ts,mr.la=wn,Pt.Hc=sr,Pt.Gc=Qt,Pt.ia=43690&Qt?0:mt.ia,ct=!(sr|Qt)}if(0<be.L&&(be.wa[be.Y+be.ja]=be.gd[Me.$b][Me.Za],be.wa[be.Y+be.ja].La|=!ct),We.Ka)return jr(Ae,7,"Premature end-of-file encountered.")}if(zu(Ae),be=$e,We=1,Me=(_e=Ae).D,Xe=0<_e.L&&_e.M>=_e.zb&&_e.M<=_e.Va,_e.Aa==0)e:{if(Me.M=_e.M,Me.uc=Xe,Wa(_e,Me),We=1,Me=(Wt=_e.D).Nb,Xe=(Qt=nm[_e.L])*_e.R,gt=Qt/2*_e.B,Ir=16*Me*_e.R,rs=8*Me*_e.B,ct=_e.sa,Pt=_e.ta-Xe+Ir,mt=_e.qa,qe=_e.ra-gt+rs,cr=_e.Ha,mr=_e.Ia-gt+rs,Ts=(gr=Wt.M)==0,sr=gr>=_e.Va-1,_e.Aa==2&&Wa(_e,Wt),Wt.uc)for(Es=(_n=_e).D.M,e(_n.D.uc),Wt=_n.yb;Wt<_n.Hb;++Wt){wn=Wt,ts=Es;var Vn=(ei=(nn=_n).D).Nb;kr=nn.R;var ei=ei.wa[ei.Y+wn],Vi=nn.sa,Gs=nn.ta+16*Vn*kr+16*wn,$a=ei.dd,Un=ei.tc;if(Un!=0)if(e(3<=Un),nn.L==1)0<wn&&kl(Vi,Gs,kr,Un+4),ei.La&&Hs(Vi,Gs,kr,Un),0<ts&&rc(Vi,Gs,kr,Un+4),ei.La&&cd(Vi,Gs,kr,Un);else{var ko=nn.B,nc=nn.qa,vh=nn.ra+8*Vn*ko+8*wn,Il=nn.Ha,nn=nn.Ia+8*Vn*ko+8*wn;Vn=ei.ld,0<wn&&(Gp(Vi,Gs,kr,Un+4,$a,Vn),Zu(nc,vh,Il,nn,ko,Un+4,$a,Vn)),ei.La&&(Nl(Vi,Gs,kr,Un,$a,Vn),mh(nc,vh,Il,nn,ko,Un,$a,Vn)),0<ts&&(ph(Vi,Gs,kr,Un+4,$a,Vn),ud(nc,vh,Il,nn,ko,Un+4,$a,Vn)),ei.La&&(ec(Vi,Gs,kr,Un,$a,Vn),tc(nc,vh,Il,nn,ko,Un,$a,Vn))}}if(_e.ia&&alert("todo:DitherRow"),be.put!=null){if(Wt=16*gr,gr=16*(gr+1),Ts?(be.y=_e.sa,be.O=_e.ta+Ir,be.f=_e.qa,be.N=_e.ra+rs,be.ea=_e.Ha,be.W=_e.Ia+rs):(Wt-=Qt,be.y=ct,be.O=Pt,be.f=mt,be.N=qe,be.ea=cr,be.W=mr),sr||(gr-=Qt),gr>be.o&&(gr=be.o),be.F=null,be.J=null,_e.Fa!=null&&0<_e.Fa.length&&Wt<gr&&(be.J=Tl(_e,be,Wt,gr-Wt),be.F=_e.mb,be.F==null&&be.F.length==0)){We=jr(_e,3,"Could not decode alpha data.");break e}Wt<be.j&&(Qt=be.j-Wt,Wt=be.j,e(!(1&Qt)),be.O+=_e.R*Qt,be.N+=_e.B*(Qt>>1),be.W+=_e.B*(Qt>>1),be.F!=null&&(be.J+=be.width*Qt)),Wt<gr&&(be.O+=be.v,be.N+=be.v>>1,be.W+=be.v>>1,be.F!=null&&(be.J+=be.v),be.ka=Wt-be.j,be.U=be.va-be.v,be.T=gr-Wt,We=be.put(be))}Me+1!=_e.Ic||sr||(n(_e.sa,_e.ta-Xe,ct,Pt+16*_e.R,Xe),n(_e.qa,_e.ra-gt,mt,qe+8*_e.B,gt),n(_e.Ha,_e.Ia-gt,cr,mr+8*_e.B,gt))}if(!We)return jr(Ae,6,"Output aborted.")}return 1}(m,x)),x.bc!=null&&x.bc(x),P&=1}return P?(m.cb=0,P):0}function Ji(m,x,P,O,q){q=m[x+P+32*O]+(q>>3),m[x+P+32*O]=-256&q?0>q?0:255:q}function ul(m,x,P,O,q,Y){Ji(m,x,0,P,O+q),Ji(m,x,1,P,O+Y),Ji(m,x,2,P,O-Y),Ji(m,x,3,P,O-q)}function rn(m){return(20091*m>>16)+m}function ji(m,x,P,O){var q,Y=0,X=s(16);for(q=0;4>q;++q){var te=m[x+0]+m[x+8],ne=m[x+0]-m[x+8],le=(35468*m[x+4]>>16)-rn(m[x+12]),we=rn(m[x+4])+(35468*m[x+12]>>16);X[Y+0]=te+we,X[Y+1]=ne+le,X[Y+2]=ne-le,X[Y+3]=te-we,Y+=4,x++}for(q=Y=0;4>q;++q)te=(m=X[Y+0]+4)+X[Y+8],ne=m-X[Y+8],le=(35468*X[Y+4]>>16)-rn(X[Y+12]),Ji(P,O,0,0,te+(we=rn(X[Y+4])+(35468*X[Y+12]>>16))),Ji(P,O,1,0,ne+le),Ji(P,O,2,0,ne-le),Ji(P,O,3,0,te-we),Y++,O+=32}function go(m,x,P,O){var q=m[x+0]+4,Y=35468*m[x+4]>>16,X=rn(m[x+4]),te=35468*m[x+1]>>16;ul(P,O,0,q+X,m=rn(m[x+1]),te),ul(P,O,1,q+Y,m,te),ul(P,O,2,q-Y,m,te),ul(P,O,3,q-X,m,te)}function cl(m,x,P,O,q){ji(m,x,P,O),q&&ji(m,x+16,P,O+4)}function Hu(m,x,P,O){Eo(m,x+0,P,O,1),Eo(m,x+32,P,O+128,1)}function pr(m,x,P,O){var q;for(m=m[x+0]+4,q=0;4>q;++q)for(x=0;4>x;++x)Ji(P,O,x,q,m)}function vo(m,x,P,O){m[x+0]&&Bi(m,x+0,P,O),m[x+16]&&Bi(m,x+16,P,O+4),m[x+32]&&Bi(m,x+32,P,O+128),m[x+48]&&Bi(m,x+48,P,O+128+4)}function yo(m,x,P,O){var q,Y=s(16);for(q=0;4>q;++q){var X=m[x+0+q]+m[x+12+q],te=m[x+4+q]+m[x+8+q],ne=m[x+4+q]-m[x+8+q],le=m[x+0+q]-m[x+12+q];Y[0+q]=X+te,Y[8+q]=X-te,Y[4+q]=le+ne,Y[12+q]=le-ne}for(q=0;4>q;++q)X=(m=Y[0+4*q]+3)+Y[3+4*q],te=Y[1+4*q]+Y[2+4*q],ne=Y[1+4*q]-Y[2+4*q],le=m-Y[3+4*q],P[O+0]=X+te>>3,P[O+16]=le+ne>>3,P[O+32]=X-te>>3,P[O+48]=le-ne>>3,O+=64}function la(m,x,P){var O,q=x-32,Y=Ss,X=255-m[q-1];for(O=0;O<P;++O){var te,ne=Y,le=X+m[x-1];for(te=0;te<P;++te)m[x+te]=ne[le+m[q+te]];x+=32}}function td(m,x){la(m,x,4)}function rh(m,x){la(m,x,8)}function rd(m,x){la(m,x,16)}function ua(m,x){var P;for(P=0;16>P;++P)n(m,x+32*P,m,x-32,16)}function hl(m,x){var P;for(P=16;0<P;--P)i(m,x,m[x-1],16),x+=32}function fl(m,x,P){var O;for(O=0;16>O;++O)i(x,P+32*O,m,16)}function Ba(m,x){var P,O=16;for(P=0;16>P;++P)O+=m[x-1+32*P]+m[x+P-32];fl(O>>5,m,x)}function Mr(m,x){var P,O=8;for(P=0;16>P;++P)O+=m[x-1+32*P];fl(O>>4,m,x)}function nh(m,x){var P,O=8;for(P=0;16>P;++P)O+=m[x+P-32];fl(O>>4,m,x)}function Wu(m,x){fl(128,m,x)}function Ft(m,x,P){return m+2*x+P+2>>2}function Va(m,x){var P,O=x-32;for(O=new Uint8Array([Ft(m[O-1],m[O+0],m[O+1]),Ft(m[O+0],m[O+1],m[O+2]),Ft(m[O+1],m[O+2],m[O+3]),Ft(m[O+2],m[O+3],m[O+4])]),P=0;4>P;++P)n(m,x+32*P,O,0,O.length)}function nd(m,x){var P=m[x-1],O=m[x-1+32],q=m[x-1+64],Y=m[x-1+96];ye(m,x+0,16843009*Ft(m[x-1-32],P,O)),ye(m,x+32,16843009*Ft(P,O,q)),ye(m,x+64,16843009*Ft(O,q,Y)),ye(m,x+96,16843009*Ft(q,Y,Y))}function Vs(m,x){var P,O=4;for(P=0;4>P;++P)O+=m[x+P-32]+m[x-1+32*P];for(O>>=3,P=0;4>P;++P)i(m,x+32*P,O,4)}function ih(m,x){var P=m[x-1+0],O=m[x-1+32],q=m[x-1+64],Y=m[x-1-32],X=m[x+0-32],te=m[x+1-32],ne=m[x+2-32],le=m[x+3-32];m[x+0+96]=Ft(O,q,m[x-1+96]),m[x+1+96]=m[x+0+64]=Ft(P,O,q),m[x+2+96]=m[x+1+64]=m[x+0+32]=Ft(Y,P,O),m[x+3+96]=m[x+2+64]=m[x+1+32]=m[x+0+0]=Ft(X,Y,P),m[x+3+64]=m[x+2+32]=m[x+1+0]=Ft(te,X,Y),m[x+3+32]=m[x+2+0]=Ft(ne,te,X),m[x+3+0]=Ft(le,ne,te)}function ws(m,x){var P=m[x+1-32],O=m[x+2-32],q=m[x+3-32],Y=m[x+4-32],X=m[x+5-32],te=m[x+6-32],ne=m[x+7-32];m[x+0+0]=Ft(m[x+0-32],P,O),m[x+1+0]=m[x+0+32]=Ft(P,O,q),m[x+2+0]=m[x+1+32]=m[x+0+64]=Ft(O,q,Y),m[x+3+0]=m[x+2+32]=m[x+1+64]=m[x+0+96]=Ft(q,Y,X),m[x+3+32]=m[x+2+64]=m[x+1+96]=Ft(Y,X,te),m[x+3+64]=m[x+2+96]=Ft(X,te,ne),m[x+3+96]=Ft(te,ne,ne)}function dl(m,x){var P=m[x-1+0],O=m[x-1+32],q=m[x-1+64],Y=m[x-1-32],X=m[x+0-32],te=m[x+1-32],ne=m[x+2-32],le=m[x+3-32];m[x+0+0]=m[x+1+64]=Y+X+1>>1,m[x+1+0]=m[x+2+64]=X+te+1>>1,m[x+2+0]=m[x+3+64]=te+ne+1>>1,m[x+3+0]=ne+le+1>>1,m[x+0+96]=Ft(q,O,P),m[x+0+64]=Ft(O,P,Y),m[x+0+32]=m[x+1+96]=Ft(P,Y,X),m[x+1+32]=m[x+2+96]=Ft(Y,X,te),m[x+2+32]=m[x+3+96]=Ft(X,te,ne),m[x+3+32]=Ft(te,ne,le)}function qu(m,x){var P=m[x+0-32],O=m[x+1-32],q=m[x+2-32],Y=m[x+3-32],X=m[x+4-32],te=m[x+5-32],ne=m[x+6-32],le=m[x+7-32];m[x+0+0]=P+O+1>>1,m[x+1+0]=m[x+0+64]=O+q+1>>1,m[x+2+0]=m[x+1+64]=q+Y+1>>1,m[x+3+0]=m[x+2+64]=Y+X+1>>1,m[x+0+32]=Ft(P,O,q),m[x+1+32]=m[x+0+96]=Ft(O,q,Y),m[x+2+32]=m[x+1+96]=Ft(q,Y,X),m[x+3+32]=m[x+2+96]=Ft(Y,X,te),m[x+3+64]=Ft(X,te,ne),m[x+3+96]=Ft(te,ne,le)}function pl(m,x){var P=m[x-1+0],O=m[x-1+32],q=m[x-1+64],Y=m[x-1+96];m[x+0+0]=P+O+1>>1,m[x+2+0]=m[x+0+32]=O+q+1>>1,m[x+2+32]=m[x+0+64]=q+Y+1>>1,m[x+1+0]=Ft(P,O,q),m[x+3+0]=m[x+1+32]=Ft(O,q,Y),m[x+3+32]=m[x+1+64]=Ft(q,Y,Y),m[x+3+64]=m[x+2+64]=m[x+0+96]=m[x+1+96]=m[x+2+96]=m[x+3+96]=Y}function ml(m,x){var P=m[x-1+0],O=m[x-1+32],q=m[x-1+64],Y=m[x-1+96],X=m[x-1-32],te=m[x+0-32],ne=m[x+1-32],le=m[x+2-32];m[x+0+0]=m[x+2+32]=P+X+1>>1,m[x+0+32]=m[x+2+64]=O+P+1>>1,m[x+0+64]=m[x+2+96]=q+O+1>>1,m[x+0+96]=Y+q+1>>1,m[x+3+0]=Ft(te,ne,le),m[x+2+0]=Ft(X,te,ne),m[x+1+0]=m[x+3+32]=Ft(P,X,te),m[x+1+32]=m[x+3+64]=Ft(O,P,X),m[x+1+64]=m[x+3+96]=Ft(q,O,P),m[x+1+96]=Ft(Y,q,O)}function sh(m,x){var P;for(P=0;8>P;++P)n(m,x+32*P,m,x-32,8)}function ca(m,x){var P;for(P=0;8>P;++P)i(m,x,m[x-1],8),x+=32}function _s(m,x,P){var O;for(O=0;8>O;++O)i(x,P+32*O,m,8)}function ha(m,x){var P,O=8;for(P=0;8>P;++P)O+=m[x+P-32]+m[x-1+32*P];_s(O>>4,m,x)}function $u(m,x){var P,O=4;for(P=0;8>P;++P)O+=m[x+P-32];_s(O>>3,m,x)}function fr(m,x){var P,O=4;for(P=0;8>P;++P)O+=m[x-1+32*P];_s(O>>3,m,x)}function Gu(m,x){_s(128,m,x)}function gl(m,x,P){var O=m[x-P],q=m[x+0],Y=3*(q-O)+Wv[1020+m[x-2*P]-m[x+P]],X=Yp[112+(Y+4>>3)];m[x-P]=Ss[255+O+Yp[112+(Y+3>>3)]],m[x+0]=Ss[255+q-X]}function Ku(m,x,P,O){var q=m[x+0],Y=m[x+P];return qs[255+m[x-2*P]-m[x-P]]>O||qs[255+Y-q]>O}function Yu(m,x,P,O){return 4*qs[255+m[x-P]-m[x+0]]+qs[255+m[x-2*P]-m[x+P]]<=O}function Xu(m,x,P,O,q){var Y=m[x-3*P],X=m[x-2*P],te=m[x-P],ne=m[x+0],le=m[x+P],we=m[x+2*P],Re=m[x+3*P];return 4*qs[255+te-ne]+qs[255+X-le]>O?0:qs[255+m[x-4*P]-Y]<=q&&qs[255+Y-X]<=q&&qs[255+X-te]<=q&&qs[255+Re-we]<=q&&qs[255+we-le]<=q&&qs[255+le-ne]<=q}function xo(m,x,P,O){var q=2*O+1;for(O=0;16>O;++O)Yu(m,x+O,P,q)&&gl(m,x+O,P)}function bs(m,x,P,O){var q=2*O+1;for(O=0;16>O;++O)Yu(m,x+O*P,1,q)&&gl(m,x+O*P,1)}function Pn(m,x,P,O){var q;for(q=3;0<q;--q)xo(m,x+=4*P,P,O)}function ah(m,x,P,O){var q;for(q=3;0<q;--q)bs(m,x+=4,P,O)}function Ua(m,x,P,O,q,Y,X,te){for(Y=2*Y+1;0<q--;){if(Xu(m,x,P,Y,X))if(Ku(m,x,P,te))gl(m,x,P);else{var ne=m,le=x,we=P,Re=ne[le-2*we],Le=ne[le-we],Ae=ne[le+0],$e=ne[le+we],Me=ne[le+2*we],_e=27*(We=Wv[1020+3*(Ae-Le)+Wv[1020+Re-$e]])+63>>7,be=18*We+63>>7,We=9*We+63>>7;ne[le-3*we]=Ss[255+ne[le-3*we]+We],ne[le-2*we]=Ss[255+Re+be],ne[le-we]=Ss[255+Le+_e],ne[le+0]=Ss[255+Ae-_e],ne[le+we]=Ss[255+$e-be],ne[le+2*we]=Ss[255+Me-We]}x+=O}}function Qn(m,x,P,O,q,Y,X,te){for(Y=2*Y+1;0<q--;){if(Xu(m,x,P,Y,X))if(Ku(m,x,P,te))gl(m,x,P);else{var ne=m,le=x,we=P,Re=ne[le-we],Le=ne[le+0],Ae=ne[le+we],$e=Yp[112+((Me=3*(Le-Re))+4>>3)],Me=Yp[112+(Me+3>>3)],_e=$e+1>>1;ne[le-2*we]=Ss[255+ne[le-2*we]+_e],ne[le-we]=Ss[255+Re+Me],ne[le+0]=Ss[255+Le-$e],ne[le+we]=Ss[255+Ae-_e]}x+=O}}function vl(m,x,P,O,q,Y){Ua(m,x,P,1,16,O,q,Y)}function fa(m,x,P,O,q,Y){Ua(m,x,1,P,16,O,q,Y)}function yl(m,x,P,O,q,Y){var X;for(X=3;0<X;--X)Qn(m,x+=4*P,P,1,16,O,q,Y)}function wo(m,x,P,O,q,Y){var X;for(X=3;0<X;--X)Qn(m,x+=4,1,P,16,O,q,Y)}function xl(m,x,P,O,q,Y,X,te){Ua(m,x,q,1,8,Y,X,te),Ua(P,O,q,1,8,Y,X,te)}function Qu(m,x,P,O,q,Y,X,te){Ua(m,x,1,q,8,Y,X,te),Ua(P,O,1,q,8,Y,X,te)}function wl(m,x,P,O,q,Y,X,te){Qn(m,x+4*q,q,1,8,Y,X,te),Qn(P,O+4*q,q,1,8,Y,X,te)}function za(m,x,P,O,q,Y,X,te){Qn(m,x+4,1,q,8,Y,X,te),Qn(P,O+4,1,q,8,Y,X,te)}function _o(){this.ba=new Cn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ur,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function _l(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function bo(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function bl(){this.ua=0,this.Wa=new oe,this.vb=new oe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new H,this.yc=new E}function oh(){this.xb=this.a=0,this.l=new xs,this.ca=new Cn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new I,this.Pb=0,this.wd=new I,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new bl,this.ab=0,this.gc=a(4,bo),this.Oc=0}function da(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new xs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ha(m,x,P,O,q,Y,X){for(m=m==null?0:m[x+0],x=0;x<X;++x)q[Y+x]=m+P[O+x]&255,m=q[Y+x]}function Sl(m,x,P,O,q,Y,X){var te;if(m==null)Ha(null,null,P,O,q,Y,X);else for(te=0;te<X;++te)q[Y+te]=m[x+te]+P[O+te]&255}function gi(m,x,P,O,q,Y,X){if(m==null)Ha(null,null,P,O,q,Y,X);else{var te,ne=m[x+0],le=ne,we=ne;for(te=0;te<X;++te)le=we+(ne=m[x+te])-le,we=P[O+te]+(-256&le?0>le?0:255:le)&255,le=ne,q[Y+te]=we}}function Tl(m,x,P,O){var q=x.width,Y=x.o;if(e(m!=null&&x!=null),0>P||0>=O||P+O>Y)return null;if(!m.Cc){if(m.ga==null){var X;if(m.ga=new da,(X=m.ga==null)||(X=x.width*x.o,e(m.Gb.length==0),m.Gb=s(X),m.Uc=0,m.Gb==null?X=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,X=1),X=!X),!X){X=m.ga;var te=m.Fa,ne=m.P,le=m.qc,we=m.mb,Re=m.nb,Le=ne+1,Ae=le-1,$e=X.l;if(e(te!=null&&we!=null&&x!=null),Pl[0]=null,Pl[1]=Ha,Pl[2]=Sl,Pl[3]=gi,X.ca=we,X.tb=Re,X.c=x.width,X.i=x.height,e(0<X.c&&0<X.i),1>=le)x=0;else if(X.$a=te[ne+0]>>0&3,X.Z=te[ne+0]>>2&3,X.Lc=te[ne+0]>>4&3,ne=te[ne+0]>>6&3,0>X.$a||1<X.$a||4<=X.Z||1<X.Lc||ne)x=0;else if($e.put=Bn,$e.ac=en,$e.bc=Di,$e.ma=X,$e.width=x.width,$e.height=x.height,$e.Da=x.Da,$e.v=x.v,$e.va=x.va,$e.j=x.j,$e.o=x.o,X.$a)e:{e(X.$a==1),x=Oe();t:for(;;){if(x==null){x=0;break e}if(e(X!=null),X.mc=x,x.c=X.c,x.i=X.i,x.l=X.l,x.l.ma=X,x.l.width=X.c,x.l.height=X.i,x.a=0,J(x.m,te,Le,Ae),!Ce(X.c,X.i,1,x,null)||(x.ab==1&&x.gc[0].hc==3&&se(x.s)?(X.ic=1,te=x.c*x.i,x.Ta=null,x.Ua=0,x.V=s(te),x.Ba=0,x.V==null?(x.a=1,x=0):x=1):(X.ic=0,x=Ie(x,X.c)),!x))break t;x=1;break e}X.mc=null,x=0}else x=Ae>=X.c*X.i;X=!x}if(X)return null;m.ga.Lc!=1?m.Ga=0:O=Y-P}e(m.ga!=null),e(P+O<=Y);e:{if(x=(te=m.ga).c,Y=te.l.o,te.$a==0){if(Le=m.rc,Ae=m.Vc,$e=m.Fa,ne=m.P+1+P*x,le=m.mb,we=m.nb+P*x,e(ne<=m.P+m.qc),te.Z!=0)for(e(Pl[te.Z]!=null),X=0;X<O;++X)Pl[te.Z](Le,Ae,$e,ne,le,we,x),Le=le,Ae=we,we+=x,ne+=x;else for(X=0;X<O;++X)n(le,we,$e,ne,x),Le=le,Ae=we,we+=x,ne+=x;m.rc=Le,m.Vc=Ae}else{if(e(te.mc!=null),x=P+O,e((X=te.mc)!=null),e(x<=X.i),X.C>=x)x=1;else if(te.ic||Ee(),te.ic){te=X.V,Le=X.Ba,Ae=X.c;var Me=X.i,_e=($e=1,ne=X.$/Ae,le=X.$%Ae,we=X.m,Re=X.s,X.$),be=Ae*Me,We=Ae*x,Xe=Re.wc,qe=_e<We?qr(Re,le,ne):null;e(_e<=be),e(x<=Me),e(se(Re));t:for(;;){for(;!we.h&&_e<We;){if(le&Xe||(qe=qr(Re,le,ne)),e(qe!=null),Q(we),256>(Me=tn(qe.G[0],qe.H[0],we)))te[Le+_e]=Me,++_e,++le>=Ae&&(le=0,++ne<=x&&!(ne%16)&&ce(X,ne));else{if(!(280>Me)){$e=0;break t}Me=mi(Me-256,we);var gt,ct=tn(qe.G[4],qe.H[4],we);if(Q(we),!(_e>=(ct=xn(Ae,ct=mi(ct,we)))&&be-_e>=Me)){$e=0;break t}for(gt=0;gt<Me;++gt)te[Le+_e+gt]=te[Le+_e+gt-ct];for(_e+=Me,le+=Me;le>=Ae;)le-=Ae,++ne<=x&&!(ne%16)&&ce(X,ne);_e<We&&le&Xe&&(qe=qr(Re,le,ne))}e(we.h==U(we))}ce(X,ne>x?x:ne);break t}!$e||we.h&&_e<be?($e=0,X.a=we.h?5:3):X.$=_e,x=$e}else x=fe(X,X.V,X.Ba,X.c,X.i,x,De);if(!x){O=0;break e}}P+O>=Y&&(m.Cc=1),O=1}if(!O)return null;if(m.Cc&&((O=m.ga)!=null&&(O.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+P*q}function k(m,x,P,O,q,Y){for(;0<q--;){var X,te=m,ne=x+(P?1:0),le=m,we=x+(P?0:3);for(X=0;X<O;++X){var Re=le[we+4*X];Re!=255&&(Re*=32897,te[ne+4*X+0]=te[ne+4*X+0]*Re>>23,te[ne+4*X+1]=te[ne+4*X+1]*Re>>23,te[ne+4*X+2]=te[ne+4*X+2]*Re>>23)}x+=Y}}function W(m,x,P,O,q){for(;0<O--;){var Y;for(Y=0;Y<P;++Y){var X=m[x+2*Y+0],te=15&(le=m[x+2*Y+1]),ne=4369*te,le=(240&le|le>>4)*ne>>16;m[x+2*Y+0]=(240&X|X>>4)*ne>>16&240|(15&X|X<<4)*ne>>16>>4&15,m[x+2*Y+1]=240&le|te}x+=q}}function pe(m,x,P,O,q,Y,X,te){var ne,le,we=255;for(le=0;le<q;++le){for(ne=0;ne<O;++ne){var Re=m[x+ne];Y[X+4*ne]=Re,we&=Re}x+=P,X+=te}return we!=255}function xe(m,x,P,O,q){var Y;for(Y=0;Y<q;++Y)P[O+Y]=m[x+Y]>>8}function Ee(){Ws=k,Lr=W,Fr=pe,hn=xe}function Be(m,x,P){_[m]=function(O,q,Y,X,te,ne,le,we,Re,Le,Ae,$e,Me,_e,be,We,Xe){var qe,gt=Xe-1>>1,ct=te[ne+0]|le[we+0]<<16,Pt=Re[Le+0]|Ae[$e+0]<<16;e(O!=null);var mt=3*ct+Pt+131074>>2;for(x(O[q+0],255&mt,mt>>16,Me,_e),Y!=null&&(mt=3*Pt+ct+131074>>2,x(Y[X+0],255&mt,mt>>16,be,We)),qe=1;qe<=gt;++qe){var cr=te[ne+qe]|le[we+qe]<<16,mr=Re[Le+qe]|Ae[$e+qe]<<16,sr=ct+cr+Pt+mr+524296,Qt=sr+2*(cr+Pt)>>3;mt=Qt+ct>>1,ct=(sr=sr+2*(ct+mr)>>3)+cr>>1,x(O[q+2*qe-1],255&mt,mt>>16,Me,_e+(2*qe-1)*P),x(O[q+2*qe-0],255&ct,ct>>16,Me,_e+(2*qe-0)*P),Y!=null&&(mt=sr+Pt>>1,ct=Qt+mr>>1,x(Y[X+2*qe-1],255&mt,mt>>16,be,We+(2*qe-1)*P),x(Y[X+2*qe+0],255&ct,ct>>16,be,We+(2*qe+0)*P)),ct=cr,Pt=mr}1&Xe||(mt=3*ct+Pt+131074>>2,x(O[q+Xe-1],255&mt,mt>>16,Me,_e+(Xe-1)*P),Y!=null&&(mt=3*Pt+ct+131074>>2,x(Y[X+Xe-1],255&mt,mt>>16,be,We+(Xe-1)*P)))}}function Je(){$s[Xp]=hL,$s[Qp]=zb,$s[jb]=fL,$s[Jp]=Hb,$s[Zp]=Wb,$s[qv]=qb,$s[Mb]=dL,$s[$v]=zb,$s[Gv]=Hb,$s[em]=Wb,$s[Kv]=qb}function ft(m){return m&-16384?0>m?0:255:m>>pL}function g(m,x){return ft((19077*m>>8)+(26149*x>>8)-14234)}function L(m,x,P){return ft((19077*m>>8)-(6419*x>>8)-(13320*P>>8)+8708)}function B(m,x){return ft((19077*m>>8)+(33050*x>>8)-17685)}function Z(m,x,P,O,q){O[q+0]=g(m,P),O[q+1]=L(m,x,P),O[q+2]=B(m,x)}function Te(m,x,P,O,q){O[q+0]=B(m,x),O[q+1]=L(m,x,P),O[q+2]=g(m,P)}function Fe(m,x,P,O,q){var Y=L(m,x,P);x=Y<<3&224|B(m,x)>>3,O[q+0]=248&g(m,P)|Y>>5,O[q+1]=x}function Ze(m,x,P,O,q){var Y=240&B(m,x)|15;O[q+0]=240&g(m,P)|L(m,x,P)>>4,O[q+1]=Y}function Mt(m,x,P,O,q){O[q+0]=255,Z(m,x,P,O,q+1)}function Xt(m,x,P,O,q){Te(m,x,P,O,q),O[q+3]=255}function Bt(m,x,P,O,q){Z(m,x,P,O,q),O[q+3]=255}function dr(m,x){return 0>m?0:m>x?x:m}function Pr(m,x,P){_[m]=function(O,q,Y,X,te,ne,le,we,Re){for(var Le=we+(-2&Re)*P;we!=Le;)x(O[q+0],Y[X+0],te[ne+0],le,we),x(O[q+1],Y[X+0],te[ne+0],le,we+P),q+=2,++X,++ne,we+=2*P;1&Re&&x(O[q+0],Y[X+0],te[ne+0],le,we)}}function pa(m,x,P){return P==0?m==0?x==0?6:5:x==0?4:0:P}function Jn(m,x,P,O,q){switch(m>>>30){case 3:Eo(x,P,O,q,0);break;case 2:cn(x,P,O,q);break;case 1:Bi(x,P,O,q)}}function Wa(m,x){var P,O,q=x.M,Y=x.Nb,X=m.oc,te=m.pc+40,ne=m.oc,le=m.pc+584,we=m.oc,Re=m.pc+600;for(P=0;16>P;++P)X[te+32*P-1]=129;for(P=0;8>P;++P)ne[le+32*P-1]=129,we[Re+32*P-1]=129;for(0<q?X[te-1-32]=ne[le-1-32]=we[Re-1-32]=129:(i(X,te-32-1,127,21),i(ne,le-32-1,127,9),i(we,Re-32-1,127,9)),O=0;O<m.za;++O){var Le=x.ya[x.aa+O];if(0<O){for(P=-1;16>P;++P)n(X,te+32*P-4,X,te+32*P+12,4);for(P=-1;8>P;++P)n(ne,le+32*P-4,ne,le+32*P+4,4),n(we,Re+32*P-4,we,Re+32*P+4,4)}var Ae=m.Gd,$e=m.Hd+O,Me=Le.ad,_e=Le.Hc;if(0<q&&(n(X,te-32,Ae[$e].y,0,16),n(ne,le-32,Ae[$e].f,0,8),n(we,Re-32,Ae[$e].ea,0,8)),Le.Za){var be=X,We=te-32+16;for(0<q&&(O>=m.za-1?i(be,We,Ae[$e].y[15],4):n(be,We,Ae[$e+1].y,0,4)),P=0;4>P;P++)be[We+128+P]=be[We+256+P]=be[We+384+P]=be[We+0+P];for(P=0;16>P;++P,_e<<=2)be=X,We=te+Gb[P],ma[Le.Ob[P]](be,We),Jn(_e,Me,16*+P,be,We)}else if(be=pa(O,q,Le.Ob[0]),Cl[be](X,te),_e!=0)for(P=0;16>P;++P,_e<<=2)Jn(_e,Me,16*+P,X,te+Gb[P]);for(P=Le.Gc,be=pa(O,q,Le.Dd),No[be](ne,le),No[be](we,Re),_e=Me,be=ne,We=le,255&(Le=P>>0)&&(170&Le?ld(_e,256,be,We):zs(_e,256,be,We)),Le=we,_e=Re,255&(P>>=8)&&(170&P?ld(Me,320,Le,_e):zs(Me,320,Le,_e)),q<m.Ub-1&&(n(Ae[$e].y,0,X,te+480,16),n(Ae[$e].f,0,ne,le+224,8),n(Ae[$e].ea,0,we,Re+224,8)),P=8*Y*m.B,Ae=m.sa,$e=m.ta+16*O+16*Y*m.R,Me=m.qa,Le=m.ra+8*O+P,_e=m.Ha,be=m.Ia+8*O+P,P=0;16>P;++P)n(Ae,$e+P*m.R,X,te+32*P,16);for(P=0;8>P;++P)n(Me,Le+P*m.B,ne,le+32*P,8),n(_e,be+P*m.B,we,Re+32*P,8)}}function qa(m,x,P,O,q,Y,X,te,ne){var le=[0],we=[0],Re=0,Le=ne!=null?ne.kd:0,Ae=ne??new _l;if(m==null||12>P)return 7;Ae.data=m,Ae.w=x,Ae.ha=P,x=[x],P=[P],Ae.gb=[Ae.gb];e:{var $e=x,Me=P,_e=Ae.gb;if(e(m!=null),e(Me!=null),e(_e!=null),_e[0]=0,12<=Me[0]&&!r(m,$e[0],"RIFF")){if(r(m,$e[0]+8,"WEBP")){_e=3;break e}var be=Ue(m,$e[0]+4);if(12>be||4294967286<be){_e=3;break e}if(Le&&be>Me[0]-8){_e=7;break e}_e[0]=be,$e[0]+=12,Me[0]-=12}_e=0}if(_e!=0)return _e;for(be=0<Ae.gb[0],P=P[0];;){e:{var We=m;Me=x,_e=P;var Xe=le,qe=we,gt=$e=[0];if((mt=Re=[Re])[0]=0,8>_e[0])_e=7;else{if(!r(We,Me[0],"VP8X")){if(Ue(We,Me[0]+4)!=10){_e=3;break e}if(18>_e[0]){_e=7;break e}var ct=Ue(We,Me[0]+8),Pt=1+je(We,Me[0]+12);if(2147483648<=Pt*(We=1+je(We,Me[0]+15))){_e=3;break e}gt!=null&&(gt[0]=ct),Xe!=null&&(Xe[0]=Pt),qe!=null&&(qe[0]=We),Me[0]+=18,_e[0]-=18,mt[0]=1}_e=0}}if(Re=Re[0],$e=$e[0],_e!=0)return _e;if(Me=!!(2&$e),!be&&Re)return 3;if(Y!=null&&(Y[0]=!!(16&$e)),X!=null&&(X[0]=Me),te!=null&&(te[0]=0),X=le[0],$e=we[0],Re&&Me&&ne==null){_e=0;break}if(4>P){_e=7;break}if(be&&Re||!be&&!Re&&!r(m,x[0],"ALPH")){P=[P],Ae.na=[Ae.na],Ae.P=[Ae.P],Ae.Sa=[Ae.Sa];e:{ct=m,_e=x,be=P;var mt=Ae.gb;Xe=Ae.na,qe=Ae.P,gt=Ae.Sa,Pt=22,e(ct!=null),e(be!=null),We=_e[0];var cr=be[0];for(e(Xe!=null),e(gt!=null),Xe[0]=null,qe[0]=null,gt[0]=0;;){if(_e[0]=We,be[0]=cr,8>cr){_e=7;break e}var mr=Ue(ct,We+4);if(4294967286<mr){_e=3;break e}var sr=8+mr+1&-2;if(Pt+=sr,0<mt&&Pt>mt){_e=3;break e}if(!r(ct,We,"VP8 ")||!r(ct,We,"VP8L")){_e=0;break e}if(cr[0]<sr){_e=7;break e}r(ct,We,"ALPH")||(Xe[0]=ct,qe[0]=We+8,gt[0]=mr),We+=sr,cr-=sr}}if(P=P[0],Ae.na=Ae.na[0],Ae.P=Ae.P[0],Ae.Sa=Ae.Sa[0],_e!=0)break}P=[P],Ae.Ja=[Ae.Ja],Ae.xa=[Ae.xa];e:if(mt=m,_e=x,be=P,Xe=Ae.gb[0],qe=Ae.Ja,gt=Ae.xa,ct=_e[0],We=!r(mt,ct,"VP8 "),Pt=!r(mt,ct,"VP8L"),e(mt!=null),e(be!=null),e(qe!=null),e(gt!=null),8>be[0])_e=7;else{if(We||Pt){if(mt=Ue(mt,ct+4),12<=Xe&&mt>Xe-12){_e=3;break e}if(Le&&mt>be[0]-8){_e=7;break e}qe[0]=mt,_e[0]+=8,be[0]-=8,gt[0]=Pt}else gt[0]=5<=be[0]&&mt[ct+0]==47&&!(mt[ct+4]>>5),qe[0]=be[0];_e=0}if(P=P[0],Ae.Ja=Ae.Ja[0],Ae.xa=Ae.xa[0],x=x[0],_e!=0)break;if(4294967286<Ae.Ja)return 3;if(te==null||Me||(te[0]=Ae.xa?2:1),X=[X],$e=[$e],Ae.xa){if(5>P){_e=7;break}te=X,Le=$e,Me=Y,m==null||5>P?m=0:5<=P&&m[x+0]==47&&!(m[x+4]>>5)?(be=[0],mt=[0],Xe=[0],J(qe=new I,m,x,P),vt(qe,be,mt,Xe)?(te!=null&&(te[0]=be[0]),Le!=null&&(Le[0]=mt[0]),Me!=null&&(Me[0]=Xe[0]),m=1):m=0):m=0}else{if(10>P){_e=7;break}te=$e,m==null||10>P||!Vu(m,x+3,P-3)?m=0:(Le=m[x+0]|m[x+1]<<8|m[x+2]<<16,Me=16383&(m[x+7]<<8|m[x+6]),m=16383&(m[x+9]<<8|m[x+8]),1&Le||3<(Le>>1&7)||!(Le>>4&1)||Le>>5>=Ae.Ja||!Me||!m?m=0:(X&&(X[0]=Me),te&&(te[0]=m),m=1))}if(!m||(X=X[0],$e=$e[0],Re&&(le[0]!=X||we[0]!=$e)))return 3;ne!=null&&(ne[0]=Ae,ne.offset=x-ne.w,e(4294967286>x-ne.w),e(ne.offset==ne.ha-P));break}return _e==0||_e==7&&Re&&ne==null?(Y!=null&&(Y[0]|=Ae.na!=null&&0<Ae.na.length),O!=null&&(O[0]=X),q!=null&&(q[0]=$e),0):_e}function id(m,x,P){var O=x.width,q=x.height,Y=0,X=0,te=O,ne=q;if(x.Da=m!=null&&0<m.Da,x.Da&&(te=m.cd,ne=m.bd,Y=m.v,X=m.j,11>P||(Y&=-2,X&=-2),0>Y||0>X||0>=te||0>=ne||Y+te>O||X+ne>q))return 0;if(x.v=Y,x.j=X,x.va=Y+te,x.o=X+ne,x.U=te,x.T=ne,x.da=m!=null&&0<m.da,x.da){if(!He(te,ne,P=[m.ib],Y=[m.hb]))return 0;x.ib=P[0],x.hb=Y[0]}return x.ob=m!=null&&m.ob,x.Kb=m==null||!m.Sd,x.da&&(x.ob=x.ib<3*O/4&&x.hb<3*q/4,x.Kb=0),1}function sd(m){if(m==null)return 2;if(11>m.S){var x=m.f.RGBA;x.fb+=(m.height-1)*x.A,x.A=-x.A}else x=m.f.kb,m=m.height,x.O+=(m-1)*x.fa,x.fa=-x.fa,x.N+=(m-1>>1)*x.Ab,x.Ab=-x.Ab,x.W+=(m-1>>1)*x.Db,x.Db=-x.Db,x.F!=null&&(x.J+=(m-1)*x.lb,x.lb=-x.lb);return 0}function lh(m,x,P,O){if(O==null||0>=m||0>=x)return 2;if(P!=null){if(P.Da){var q=P.cd,Y=P.bd,X=-2&P.v,te=-2&P.j;if(0>X||0>te||0>=q||0>=Y||X+q>m||te+Y>x)return 2;m=q,x=Y}if(P.da){if(!He(m,x,q=[P.ib],Y=[P.hb]))return 2;m=q[0],x=Y[0]}}O.width=m,O.height=x;e:{var ne=O.width,le=O.height;if(m=O.S,0>=ne||0>=le||!(m>=Xp&&13>m))m=2;else{if(0>=O.Rd&&O.sd==null){X=Y=q=x=0;var we=(te=ne*Kb[m])*le;if(11>m||(Y=(le+1)/2*(x=(ne+1)/2),m==12&&(X=(q=ne)*le)),(le=s(we+2*Y+X))==null){m=1;break e}O.sd=le,11>m?((ne=O.f.RGBA).eb=le,ne.fb=0,ne.A=te,ne.size=we):((ne=O.f.kb).y=le,ne.O=0,ne.fa=te,ne.Fd=we,ne.f=le,ne.N=0+we,ne.Ab=x,ne.Cd=Y,ne.ea=le,ne.W=0+we+Y,ne.Db=x,ne.Ed=Y,m==12&&(ne.F=le,ne.J=0+we+2*Y),ne.Tc=X,ne.lb=q)}if(x=1,q=O.S,Y=O.width,X=O.height,q>=Xp&&13>q)if(11>q)m=O.f.RGBA,x&=(te=Math.abs(m.A))*(X-1)+Y<=m.size,x&=te>=Y*Kb[q],x&=m.eb!=null;else{m=O.f.kb,te=(Y+1)/2,we=(X+1)/2,ne=Math.abs(m.fa),le=Math.abs(m.Ab);var Re=Math.abs(m.Db),Le=Math.abs(m.lb),Ae=Le*(X-1)+Y;x&=ne*(X-1)+Y<=m.Fd,x&=le*(we-1)+te<=m.Cd,x=(x&=Re*(we-1)+te<=m.Ed)&ne>=Y&le>=te&Re>=te,x&=m.y!=null,x&=m.f!=null,x&=m.ea!=null,q==12&&(x&=Le>=Y,x&=Ae<=m.Tc,x&=m.F!=null)}else x=0;m=x?0:2}}return m!=0||P!=null&&P.fd&&(m=sd(O)),m}var Zn=64,uh=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ch=24,hh=32,ad=8,Zi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];nt("Predictor0","PredictorAdd0"),_.Predictor0=function(){return 4278190080},_.Predictor1=function(m){return m},_.Predictor2=function(m,x,P){return x[P+0]},_.Predictor3=function(m,x,P){return x[P+1]},_.Predictor4=function(m,x,P){return x[P-1]},_.Predictor5=function(m,x,P){return lt(lt(m,x[P+1]),x[P+0])},_.Predictor6=function(m,x,P){return lt(m,x[P-1])},_.Predictor7=function(m,x,P){return lt(m,x[P+0])},_.Predictor8=function(m,x,P){return lt(x[P-1],x[P+0])},_.Predictor9=function(m,x,P){return lt(x[P+0],x[P+1])},_.Predictor10=function(m,x,P){return lt(lt(m,x[P-1]),lt(x[P+0],x[P+1]))},_.Predictor11=function(m,x,P){var O=x[P+0];return 0>=Rt(O>>24&255,m>>24&255,(x=x[P-1])>>24&255)+Rt(O>>16&255,m>>16&255,x>>16&255)+Rt(O>>8&255,m>>8&255,x>>8&255)+Rt(255&O,255&m,255&x)?O:m},_.Predictor12=function(m,x,P){var O=x[P+0];return(_t((m>>24&255)+(O>>24&255)-((x=x[P-1])>>24&255))<<24|_t((m>>16&255)+(O>>16&255)-(x>>16&255))<<16|_t((m>>8&255)+(O>>8&255)-(x>>8&255))<<8|_t((255&m)+(255&O)-(255&x)))>>>0},_.Predictor13=function(m,x,P){var O=x[P-1];return(St((m=lt(m,x[P+0]))>>24&255,O>>24&255)<<24|St(m>>16&255,O>>16&255)<<16|St(m>>8&255,O>>8&255)<<8|St(m>>0&255,O>>0&255))>>>0};var Hv=_.PredictorAdd0;_.PredictorAdd1=Tt,nt("Predictor2","PredictorAdd2"),nt("Predictor3","PredictorAdd3"),nt("Predictor4","PredictorAdd4"),nt("Predictor5","PredictorAdd5"),nt("Predictor6","PredictorAdd6"),nt("Predictor7","PredictorAdd7"),nt("Predictor8","PredictorAdd8"),nt("Predictor9","PredictorAdd9"),nt("Predictor10","PredictorAdd10"),nt("Predictor11","PredictorAdd11"),nt("Predictor12","PredictorAdd12"),nt("Predictor13","PredictorAdd13");var od=_.PredictorAdd2;Ht("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),Ht("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var Wp,Us=_.ColorIndexInverseTransform,fh=_.MapARGB,qp=_.VP8LColorIndexInverseTransformAlpha,$p=_.MapAlpha,El=_.VP8LPredictorsAdd=[];El.length=16,(_.VP8LPredictors=[]).length=16,(_.VP8LPredictorsAdd_C=[]).length=16,(_.VP8LPredictors_C=[]).length=16;var Ju,es,Mi,Al,So,To,dh,Eo,cn,ld,Bi,zs,ph,Gp,ud,Zu,ec,Nl,tc,mh,rc,kl,cd,Hs,Ws,Lr,Fr,hn,In=s(511),Ao=s(2041),hd=s(225),gh=s(767),Kp=0,Wv=Ao,Yp=hd,Ss=gh,qs=In,Xp=0,Qp=1,jb=2,Jp=3,Zp=4,qv=5,Mb=6,$v=7,Gv=8,em=9,Kv=10,QR=[2,3,7],JR=[3,3,11],Bb=[280,256,256,256,40],ZR=[0,1,1,1,0],eL=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],tL=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],rL=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],nL=8,Yv=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Xv=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],fd=null,iL=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],sL=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Vb=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],aL=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],oL=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],lL=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],uL=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Cl=[],ma=[],No=[],cL=1,Ub=2,Pl=[],$s=[];Be("UpsampleRgbLinePair",Z,3),Be("UpsampleBgrLinePair",Te,3),Be("UpsampleRgbaLinePair",Bt,4),Be("UpsampleBgraLinePair",Xt,4),Be("UpsampleArgbLinePair",Mt,4),Be("UpsampleRgba4444LinePair",Ze,2),Be("UpsampleRgb565LinePair",Fe,2);var hL=_.UpsampleRgbLinePair,fL=_.UpsampleBgrLinePair,zb=_.UpsampleRgbaLinePair,Hb=_.UpsampleBgraLinePair,Wb=_.UpsampleArgbLinePair,qb=_.UpsampleRgba4444LinePair,dL=_.UpsampleRgb565LinePair,tm=16,rm=1<<tm-1,dd=-227,Qv=482,pL=6,$b=0,mL=s(256),gL=s(256),vL=s(256),yL=s(256),xL=s(Qv-dd),wL=s(Qv-dd);Pr("YuvToRgbRow",Z,3),Pr("YuvToBgrRow",Te,3),Pr("YuvToRgbaRow",Bt,4),Pr("YuvToBgraRow",Xt,4),Pr("YuvToArgbRow",Mt,4),Pr("YuvToRgba4444Row",Ze,2),Pr("YuvToRgb565Row",Fe,2);var Gb=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],nm=[0,2,8],_L=[8,7,6,4,4,2,2,2,1,1,1,1],bL=1;this.WebPDecodeRGBA=function(m,x,P,O,q){var Y=Qp,X=new _o,te=new Cn;X.ba=te,te.S=Y,te.width=[te.width],te.height=[te.height];var ne=te.width,le=te.height,we=new Fi;if(we==null||m==null)var Re=2;else e(we!=null),Re=qa(m,x,P,we.width,we.height,we.Pd,we.Qd,we.format,null);if(Re!=0?ne=0:(ne!=null&&(ne[0]=we.width[0]),le!=null&&(le[0]=we.height[0]),ne=1),ne){te.width=te.width[0],te.height=te.height[0],O!=null&&(O[0]=te.width),q!=null&&(q[0]=te.height);e:{if(O=new xs,(q=new _l).data=m,q.w=x,q.ha=P,q.kd=1,x=[0],e(q!=null),((m=qa(q.data,q.w,q.ha,null,null,null,x,null,q))==0||m==7)&&x[0]&&(m=4),(x=m)==0){if(e(X!=null),O.data=q.data,O.w=q.w+q.offset,O.ha=q.ha-q.offset,O.put=Bn,O.ac=en,O.bc=Di,O.ma=X,q.xa){if((m=Oe())==null){X=1;break e}if(function(Le,Ae){var $e=[0],Me=[0],_e=[0];t:for(;;){if(Le==null)return 0;if(Ae==null)return Le.a=2,0;if(Le.l=Ae,Le.a=0,J(Le.m,Ae.data,Ae.w,Ae.ha),!vt(Le.m,$e,Me,_e)){Le.a=3;break t}if(Le.xb=Ub,Ae.width=$e[0],Ae.height=Me[0],!Ce($e[0],Me[0],1,Le,null))break t;return 1}return e(Le.a!=0),0}(m,O)){if(O=(x=lh(O.width,O.height,X.Oa,X.ba))==0){t:{O=m;r:for(;;){if(O==null){O=0;break t}if(e(O.s.yc!=null),e(O.s.Ya!=null),e(0<O.s.Wb),e((P=O.l)!=null),e((q=P.ma)!=null),O.xb!=0){if(O.ca=q.ba,O.tb=q.tb,e(O.ca!=null),!id(q.Oa,P,Jp)){O.a=2;break r}if(!Ie(O,P.width)||P.da)break r;if((P.da||Kt(O.ca.S))&&Ee(),11>O.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),O.ca.f.kb.F!=null&&Ee()),O.Pb&&0<O.s.ua&&O.s.vb.X==null&&!ze(O.s.vb,O.s.Wa.Xa)){O.a=1;break r}O.xb=0}if(!fe(O,O.V,O.Ba,O.c,O.i,P.o,he))break r;q.Dc=O.Ma,O=1;break t}e(O.a!=0),O=0}O=!O}O&&(x=m.a)}else x=m.a}else{if((m=new Xn)==null){X=1;break e}if(m.Fa=q.na,m.P=q.P,m.qc=q.Sa,Uu(m,O)){if((x=lh(O.width,O.height,X.Oa,X.ba))==0){if(m.Aa=0,P=X.Oa,e((q=m)!=null),P!=null){if(0<(ne=0>(ne=P.Md)?0:100<ne?255:255*ne/100)){for(le=we=0;4>le;++le)12>(Re=q.pb[le]).lc&&(Re.ia=ne*_L[0>Re.lc?0:Re.lc]>>3),we|=Re.ia;we&&(alert("todo:VP8InitRandom"),q.ia=1)}q.Ga=P.Id,100<q.Ga?q.Ga=100:0>q.Ga&&(q.Ga=0)}th(m,O)||(x=m.a)}}else x=m.a}x==0&&X.Oa!=null&&X.Oa.fd&&(x=sd(X.ba))}X=x}Y=X!=0?null:11>Y?te.f.RGBA.eb:te.f.kb.y}else Y=null;return Y};var Kb=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(_,C){for(var D="",N=0;N<4;N++)D+=String.fromCharCode(_[C++]);return D}function c(_,C){return(_[C+0]<<0|_[C+1]<<8|_[C+2]<<16)>>>0}function h(_,C){return(_[C+0]<<0|_[C+1]<<8|_[C+2]<<16|_[C+3]<<24)>>>0}new l;var d=[0],f=[0],y=[],v=new l,b=t,w=function(_,C){var D={},N=0,E=!1,R=0,H=0;if(D.frames=[],!function(V,U,z,Q){for(var ge=0;ge<Q;ge++)if(V[U+ge]!=z.charCodeAt(ge))return!0;return!1}(_,C,"RIFF",4)){var me,ie;for(h(_,C+=4),C+=8;C<_.length;){var ee=u(_,C),J=h(_,C+=4);C+=4;var re=J+(1&J);switch(ee){case"VP8 ":case"VP8L":D.frames[N]===void 0&&(D.frames[N]={}),(I=D.frames[N]).src_off=E?H:C-8,I.src_size=R+J+8,N++,E&&(E=!1,R=0,H=0);break;case"VP8X":(I=D.header={}).feature_flags=_[C];var de=C+4;I.canvas_width=1+c(_,de),de+=3,I.canvas_height=1+c(_,de),de+=3;break;case"ALPH":E=!0,R=re+8,H=C-8;break;case"ANIM":(I=D.header).bgcolor=h(_,C),de=C+4,I.loop_count=(me=_)[(ie=de)+0]<<0|me[ie+1]<<8,de+=2;break;case"ANMF":var Se,I;(I=D.frames[N]={}).offset_x=2*c(_,C),C+=3,I.offset_y=2*c(_,C),C+=3,I.width=1+c(_,C),C+=3,I.height=1+c(_,C),C+=3,I.duration=c(_,C),C+=3,Se=_[C++],I.dispose=1&Se,I.blend=Se>>1&1}ee!="ANMF"&&(C+=re)}return D}}(b,0);w.response=b,w.rgbaoutput=!0,w.dataurl=!1;var S=w.header?w.header:null,T=w.frames?w.frames:null;if(S){S.loop_counter=S.loop_count,d=[S.canvas_height],f=[S.canvas_width];for(var F=0;F<T.length&&T[F].blend!=0;F++);}var j=T[0],M=v.WebPDecodeRGBA(b,j.src_off,j.src_size,f,d);j.rgba=M,j.imgwidth=f[0],j.imgheight=d[0];for(var A=0;A<f[0]*d[0]*4;A++)y[A]=M[A];return this.width=f,this.height=d,this.data=y,this}(function(t){var e=function(){return typeof Sw=="function"},r=function(d,f,y,v){var b=4,w=a;switch(v){case t.image_compression.FAST:b=1,w=s;break;case t.image_compression.MEDIUM:b=6,w=o;break;case t.image_compression.SLOW:b=9,w=l}d=n(d,f,y,w);var S=Sw(d,{level:b});return t.__addimage__.arrayBufferToBinaryString(S)},n=function(d,f,y,v){for(var b,w,S,T=d.length/f,F=new Uint8Array(d.length+T),j=c(),M=0;M<T;M+=1){if(S=M*f,b=d.subarray(S,S+f),v)F.set(v(b,y,w),S+M);else{for(var A,_=j.length,C=[];A<_;A+=1)C[A]=j[A](b,y,w);var D=h(C.concat());F.set(C[D],S+M)}w=b}return F},i=function(d){var f=Array.apply([],d);return f.unshift(0),f},s=function(d,f){var y,v=[],b=d.length;v[0]=1;for(var w=0;w<b;w+=1)y=d[w-f]||0,v[w+1]=d[w]-y+256&255;return v},a=function(d,f,y){var v,b=[],w=d.length;b[0]=2;for(var S=0;S<w;S+=1)v=y&&y[S]||0,b[S+1]=d[S]-v+256&255;return b},o=function(d,f,y){var v,b,w=[],S=d.length;w[0]=3;for(var T=0;T<S;T+=1)v=d[T-f]||0,b=y&&y[T]||0,w[T+1]=d[T]+256-(v+b>>>1)&255;return w},l=function(d,f,y){var v,b,w,S,T=[],F=d.length;T[0]=4;for(var j=0;j<F;j+=1)v=d[j-f]||0,b=y&&y[j]||0,w=y&&y[j-f]||0,S=u(v,b,w),T[j+1]=d[j]-S+256&255;return T},u=function(d,f,y){if(d===f&&f===y)return d;var v=Math.abs(f-y),b=Math.abs(d-y),w=Math.abs(d+f-y-y);return v<=b&&v<=w?d:b<=w?f:y},c=function(){return[i,s,a,o,l]},h=function(d){var f=d.map(function(y){return y.reduce(function(v,b){return v+Math.abs(b)},0)});return f.indexOf(Math.min.apply(null,f))};t.processPNG=function(d,f,y,v){var b,w,S,T,F,j,M,A,_,C,D,N,E,R,H,me=this.decode.FLATE_DECODE,ie="";if(this.__addimage__.isArrayBuffer(d)&&(d=new Uint8Array(d)),this.__addimage__.isArrayBufferView(d)){if(d=(S=new zK(d)).imgData,w=S.bits,b=S.colorSpace,F=S.colors,[4,6].indexOf(S.colorType)!==-1){if(S.bits===8){_=(A=S.pixelBitlength==32?new Uint32Array(S.decodePixels().buffer):S.pixelBitlength==16?new Uint16Array(S.decodePixels().buffer):new Uint8Array(S.decodePixels().buffer)).length,D=new Uint8Array(_*S.colors),C=new Uint8Array(_);var ee,J=S.pixelBitlength-S.bits;for(R=0,H=0;R<_;R++){for(E=A[R],ee=0;ee<J;)D[H++]=E>>>ee&255,ee+=S.bits;C[R]=E>>>ee&255}}if(S.bits===16){_=(A=new Uint32Array(S.decodePixels().buffer)).length,D=new Uint8Array(_*(32/S.pixelBitlength)*S.colors),C=new Uint8Array(_*(32/S.pixelBitlength)),N=S.colors>1,R=0,H=0;for(var re=0;R<_;)E=A[R++],D[H++]=E>>>0&255,N&&(D[H++]=E>>>16&255,E=A[R++],D[H++]=E>>>0&255),C[re++]=E>>>16&255;w=8}v!==t.image_compression.NONE&&e()?(d=r(D,S.width*S.colors,S.colors,v),M=r(C,S.width,1,v)):(d=D,M=C,me=void 0)}if(S.colorType===3&&(b=this.color_spaces.INDEXED,j=S.palette,S.transparency.indexed)){var de=S.transparency.indexed,Se=0;for(R=0,_=de.length;R<_;++R)Se+=de[R];if((Se/=255)===_-1&&de.indexOf(0)!==-1)T=[de.indexOf(0)];else if(Se!==_){for(A=S.decodePixels(),C=new Uint8Array(A.length),R=0,_=A.length;R<_;R++)C[R]=de[A[R]];M=r(C,S.width,1)}}var I=function(V){var U;switch(V){case t.image_compression.FAST:U=11;break;case t.image_compression.MEDIUM:U=13;break;case t.image_compression.SLOW:U=14;break;default:U=12}return U}(v);return me===this.decode.FLATE_DECODE&&(ie="/Predictor "+I+" "),ie+="/Colors "+F+" /BitsPerComponent "+w+" /Columns "+S.width,(this.__addimage__.isArrayBuffer(d)||this.__addimage__.isArrayBufferView(d))&&(d=this.__addimage__.arrayBufferToBinaryString(d)),(M&&this.__addimage__.isArrayBuffer(M)||this.__addimage__.isArrayBufferView(M))&&(M=this.__addimage__.arrayBufferToBinaryString(M)),{alias:y,data:d,index:f,filter:me,decodeParameters:ie,transparency:T,palette:j,sMask:M,predictor:I,width:S.width,height:S.height,bitsPerComponent:w,colorSpace:b}}}})(At.API),function(t){t.processGIF89A=function(e,r,n,i){var s=new HK(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:a,height:o},c=new my(100).encode(u,100);return t.processJPEG.call(this,c,r,n,i)},t.processGIF87A=t.processGIF89A}(At.API),xa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},xa.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Rr.log("bit decode error:"+r)}},xa.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}r!==0&&(this.pos+=4-r)}},xa.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*i*4,o=s>>4,l=15&s,u=this.palette[o];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},xa.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},xa.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,u=s>>15?255:0,c=n*this.width*4+4*i;this.data[c]=l,this.data[c+1]=o,this.data[c+2]=a,this.data[c+3]=u}this.pos+=t}},xa.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&r)/r*255|0,u=(a>>11)/e*255|0,c=i*this.width*4+4*s;this.data[c]=u,this.data[c+1]=l,this.data[c+2]=o,this.data[c+3]=255}this.pos+=t}},xa.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},xa.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=a}},xa.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var s=new xa(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new my(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)}}(At.API),N3.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var s=new N3(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new my(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)}}(At.API),At.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,u=0;u<i;u+=4){var c=n[u],h=n[u+1],d=n[u+2],f=n[u+3];s[o++]=c,s[o++]=h,s[o++]=d,a[l++]=f}var y=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:y,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},At.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Th=At.API,Wm=Th.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,c=u.fof?u.fof:1,h=e.doKerning!==!1,d=0,f=t.length,y=0,v=o[0]||l,b=[];for(r=0;r<f;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?b.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(d=h&&wr(u[n])==="object"&&!isNaN(parseInt(u[n][y],10))?u[n][y]/c:0,b.push((o[n]||v)/l+d)),y=n;return b},S3=Th.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Th.processArabic&&(t=Th.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:Wm.apply(this,arguments).reduce(function(s,a){return s+a},0)},T3=function(t,e,r,n){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<r;)o+=e[s],s++;i.push(t.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>n&&(i.push(t.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},E3=function(t,e,r){r||(r={});var n,i,s,a,o,l,u,c=[],h=[c],d=r.textIndent||0,f=0,y=0,v=t.split(" "),b=Wm.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?v[0].length+2:r.lineIndent||0){var w=Array(l).join(" "),S=[];v.map(function(F){(F=F.split(/\s*\n/)).length>1?S=S.concat(F.map(function(j,M){return(M&&j.length?`
`:"")+j})):S.push(F[0])}),v=S,l=S3.apply(this,[w,r])}for(s=0,a=v.length;s<a;s++){var T=0;if(n=v[s],l&&n[0]==`
`&&(n=n.substr(1),T=1),d+f+(y=(i=Wm.apply(this,[n,r])).reduce(function(F,j){return F+j},0))>e||T){if(y>e){for(o=T3.apply(this,[n,i,e-(d+f),e]),c.push(o.shift()),c=[o.pop()];o.length;)h.push([o.shift()]);y=i.slice(n.length-(c[0]?c[0].length:0)).reduce(function(F,j){return F+j},0)}else c=[n];h.push(c),d=y+l,f=b}else c.push(n),d+=f+y,f=b}return u=l?function(F,j){return(j?w:"")+F.join(" ")}:function(F){return F.join(" ")},h.map(u)},Th.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var h=this.internal.getFont(c.fontName,c.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var o,l,u=[];for(o=0,l=n.length;o<l;o++)u=u.concat(E3.apply(this,[n[o],a,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},i=0;i<e.length;i++)r[e[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=e[i];var s=function(h){return"0x"+parseInt(h,10).toString(16)},a=t.__fontmetrics__.compress=function(h){var d,f,y,v,b=["{"];for(var w in h){if(d=h[w],isNaN(parseInt(w,10))?f="'"+w+"'":(w=parseInt(w,10),f=(f=s(w).slice(2)).slice(0,-1)+n[f.slice(-1)]),typeof d=="number")d<0?(y=s(d).slice(3),v="-"):(y=s(d).slice(2),v=""),y=v+y.slice(0,-1)+n[y.slice(-1)];else{if(wr(d)!=="object")throw new Error("Don't know what to do with value type "+wr(d)+".");y=a(d)}b.push(f+y)}return b.push("}"),b.join("")},o=t.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var d,f,y,v,b={},w=1,S=b,T=[],F="",j="",M=h.length-1,A=1;A<M;A+=1)(v=h[A])=="'"?d?(y=d.join(""),d=void 0):d=[]:d?d.push(v):v=="{"?(T.push([S,y]),S={},y=void 0):v=="}"?((f=T.pop())[0][f[1]]=S,y=void 0,S=f[0]):v=="-"?w=-1:y===void 0?r.hasOwnProperty(v)?(F+=r[v],y=parseInt(F,16)*w,w=1,F=""):F+=v:r.hasOwnProperty(v)?(j+=r[v],S[y]=parseInt(j,16)*w,w=1,y=void 0,j=""):j+=v;return b},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},c={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(h){var d=h.font,f=c.Unicode[d.postScriptName];f&&(d.metadata.Unicode={},d.metadata.Unicode.widths=f.widths,d.metadata.Unicode.kerning=f.kerning);var y=u.Unicode[d.postScriptName];y&&(d.metadata.Unicode.encoding=y,d.encoding=y.codePages[0])}])}(At.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(c0(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,n)}}])}(At),function(t){function e(){return(Lt.canvg?Promise.resolve(Lt.canvg):yw(()=>import("./index.es-DK6mp1bT.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}At.API.addSvgAsImage=function(r,n,i,s,a,o,l,u){if(isNaN(n)||isNaN(i))throw Rr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw Rr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=s,c.height=a;var h=c.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return e().then(function(y){return y.fromString(h,r,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(d)}).then(function(){f.addImage(c.toDataURL("image/jpeg",1),n,i,s,a,l,u)})}}(),At.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},At.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],u=0,c=0,h=0;function d(y,v){var b,w=!1;for(b=0;b<y.length;b+=1)y[b]===v&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var f=o.length;for(h=0;h<f;h+=1)r[o[h]].value=r[o[h]].defaultValue,r[o[h]].explicitSet=!1}if(wr(t)==="object"){for(i in t)if(s=t[i],d(o,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&d(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(u=0;u<s.length;u+=1)if(n=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(c=0;c<s[u].length;c+=1)typeof s[u][c]!="number"&&(n=!1);n===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,v=[];for(y in r)r[y].explicitSet===!0&&(r[y].type==="name"?v.push("/"+y+" /"+r[y].value):v.push("/"+y+" "+r[y].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(At.API),function(t){var e=t.API,r=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,u=["","0","00","000","0000"],c=[""],h=0,d=s.length;h<d;++h){if(o=a.metadata.characterToGlyph(s.charCodeAt(h)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(h),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return c.join("");o=o.toString(16),c.push(u[4-o.length],o)}return c.join("")},n=function(s){var a,o,l,u,c,h,d;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,d=(o=Object.keys(s).sort(function(f,y){return f-y})).length;h<d;h++)a=o[h],l.length>=100&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(u=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+u+">"));return l.length&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),c+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,c=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var h=o.metadata.Unicode.widths,d=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),f="",y=0;y<d.length;y++)f+=String.fromCharCode(d[y]);var v=u();c({data:f,addLength1:!0,objectId:v}),l("endobj");var b=u();c({data:n(o.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var w=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Lh(o.fontName)),l("/FontFile2 "+v+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var S=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Lh(o.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+t.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+b+" 0 R"),l("/BaseFont /"+Lh(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+S+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,c=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var h=o.metadata.rawData,d="",f=0;f<h.length;f++)d+=String.fromCharCode(h[f]);var y=u();c({data:d,addLength1:!0,objectId:y}),l("endobj");var v=u();c({data:n(o.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var b=u();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+y+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Lh(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=u();for(var w=0;w<o.metadata.hmtx.widths.length;w++)o.metadata.hmtx.widths[w]=parseInt(o.metadata.hmtx.widths[w]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+Lh(o.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,u=s.y,c=s.options||{},h=s.mutex||{},d=h.pdfEscape,f=h.activeFontKey,y=h.fonts,v=f,b="",w=0,S="",T=y[v].encoding;if(y[v].encoding!=="Identity-H")return{text:o,x:l,y:u,options:c,mutex:h};for(S=o,v=f,Array.isArray(o)&&(S=o[0]),w=0;w<S.length;w+=1)y[v].metadata.hasOwnProperty("cmap")&&(a=y[v].metadata.cmap.unicode.codeMap[S[w].charCodeAt(0)]),a||S[w].charCodeAt(0)<256&&y[v].metadata.hasOwnProperty("Unicode")?b+=S[w]:b+="";var F="";return parseInt(v.slice(1))<14||T==="WinAnsiEncoding"?F=d(b,v).split("").map(function(j){return j.charCodeAt(0).toString(16)}).join(""):T==="Identity-H"&&(F=r(b,y[v])),h.isHex=!0,{text:F,x:l,y:u,options:c,mutex:h}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var u=0;for(u=0;u<a.length;u+=1)Array.isArray(a[u])&&a[u].length===3?o.push([i(Object.assign({},l,{text:a[u][0]})).text,a[u][1],a[u][2]]):o.push(i(Object.assign({},l,{text:a[u]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])}(At),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(At.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,s,a,o,l,u,c,h=e,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),S=!1,T=0;this.__bidiEngine__={};var F=function(N){var E=N.charCodeAt(),R=E>>8,H=v[R];return H!==void 0?h[256*H+(255&E)]:R===252||R===253?"AL":w.test(R)?"L":R===8?"R":"N"},j=function(N){for(var E,R=0;R<N.length;R++){if((E=F(N.charAt(R)))==="L")return!1;if(E==="R")return!0}return!1},M=function(N,E,R,H){var me,ie,ee,J,re=E[H];switch(re){case"L":case"R":S=!1;break;case"N":case"AN":break;case"EN":S&&(re="AN");break;case"AL":S=!0,re="R";break;case"WS":re="N";break;case"CS":H<1||H+1>=E.length||(me=R[H-1])!=="EN"&&me!=="AN"||(ie=E[H+1])!=="EN"&&ie!=="AN"?re="N":S&&(ie="AN"),re=ie===me?ie:"N";break;case"ES":re=(me=H>0?R[H-1]:"B")==="EN"&&H+1<E.length&&E[H+1]==="EN"?"EN":"N";break;case"ET":if(H>0&&R[H-1]==="EN"){re="EN";break}if(S){re="N";break}for(ee=H+1,J=E.length;ee<J&&E[ee]==="ET";)ee++;re=ee<J&&E[ee]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(J=E.length,ee=H+1;ee<J&&E[ee]==="NSM";)ee++;if(ee<J){var de=N[H],Se=de>=1425&&de<=2303||de===64286;if(me=E[ee],Se&&(me==="R"||me==="AL")){re="R";break}}}re=H<1||(me=E[H-1])==="B"?"N":R[H-1];break;case"B":S=!1,i=!0,re=T;break;case"S":s=!0,re="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":S=!1;break;case"BN":re="N"}return re},A=function(N,E,R){var H=N.split("");return R&&_(H,R,{hiLevel:T}),H.reverse(),E&&E.reverse(),H.join("")},_=function(N,E,R){var H,me,ie,ee,J,re=-1,de=N.length,Se=0,I=[],V=T?f:d,U=[];for(S=!1,i=!1,s=!1,me=0;me<de;me++)U[me]=F(N[me]);for(ie=0;ie<de;ie++){if(J=Se,I[ie]=M(N,U,I,ie),H=240&(Se=V[J][y[I[ie]]]),Se&=15,E[ie]=ee=V[Se][5],H>0)if(H===16){for(me=re;me<ie;me++)E[me]=1;re=-1}else re=-1;if(V[Se][6])re===-1&&(re=ie);else if(re>-1){for(me=re;me<ie;me++)E[me]=ee;re=-1}U[ie]==="B"&&(E[ie]=0),R.hiLevel|=ee}s&&function(z,Q,ge){for(var G=0;G<ge;G++)if(z[G]==="S"){Q[G]=T;for(var ue=G-1;ue>=0&&z[ue]==="WS";ue--)Q[ue]=T}}(U,E,de)},C=function(N,E,R,H,me){if(!(me.hiLevel<N)){if(N===1&&T===1&&!i)return E.reverse(),void(R&&R.reverse());for(var ie,ee,J,re,de=E.length,Se=0;Se<de;){if(H[Se]>=N){for(J=Se+1;J<de&&H[J]>=N;)J++;for(re=Se,ee=J-1;re<ee;re++,ee--)ie=E[re],E[re]=E[ee],E[ee]=ie,R&&(ie=R[re],R[re]=R[ee],R[ee]=ie);Se=J}Se++}}},D=function(N,E,R){var H=N.split(""),me={hiLevel:T};return R||(R=[]),_(H,R,me),function(ie,ee,J){if(J.hiLevel!==0&&c)for(var re,de=0;de<ie.length;de++)ee[de]===1&&(re=b.indexOf(ie[de]))>=0&&(ie[de]=b[re+1])}(H,R,me),C(2,H,E,R,me),C(1,H,E,R,me),H.join("")};return this.__bidiEngine__.doBidiReorder=function(N,E,R){if(function(me,ie){if(ie)for(var ee=0;ee<me.length;ee++)ie[ee]=ee;o===void 0&&(o=j(me)),u===void 0&&(u=j(me))}(N,E),a||!l||u)if(a&&l&&o^u)T=o?1:0,N=A(N,E,R);else if(!a&&l&&u)T=o?1:0,N=D(N,E,R),N=A(N,E);else if(!a||o||l||u){if(a&&!l&&o^u)N=A(N,E),o?(T=0,N=D(N,E,R)):(T=1,N=D(N,E,R),N=A(N,E));else if(a&&o&&!l&&u)T=1,N=D(N,E,R),N=A(N,E);else if(!a&&!l&&o^u){var H=c;o?(T=1,N=D(N,E,R),T=0,c=!1,N=D(N,E,R),c=H):(T=0,N=D(N,E,R),N=A(N,E),T=1,c=!1,N=D(N,E,R),c=H,N=A(N,E))}}else T=0,N=D(N,E,R);else T=o?1:0,N=D(N,E,R);return N},this.__bidiEngine__.setOptions=function(N){N&&(a=N.isInputVisual,l=N.isOutputVisual,o=N.isInputRtl,u=N.isOutputRtl,c=N.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text,s=(n.x,n.y,n.options||{}),a=(n.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([r.doBidiReorder(i[o])]);n.text=a}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(At),At.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Nu(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new iY(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new WK(this.contents),this.head=new $K(this),this.name=new QK(this),this.cmap=new d8(this),this.toUnicode={},this.hhea=new GK(this),this.maxp=new JK(this),this.hmtx=new ZK(this),this.post=new YK(this),this.os2=new KK(this),this.loca=new nY(this),this.glyf=new eY(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,u;for(u=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return a*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var Ma,Nu=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,s,a,o,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*a+256*o+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)r=e[n],s.push(this.writeByte(r));return s},t}(),WK=function(){var t;function e(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,s,a,o,l,u,c,h,d,f,y,v;for(v in f=Object.keys(r).length,l=Math.log(2),h=16*Math.floor(Math.log(f)/l),a=Math.floor(h/l),c=16*f-h,(i=new Nu).writeInt(this.scalarType),i.writeShort(f),i.writeShort(h),i.writeShort(a),i.writeShort(c),s=16*f,u=i.pos+s,o=null,y=[],r)for(d=r[v],i.writeString(v),i.writeInt(t(d)),i.writeInt(u),i.writeInt(d.length),y=y.concat(d),v==="head"&&(o=u),u+=d.length;u%4;)y.push(0),u++;return i.write(y),n=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(n),i.data},t=function(r){var n,i,s,a;for(r=p8.call(r);r.length%4;)r.push(0);for(s=new Nu(r),i=0,n=0,a=r.length;n<a;n=n+=4)i+=s.readUInt32();return 4294967295&i},e}(),qK={}.hasOwnProperty,mo=function(t,e){for(var r in e)qK.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Ma=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var $K=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mo(e,Ma),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new Nu).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),k3=function(){function t(e,r){var n,i,s,a,o,l,u,c,h,d,f,y,v,b,w,S,T;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),d=f/2,e.pos+=6,s=function(){var F,j;for(j=[],l=F=0;0<=d?F<d:F>d;l=0<=d?++F:--F)j.push(e.readUInt16());return j}(),e.pos+=2,v=function(){var F,j;for(j=[],l=F=0;0<=d?F<d:F>d;l=0<=d?++F:--F)j.push(e.readUInt16());return j}(),u=function(){var F,j;for(j=[],l=F=0;0<=d?F<d:F>d;l=0<=d?++F:--F)j.push(e.readUInt16());return j}(),c=function(){var F,j;for(j=[],l=F=0;0<=d?F<d:F>d;l=0<=d?++F:--F)j.push(e.readUInt16());return j}(),i=(this.length-e.pos+this.offset)/2,o=function(){var F,j;for(j=[],l=F=0;0<=i?F<i:F>i;l=0<=i?++F:--F)j.push(e.readUInt16());return j}(),l=w=0,T=s.length;w<T;l=++w)for(b=s[l],n=S=y=v[l];y<=b?S<=b:S>=b;n=y<=b?++S:--S)c[l]===0?a=n+u[l]:(a=o[c[l]/2+(n-y)-(d-l)]||0)!==0&&(a+=u[l]),this.codeMap[n]=65535&a}e.pos=h}return t.encode=function(e,r){var n,i,s,a,o,l,u,c,h,d,f,y,v,b,w,S,T,F,j,M,A,_,C,D,N,E,R,H,me,ie,ee,J,re,de,Se,I,V,U,z,Q,ge,G,ue,ye,Ne,je;switch(H=new Nu,a=Object.keys(e).sort(function(Ue,ze){return Ue-ze}),r){case"macroman":for(v=0,b=function(){var Ue=[];for(y=0;y<256;++y)Ue.push(0);return Ue}(),S={0:0},s={},me=0,re=a.length;me<re;me++)S[ue=e[i=a[me]]]==null&&(S[ue]=++v),s[i]={old:e[i],new:S[e[i]]},b[i]=S[e[i]];return H.writeUInt16(1),H.writeUInt16(0),H.writeUInt32(12),H.writeUInt16(0),H.writeUInt16(262),H.writeUInt16(0),H.write(b),{charMap:s,subtable:H.data,maxGlyphID:v+1};case"unicode":for(E=[],h=[],T=0,S={},n={},w=u=null,ie=0,de=a.length;ie<de;ie++)S[j=e[i=a[ie]]]==null&&(S[j]=++T),n[i]={old:j,new:S[j]},o=S[j]-i,w!=null&&o===u||(w&&h.push(w),E.push(i),u=o),w=i;for(w&&h.push(w),h.push(65535),E.push(65535),D=2*(C=E.length),_=2*Math.pow(Math.log(C)/Math.LN2,2),d=Math.log(_/2)/Math.LN2,A=2*C-_,l=[],M=[],f=[],y=ee=0,Se=E.length;ee<Se;y=++ee){if(N=E[y],c=h[y],N===65535){l.push(0),M.push(0);break}if(N-(R=n[N].new)>=32768)for(l.push(0),M.push(2*(f.length+C-y)),i=J=N;N<=c?J<=c:J>=c;i=N<=c?++J:--J)f.push(n[i].new);else l.push(R-N),M.push(0)}for(H.writeUInt16(3),H.writeUInt16(1),H.writeUInt32(12),H.writeUInt16(4),H.writeUInt16(16+8*C+2*f.length),H.writeUInt16(0),H.writeUInt16(D),H.writeUInt16(_),H.writeUInt16(d),H.writeUInt16(A),ge=0,I=h.length;ge<I;ge++)i=h[ge],H.writeUInt16(i);for(H.writeUInt16(0),G=0,V=E.length;G<V;G++)i=E[G],H.writeUInt16(i);for(ye=0,U=l.length;ye<U;ye++)o=l[ye],H.writeUInt16(o);for(Ne=0,z=M.length;Ne<z;Ne++)F=M[Ne],H.writeUInt16(F);for(je=0,Q=f.length;je<Q;je++)v=f[je],H.writeUInt16(v);return{charMap:n,subtable:H.data,maxGlyphID:T+1}}},t}(),d8=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mo(e,Ma),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,i,s;for(r.pos=this.offset,this.version=r.readUInt16(),s=r.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)n=new k3(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var i,s;return n==null&&(n="macroman"),i=k3.encode(r,n),(s=new Nu).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),GK=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mo(e,Ma),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),KK=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mo(e,Ma),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(r.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(r.readInt());return i}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(r.readInt());return i}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),YK=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mo(e,Ma),e.prototype.tag="post",e.prototype.parse=function(r){var n,i,s;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var a;for(i=r.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],s=[];r.pos<this.offset+this.length;)n=r.readByte(),s.push(this.names.push(r.readString(n)));return s;case 151552:return i=r.readUInt16(),this.offsets=r.read(i);case 196608:break;case 262144:return this.map=(function(){var o,l,u;for(u=[],a=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;a=0<=l?++o:--o)u.push(r.readUInt32());return u}).call(this)}},e}(),XK=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},QK=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mo(e,Ma),e.prototype.tag="name",e.prototype.parse=function(r){var n,i,s,a,o,l,u,c,h,d,f;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),i=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)i.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(u={},a=h=0,d=i.length;h<d;a=++h)s=i[a],r.pos=s.offset,c=r.readString(s.length),o=new XK(c,s),u[f=s.nameID]==null&&(u[f]=[]),u[s.nameID].push(o);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),JK=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mo(e,Ma),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),ZK=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mo(e,Ma),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,i,s,a,o,l,u;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,h;for(h=[],n=c=0;0<=s?c<s:c>s;n=0<=s?++c:--c)h.push(r.readInt16());return h}(),this.widths=(function(){var c,h,d,f;for(f=[],c=0,h=(d=this.metrics).length;c<h;c++)a=d[c],f.push(a.advance);return f}).call(this),i=this.widths[this.widths.length-1],u=[],n=o=0;0<=s?o<s:o>s;n=0<=s?++o:--o)u.push(this.widths.push(i));return u},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),p8=[].slice,eY=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mo(e,Ma),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,i,s,a,o,l,u,c,h,d;return r in this.cache?this.cache[r]:(a=this.file.loca,n=this.file.contents,i=a.indexOf(r),(s=a.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+i,o=(l=new Nu(n.read(s))).readShort(),c=l.readShort(),d=l.readShort(),u=l.readShort(),h=l.readShort(),this.cache[r]=o===-1?new rY(l,c,d,u,h):new tY(l,o,c,d,u,h),this.cache[r]))},e.prototype.encode=function(r,n,i){var s,a,o,l,u;for(o=[],a=[],l=0,u=n.length;l<u;l++)s=r[n[l]],a.push(o.length),s&&(o=o.concat(s.encode(i)));return a.push(o.length),{table:o,offsets:a}},e}(),tY=function(){function t(e,r,n,i,s,a){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),rY=function(){function t(e,r,n,i,s){var a,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Nu(p8.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),nY=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return mo(e,Ma),e.prototype.tag="loca",e.prototype.parse=function(r){var n,i;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=2)a.push(2*r.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=4)a.push(r.readUInt32());return a}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var i=new Uint32Array(this.offsets.length),s=0,a=0,o=0;o<i.length;++o)if(i[o]=s,a<n.length&&n[a]==o){++a,i[o]=s;var l=this.offsets[o],u=this.offsets[o+1]-l;u>0&&(s+=u)}for(var c=new Array(4*i.length),h=0;h<i.length;++h)c[4*h+3]=255&i[h],c[4*h+2]=(65280&i[h])>>8,c[4*h+1]=(16711680&i[h])>>16,c[4*h]=(4278190080&i[h])>>24;return c},e}(),iY=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in l=this.glyphsFor(r))n=l[s],i[s]=n;return i},t.prototype.encode=function(e,r){var n,i,s,a,o,l,u,c,h,d,f,y,v,b,w;for(i in n=d8.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),f={0:0},w=n.charMap)f[(l=w[i]).old]=l.new;for(y in d=n.maxGlyphID,a)y in f||(f[y]=d++);return c=function(S){var T,F;for(T in F={},S)F[S[T]]=T;return F}(f),h=Object.keys(c).sort(function(S,T){return S-T}),v=function(){var S,T,F;for(F=[],S=0,T=h.length;S<T;S++)o=h[S],F.push(c[o]);return F}(),s=this.font.glyf.encode(a,v,f),u=this.font.loca.encode(s.offsets,v),b={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},t}();At.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,s,a;if(Array.isArray(r))return"["+function(){var o,l,u;for(u=[],o=0,l=r.length;o<l;o++)n=r[o],u.push(e.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)a=r[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+r},e}();const sY=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:OK,AcroFormAppearance:wt,AcroFormButton:Fn,AcroFormCheckBox:d0,AcroFormChoiceField:Sc,AcroFormComboBox:Ec,AcroFormEditBox:h0,AcroFormListBox:Tc,AcroFormPasswordField:p0,AcroFormPushButton:f0,AcroFormRadioButton:Ac,AcroFormTextField:vu,GState:op,ShadingPattern:Xl,TilingPattern:vc,default:At,jsPDF:At},Symbol.toStringTag,{value:"Module"}));var aY={exports:{}};const oY=DL(sY);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(t,e){(function(n,i){t.exports=i(function(){try{return oY}catch{}}())})(typeof globalThis<"u"?globalThis:typeof Hd<"u"?Hd:typeof window<"u"?window:typeof self<"u"?self:Hd,function(r){return function(){var n={172:function(o,l){var u=this&&this.__extends||function(){var d=function(f,y){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,b){v.__proto__=b}||function(v,b){for(var w in b)Object.prototype.hasOwnProperty.call(b,w)&&(v[w]=b[w])},d(f,y)};return function(f,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");d(f,y);function v(){this.constructor=f}f.prototype=y===null?Object.create(y):(v.prototype=y.prototype,new v)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.CellHookData=l.HookData=void 0;var c=function(){function d(f,y,v){this.table=y,this.pageNumber=y.pageNumber,this.pageCount=this.pageNumber,this.settings=y.settings,this.cursor=v,this.doc=f.getDocument()}return d}();l.HookData=c;var h=function(d){u(f,d);function f(y,v,b,w,S,T){var F=d.call(this,y,v,T)||this;return F.cell=b,F.row=w,F.column=S,F.section=w.section,F}return f}(c);l.CellHookData=h},340:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0});var c=u(4),h=u(136),d=u(744),f=u(776),y=u(664),v=u(972);function b(w){w.API.autoTable=function(){for(var S=[],T=0;T<arguments.length;T++)S[T]=arguments[T];var F;S.length===1?F=S[0]:(console.error("Use of deprecated autoTable initiation"),F=S[2]||{},F.columns=S[0],F.body=S[1]);var j=(0,f.parseInput)(this,F),M=(0,v.createTable)(this,j);return(0,y.drawTable)(this,M),this},w.API.lastAutoTable=!1,w.API.previousAutoTable=!1,w.API.autoTable.previous=!1,w.API.autoTableText=function(S,T,F,j){(0,h.default)(S,T,F,j,this)},w.API.autoTableSetDefaults=function(S){return d.DocHandler.setDefaults(S,this),this},w.autoTableSetDefaults=function(S,T){d.DocHandler.setDefaults(S,T)},w.API.autoTableHtmlToJson=function(S,T){var F;if(T===void 0&&(T=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var j=new d.DocHandler(this),M=(0,c.parseHtml)(j,S,window,T,!1),A=M.head,_=M.body,C=((F=A[0])===null||F===void 0?void 0:F.map(function(D){return D.content}))||[];return{columns:C,rows:_,data:_}},w.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var S=this.lastAutoTable;return S&&S.finalY?S.finalY:0},w.API.autoTableAddPageContent=function(S){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),w.API.autoTable.globalDefaults||(w.API.autoTable.globalDefaults={}),w.API.autoTable.globalDefaults.addPageContent=S,this},w.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}l.default=b},136:function(o,l){Object.defineProperty(l,"__esModule",{value:!0});function u(c,h,d,f,y){f=f||{};var v=1.15,b=y.internal.scaleFactor,w=y.internal.getFontSize()/b,S=y.getLineHeightFactor?y.getLineHeightFactor():v,T=w*S,F=/\r\n|\r|\n/g,j="",M=1;if((f.valign==="middle"||f.valign==="bottom"||f.halign==="center"||f.halign==="right")&&(j=typeof c=="string"?c.split(F):c,M=j.length||1),d+=w*(2-v),f.valign==="middle"?d-=M/2*T:f.valign==="bottom"&&(d-=M*T),f.halign==="center"||f.halign==="right"){var A=w;if(f.halign==="center"&&(A*=.5),j&&M>=1){for(var _=0;_<j.length;_++)y.text(j[_],h-y.getStringUnitWidth(j[_])*A,d),d+=T;return y}h-=y.getStringUnitWidth(c)*A}return f.halign==="justify"?y.text(c,h,d,{maxWidth:f.maxWidth||100,align:"justify"}):y.text(c,h,d),y}l.default=u},420:function(o,l){Object.defineProperty(l,"__esModule",{value:!0}),l.getPageAvailableWidth=l.parseSpacing=l.getFillStyle=l.addTableBorder=l.getStringWidth=void 0;function u(y,v,b){b.applyStyles(v,!0);var w=Array.isArray(y)?y:[y],S=w.map(function(T){return b.getTextWidth(T)}).reduce(function(T,F){return Math.max(T,F)},0);return S}l.getStringWidth=u;function c(y,v,b,w){var S=v.settings.tableLineWidth,T=v.settings.tableLineColor;y.applyStyles({lineWidth:S,lineColor:T});var F=h(S,!1);F&&y.rect(b.x,b.y,v.getWidth(y.pageSize().width),w.y-b.y,F)}l.addTableBorder=c;function h(y,v){var b=y>0,w=v||v===0;return b&&w?"DF":b?"S":w?"F":null}l.getFillStyle=h;function d(y,v){var b,w,S,T;if(y=y||v,Array.isArray(y)){if(y.length>=4)return{top:y[0],right:y[1],bottom:y[2],left:y[3]};if(y.length===3)return{top:y[0],right:y[1],bottom:y[2],left:y[1]};if(y.length===2)return{top:y[0],right:y[1],bottom:y[0],left:y[1]};y.length===1?y=y[0]:y=v}return typeof y=="object"?(typeof y.vertical=="number"&&(y.top=y.vertical,y.bottom=y.vertical),typeof y.horizontal=="number"&&(y.right=y.horizontal,y.left=y.horizontal),{left:(b=y.left)!==null&&b!==void 0?b:v,top:(w=y.top)!==null&&w!==void 0?w:v,right:(S=y.right)!==null&&S!==void 0?S:v,bottom:(T=y.bottom)!==null&&T!==void 0?T:v}):(typeof y!="number"&&(y=v),{top:y,right:y,bottom:y,left:y})}l.parseSpacing=d;function f(y,v){var b=d(v.settings.margin,0);return y.pageSize().width-(b.left+b.right)}l.getPageAvailableWidth=f},796:function(o,l){var u=this&&this.__extends||function(){var f=function(y,v){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,w){b.__proto__=w}||function(b,w){for(var S in w)Object.prototype.hasOwnProperty.call(w,S)&&(b[S]=w[S])},f(y,v)};return function(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");f(y,v);function b(){this.constructor=y}y.prototype=v===null?Object.create(v):(b.prototype=v.prototype,new b)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.getTheme=l.defaultStyles=l.HtmlRowInput=void 0;var c=function(f){u(y,f);function y(v){var b=f.call(this)||this;return b._element=v,b}return y}(Array);l.HtmlRowInput=c;function h(f){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/f,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}l.defaultStyles=h;function d(f){var y={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return y[f]}l.getTheme=d},903:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.parseCss=void 0;var c=u(420);function h(b,w,S,T,F){var j={},M=1.3333333333333333,A=f(w,function(re){return F.getComputedStyle(re).backgroundColor});A!=null&&(j.fillColor=A);var _=f(w,function(re){return F.getComputedStyle(re).color});_!=null&&(j.textColor=_);var C=v(T,S);C&&(j.cellPadding=C);var D="borderTopColor",N=M*S,E=T.borderTopWidth;if(T.borderBottomWidth===E&&T.borderRightWidth===E&&T.borderLeftWidth===E){var R=(parseFloat(E)||0)/N;R&&(j.lineWidth=R)}else j.lineWidth={top:(parseFloat(T.borderTopWidth)||0)/N,right:(parseFloat(T.borderRightWidth)||0)/N,bottom:(parseFloat(T.borderBottomWidth)||0)/N,left:(parseFloat(T.borderLeftWidth)||0)/N},j.lineWidth.top||(j.lineWidth.right?D="borderRightColor":j.lineWidth.bottom?D="borderBottomColor":j.lineWidth.left&&(D="borderLeftColor"));var H=f(w,function(re){return F.getComputedStyle(re)[D]});H!=null&&(j.lineColor=H);var me=["left","right","center","justify"];me.indexOf(T.textAlign)!==-1&&(j.halign=T.textAlign),me=["middle","bottom","top"],me.indexOf(T.verticalAlign)!==-1&&(j.valign=T.verticalAlign);var ie=parseInt(T.fontSize||"");isNaN(ie)||(j.fontSize=ie/M);var ee=d(T);ee&&(j.fontStyle=ee);var J=(T.fontFamily||"").toLowerCase();return b.indexOf(J)!==-1&&(j.font=J),j}l.parseCss=h;function d(b){var w="";return(b.fontWeight==="bold"||b.fontWeight==="bolder"||parseInt(b.fontWeight)>=700)&&(w="bold"),(b.fontStyle==="italic"||b.fontStyle==="oblique")&&(w+="italic"),w}function f(b,w){var S=y(b,w);if(!S)return null;var T=S.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!T||!Array.isArray(T))return null;var F=[parseInt(T[1]),parseInt(T[2]),parseInt(T[3])],j=parseInt(T[4]);return j===0||isNaN(F[0])||isNaN(F[1])||isNaN(F[2])?null:F}function y(b,w){var S=w(b);return S==="rgba(0, 0, 0, 0)"||S==="transparent"||S==="initial"||S==="inherit"?b.parentElement==null?null:y(b.parentElement,w):S}function v(b,w){var S=[b.paddingTop,b.paddingRight,b.paddingBottom,b.paddingLeft],T=96/(72/w),F=(parseInt(b.lineHeight)-parseInt(b.fontSize))/w/2,j=S.map(function(A){return parseInt(A||"0")/T}),M=(0,c.parseSpacing)(j,0);return F>M.top&&(M.top=F),F>M.bottom&&(M.bottom=F),M}},744:function(o,l){Object.defineProperty(l,"__esModule",{value:!0}),l.DocHandler=void 0;var u={},c=function(){function h(d){this.jsPDFDocument=d,this.userStyles={textColor:d.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:d.internal.getFontSize(),fontStyle:d.internal.getFont().fontStyle,font:d.internal.getFont().fontName,lineWidth:d.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:d.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return h.setDefaults=function(d,f){f===void 0&&(f=null),f?f.__autoTableDocumentDefaults=d:u=d},h.unifyColor=function(d){return Array.isArray(d)?d:typeof d=="number"?[d,d,d]:typeof d=="string"?[d]:null},h.prototype.applyStyles=function(d,f){var y,v,b;f===void 0&&(f=!1),d.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(d.fontStyle);var w=this.jsPDFDocument.internal.getFont(),S=w.fontStyle,T=w.fontName;if(d.font&&(T=d.font),d.fontStyle){S=d.fontStyle;var F=this.getFontList()[T];F&&F.indexOf(S)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(F[0]),S=F[0])}if(this.jsPDFDocument.setFont(T,S),d.fontSize&&this.jsPDFDocument.setFontSize(d.fontSize),!f){var j=h.unifyColor(d.fillColor);j&&(y=this.jsPDFDocument).setFillColor.apply(y,j),j=h.unifyColor(d.textColor),j&&(v=this.jsPDFDocument).setTextColor.apply(v,j),j=h.unifyColor(d.lineColor),j&&(b=this.jsPDFDocument).setDrawColor.apply(b,j),typeof d.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(d.lineWidth)}},h.prototype.splitTextToSize=function(d,f,y){return this.jsPDFDocument.splitTextToSize(d,f,y)},h.prototype.rect=function(d,f,y,v,b){return this.jsPDFDocument.rect(d,f,y,v,b)},h.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},h.prototype.getTextWidth=function(d){return this.jsPDFDocument.getTextWidth(d)},h.prototype.getDocument=function(){return this.jsPDFDocument},h.prototype.setPage=function(d){this.jsPDFDocument.setPage(d)},h.prototype.addPage=function(){return this.jsPDFDocument.addPage()},h.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},h.prototype.getGlobalOptions=function(){return u||{}},h.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},h.prototype.pageSize=function(){var d=this.jsPDFDocument.internal.pageSize;return d.width==null&&(d={width:d.getWidth(),height:d.getHeight()}),d},h.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},h.prototype.getLineHeightFactor=function(){var d=this.jsPDFDocument;return d.getLineHeightFactor?d.getLineHeightFactor():1.15},h.prototype.getLineHeight=function(d){return d/this.scaleFactor()*this.getLineHeightFactor()},h.prototype.pageNumber=function(){var d=this.jsPDFDocument.internal.getCurrentPageInfo();return d?d.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},h}();l.DocHandler=c},4:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.parseHtml=void 0;var c=u(903),h=u(796);function d(v,b,w,S,T){var F,j;S===void 0&&(S=!1),T===void 0&&(T=!1);var M;typeof b=="string"?M=w.document.querySelector(b):M=b;var A=Object.keys(v.getFontList()),_=v.scaleFactor(),C=[],D=[],N=[];if(!M)return console.error("Html table could not be found with input: ",b),{head:C,body:D,foot:N};for(var E=0;E<M.rows.length;E++){var R=M.rows[E],H=(j=(F=R==null?void 0:R.parentElement)===null||F===void 0?void 0:F.tagName)===null||j===void 0?void 0:j.toLowerCase(),me=f(A,_,w,R,S,T);me&&(H==="thead"?C.push(me):H==="tfoot"?N.push(me):D.push(me))}return{head:C,body:D,foot:N}}l.parseHtml=d;function f(v,b,w,S,T,F){for(var j=new h.HtmlRowInput(S),M=0;M<S.cells.length;M++){var A=S.cells[M],_=w.getComputedStyle(A);if(T||_.display!=="none"){var C=void 0;F&&(C=(0,c.parseCss)(v,A,b,_,w)),j.push({rowSpan:A.rowSpan,colSpan:A.colSpan,styles:C,_element:A,content:y(A)})}}var D=w.getComputedStyle(S);if(j.length>0&&(T||D.display!=="none"))return j}function y(v){var b=v.cloneNode(!0);return b.innerHTML=b.innerHTML.replace(/\n/g,"").replace(/ +/g," "),b.innerHTML=b.innerHTML.split(/<br.*?>/).map(function(w){return w.trim()}).join(`
`),b.innerText||b.textContent||""}},776:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.parseInput=void 0;var c=u(4),h=u(356),d=u(420),f=u(744),y=u(792);function v(M,A){var _=new f.DocHandler(M),C=_.getDocumentOptions(),D=_.getGlobalOptions();(0,y.default)(_,D,C,A);var N=(0,h.assign)({},D,C,A),E;typeof window<"u"&&(E=window);var R=b(D,C,A),H=w(D,C,A),me=S(_,N),ie=F(_,N,E);return{id:A.tableId,content:ie,hooks:H,styles:R,settings:me}}l.parseInput=v;function b(M,A,_){for(var C={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},D=function(H){if(H==="columnStyles"){var me=M[H],ie=A[H],ee=_[H];C.columnStyles=(0,h.assign)({},me,ie,ee)}else{var J=[M,A,_],re=J.map(function(de){return de[H]||{}});C[H]=(0,h.assign)({},re[0],re[1],re[2])}},N=0,E=Object.keys(C);N<E.length;N++){var R=E[N];D(R)}return C}function w(M,A,_){for(var C=[M,A,_],D={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},N=0,E=C;N<E.length;N++){var R=E[N];R.didParseCell&&D.didParseCell.push(R.didParseCell),R.willDrawCell&&D.willDrawCell.push(R.willDrawCell),R.didDrawCell&&D.didDrawCell.push(R.didDrawCell),R.willDrawPage&&D.willDrawPage.push(R.willDrawPage),R.didDrawPage&&D.didDrawPage.push(R.didDrawPage)}return D}function S(M,A){var _,C,D,N,E,R,H,me,ie,ee,J,re,de=(0,d.parseSpacing)(A.margin,40/M.scaleFactor()),Se=(_=T(M,A.startY))!==null&&_!==void 0?_:de.top,I;A.showFoot===!0?I="everyPage":A.showFoot===!1?I="never":I=(C=A.showFoot)!==null&&C!==void 0?C:"everyPage";var V;A.showHead===!0?V="everyPage":A.showHead===!1?V="never":V=(D=A.showHead)!==null&&D!==void 0?D:"everyPage";var U=(N=A.useCss)!==null&&N!==void 0?N:!1,z=A.theme||(U?"plain":"striped"),Q=!!A.horizontalPageBreak,ge=(E=A.horizontalPageBreakRepeat)!==null&&E!==void 0?E:null;return{includeHiddenHtml:(R=A.includeHiddenHtml)!==null&&R!==void 0?R:!1,useCss:U,theme:z,startY:Se,margin:de,pageBreak:(H=A.pageBreak)!==null&&H!==void 0?H:"auto",rowPageBreak:(me=A.rowPageBreak)!==null&&me!==void 0?me:"auto",tableWidth:(ie=A.tableWidth)!==null&&ie!==void 0?ie:"auto",showHead:V,showFoot:I,tableLineWidth:(ee=A.tableLineWidth)!==null&&ee!==void 0?ee:0,tableLineColor:(J=A.tableLineColor)!==null&&J!==void 0?J:200,horizontalPageBreak:Q,horizontalPageBreakRepeat:ge,horizontalPageBreakBehaviour:(re=A.horizontalPageBreakBehaviour)!==null&&re!==void 0?re:"afterAllRows"}}function T(M,A){var _=M.getLastAutoTable(),C=M.scaleFactor(),D=M.pageNumber(),N=!1;if(_&&_.startPageNumber){var E=_.startPageNumber+_.pageNumber-1;N=E===D}return typeof A=="number"?A:(A==null||A===!1)&&N&&(_==null?void 0:_.finalY)!=null?_.finalY+20/C:null}function F(M,A,_){var C=A.head||[],D=A.body||[],N=A.foot||[];if(A.html){var E=A.includeHiddenHtml;if(_){var R=(0,c.parseHtml)(M,A.html,_,E,A.useCss)||{};C=R.head||C,D=R.body||C,N=R.foot||C}else console.error("Cannot parse html in non browser environment")}var H=A.columns||j(C,D,N);return{columns:H,head:C,body:D,foot:N}}function j(M,A,_){var C=M[0]||A[0]||_[0]||[],D=[];return Object.keys(C).filter(function(N){return N!=="_element"}).forEach(function(N){var E=1,R;Array.isArray(C)?R=C[parseInt(N)]:R=C[N],typeof R=="object"&&!Array.isArray(R)&&(E=(R==null?void 0:R.colSpan)||1);for(var H=0;H<E;H++){var me=void 0;Array.isArray(C)?me=D.length:me=N+(H>0?"_".concat(H):"");var ie={dataKey:me};D.push(ie)}}),D}},792:function(o,l){Object.defineProperty(l,"__esModule",{value:!0});function u(h,d,f,y){for(var v=function(T){T&&typeof T!="object"&&console.error("The options parameter should be of type object, is: "+typeof T),typeof T.extendWidth<"u"&&(T.tableWidth=T.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof T.margins<"u"&&(typeof T.margin>"u"&&(T.margin=T.margins),console.error("Use of deprecated option: margins, use margin instead.")),T.startY&&typeof T.startY!="number"&&(console.error("Invalid value for startY option",T.startY),delete T.startY),!T.didDrawPage&&(T.afterPageContent||T.beforePageContent||T.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),T.didDrawPage=function(N){h.applyStyles(h.userStyles),T.beforePageContent&&T.beforePageContent(N),h.applyStyles(h.userStyles),T.afterPageContent&&T.afterPageContent(N),h.applyStyles(h.userStyles),T.afterPageAdd&&N.pageNumber>1&&N.afterPageAdd(N),h.applyStyles(h.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(N){T[N]&&console.error('The "'.concat(N,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(N){var E=N[0],R=N[1];T[R]&&(console.error("Use of deprecated option ".concat(R,". Use ").concat(E," instead")),T[E]=T[R])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(N){var E=typeof N=="string"?N:N[0],R=typeof N=="string"?N:N[1];typeof T[E]<"u"&&(typeof T.styles[R]>"u"&&(T.styles[R]=T[E]),console.error("Use of deprecated option: "+E+", use the style "+R+" instead."))});for(var F=0,j=["styles","bodyStyles","headStyles","footStyles"];F<j.length;F++){var M=j[F];c(T[M]||{})}for(var A=T.columnStyles||{},_=0,C=Object.keys(A);_<C.length;_++){var D=C[_];c(A[D]||{})}},b=0,w=[d,f,y];b<w.length;b++){var S=w[b];v(S)}}l.default=u;function c(h){h.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),h.minCellHeight||(h.minCellHeight=h.rowHeight)):h.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),h.cellWidth||(h.cellWidth=h.columnWidth))}},260:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.Column=l.Cell=l.Row=l.Table=void 0;var c=u(796),h=u(172),d=u(420),f=function(){function w(S,T){this.pageNumber=1,this.pageCount=1,this.id=S.id,this.settings=S.settings,this.styles=S.styles,this.hooks=S.hooks,this.columns=T.columns,this.head=T.head,this.body=T.body,this.foot=T.foot}return w.prototype.getHeadHeight=function(S){return this.head.reduce(function(T,F){return T+F.getMaxCellHeight(S)},0)},w.prototype.getFootHeight=function(S){return this.foot.reduce(function(T,F){return T+F.getMaxCellHeight(S)},0)},w.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},w.prototype.callCellHooks=function(S,T,F,j,M,A){for(var _=0,C=T;_<C.length;_++){var D=C[_],N=new h.CellHookData(S,this,F,j,M,A),E=D(N)===!1;if(F.text=Array.isArray(F.text)?F.text:[F.text],E)return!1}return!0},w.prototype.callEndPageHooks=function(S,T){S.applyStyles(S.userStyles);for(var F=0,j=this.hooks.didDrawPage;F<j.length;F++){var M=j[F];M(new h.HookData(S,this,T))}},w.prototype.callWillDrawPageHooks=function(S,T){for(var F=0,j=this.hooks.willDrawPage;F<j.length;F++){var M=j[F];M(new h.HookData(S,this,T))}},w.prototype.getWidth=function(S){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var T=this.columns.reduce(function(j,M){return j+M.wrappedWidth},0);return T}else{var F=this.settings.margin;return S-F.left-F.right}},w}();l.Table=f;var y=function(){function w(S,T,F,j,M){M===void 0&&(M=!1),this.height=0,this.raw=S,S instanceof c.HtmlRowInput&&(this.raw=S._element,this.element=S._element),this.index=T,this.section=F,this.cells=j,this.spansMultiplePages=M}return w.prototype.getMaxCellHeight=function(S){var T=this;return S.reduce(function(F,j){var M;return Math.max(F,((M=T.cells[j.index])===null||M===void 0?void 0:M.height)||0)},0)},w.prototype.hasRowSpan=function(S){var T=this;return S.filter(function(F){var j=T.cells[F.index];return j?j.rowSpan>1:!1}).length>0},w.prototype.canEntireRowFit=function(S,T){return this.getMaxCellHeight(T)<=S},w.prototype.getMinimumRowHeight=function(S,T){var F=this;return S.reduce(function(j,M){var A=F.cells[M.index];if(!A)return 0;var _=T.getLineHeight(A.styles.fontSize),C=A.padding("vertical"),D=C+_;return D>j?D:j},0)},w}();l.Row=y;var v=function(){function w(S,T,F){var j,M;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=T,this.section=F,this.raw=S;var A=S;S!=null&&typeof S=="object"&&!Array.isArray(S)?(this.rowSpan=S.rowSpan||1,this.colSpan=S.colSpan||1,A=(M=(j=S.content)!==null&&j!==void 0?j:S.title)!==null&&M!==void 0?M:S,S._element&&(this.raw=S._element)):(this.rowSpan=1,this.colSpan=1);var _=A!=null?""+A:"",C=/\r\n|\r|\n/g;this.text=_.split(C)}return w.prototype.getTextPos=function(){var S;if(this.styles.valign==="top")S=this.y+this.padding("top");else if(this.styles.valign==="bottom")S=this.y+this.height-this.padding("bottom");else{var T=this.height-this.padding("vertical");S=this.y+T/2+this.padding("top")}var F;if(this.styles.halign==="right")F=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var j=this.width-this.padding("horizontal");F=this.x+j/2+this.padding("left")}else F=this.x+this.padding("left");return{x:F,y:S}},w.prototype.getContentHeight=function(S,T){T===void 0&&(T=1.15);var F=Array.isArray(this.text)?this.text.length:1,j=this.styles.fontSize/S*T,M=F*j+this.padding("vertical");return Math.max(M,this.styles.minCellHeight)},w.prototype.padding=function(S){var T=(0,d.parseSpacing)(this.styles.cellPadding,0);return S==="vertical"?T.top+T.bottom:S==="horizontal"?T.left+T.right:T[S]},w}();l.Cell=v;var b=function(){function w(S,T,F){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=S,this.raw=T,this.index=F}return w.prototype.getMaxCustomCellWidth=function(S){for(var T=0,F=0,j=S.allRows();F<j.length;F++){var M=j[F],A=M.cells[this.index];A&&typeof A.styles.cellWidth=="number"&&(T=Math.max(T,A.styles.cellWidth))}return T},w}();l.Column=b},356:function(o,l){Object.defineProperty(l,"__esModule",{value:!0}),l.assign=void 0;function u(c,h,d,f,y){if(c==null)throw new TypeError("Cannot convert undefined or null to object");for(var v=Object(c),b=1;b<arguments.length;b++){var w=arguments[b];if(w!=null)for(var S in w)Object.prototype.hasOwnProperty.call(w,S)&&(v[S]=w[S])}return v}l.assign=u},972:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.createTable=void 0;var c=u(744),h=u(260),d=u(324),f=u(796),y=u(356);function v(M,A){var _=new c.DocHandler(M),C=b(A,_.scaleFactor()),D=new h.Table(A,C);return(0,d.calculateWidths)(_,D),_.applyStyles(_.userStyles),D}l.createTable=v;function b(M,A){var _=M.content,C=F(_.columns);if(_.head.length===0){var D=S(C,"head");D&&_.head.push(D)}if(_.foot.length===0){var D=S(C,"foot");D&&_.foot.push(D)}var N=M.settings.theme,E=M.styles;return{columns:C,head:w("head",_.head,C,E,N,A),body:w("body",_.body,C,E,N,A),foot:w("foot",_.foot,C,E,N,A)}}function w(M,A,_,C,D,N){var E={},R=A.map(function(H,me){for(var ie=0,ee={},J=0,re=0,de=0,Se=_;de<Se.length;de++){var I=Se[de];if(E[I.index]==null||E[I.index].left===0)if(re===0){var V=void 0;Array.isArray(H)?V=H[I.index-J-ie]:V=H[I.dataKey];var U={};typeof V=="object"&&!Array.isArray(V)&&(U=(V==null?void 0:V.styles)||{});var z=j(M,I,me,D,C,N,U),Q=new h.Cell(V,z,M);ee[I.dataKey]=Q,ee[I.index]=Q,re=Q.colSpan-1,E[I.index]={left:Q.rowSpan-1,times:re}}else re--,J++;else E[I.index].left--,re=E[I.index].times,ie++}return new h.Row(H,me,M,ee)});return R}function S(M,A){var _={};return M.forEach(function(C){if(C.raw!=null){var D=T(A,C.raw);D!=null&&(_[C.dataKey]=D)}}),Object.keys(_).length>0?_:null}function T(M,A){if(M==="head"){if(typeof A=="object")return A.header||A.title||null;if(typeof A=="string"||typeof A=="number")return A}else if(M==="foot"&&typeof A=="object")return A.footer;return null}function F(M){return M.map(function(A,_){var C,D,N;return typeof A=="object"?N=(D=(C=A.dataKey)!==null&&C!==void 0?C:A.key)!==null&&D!==void 0?D:_:N=_,new h.Column(N,A,_)})}function j(M,A,_,C,D,N,E){var R=(0,f.getTheme)(C),H;M==="head"?H=D.headStyles:M==="body"?H=D.bodyStyles:M==="foot"&&(H=D.footStyles);var me=(0,y.assign)({},R.table,R[M],D.styles,H),ie=D.columnStyles[A.dataKey]||D.columnStyles[A.index]||{},ee=M==="body"?ie:{},J=M==="body"&&_%2===0?(0,y.assign)({},R.alternateRow,D.alternateRowStyles):{},re=(0,f.defaultStyles)(N),de=(0,y.assign)({},re,me,J,ee);return(0,y.assign)(de,E)}},664:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.addPage=l.drawTable=void 0;var c=u(420),h=u(260),d=u(744),f=u(356),y=u(136),v=u(224);function b(ie,ee){var J=ee.settings,re=J.startY,de=J.margin,Se={x:de.left,y:re},I=ee.getHeadHeight(ee.columns)+ee.getFootHeight(ee.columns),V=re+de.bottom+I;if(J.pageBreak==="avoid"){var U=ee.body,z=U.reduce(function(G,ue){return G+ue.height},0);V+=z}var Q=new d.DocHandler(ie);(J.pageBreak==="always"||J.startY!=null&&V>Q.pageSize().height)&&(me(Q),Se.y=de.top),ee.callWillDrawPageHooks(Q,Se);var ge=(0,f.assign)({},Se);ee.startPageNumber=Q.pageNumber(),J.horizontalPageBreak?w(Q,ee,ge,Se):(Q.applyStyles(Q.userStyles),(J.showHead==="firstPage"||J.showHead==="everyPage")&&ee.head.forEach(function(G){return D(Q,ee,G,Se,ee.columns)}),Q.applyStyles(Q.userStyles),ee.body.forEach(function(G,ue){var ye=ue===ee.body.length-1;C(Q,ee,G,ye,ge,Se,ee.columns)}),Q.applyStyles(Q.userStyles),(J.showFoot==="lastPage"||J.showFoot==="everyPage")&&ee.foot.forEach(function(G){return D(Q,ee,G,Se,ee.columns)})),(0,c.addTableBorder)(Q,ee,ge,Se),ee.callEndPageHooks(Q,Se),ee.finalY=Se.y,ie.lastAutoTable=ee,ie.previousAutoTable=ee,ie.autoTable&&(ie.autoTable.previous=ee),Q.applyStyles(Q.userStyles)}l.drawTable=b;function w(ie,ee,J,re){var de=(0,v.calculateAllColumnsCanFitInPage)(ie,ee),Se=ee.settings;if(Se.horizontalPageBreakBehaviour==="afterAllRows")de.forEach(function(z,Q){ie.applyStyles(ie.userStyles),Q>0?H(ie,ee,J,re,z.columns,!0):S(ie,ee,re,z.columns),T(ie,ee,J,re,z.columns),j(ie,ee,re,z.columns)});else for(var I=-1,V=de[0],U=function(){var z=I;if(V){ie.applyStyles(ie.userStyles);var Q=V.columns;I>=0?H(ie,ee,J,re,Q,!0):S(ie,ee,re,Q),z=F(ie,ee,I+1,re,Q),j(ie,ee,re,Q)}var ge=z-I;de.slice(1).forEach(function(G){ie.applyStyles(ie.userStyles),H(ie,ee,J,re,G.columns,!0),F(ie,ee,I+1,re,G.columns,ge),j(ie,ee,re,G.columns)}),I=z};I<ee.body.length-1;)U()}function S(ie,ee,J,re){var de=ee.settings;ie.applyStyles(ie.userStyles),(de.showHead==="firstPage"||de.showHead==="everyPage")&&ee.head.forEach(function(Se){return D(ie,ee,Se,J,re)})}function T(ie,ee,J,re,de){ie.applyStyles(ie.userStyles),ee.body.forEach(function(Se,I){var V=I===ee.body.length-1;C(ie,ee,Se,V,J,re,de)})}function F(ie,ee,J,re,de,Se){ie.applyStyles(ie.userStyles),Se=Se??ee.body.length;var I=Math.min(J+Se,ee.body.length),V=-1;return ee.body.slice(J,I).forEach(function(U,z){var Q=J+z===ee.body.length-1,ge=R(ie,ee,Q,re);U.canEntireRowFit(ge,de)&&(D(ie,ee,U,re,de),V=J+z)}),V}function j(ie,ee,J,re){var de=ee.settings;ie.applyStyles(ie.userStyles),(de.showFoot==="lastPage"||de.showFoot==="everyPage")&&ee.foot.forEach(function(Se){return D(ie,ee,Se,J,re)})}function M(ie,ee,J){var re=J.getLineHeight(ie.styles.fontSize),de=ie.padding("vertical"),Se=Math.floor((ee-de)/re);return Math.max(0,Se)}function A(ie,ee,J,re){var de={};ie.spansMultiplePages=!0,ie.height=0;for(var Se=0,I=0,V=J.columns;I<V.length;I++){var U=V[I],z=ie.cells[U.index];if(z){Array.isArray(z.text)||(z.text=[z.text]);var Q=new h.Cell(z.raw,z.styles,z.section);Q=(0,f.assign)(Q,z),Q.text=[];var ge=M(z,ee,re);z.text.length>ge&&(Q.text=z.text.splice(ge,z.text.length));var G=re.scaleFactor(),ue=re.getLineHeightFactor();z.contentHeight=z.getContentHeight(G,ue),z.contentHeight>=ee&&(z.contentHeight=ee,Q.styles.minCellHeight-=ee),z.contentHeight>ie.height&&(ie.height=z.contentHeight),Q.contentHeight=Q.getContentHeight(G,ue),Q.contentHeight>Se&&(Se=Q.contentHeight),de[U.index]=Q}}var ye=new h.Row(ie.raw,-1,ie.section,de,!0);ye.height=Se;for(var Ne=0,je=J.columns;Ne<je.length;Ne++){var U=je[Ne],Q=ye.cells[U.index];Q&&(Q.height=ye.height);var z=ie.cells[U.index];z&&(z.height=ie.height)}return ye}function _(ie,ee,J,re){var de=ie.pageSize().height,Se=re.settings.margin,I=Se.top+Se.bottom,V=de-I;ee.section==="body"&&(V-=re.getHeadHeight(re.columns)+re.getFootHeight(re.columns));var U=ee.getMinimumRowHeight(re.columns,ie),z=U<J;if(U>V)return console.error("Will not be able to print row ".concat(ee.index," correctly since it's minimum height is larger than page height")),!0;if(!z)return!1;var Q=ee.hasRowSpan(re.columns),ge=ee.getMaxCellHeight(re.columns)>V;return ge?(Q&&console.error("The content of row ".concat(ee.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(Q||re.settings.rowPageBreak==="avoid")}function C(ie,ee,J,re,de,Se,I){var V=R(ie,ee,re,Se);if(J.canEntireRowFit(V,I))D(ie,ee,J,Se,I);else if(_(ie,J,V,ee)){var U=A(J,V,ee,ie);D(ie,ee,J,Se,I),H(ie,ee,de,Se,I),C(ie,ee,U,re,de,Se,I)}else H(ie,ee,de,Se,I),C(ie,ee,J,re,de,Se,I)}function D(ie,ee,J,re,de){re.x=ee.settings.margin.left;for(var Se=0,I=de;Se<I.length;Se++){var V=I[Se],U=J.cells[V.index];if(!U){re.x+=V.width;continue}ie.applyStyles(U.styles),U.x=re.x,U.y=re.y;var z=ee.callCellHooks(ie,ee.hooks.willDrawCell,U,J,V,re);if(z===!1){re.x+=V.width;continue}N(ie,U,re);var Q=U.getTextPos();(0,y.default)(U.text,Q.x,Q.y,{halign:U.styles.halign,valign:U.styles.valign,maxWidth:Math.ceil(U.width-U.padding("left")-U.padding("right"))},ie.getDocument()),ee.callCellHooks(ie,ee.hooks.didDrawCell,U,J,V,re),re.x+=V.width}re.y+=J.height}function N(ie,ee,J){var re=ee.styles;if(ie.getDocument().setFillColor(ie.getDocument().getFillColor()),typeof re.lineWidth=="number"){var de=(0,c.getFillStyle)(re.lineWidth,re.fillColor);de&&ie.rect(ee.x,J.y,ee.width,ee.height,de)}else typeof re.lineWidth=="object"&&(re.fillColor&&ie.rect(ee.x,J.y,ee.width,ee.height,"F"),E(ie,ee,J,re.lineWidth))}function E(ie,ee,J,re){var de,Se,I,V;re.top&&(de=J.x,Se=J.y,I=J.x+ee.width,V=J.y,re.right&&(I+=.5*re.right),re.left&&(de-=.5*re.left),U(re.top,de,Se,I,V)),re.bottom&&(de=J.x,Se=J.y+ee.height,I=J.x+ee.width,V=J.y+ee.height,re.right&&(I+=.5*re.right),re.left&&(de-=.5*re.left),U(re.bottom,de,Se,I,V)),re.left&&(de=J.x,Se=J.y,I=J.x,V=J.y+ee.height,re.top&&(Se-=.5*re.top),re.bottom&&(V+=.5*re.bottom),U(re.left,de,Se,I,V)),re.right&&(de=J.x+ee.width,Se=J.y,I=J.x+ee.width,V=J.y+ee.height,re.top&&(Se-=.5*re.top),re.bottom&&(V+=.5*re.bottom),U(re.right,de,Se,I,V));function U(z,Q,ge,G,ue){ie.getDocument().setLineWidth(z),ie.getDocument().line(Q,ge,G,ue,"S")}}function R(ie,ee,J,re){var de=ee.settings.margin.bottom,Se=ee.settings.showFoot;return(Se==="everyPage"||Se==="lastPage"&&J)&&(de+=ee.getFootHeight(ee.columns)),ie.pageSize().height-re.y-de}function H(ie,ee,J,re,de,Se){de===void 0&&(de=[]),Se===void 0&&(Se=!1),ie.applyStyles(ie.userStyles),ee.settings.showFoot==="everyPage"&&!Se&&ee.foot.forEach(function(V){return D(ie,ee,V,re,de)}),ee.callEndPageHooks(ie,re);var I=ee.settings.margin;(0,c.addTableBorder)(ie,ee,J,re),me(ie),ee.pageNumber++,ee.pageCount++,re.x=I.left,re.y=I.top,J.y=I.top,ee.callWillDrawPageHooks(ie,re),ee.settings.showHead==="everyPage"&&(ee.head.forEach(function(V){return D(ie,ee,V,re,de)}),ie.applyStyles(ie.userStyles))}l.addPage=H;function me(ie){var ee=ie.pageNumber();ie.setPage(ee+1);var J=ie.pageNumber();return J===ee?(ie.addPage(),!0):!1}},224:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.calculateAllColumnsCanFitInPage=void 0;var c=u(420);function h(f,y,v){var b;v===void 0&&(v={});var w=(0,c.getPageAvailableWidth)(f,y),S=new Map,T=[],F=[],j=[];y.settings.horizontalPageBreakRepeat,Array.isArray(y.settings.horizontalPageBreakRepeat)?j=y.settings.horizontalPageBreakRepeat:(typeof y.settings.horizontalPageBreakRepeat=="string"||typeof y.settings.horizontalPageBreakRepeat=="number")&&(j=[y.settings.horizontalPageBreakRepeat]),j.forEach(function(C){var D=y.columns.find(function(N){return N.dataKey===C||N.index===C});D&&!S.has(D.index)&&(S.set(D.index,!0),T.push(D.index),F.push(y.columns[D.index]),w-=D.wrappedWidth)});for(var M=!0,A=(b=v==null?void 0:v.start)!==null&&b!==void 0?b:0;A<y.columns.length;){if(S.has(A)){A++;continue}var _=y.columns[A].wrappedWidth;if(M||w>=_)M=!1,T.push(A),F.push(y.columns[A]),w-=_;else break;A++}return{colIndexes:T,columns:F,lastIndex:A-1}}function d(f,y){for(var v=[],b=0;b<y.columns.length;b++){var w=h(f,y,{start:b});w.columns.length&&(v.push(w),b=w.lastIndex)}return v}l.calculateAllColumnsCanFitInPage=d},324:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.ellipsize=l.resizeColumns=l.calculateWidths=void 0;var c=u(420);function h(T,F){d(T,F);var j=[],M=0;F.columns.forEach(function(_){var C=_.getMaxCustomCellWidth(F);C?_.width=C:(_.width=_.wrappedWidth,j.push(_)),M+=_.width});var A=F.getWidth(T.pageSize().width)-M;A&&(A=f(j,A,function(_){return Math.max(_.minReadableWidth,_.minWidth)})),A&&(A=f(j,A,function(_){return _.minWidth})),A=Math.abs(A),!F.settings.horizontalPageBreak&&A>.1/T.scaleFactor()&&(A=A<1?A:Math.round(A),console.warn("Of the table content, ".concat(A," units width could not fit page"))),v(F),b(F,T),y(F)}l.calculateWidths=h;function d(T,F){var j=T.scaleFactor(),M=F.settings.horizontalPageBreak,A=(0,c.getPageAvailableWidth)(T,F);F.allRows().forEach(function(_){for(var C=0,D=F.columns;C<D.length;C++){var N=D[C],E=_.cells[N.index];if(E){var R=F.hooks.didParseCell;F.callCellHooks(T,R,E,_,N,null);var H=E.padding("horizontal");E.contentWidth=(0,c.getStringWidth)(E.text,E.styles,T)+H;var me=(0,c.getStringWidth)(E.text.join(" ").split(/[^\S\u00A0]+/),E.styles,T);if(E.minReadableWidth=me+E.padding("horizontal"),typeof E.styles.cellWidth=="number")E.minWidth=E.styles.cellWidth,E.wrappedWidth=E.styles.cellWidth;else if(E.styles.cellWidth==="wrap"||M===!0)E.contentWidth>A?(E.minWidth=A,E.wrappedWidth=A):(E.minWidth=E.contentWidth,E.wrappedWidth=E.contentWidth);else{var ie=10/j;E.minWidth=E.styles.minCellWidth||ie,E.wrappedWidth=E.contentWidth,E.minWidth>E.wrappedWidth&&(E.wrappedWidth=E.minWidth)}}}}),F.allRows().forEach(function(_){for(var C=0,D=F.columns;C<D.length;C++){var N=D[C],E=_.cells[N.index];if(E&&E.colSpan===1)N.wrappedWidth=Math.max(N.wrappedWidth,E.wrappedWidth),N.minWidth=Math.max(N.minWidth,E.minWidth),N.minReadableWidth=Math.max(N.minReadableWidth,E.minReadableWidth);else{var R=F.styles.columnStyles[N.dataKey]||F.styles.columnStyles[N.index]||{},H=R.cellWidth||R.minCellWidth;H&&typeof H=="number"&&(N.minWidth=H,N.wrappedWidth=H)}E&&(E.colSpan>1&&!N.minWidth&&(N.minWidth=E.minWidth),E.colSpan>1&&!N.wrappedWidth&&(N.wrappedWidth=E.minWidth))}})}function f(T,F,j){for(var M=F,A=T.reduce(function(ie,ee){return ie+ee.wrappedWidth},0),_=0;_<T.length;_++){var C=T[_],D=C.wrappedWidth/A,N=M*D,E=C.width+N,R=j(C),H=E<R?R:E;F-=H-C.width,C.width=H}if(F=Math.round(F*1e10)/1e10,F){var me=T.filter(function(ie){return F<0?ie.width>j(ie):!0});me.length&&(F=f(me,F,j))}return F}l.resizeColumns=f;function y(T){for(var F={},j=1,M=T.allRows(),A=0;A<M.length;A++)for(var _=M[A],C=0,D=T.columns;C<D.length;C++){var N=D[C],E=F[N.index];if(j>1)j--,delete _.cells[N.index];else if(E)E.cell.height+=_.height,j=E.cell.colSpan,delete _.cells[N.index],E.left--,E.left<=1&&delete F[N.index];else{var R=_.cells[N.index];if(!R)continue;if(R.height=_.height,R.rowSpan>1){var H=M.length-A,me=R.rowSpan>H?H:R.rowSpan;F[N.index]={cell:R,left:me,row:_}}}}}function v(T){for(var F=T.allRows(),j=0;j<F.length;j++)for(var M=F[j],A=null,_=0,C=0,D=0;D<T.columns.length;D++){var N=T.columns[D];if(C-=1,C>1&&T.columns[D+1])_+=N.width,delete M.cells[N.index];else if(A){var E=A;delete M.cells[N.index],A=null,E.width=N.width+_}else{var E=M.cells[N.index];if(!E)continue;if(C=E.colSpan,_=0,E.colSpan>1){A=E,_+=N.width;continue}E.width=N.width+_}}}function b(T,F){for(var j={count:0,height:0},M=0,A=T.allRows();M<A.length;M++){for(var _=A[M],C=0,D=T.columns;C<D.length;C++){var N=D[C],E=_.cells[N.index];if(E){F.applyStyles(E.styles,!0);var R=E.width-E.padding("horizontal");if(E.styles.overflow==="linebreak")E.text=F.splitTextToSize(E.text,R+1/F.scaleFactor(),{fontSize:E.styles.fontSize});else if(E.styles.overflow==="ellipsize")E.text=w(E.text,R,E.styles,F,"...");else if(E.styles.overflow==="hidden")E.text=w(E.text,R,E.styles,F,"");else if(typeof E.styles.overflow=="function"){var H=E.styles.overflow(E.text,R);typeof H=="string"?E.text=[H]:E.text=H}E.contentHeight=E.getContentHeight(F.scaleFactor(),F.getLineHeightFactor());var me=E.contentHeight/E.rowSpan;E.rowSpan>1&&j.count*j.height<me*E.rowSpan?j={height:me,count:E.rowSpan}:j&&j.count>0&&j.height>me&&(me=j.height),me>_.height&&(_.height=me)}}j.count--}}function w(T,F,j,M,A){return T.map(function(_){return S(_,F,j,M,A)})}l.ellipsize=w;function S(T,F,j,M,A){var _=1e4*M.scaleFactor();if(F=Math.ceil(F*_)/_,F>=(0,c.getStringWidth)(T,j,M))return T;for(;F<(0,c.getStringWidth)(T+A,j,M)&&!(T.length<=1);)T=T.substring(0,T.length-1);return T.trim()+A}},964:function(o){if(typeof r>"u"){var l=new Error("Cannot find module 'undefined'");throw l.code="MODULE_NOT_FOUND",l}o.exports=r}},i={};function s(o){var l=i[o];if(l!==void 0)return l.exports;var u=i[o]={exports:{}};return n[o].call(u.exports,u,u.exports,s),u.exports}var a={};return function(){var o=a;Object.defineProperty(o,"__esModule",{value:!0}),o.Cell=o.Column=o.Row=o.Table=o.CellHookData=o.__drawTable=o.__createTable=o.applyPlugin=void 0;var l=s(340),u=s(776),c=s(664),h=s(972),d=s(260);Object.defineProperty(o,"Table",{enumerable:!0,get:function(){return d.Table}});var f=s(172);Object.defineProperty(o,"CellHookData",{enumerable:!0,get:function(){return f.CellHookData}});var y=s(260);Object.defineProperty(o,"Cell",{enumerable:!0,get:function(){return y.Cell}}),Object.defineProperty(o,"Column",{enumerable:!0,get:function(){return y.Column}}),Object.defineProperty(o,"Row",{enumerable:!0,get:function(){return y.Row}});function v(F){(0,l.default)(F)}o.applyPlugin=v;function b(F,j){var M=(0,u.parseInput)(F,j),A=(0,h.createTable)(F,M);(0,c.drawTable)(F,A)}function w(F,j){var M=(0,u.parseInput)(F,j);return(0,h.createTable)(F,M)}o.__createTable=w;function S(F,j){(0,c.drawTable)(F,j)}o.__drawTable=S;try{var T=s(964);T.jsPDF&&(T=T.jsPDF),v(T)}catch{}o.default=b}(),a}()})})(aY);function m8(){return p.jsx("div",{className:"flex justify-center py-6",children:p.jsx("div",{className:"w-10 h-10 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})})}function qm({icon:t,label:e,value:r,bgColor:n,trend:i}){return p.jsx("div",{className:`${n} rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1`,children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-white/80 mb-1",children:e}),p.jsx("p",{className:"text-3xl font-bold text-white",children:r}),i&&p.jsxs("div",{className:"flex items-center mt-2 text-white/90 text-sm",children:[p.jsx(XG,{className:"w-4 h-4 mr-1"}),p.jsx("span",{children:i})]})]}),p.jsx("div",{className:"bg-white/20 p-4 rounded-lg",children:p.jsx(t,{className:"w-8 h-8 text-white"})})]})})}function lY({users:t}){const e=t.reduce((i,s)=>(s.bloodGroup&&(i[s.bloodGroup]=(i[s.bloodGroup]||0)+1),i),{}),r=Object.values(e).reduce((i,s)=>i+s,0),n=["bg-red-500","bg-pink-500","bg-purple-500","bg-indigo-500","bg-blue-500","bg-cyan-500","bg-teal-500","bg-green-500"];return r?p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg",children:[p.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[p.jsx(vw,{className:"w-5 h-5 mr-2 text-red-500"}),"Blood Group Distribution"]}),p.jsx("div",{className:"space-y-3",children:Object.entries(e).sort((i,s)=>s[1]-i[1]).map(([i,s],a)=>p.jsxs("div",{className:"flex items-center",children:[p.jsx("span",{className:"w-16 text-sm font-medium",children:i}),p.jsx("div",{className:"flex-1 mx-3 bg-gray-200 dark:bg-gray-700 rounded-full h-6 overflow-hidden",children:p.jsx("div",{className:`${n[a%n.length]} h-full flex items-center justify-end px-2 transition-all duration-500`,style:{width:`${s/r*100}%`},children:p.jsx("span",{className:"text-xs font-semibold text-white",children:s})})}),p.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400 w-12 text-right",children:[(s/r*100).toFixed(0),"%"]})]},i))})]}):p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg",children:[p.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[p.jsx(vw,{className:"w-5 h-5 mr-2 text-red-500"}),"Blood Group Distribution"]}),p.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No blood group data available yet."})]})}function uY({users:t}){const e=t.reduce((i,s)=>{if(!s.organType)return i;const a=s.organType.trim().toLowerCase();return a&&(i[a]=(i[a]||0)+1),i},{});if(Object.keys(e).length===0)return p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg",children:[p.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[p.jsx(sp,{className:"w-5 h-5 mr-2 text-blue-500"}),"Organ Types"]}),p.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No organ type data available yet."})]});const r={heart:"Heart",kidney:"Kidney",lung:"Lung",liver:"Liver",eye:"Eye",cornea:"Cornea",pancreas:"Pancreas"},n=i=>r[i]?r[i]:i.replace(/\b\w/g,s=>s.toUpperCase());return p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg",children:[p.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[p.jsx(sp,{className:"w-5 h-5 mr-2 text-blue-500"}),"Organ Types"]}),p.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(e).map(([i,s])=>p.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-700 dark:to-gray-600 rounded-lg p-4 text-center",children:[p.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:s}),p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:n(i)})]},i))})]})}function cY({users:t}){const e=[...t].slice(0,5);return p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg",children:[p.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[p.jsx(bG,{className:"w-5 h-5 mr-2 text-green-500"}),"Recent Users"]}),p.jsx("div",{className:"space-y-3",children:e.length===0?p.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No recent users yet."}):e.map(r=>{var n;return p.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center text-white font-semibold",children:((n=r.fullName)==null?void 0:n.charAt(0))||"U"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium text-sm",children:r.fullName}),p.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:r.role})]})]}),p.jsx("div",{className:"text-right",children:p.jsx("p",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:r.bloodGroup||""})})]},r.id)})})]})}function hY({hospitals:t,loading:e}){return p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg flex flex-col h-full",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Ag,{className:"w-5 h-5 text-indigo-500"}),p.jsx("h3",{className:"text-lg font-semibold",children:"Hospitals Overview"})]}),p.jsx(ka,{to:"/hospitals",className:"text-xs px-3 py-1 rounded-full bg-indigo-600 text-white hover:bg-indigo-700 transition-colors flex items-center gap-1",children:"Manage"})]}),p.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:[t.length," hospital",t.length===1?"":"s"," in system"]}),e?p.jsx("div",{className:"py-6",children:p.jsx(m8,{})}):t.length===0?p.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:["No hospitals found. Add hospitals from your"," ",p.jsx("span",{className:"font-semibold",children:"Hospital Management"})," page."]}):p.jsxs("div",{className:"space-y-3 flex-1",children:[t.slice(0,4).map(r=>p.jsxs("div",{className:"p-3 rounded-lg border border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/60 flex items-start justify-between gap-3",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold text-sm",children:r.name}),p.jsxs("div",{className:"flex items-center gap-1 mt-1 text-xs text-gray-500 dark:text-gray-400",children:[p.jsx(WI,{className:"w-3 h-3"}),p.jsxs("span",{children:[r.city||"",", ",r.state||""]})]}),r.type&&p.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:r.type})]}),p.jsxs("div",{className:"text-right text-xs",children:[r.totalBeds!=null&&p.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:["Beds:"," ",p.jsx("span",{className:"font-semibold",children:r.totalBeds||r.beds||""})]}),p.jsx("span",{className:`inline-block mt-1 px-2 py-0.5 rounded-full text-[11px] font-semibold ${(r.status||"Active")==="Active"?"bg-green-100 text-green-800 dark:bg-green-900/40 dark:text-green-300":"bg-gray-100 text-gray-800 dark:bg-gray-900/40 dark:text-gray-300"}`,children:r.status||"Active"})]})]},r.id)),t.length>4&&p.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["+",t.length-4," more hospitals"]})]})]})}function fY(){const[t,e]=ve.useState([]),[r,n]=ve.useState([]),[i,s]=ve.useState(!0),[a,o]=ve.useState(!0),[l,u]=ve.useState(""),[c,h]=ve.useState(""),[d,f]=ve.useState(""),[y,v]=ve.useState(null),[b,w]=ve.useState({}),[S,T]=ve.useState("overview");ve.useEffect(()=>{s(!0);const E=Lf(ss(xr,"users"),$x("fullName")),R=Bc(E,H=>{e(H.docs.map(me=>({id:me.id,...me.data()}))),s(!1)},H=>{console.error("Failed to load users:",H),s(!1)});return()=>R()},[]),ve.useEffect(()=>{o(!0);const E=Lf(ss(xr,"hospitals"),$x("name")),R=Bc(E,H=>{const me=H.docs.map(ie=>{const ee=ie.data()||{};return{id:ie.id,name:ee.name||"",city:ee.city||"",state:ee.state||"",status:ee.status||"Active",totalBeds:ee.totalBeds!=null?ee.totalBeds:ee.beds!=null&&Number(ee.beds)||null,type:ee.type||ee.hospitalType||""}});n(me),o(!1)},H=>{console.error("Failed to load hospitals:",H),n([]),o(!1)});return()=>R()},[]);const F=t.filter(E=>{var R,H;return!(l&&E.role!==l||c&&((R=E.bloodGroup)==null?void 0:R.toLowerCase())!==c.toLowerCase()||d&&!((H=E.fullName)!=null&&H.toLowerCase().includes(d.toLowerCase())))}),j=t.reduce((E,R)=>(E[R.role]=(E[R.role]||0)+1,E),{}),M=E=>{const R=["Name","Email","Role","Blood Group","Organ","Mobile"],H=E.map(re=>[re.fullName,re.email||"",re.role,re.bloodGroup||"",re.organType||"",re.mobile||""]),me=[R.join(","),...H.map(re=>re.map(de=>`"${de}"`).join(","))].join(`
`),ie=new Blob([me],{type:"text/csv"}),ee=URL.createObjectURL(ie),J=document.createElement("a");J.href=ee,J.download="users.csv",J.click(),URL.revokeObjectURL(ee)},A=E=>{const R=new At;R.setFontSize(20),R.setTextColor(59,130,246),R.text("User Management Report",14,20),R.setFontSize(10),R.setTextColor(100),R.text(`Generated: ${new Date().toLocaleString()}`,14,28),R.setFontSize(12),R.setTextColor(0),R.text(`Total Users: ${E.length}`,14,38),R.text(`Donors: ${j.donor||0}`,14,45),R.text(`Recipients: ${j.recipient||0}`,14,52),R.text(`Doctors: ${j.doctor||0}`,14,59);const H=E.map(ie=>[ie.fullName||"",ie.email||"",ie.role||"",ie.bloodGroup||"",ie.organType||"",ie.mobile||""]);R.autoTable({head:[["Name","Email","Role","Blood Group","Organ","Mobile"]],body:H,startY:68,theme:"grid",headStyles:{fillColor:[59,130,246],textColor:255,fontStyle:"bold",halign:"center"},styles:{fontSize:9,cellPadding:3},alternateRowStyles:{fillColor:[245,245,245]},columnStyles:{0:{cellWidth:35},1:{cellWidth:45},2:{cellWidth:25},3:{cellWidth:25},4:{cellWidth:25},5:{cellWidth:30}}});const me=R.internal.getNumberOfPages();for(let ie=1;ie<=me;ie++)R.setPage(ie),R.setFontSize(8),R.setTextColor(128),R.text(`Page ${ie} of ${me}`,R.internal.pageSize.width/2,R.internal.pageSize.height-10,{align:"center"});R.save(`users_report_${new Date().toISOString().split("T")[0]}.pdf`)},_=E=>{v(E.id),w({fullName:E.fullName||"",bloodGroup:E.bloodGroup||"",organType:E.organType||"",mobile:E.mobile||""})},C=()=>{v(null),w({})},D=async E=>{try{await hf(jn(xr,"users",E),b),v(null),w({})}catch(R){alert("Failed to update user: "+R.message)}},N=async E=>{if(window.confirm("Are you sure you want to delete this user?"))try{await N_(jn(xr,"users",E))}catch(R){alert("Failed to delete user: "+R.message)}};return i?p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center",children:p.jsx(m8,{})}):p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 dark:text-white",children:p.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[p.jsxs("div",{className:"mb-8",children:[p.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"Admin Dashboard"}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Comprehensive user management and analytics"})]}),p.jsxs("div",{className:"flex gap-2 mb-6 bg-white dark:bg-gray-800 p-1 rounded-lg w-fit shadow-md",children:[p.jsx("button",{onClick:()=>T("overview"),className:`px-6 py-2 rounded-md transition-all font-medium ${S==="overview"?"bg-blue-600 text-white shadow-lg":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"Overview"}),p.jsx("button",{onClick:()=>T("table"),className:`px-6 py-2 rounded-md transition-all font-medium ${S==="table"?"bg-blue-600 text-white shadow-lg":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"User Table"})]}),S==="overview"?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[p.jsx(qm,{icon:GI,label:"Total Users",value:t.length,bgColor:"bg-gradient-to-br from-blue-500 to-blue-600",trend:"+12% this month"}),p.jsx(qm,{icon:vw,label:"Donors",value:j.donor||0,bgColor:"bg-gradient-to-br from-red-500 to-pink-600"}),p.jsx(qm,{icon:JG,label:"Recipients",value:j.recipient||0,bgColor:"bg-gradient-to-br from-green-500 to-emerald-600"}),p.jsx(qm,{icon:sp,label:"Doctors",value:j.doctor||0,bgColor:"bg-gradient-to-br from-purple-500 to-indigo-600"})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[p.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsx(lY,{users:t}),p.jsx(uY,{users:t})]}),p.jsx(hY,{hospitals:r,loading:a})]}),p.jsx(cY,{users:t})]}):p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg mb-6",children:p.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[p.jsxs("div",{className:"flex-1 min-w-[250px] relative",children:[p.jsx(qI,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),p.jsx("input",{type:"text",placeholder:"Search by name...",value:d,onChange:E=>f(E.target.value),className:"w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),p.jsxs("select",{value:l,onChange:E=>u(E.target.value),className:"px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white cursor-pointer focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[p.jsx("option",{value:"",children:"All Roles"}),p.jsx("option",{value:"donor",children:"Donor"}),p.jsx("option",{value:"recipient",children:"Recipient"}),p.jsx("option",{value:"doctor",children:"Doctor"}),p.jsx("option",{value:"admin",children:"Admin"})]}),p.jsxs("select",{value:c,onChange:E=>h(E.target.value),className:"px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white cursor-pointer focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[p.jsx("option",{value:"",children:"All Blood Groups"}),["A+","A-","B+","B-","AB+","AB-","O+","O-"].map(E=>p.jsx("option",{value:E,children:E},E))]}),p.jsxs("button",{onClick:()=>{f(""),u(""),h("")},className:"px-4 py-3 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors flex items-center gap-2",children:[p.jsx(RG,{className:"w-4 h-4"}),"Reset"]}),p.jsxs("div",{className:"flex gap-2 ml-auto",children:[p.jsxs("button",{onClick:()=>M(F),className:"px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 shadow-lg",children:[p.jsx(AG,{className:"w-4 h-4"}),"Excel"]}),p.jsxs("button",{onClick:()=>A(F),className:"px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2 shadow-lg",children:[p.jsx(PG,{className:"w-4 h-4"}),"PDF"]})]})]})}),p.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"min-w-full",children:[p.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:p.jsx("tr",{children:["Name","Email","Role","Blood Group","Organ","Mobile","Actions"].map(E=>p.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:E},E))})}),p.jsxs("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:[F.length===0&&p.jsx("tr",{children:p.jsx("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-500 dark:text-gray-400",children:"No users found"})}),F.map(E=>{var R;return p.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y===E.id?p.jsx("input",{type:"text",value:b.fullName,onChange:H=>w({...b,fullName:H.target.value}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-600 dark:text-white"}):p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center text-white font-semibold mr-3",children:((R=E.fullName)==null?void 0:R.charAt(0))||"U"}),p.jsx("span",{className:"font-medium",children:E.fullName||""})]})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:E.email||""}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${E.role==="donor"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":E.role==="recipient"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":E.role==="doctor"?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}`,children:E.role})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y===E.id?p.jsxs("select",{value:b.bloodGroup,onChange:H=>w({...b,bloodGroup:H.target.value}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-600 dark:text-white",children:[p.jsx("option",{value:"",children:"Select"}),["A+","A-","B+","B-","AB+","AB-","O+","O-"].map(H=>p.jsx("option",{value:H,children:H},H))]}):p.jsx("span",{className:"font-semibold text-red-600 dark:text-red-400",children:E.bloodGroup||""})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y===E.id?p.jsx("input",{type:"text",value:b.organType,onChange:H=>w({...b,organType:H.target.value}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-600 dark:text-white"}):p.jsx("span",{className:"capitalize",children:E.organType||""})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y===E.id?p.jsx("input",{type:"text",value:b.mobile,onChange:H=>w({...b,mobile:H.target.value}),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-600 dark:text-white"}):E.mobile||""}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx("div",{className:"flex gap-2",children:y===E.id?p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>D(E.id),className:"p-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",title:"Save",children:p.jsx(qG,{className:"w-4 h-4"})}),p.jsx("button",{onClick:C,className:"p-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",title:"Cancel",children:p.jsx(fb,{className:"w-4 h-4"})})]}):p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>_(E),className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",title:"Edit",children:p.jsx(cb,{className:"w-4 h-4"})}),p.jsx("button",{onClick:()=>N(E.id),className:"p-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",title:"Delete",children:p.jsx(hb,{className:"w-4 h-4"})})]})})})]},E.id)})]})]})})})]})]})})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var E1={};E1.version="0.18.5";var g8=1252,dY=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],v8=function(t){dY.indexOf(t)!=-1&&(g8=t)};function pY(){v8(1252)}var lp=function(t){v8(t)};function mY(){lp(1200),pY()}var $m=function(e){return String.fromCharCode(e)},C3=function(e){return String.fromCharCode(e)},A1,ru="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function up(t){for(var e="",r=0,n=0,i=0,s=0,a=0,o=0,l=0,u=0;u<t.length;)r=t.charCodeAt(u++),s=r>>2,n=t.charCodeAt(u++),a=(r&3)<<4|n>>4,i=t.charCodeAt(u++),o=(n&15)<<2|i>>6,l=i&63,isNaN(n)?o=l=64:isNaN(i)&&(l=64),e+=ru.charAt(s)+ru.charAt(a)+ru.charAt(o)+ru.charAt(l);return e}function tl(t){var e="",r=0,n=0,i=0,s=0,a=0,o=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<t.length;)s=ru.indexOf(t.charAt(u++)),a=ru.indexOf(t.charAt(u++)),r=s<<2|a>>4,e+=String.fromCharCode(r),o=ru.indexOf(t.charAt(u++)),n=(a&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(n)),l=ru.indexOf(t.charAt(u++)),i=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var hr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),ll=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function Vc(t){return hr?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function P3(t){return hr?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Ca=function(e){return hr?ll(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function Dv(t){if(typeof ArrayBuffer>"u")return Ca(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function Mp(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function gY(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var oi=hr?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:ll(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),i=0;for(e=0,r=0;e<t.length;r+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function vY(t){for(var e=[],r=0,n=t.length+250,i=Vc(t.length+255),s=0;s<t.length;++s){var a=t.charCodeAt(s);if(a<128)i[r++]=a;else if(a<2048)i[r++]=192|a>>6&31,i[r++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=t.charCodeAt(++s)&1023;i[r++]=240|a>>8&7,i[r++]=128|a>>2&63,i[r++]=128|o>>6&15|(a&3)<<4,i[r++]=128|o&63}else i[r++]=224|a>>12&15,i[r++]=128|a>>6&63,i[r++]=128|a&63;r>n&&(e.push(i.slice(0,r)),r=0,i=Vc(65535),n=65530)}return e.push(i.slice(0,r)),oi(e)}var m0=/\u0000/g,Gm=/[\u0001-\u0006]/g;function df(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function Pa(t,e){var r=""+t;return r.length>=e?r:ln("0",e-r.length)+r}function gb(t,e){var r=""+t;return r.length>=e?r:ln(" ",e-r.length)+r}function N1(t,e){var r=""+t;return r.length>=e?r:r+ln(" ",e-r.length)}function yY(t,e){var r=""+Math.round(t);return r.length>=e?r:ln("0",e-r.length)+r}function xY(t,e){var r=""+t;return r.length>=e?r:ln("0",e-r.length)+r}var I3=Math.pow(2,32);function Eh(t,e){if(t>I3||t<-I3)return yY(t,e);var r=Math.round(t);return xY(r,e)}function k1(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var R3=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],gy=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function wY(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var un={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},L3={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},_Y={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function C1(t,e,r){for(var n=t<0?-1:1,i=t*n,s=0,a=1,o=0,l=1,u=0,c=0,h=Math.floor(i);u<e&&(h=Math.floor(i),o=h*a+s,c=h*u+l,!(i-h<5e-8));)i=1/(i-h),s=a,a=o,l=u,u=c;if(c>e&&(u>e?(c=l,o=s):(c=u,o=a)),!r)return[0,n*o,c];var d=Math.floor(n*o/c);return[d,n*o-d*c,c]}function Km(t,e,r){if(t>2958465||t<0)return null;var n=t|0,i=Math.floor(86400*(t-n)),s=0,a=[],o={D:n,T:i,u:86400*(t-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++n,++o.D)),n===60)a=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)a=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),a=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),n<60&&(s=(s+6)%7),r&&(s=kY(l,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=s,o}var y8=new Date(1899,11,31,0,0,0),bY=y8.getTime(),SY=new Date(1900,2,1,0,0,0);function x8(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=SY&&(r+=24*60*60*1e3),(r-(bY+(t.getTimezoneOffset()-y8.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function vb(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function TY(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function EY(t){var e=t<0?12:11,r=vb(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function AY(t){var e=vb(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function NY(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=EY(t):e===10?r=t.toFixed(10).substr(0,12):r=AY(t),vb(TY(r.toUpperCase()))}function Pw(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):NY(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return ku(14,x8(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function kY(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function CY(t,e,r,n){var i="",s=0,a=0,o=r.y,l,u=0;switch(t){case 98:o=r.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,u=2;break;default:l=o%1e4,u=4;break}break;case 109:switch(e.length){case 1:case 2:l=r.m,u=e.length;break;case 3:return gy[r.m-1][1];case 5:return gy[r.m-1][0];default:return gy[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=r.d,u=e.length;break;case 3:return R3[r.q][0];default:return R3[r.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(r.H+11)%12,u=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=r.H,u=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=r.M,u=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?Pa(r.S,e.length):(n>=2?a=n===3?1e3:100:a=n===1?10:1,s=Math.round(a*(r.S+r.u)),s>=60*a&&(s=0),e==="s"?s===0?"0":""+s/a:(i=Pa(s,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}u=e.length===3?1:2;break;case 101:l=o,u=1;break}var c=u>0?Pa(l,u):"";return c}function nu(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var w8=/%/g;function PY(t,e,r){var n=e.replace(w8,""),i=e.length-n.length;return Uo(t,n,r*Math.pow(10,2*i))+ln("%",i)}function IY(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Uo(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function _8(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+_8(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),r.indexOf("e")===-1){var a=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+s):r+="E+"+(a-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,c){return l+u+c.substr(0,(i+s)%i)+"."+c.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var b8=/# (\?+)( ?)\/( ?)(\d+)/;function RY(t,e,r){var n=parseInt(t[4],10),i=Math.round(e*n),s=Math.floor(i/n),a=i-s*n,o=n;return r+(s===0?"":""+s)+" "+(a===0?ln(" ",t[1].length+1+t[4].length):gb(a,t[1].length)+t[2]+"/"+t[3]+Pa(o,t[4].length))}function LY(t,e,r){return r+(e===0?"":""+e)+ln(" ",t[1].length+2+t[4].length)}var S8=/^#*0*\.([0#]+)/,T8=/\).*[0#]/,E8=/\(###\) ###\\?-####/;function zi(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function F3(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function D3(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function FY(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function DY(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Ys(t,e,r){if(t.charCodeAt(0)===40&&!e.match(T8)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ys("n",n,r):"("+Ys("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return IY(t,e,r);if(e.indexOf("%")!==-1)return PY(t,e,r);if(e.indexOf("E")!==-1)return _8(e,r);if(e.charCodeAt(0)===36)return"$"+Ys(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,a,o,l=Math.abs(r),u=r<0?"-":"";if(e.match(/^00+$/))return u+Eh(l,e.length);if(e.match(/^[#?]+$/))return i=Eh(r,0),i==="0"&&(i=""),i.length>e.length?i:zi(e.substr(0,e.length-i.length))+i;if(s=e.match(b8))return RY(s,l,u);if(e.match(/^#+0+$/))return u+Eh(l,e.length-e.indexOf("0"));if(s=e.match(S8))return i=F3(r,s[1].length).replace(/^([^\.]+)$/,"$1."+zi(s[1])).replace(/\.$/,"."+zi(s[1])).replace(/\.(\d*)$/,function(y,v){return"."+v+ln("0",zi(s[1]).length-v.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return u+F3(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return u+nu(Eh(l,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ys(t,e,-r):nu(""+(Math.floor(r)+FY(r,s[1].length)))+"."+Pa(D3(r,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return Ys(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=df(Ys(t,e.replace(/[\\-]/g,""),r)),a=0,df(df(e.replace(/\\/g,"")).replace(/[0#]/g,function(y){return a<i.length?i.charAt(a++):y==="0"?"0":""}));if(e.match(E8))return i=Ys(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var c="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=C1(l,Math.pow(10,a)-1,!1),i=""+u,c=Uo("n",s[1],o[1]),c.charAt(c.length-1)==" "&&(c=c.substr(0,c.length-1)+"0"),i+=c+s[2]+"/"+s[3],c=N1(o[2],a),c.length<s[4].length&&(c=zi(s[4].substr(s[4].length-c.length))+c),i+=c,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=C1(l,Math.pow(10,a)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?gb(o[1],a)+s[2]+"/"+s[3]+N1(o[2],a):ln(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=Eh(r,0),e.length<=i.length?i:zi(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var h=e.indexOf(".")-a,d=e.length-i.length-h;return zi(e.substr(0,h)+i+e.substr(e.length-d))}if(s=e.match(/^00,000\.([#0]*0)$/))return a=D3(r,s[1].length),r<0?"-"+Ys(t,e,-r):nu(DY(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?Pa(0,3-y.length):"")+y})+"."+Pa(a,s[1].length);switch(e){case"###,##0.00":return Ys(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var f=nu(Eh(l,0));return f!=="0"?u+f:"";case"###,###.00":return Ys(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Ys(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function OY(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Uo(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function jY(t,e,r){var n=e.replace(w8,""),i=e.length-n.length;return Uo(t,n,r*Math.pow(10,2*i))+ln("%",i)}function A8(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+A8(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),!r.match(/[Ee]/)){var a=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+s):r+="E+"+(a-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,c){return l+u+c.substr(0,(i+s)%i)+"."+c.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Ya(t,e,r){if(t.charCodeAt(0)===40&&!e.match(T8)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ya("n",n,r):"("+Ya("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return OY(t,e,r);if(e.indexOf("%")!==-1)return jY(t,e,r);if(e.indexOf("E")!==-1)return A8(e,r);if(e.charCodeAt(0)===36)return"$"+Ya(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,a,o,l=Math.abs(r),u=r<0?"-":"";if(e.match(/^00+$/))return u+Pa(l,e.length);if(e.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>e.length?i:zi(e.substr(0,e.length-i.length))+i;if(s=e.match(b8))return LY(s,l,u);if(e.match(/^#+0+$/))return u+Pa(l,e.length-e.indexOf("0"));if(s=e.match(S8))return i=(""+r).replace(/^([^\.]+)$/,"$1."+zi(s[1])).replace(/\.$/,"."+zi(s[1])),i=i.replace(/\.(\d*)$/,function(y,v){return"."+v+ln("0",zi(s[1]).length-v.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return u+nu(""+l);if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ya(t,e,-r):nu(""+r)+"."+ln("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Ya(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=df(Ya(t,e.replace(/[\\-]/g,""),r)),a=0,df(df(e.replace(/\\/g,"")).replace(/[0#]/g,function(y){return a<i.length?i.charAt(a++):y==="0"?"0":""}));if(e.match(E8))return i=Ya(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var c="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=C1(l,Math.pow(10,a)-1,!1),i=""+u,c=Uo("n",s[1],o[1]),c.charAt(c.length-1)==" "&&(c=c.substr(0,c.length-1)+"0"),i+=c+s[2]+"/"+s[3],c=N1(o[2],a),c.length<s[4].length&&(c=zi(s[4].substr(s[4].length-c.length))+c),i+=c,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=C1(l,Math.pow(10,a)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?gb(o[1],a)+s[2]+"/"+s[3]+N1(o[2],a):ln(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+r,e.length<=i.length?i:zi(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var h=e.indexOf(".")-a,d=e.length-i.length-h;return zi(e.substr(0,h)+i+e.substr(e.length-d))}if(s=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Ya(t,e,-r):nu(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?Pa(0,3-y.length):"")+y})+"."+Pa(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var f=nu(""+l);return f!=="0"?u+f:"";default:if(e.match(/\.[0#?]*$/))return Ya(t,e.slice(0,e.lastIndexOf(".")),r)+zi(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Uo(t,e,r){return(r|0)===r?Ya(t,e,r):Ys(t,e,r)}function MY(t){for(var e=[],r=!1,n=0,i=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(i,n-i),i=n+1}if(e[e.length]=t.substr(i),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var N8=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function k8(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":k1(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(N8))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function BY(t,e,r,n){for(var i=[],s="",a=0,o="",l="t",u,c,h,d="H";a<t.length;)switch(o=t.charAt(a)){case"G":if(!k1(t,a))throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(h=t.charCodeAt(++a))!==34&&a<t.length;)s+=String.fromCharCode(h);i[i.length]={t:"t",v:s},++a;break;case"\\":var f=t.charAt(++a),y=f==="("||f===")"?f:"t";i[i.length]={t:y,v:f},++a;break;case"_":i[i.length]={t:"t",v:" "},a+=2;break;case"@":i[i.length]={t:"T",v:e},++a;break;case"B":case"b":if(t.charAt(a+1)==="1"||t.charAt(a+1)==="2"){if(u==null&&(u=Km(e,r,t.charAt(a+1)==="2"),u==null))return"";i[i.length]={t:"X",v:t.substr(a,2)},l=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||u==null&&(u=Km(e,r),u==null))return"";for(s=o;++a<t.length&&t.charAt(a).toLowerCase()===o;)s+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=d),i[i.length]={t:o,v:s},l=o;break;case"A":case"a":case"":var v={t:o,v:o};if(u==null&&(u=Km(e,r)),t.substr(a,3).toUpperCase()==="A/P"?(u!=null&&(v.v=u.H>=12?"P":"A"),v.t="T",d="h",a+=3):t.substr(a,5).toUpperCase()==="AM/PM"?(u!=null&&(v.v=u.H>=12?"PM":"AM"),v.t="T",a+=5,d="h"):t.substr(a,5).toUpperCase()==="/"?(u!=null&&(v.v=u.H>=12?"":""),v.t="T",a+=5,d="h"):(v.t="t",++a),u==null&&v.t==="T")return"";i[i.length]=v,l=o;break;case"[":for(s=o;t.charAt(a++)!=="]"&&a<t.length;)s+=t.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(N8)){if(u==null&&(u=Km(e,r),u==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",k8(t)||(i[i.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=o;++a<t.length&&(o=t.charAt(a))==="0";)s+=o;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++a<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(a))>-1;)s+=o;i[i.length]={t:"n",v:s};break;case"?":for(s=o;t.charAt(++a)===o;)s+=o;i[i.length]={t:o,v:s},l=o;break;case"*":++a,(t.charAt(a)==" "||t.charAt(a)=="*")&&++a;break;case"(":case")":i[i.length]={t:n===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;a<t.length&&"0123456789".indexOf(t.charAt(++a))>-1;)s+=t.charAt(a);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:o,v:o},++a;break;case"$":i[i.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"t",v:o},++a;break}var b=0,w=0,S;for(a=i.length-1,l="t";a>=0;--a)switch(i[a].t){case"h":case"H":i[a].t=d,l="h",b<1&&(b=1);break;case"s":(S=i[a].v.match(/\.0+$/))&&(w=Math.max(w,S[0].length-1)),b<3&&(b=3);case"d":case"y":case"M":case"e":l=i[a].t;break;case"m":l==="s"&&(i[a].t="M",b<2&&(b=2));break;case"X":break;case"Z":b<1&&i[a].v.match(/[Hh]/)&&(b=1),b<2&&i[a].v.match(/[Mm]/)&&(b=2),b<3&&i[a].v.match(/[Ss]/)&&(b=3)}switch(b){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var T="",F;for(a=0;a<i.length;++a)switch(i[a].t){case"t":case"T":case" ":case"D":break;case"X":i[a].v="",i[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[a].v=CY(i[a].t.charCodeAt(0),i[a].v,u,w),i[a].t="t";break;case"n":case"?":for(F=a+1;i[F]!=null&&((o=i[F].t)==="?"||o==="D"||(o===" "||o==="t")&&i[F+1]!=null&&(i[F+1].t==="?"||i[F+1].t==="t"&&i[F+1].v==="/")||i[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[F].v==="/"||i[F].v===" "&&i[F+1]!=null&&i[F+1].t=="?"));)i[a].v+=i[F].v,i[F]={v:"",t:";"},++F;T+=i[a].v,a=F-1;break;case"G":i[a].t="t",i[a].v=Pw(e,r);break}var j="",M,A;if(T.length>0){T.charCodeAt(0)==40?(M=e<0&&T.charCodeAt(0)===45?-e:e,A=Uo("n",T,M)):(M=e<0&&n>1?-e:e,A=Uo("n",T,M),M<0&&i[0]&&i[0].t=="t"&&(A=A.substr(1),i[0].v="-"+i[0].v)),F=A.length-1;var _=i.length;for(a=0;a<i.length;++a)if(i[a]!=null&&i[a].t!="t"&&i[a].v.indexOf(".")>-1){_=a;break}var C=i.length;if(_===i.length&&A.indexOf("E")===-1){for(a=i.length-1;a>=0;--a)i[a]==null||"n?".indexOf(i[a].t)===-1||(F>=i[a].v.length-1?(F-=i[a].v.length,i[a].v=A.substr(F+1,i[a].v.length)):F<0?i[a].v="":(i[a].v=A.substr(0,F+1),F=-1),i[a].t="t",C=a);F>=0&&C<i.length&&(i[C].v=A.substr(0,F+1)+i[C].v)}else if(_!==i.length&&A.indexOf("E")===-1){for(F=A.indexOf(".")-1,a=_;a>=0;--a)if(!(i[a]==null||"n?".indexOf(i[a].t)===-1)){for(c=i[a].v.indexOf(".")>-1&&a===_?i[a].v.indexOf(".")-1:i[a].v.length-1,j=i[a].v.substr(c+1);c>=0;--c)F>=0&&(i[a].v.charAt(c)==="0"||i[a].v.charAt(c)==="#")&&(j=A.charAt(F--)+j);i[a].v=j,i[a].t="t",C=a}for(F>=0&&C<i.length&&(i[C].v=A.substr(0,F+1)+i[C].v),F=A.indexOf(".")+1,a=_;a<i.length;++a)if(!(i[a]==null||"n?(".indexOf(i[a].t)===-1&&a!==_)){for(c=i[a].v.indexOf(".")>-1&&a===_?i[a].v.indexOf(".")+1:0,j=i[a].v.substr(0,c);c<i[a].v.length;++c)F<A.length&&(j+=A.charAt(F++));i[a].v=j,i[a].t="t",C=a}}}for(a=0;a<i.length;++a)i[a]!=null&&"n?".indexOf(i[a].t)>-1&&(M=n>1&&e<0&&a>0&&i[a-1].v==="-"?-e:e,i[a].v=Uo(i[a].t,i[a].v,M),i[a].t="t");var D="";for(a=0;a!==i.length;++a)i[a]!=null&&(D+=i[a].v);return D}var O3=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function j3(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function VY(t,e){var r=MY(t),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var a=r[0].match(O3),o=r[1].match(O3);return j3(e,a)?[n,r[0]]:j3(e,o)?[n,r[1]]:[n,r[a!=null&&o!=null?2:1]]}return[n,s]}function ku(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:un)[t],n==null&&(n=r.table&&r.table[L3[t]]||un[L3[t]]),n==null&&(n=_Y[t]||"General");break}if(k1(n,0))return Pw(e,r);e instanceof Date&&(e=x8(e,r.date1904));var i=VY(n,e);if(k1(i[1]))return Pw(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return BY(i[1],e,r,i[0])}function C8(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(un[r]==null){e<0&&(e=r);continue}if(un[r]==t){e=r;break}}e<0&&(e=391)}return un[e]=t,e}function Ov(t){for(var e=0;e!=392;++e)t[e]!==void 0&&C8(t[e],e)}function jv(){un=wY()}var P8=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function UY(t){var e=typeof t=="number"?un[t]:t;return e=e.replace(P8,"(\\d+)"),new RegExp("^"+e+"$")}function zY(t,e,r){var n=-1,i=-1,s=-1,a=-1,o=-1,l=-1;(e.match(P8)||[]).forEach(function(h,d){var f=parseInt(r[d+1],10);switch(h.toLowerCase().charAt(0)){case"y":n=f;break;case"d":s=f;break;case"h":a=f;break;case"s":l=f;break;case"m":a>=0?o=f:i=f;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var c=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return a==-1&&o==-1&&l==-1?u:n==-1&&i==-1&&s==-1?c:u+"T"+c}var HY=function(){var t={};t.version="1.2.0";function e(){for(var A=0,_=new Array(256),C=0;C!=256;++C)A=C,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,_[C]=A;return typeof Int32Array<"u"?new Int32Array(_):_}var r=e();function n(A){var _=0,C=0,D=0,N=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(D=0;D!=256;++D)N[D]=A[D];for(D=0;D!=256;++D)for(C=A[D],_=256+D;_<4096;_+=256)C=N[_]=C>>>8^A[C&255];var E=[];for(D=1;D!=16;++D)E[D-1]=typeof Int32Array<"u"?N.subarray(D*256,D*256+256):N.slice(D*256,D*256+256);return E}var i=n(r),s=i[0],a=i[1],o=i[2],l=i[3],u=i[4],c=i[5],h=i[6],d=i[7],f=i[8],y=i[9],v=i[10],b=i[11],w=i[12],S=i[13],T=i[14];function F(A,_){for(var C=_^-1,D=0,N=A.length;D<N;)C=C>>>8^r[(C^A.charCodeAt(D++))&255];return~C}function j(A,_){for(var C=_^-1,D=A.length-15,N=0;N<D;)C=T[A[N++]^C&255]^S[A[N++]^C>>8&255]^w[A[N++]^C>>16&255]^b[A[N++]^C>>>24]^v[A[N++]]^y[A[N++]]^f[A[N++]]^d[A[N++]]^h[A[N++]]^c[A[N++]]^u[A[N++]]^l[A[N++]]^o[A[N++]]^a[A[N++]]^s[A[N++]]^r[A[N++]];for(D+=15;N<D;)C=C>>>8^r[(C^A[N++])&255];return~C}function M(A,_){for(var C=_^-1,D=0,N=A.length,E=0,R=0;D<N;)E=A.charCodeAt(D++),E<128?C=C>>>8^r[(C^E)&255]:E<2048?(C=C>>>8^r[(C^(192|E>>6&31))&255],C=C>>>8^r[(C^(128|E&63))&255]):E>=55296&&E<57344?(E=(E&1023)+64,R=A.charCodeAt(D++)&1023,C=C>>>8^r[(C^(240|E>>8&7))&255],C=C>>>8^r[(C^(128|E>>2&63))&255],C=C>>>8^r[(C^(128|R>>6&15|(E&3)<<4))&255],C=C>>>8^r[(C^(128|R&63))&255]):(C=C>>>8^r[(C^(224|E>>12&15))&255],C=C>>>8^r[(C^(128|E>>6&63))&255],C=C>>>8^r[(C^(128|E&63))&255]);return~C}return t.table=r,t.bstr=F,t.buf=j,t.str=M,t}(),Cr=function(){var e={};e.version="1.2.1";function r(K,he){for(var se=K.split("/"),ae=he.split("/"),ce=0,fe=0,ke=Math.min(se.length,ae.length);ce<ke;++ce){if(fe=se[ce].length-ae[ce].length)return fe;if(se[ce]!=ae[ce])return se[ce]<ae[ce]?-1:1}return se.length-ae.length}function n(K){if(K.charAt(K.length-1)=="/")return K.slice(0,-1).indexOf("/")===-1?K:n(K.slice(0,-1));var he=K.lastIndexOf("/");return he===-1?K:K.slice(0,he+1)}function i(K){if(K.charAt(K.length-1)=="/")return i(K.slice(0,-1));var he=K.lastIndexOf("/");return he===-1?K:K.slice(he+1)}function s(K,he){typeof he=="string"&&(he=new Date(he));var se=he.getHours();se=se<<6|he.getMinutes(),se=se<<5|he.getSeconds()>>>1,K.write_shift(2,se);var ae=he.getFullYear()-1980;ae=ae<<4|he.getMonth()+1,ae=ae<<5|he.getDate(),K.write_shift(2,ae)}function a(K){var he=K.read_shift(2)&65535,se=K.read_shift(2)&65535,ae=new Date,ce=se&31;se>>>=5;var fe=se&15;se>>>=4,ae.setMilliseconds(0),ae.setFullYear(se+1980),ae.setMonth(fe-1),ae.setDate(ce);var ke=he&31;he>>>=5;var Oe=he&63;return he>>>=6,ae.setHours(he),ae.setMinutes(Oe),ae.setSeconds(ke<<1),ae}function o(K){Cs(K,0);for(var he={},se=0;K.l<=K.length-4;){var ae=K.read_shift(2),ce=K.read_shift(2),fe=K.l+ce,ke={};switch(ae){case 21589:se=K.read_shift(1),se&1&&(ke.mtime=K.read_shift(4)),ce>5&&(se&2&&(ke.atime=K.read_shift(4)),se&4&&(ke.ctime=K.read_shift(4))),ke.mtime&&(ke.mt=new Date(ke.mtime*1e3));break}K.l=fe,he[ae]=ke}return he}var l;function u(){return l||(l={})}function c(K,he){if(K[0]==80&&K[1]==75)return Ar(K,he);if((K[0]|32)==109&&(K[1]|32)==105)return Di(K,he);if(K.length<512)throw new Error("CFB file size "+K.length+" < 512");var se=3,ae=512,ce=0,fe=0,ke=0,Oe=0,Ce=0,Ie=[],De=K.slice(0,512);Cs(De,0);var Qe=h(De);switch(se=Qe[0],se){case 3:ae=512;break;case 4:ae=4096;break;case 0:if(Qe[1]==0)return Ar(K,he);default:throw new Error("Major Version: Expected 3 or 4 saw "+se)}ae!==512&&(De=K.slice(0,ae),Cs(De,28));var it=K.slice(0,ae);d(De,se);var pt=De.read_shift(4,"i");if(se===3&&pt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+pt);De.l+=4,ke=De.read_shift(4,"i"),De.l+=4,De.chk("00100000","Mini Stream Cutoff Size: "),Oe=De.read_shift(4,"i"),ce=De.read_shift(4,"i"),Ce=De.read_shift(4,"i"),fe=De.read_shift(4,"i");for(var tt=-1,ut=0;ut<109&&(tt=De.read_shift(4,"i"),!(tt<0));++ut)Ie[ut]=tt;var It=f(K,ae);b(Ce,fe,It,ae,Ie);var rr=S(It,ke,Ie,ae);rr[ke].name="!Directory",ce>0&&Oe!==R&&(rr[Oe].name="!MiniFAT"),rr[Ie[0]].name="!FAT",rr.fat_addrs=Ie,rr.ssz=ae;var nr={},Nr=[],Oi=[],oa=[];T(ke,rr,It,Nr,ce,nr,Oi,Oe),y(Oi,oa,Nr),Nr.shift();var ys={FileIndex:Oi,FullPaths:oa};return he&&he.raw&&(ys.raw={header:it,sectors:It}),ys}function h(K){if(K[K.l]==80&&K[K.l+1]==75)return[0,0];K.chk(H,"Header Signature: "),K.l+=16;var he=K.read_shift(2,"u");return[K.read_shift(2,"u"),he]}function d(K,he){var se=9;switch(K.l+=2,se=K.read_shift(2)){case 9:if(he!=3)throw new Error("Sector Shift: Expected 9 saw "+se);break;case 12:if(he!=4)throw new Error("Sector Shift: Expected 12 saw "+se);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+se)}K.chk("0600","Mini Sector Shift: "),K.chk("000000000000","Reserved: ")}function f(K,he){for(var se=Math.ceil(K.length/he)-1,ae=[],ce=1;ce<se;++ce)ae[ce-1]=K.slice(ce*he,(ce+1)*he);return ae[se-1]=K.slice(se*he),ae}function y(K,he,se){for(var ae=0,ce=0,fe=0,ke=0,Oe=0,Ce=se.length,Ie=[],De=[];ae<Ce;++ae)Ie[ae]=De[ae]=ae,he[ae]=se[ae];for(;Oe<De.length;++Oe)ae=De[Oe],ce=K[ae].L,fe=K[ae].R,ke=K[ae].C,Ie[ae]===ae&&(ce!==-1&&Ie[ce]!==ce&&(Ie[ae]=Ie[ce]),fe!==-1&&Ie[fe]!==fe&&(Ie[ae]=Ie[fe])),ke!==-1&&(Ie[ke]=ae),ce!==-1&&ae!=Ie[ae]&&(Ie[ce]=Ie[ae],De.lastIndexOf(ce)<Oe&&De.push(ce)),fe!==-1&&ae!=Ie[ae]&&(Ie[fe]=Ie[ae],De.lastIndexOf(fe)<Oe&&De.push(fe));for(ae=1;ae<Ce;++ae)Ie[ae]===ae&&(fe!==-1&&Ie[fe]!==fe?Ie[ae]=Ie[fe]:ce!==-1&&Ie[ce]!==ce&&(Ie[ae]=Ie[ce]));for(ae=1;ae<Ce;++ae)if(K[ae].type!==0){if(Oe=ae,Oe!=Ie[Oe])do Oe=Ie[Oe],he[ae]=he[Oe]+"/"+he[ae];while(Oe!==0&&Ie[Oe]!==-1&&Oe!=Ie[Oe]);Ie[ae]=-1}for(he[0]+="/",ae=1;ae<Ce;++ae)K[ae].type!==2&&(he[ae]+="/")}function v(K,he,se){for(var ae=K.start,ce=K.size,fe=[],ke=ae;se&&ce>0&&ke>=0;)fe.push(he.slice(ke*E,ke*E+E)),ce-=E,ke=cc(se,ke*4);return fe.length===0?Ve(0):oi(fe).slice(0,K.size)}function b(K,he,se,ae,ce){var fe=R;if(K===R){if(he!==0)throw new Error("DIFAT chain shorter than expected")}else if(K!==-1){var ke=se[K],Oe=(ae>>>2)-1;if(!ke)return;for(var Ce=0;Ce<Oe&&(fe=cc(ke,Ce*4))!==R;++Ce)ce.push(fe);b(cc(ke,ae-4),he-1,se,ae,ce)}}function w(K,he,se,ae,ce){var fe=[],ke=[];ce||(ce=[]);var Oe=ae-1,Ce=0,Ie=0;for(Ce=he;Ce>=0;){ce[Ce]=!0,fe[fe.length]=Ce,ke.push(K[Ce]);var De=se[Math.floor(Ce*4/ae)];if(Ie=Ce*4&Oe,ae<4+Ie)throw new Error("FAT boundary crossed: "+Ce+" 4 "+ae);if(!K[De])break;Ce=cc(K[De],Ie)}return{nodes:fe,data:q3([ke])}}function S(K,he,se,ae){var ce=K.length,fe=[],ke=[],Oe=[],Ce=[],Ie=ae-1,De=0,Qe=0,it=0,pt=0;for(De=0;De<ce;++De)if(Oe=[],it=De+he,it>=ce&&(it-=ce),!ke[it]){Ce=[];var tt=[];for(Qe=it;Qe>=0;){tt[Qe]=!0,ke[Qe]=!0,Oe[Oe.length]=Qe,Ce.push(K[Qe]);var ut=se[Math.floor(Qe*4/ae)];if(pt=Qe*4&Ie,ae<4+pt)throw new Error("FAT boundary crossed: "+Qe+" 4 "+ae);if(!K[ut]||(Qe=cc(K[ut],pt),tt[Qe]))break}fe[it]={nodes:Oe,data:q3([Ce])}}return fe}function T(K,he,se,ae,ce,fe,ke,Oe){for(var Ce=0,Ie=ae.length?2:0,De=he[K].data,Qe=0,it=0,pt;Qe<De.length;Qe+=128){var tt=De.slice(Qe,Qe+128);Cs(tt,64),it=tt.read_shift(2),pt=bb(tt,0,it-Ie),ae.push(pt);var ut={name:pt,type:tt.read_shift(1),color:tt.read_shift(1),L:tt.read_shift(4,"i"),R:tt.read_shift(4,"i"),C:tt.read_shift(4,"i"),clsid:tt.read_shift(16),state:tt.read_shift(4,"i"),start:0,size:0},It=tt.read_shift(2)+tt.read_shift(2)+tt.read_shift(2)+tt.read_shift(2);It!==0&&(ut.ct=F(tt,tt.l-8));var rr=tt.read_shift(2)+tt.read_shift(2)+tt.read_shift(2)+tt.read_shift(2);rr!==0&&(ut.mt=F(tt,tt.l-8)),ut.start=tt.read_shift(4,"i"),ut.size=tt.read_shift(4,"i"),ut.size<0&&ut.start<0&&(ut.size=ut.type=0,ut.start=R,ut.name=""),ut.type===5?(Ce=ut.start,ce>0&&Ce!==R&&(he[Ce].name="!StreamData")):ut.size>=4096?(ut.storage="fat",he[ut.start]===void 0&&(he[ut.start]=w(se,ut.start,he.fat_addrs,he.ssz)),he[ut.start].name=ut.name,ut.content=he[ut.start].data.slice(0,ut.size)):(ut.storage="minifat",ut.size<0?ut.size=0:Ce!==R&&ut.start!==R&&he[Ce]&&(ut.content=v(ut,he[Ce].data,(he[Oe]||{}).data))),ut.content&&Cs(ut.content,0),fe[pt]=ut,ke.push(ut)}}function F(K,he){return new Date((Is(K,he+4)/1e7*Math.pow(2,32)+Is(K,he)/1e7-11644473600)*1e3)}function j(K,he){return u(),c(l.readFileSync(K),he)}function M(K,he){var se=he&&he.type;switch(se||hr&&Buffer.isBuffer(K)&&(se="buffer"),se||"base64"){case"file":return j(K,he);case"base64":return c(Ca(tl(K)),he);case"binary":return c(Ca(K),he)}return c(K,he)}function A(K,he){var se=he||{},ae=se.root||"Root Entry";if(K.FullPaths||(K.FullPaths=[]),K.FileIndex||(K.FileIndex=[]),K.FullPaths.length!==K.FileIndex.length)throw new Error("inconsistent CFB structure");K.FullPaths.length===0&&(K.FullPaths[0]=ae+"/",K.FileIndex[0]={name:ae,type:5}),se.CLSID&&(K.FileIndex[0].clsid=se.CLSID),_(K)}function _(K){var he="Sh33tJ5";if(!Cr.find(K,"/"+he)){var se=Ve(4);se[0]=55,se[1]=se[3]=50,se[2]=54,K.FileIndex.push({name:he,type:2,content:se,size:4,L:69,R:69,C:69}),K.FullPaths.push(K.FullPaths[0]+he),C(K)}}function C(K,he){A(K);for(var se=!1,ae=!1,ce=K.FullPaths.length-1;ce>=0;--ce){var fe=K.FileIndex[ce];switch(fe.type){case 0:ae?se=!0:(K.FileIndex.pop(),K.FullPaths.pop());break;case 1:case 2:case 5:ae=!0,isNaN(fe.R*fe.L*fe.C)&&(se=!0),fe.R>-1&&fe.L>-1&&fe.R==fe.L&&(se=!0);break;default:se=!0;break}}if(!(!se&&!he)){var ke=new Date(1987,1,19),Oe=0,Ce=Object.create?Object.create(null):{},Ie=[];for(ce=0;ce<K.FullPaths.length;++ce)Ce[K.FullPaths[ce]]=!0,K.FileIndex[ce].type!==0&&Ie.push([K.FullPaths[ce],K.FileIndex[ce]]);for(ce=0;ce<Ie.length;++ce){var De=n(Ie[ce][0]);ae=Ce[De],ae||(Ie.push([De,{name:i(De).replace("/",""),type:1,clsid:ie,ct:ke,mt:ke,content:null}]),Ce[De]=!0)}for(Ie.sort(function(pt,tt){return r(pt[0],tt[0])}),K.FullPaths=[],K.FileIndex=[],ce=0;ce<Ie.length;++ce)K.FullPaths[ce]=Ie[ce][0],K.FileIndex[ce]=Ie[ce][1];for(ce=0;ce<Ie.length;++ce){var Qe=K.FileIndex[ce],it=K.FullPaths[ce];if(Qe.name=i(it).replace("/",""),Qe.L=Qe.R=Qe.C=-(Qe.color=1),Qe.size=Qe.content?Qe.content.length:0,Qe.start=0,Qe.clsid=Qe.clsid||ie,ce===0)Qe.C=Ie.length>1?1:-1,Qe.size=0,Qe.type=5;else if(it.slice(-1)=="/"){for(Oe=ce+1;Oe<Ie.length&&n(K.FullPaths[Oe])!=it;++Oe);for(Qe.C=Oe>=Ie.length?-1:Oe,Oe=ce+1;Oe<Ie.length&&n(K.FullPaths[Oe])!=n(it);++Oe);Qe.R=Oe>=Ie.length?-1:Oe,Qe.type=1}else n(K.FullPaths[ce+1]||"")==n(it)&&(Qe.R=ce+1),Qe.type=2}}}function D(K,he){var se=he||{};if(se.fileType=="mad")return vt(K,se);switch(C(K),se.fileType){case"zip":return Fi(K,se)}var ae=function(pt){for(var tt=0,ut=0,It=0;It<pt.FileIndex.length;++It){var rr=pt.FileIndex[It];if(rr.content){var nr=rr.content.length;nr>0&&(nr<4096?tt+=nr+63>>6:ut+=nr+511>>9)}}for(var Nr=pt.FullPaths.length+3>>2,Oi=tt+7>>3,oa=tt+127>>7,ys=Oi+ut+Nr+oa,Qi=ys+127>>7,xs=Qi<=109?0:Math.ceil((Qi-109)/127);ys+Qi+xs+127>>7>Qi;)xs=++Qi<=109?0:Math.ceil((Qi-109)/127);var Xn=[1,xs,Qi,oa,Nr,ut,tt,0];return pt.FileIndex[0].size=tt<<6,Xn[7]=(pt.FileIndex[0].start=Xn[0]+Xn[1]+Xn[2]+Xn[3]+Xn[4]+Xn[5])+(Xn[6]+7>>3),Xn}(K),ce=Ve(ae[7]<<9),fe=0,ke=0;{for(fe=0;fe<8;++fe)ce.write_shift(1,me[fe]);for(fe=0;fe<8;++fe)ce.write_shift(2,0);for(ce.write_shift(2,62),ce.write_shift(2,3),ce.write_shift(2,65534),ce.write_shift(2,9),ce.write_shift(2,6),fe=0;fe<3;++fe)ce.write_shift(2,0);for(ce.write_shift(4,0),ce.write_shift(4,ae[2]),ce.write_shift(4,ae[0]+ae[1]+ae[2]+ae[3]-1),ce.write_shift(4,0),ce.write_shift(4,4096),ce.write_shift(4,ae[3]?ae[0]+ae[1]+ae[2]-1:R),ce.write_shift(4,ae[3]),ce.write_shift(-4,ae[1]?ae[0]-1:R),ce.write_shift(4,ae[1]),fe=0;fe<109;++fe)ce.write_shift(-4,fe<ae[2]?ae[1]+fe:-1)}if(ae[1])for(ke=0;ke<ae[1];++ke){for(;fe<236+ke*127;++fe)ce.write_shift(-4,fe<ae[2]?ae[1]+fe:-1);ce.write_shift(-4,ke===ae[1]-1?R:ke+1)}var Oe=function(pt){for(ke+=pt;fe<ke-1;++fe)ce.write_shift(-4,fe+1);pt&&(++fe,ce.write_shift(-4,R))};for(ke=fe=0,ke+=ae[1];fe<ke;++fe)ce.write_shift(-4,ee.DIFSECT);for(ke+=ae[2];fe<ke;++fe)ce.write_shift(-4,ee.FATSECT);Oe(ae[3]),Oe(ae[4]);for(var Ce=0,Ie=0,De=K.FileIndex[0];Ce<K.FileIndex.length;++Ce)De=K.FileIndex[Ce],De.content&&(Ie=De.content.length,!(Ie<4096)&&(De.start=ke,Oe(Ie+511>>9)));for(Oe(ae[6]+7>>3);ce.l&511;)ce.write_shift(-4,ee.ENDOFCHAIN);for(ke=fe=0,Ce=0;Ce<K.FileIndex.length;++Ce)De=K.FileIndex[Ce],De.content&&(Ie=De.content.length,!(!Ie||Ie>=4096)&&(De.start=ke,Oe(Ie+63>>6)));for(;ce.l&511;)ce.write_shift(-4,ee.ENDOFCHAIN);for(fe=0;fe<ae[4]<<2;++fe){var Qe=K.FullPaths[fe];if(!Qe||Qe.length===0){for(Ce=0;Ce<17;++Ce)ce.write_shift(4,0);for(Ce=0;Ce<3;++Ce)ce.write_shift(4,-1);for(Ce=0;Ce<12;++Ce)ce.write_shift(4,0);continue}De=K.FileIndex[fe],fe===0&&(De.start=De.size?De.start-1:R);var it=fe===0&&se.root||De.name;if(Ie=2*(it.length+1),ce.write_shift(64,it,"utf16le"),ce.write_shift(2,Ie),ce.write_shift(1,De.type),ce.write_shift(1,De.color),ce.write_shift(-4,De.L),ce.write_shift(-4,De.R),ce.write_shift(-4,De.C),De.clsid)ce.write_shift(16,De.clsid,"hex");else for(Ce=0;Ce<4;++Ce)ce.write_shift(4,0);ce.write_shift(4,De.state||0),ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(4,0),ce.write_shift(4,De.start),ce.write_shift(4,De.size),ce.write_shift(4,0)}for(fe=1;fe<K.FileIndex.length;++fe)if(De=K.FileIndex[fe],De.size>=4096)if(ce.l=De.start+1<<9,hr&&Buffer.isBuffer(De.content))De.content.copy(ce,ce.l,0,De.size),ce.l+=De.size+511&-512;else{for(Ce=0;Ce<De.size;++Ce)ce.write_shift(1,De.content[Ce]);for(;Ce&511;++Ce)ce.write_shift(1,0)}for(fe=1;fe<K.FileIndex.length;++fe)if(De=K.FileIndex[fe],De.size>0&&De.size<4096)if(hr&&Buffer.isBuffer(De.content))De.content.copy(ce,ce.l,0,De.size),ce.l+=De.size+63&-64;else{for(Ce=0;Ce<De.size;++Ce)ce.write_shift(1,De.content[Ce]);for(;Ce&63;++Ce)ce.write_shift(1,0)}if(hr)ce.l=ce.length;else for(;ce.l<ce.length;)ce.write_shift(1,0);return ce}function N(K,he){var se=K.FullPaths.map(function(Ce){return Ce.toUpperCase()}),ae=se.map(function(Ce){var Ie=Ce.split("/");return Ie[Ie.length-(Ce.slice(-1)=="/"?2:1)]}),ce=!1;he.charCodeAt(0)===47?(ce=!0,he=se[0].slice(0,-1)+he):ce=he.indexOf("/")!==-1;var fe=he.toUpperCase(),ke=ce===!0?se.indexOf(fe):ae.indexOf(fe);if(ke!==-1)return K.FileIndex[ke];var Oe=!fe.match(Gm);for(fe=fe.replace(m0,""),Oe&&(fe=fe.replace(Gm,"!")),ke=0;ke<se.length;++ke)if((Oe?se[ke].replace(Gm,"!"):se[ke]).replace(m0,"")==fe||(Oe?ae[ke].replace(Gm,"!"):ae[ke]).replace(m0,"")==fe)return K.FileIndex[ke];return null}var E=64,R=-2,H="d0cf11e0a1b11ae1",me=[208,207,17,224,161,177,26,225],ie="00000000000000000000000000000000",ee={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:R,FREESECT:-1,HEADER_SIGNATURE:H,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ie,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function J(K,he,se){u();var ae=D(K,se);l.writeFileSync(he,ae)}function re(K){for(var he=new Array(K.length),se=0;se<K.length;++se)he[se]=String.fromCharCode(K[se]);return he.join("")}function de(K,he){var se=D(K,he);switch(he&&he.type||"buffer"){case"file":return u(),l.writeFileSync(he.filename,se),se;case"binary":return typeof se=="string"?se:re(se);case"base64":return up(typeof se=="string"?se:re(se));case"buffer":if(hr)return Buffer.isBuffer(se)?se:ll(se);case"array":return typeof se=="string"?Ca(se):se}return se}var Se;function I(K){try{var he=K.InflateRaw,se=new he;if(se._processChunk(new Uint8Array([3,0]),se._finishFlushFlag),se.bytesRead)Se=K;else throw new Error("zlib does not expose bytesRead")}catch(ae){console.error("cannot use native zlib: "+(ae.message||ae))}}function V(K,he){if(!Se)return Kt(K,he);var se=Se.InflateRaw,ae=new se,ce=ae._processChunk(K.slice(K.l),ae._finishFlushFlag);return K.l+=ae.bytesRead,ce}function U(K){return Se?Se.deflateRawSync(K):Ht(K)}var z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Q=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ge=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function G(K){var he=(K<<1|K<<11)&139536|(K<<5|K<<15)&558144;return(he>>16|he>>8|he)&255}for(var ue=typeof Uint8Array<"u",ye=ue?new Uint8Array(256):[],Ne=0;Ne<256;++Ne)ye[Ne]=G(Ne);function je(K,he){var se=ye[K&255];return he<=8?se>>>8-he:(se=se<<8|ye[K>>8&255],he<=16?se>>>16-he:(se=se<<8|ye[K>>16&255],se>>>24-he))}function Ue(K,he){var se=he&7,ae=he>>>3;return(K[ae]|(se<=6?0:K[ae+1]<<8))>>>se&3}function ze(K,he){var se=he&7,ae=he>>>3;return(K[ae]|(se<=5?0:K[ae+1]<<8))>>>se&7}function Pe(K,he){var se=he&7,ae=he>>>3;return(K[ae]|(se<=4?0:K[ae+1]<<8))>>>se&15}function oe(K,he){var se=he&7,ae=he>>>3;return(K[ae]|(se<=3?0:K[ae+1]<<8))>>>se&31}function He(K,he){var se=he&7,ae=he>>>3;return(K[ae]|(se<=1?0:K[ae+1]<<8))>>>se&127}function ht(K,he,se){var ae=he&7,ce=he>>>3,fe=(1<<se)-1,ke=K[ce]>>>ae;return se<8-ae||(ke|=K[ce+1]<<8-ae,se<16-ae)||(ke|=K[ce+2]<<16-ae,se<24-ae)||(ke|=K[ce+3]<<24-ae),ke&fe}function Ye(K,he,se){var ae=he&7,ce=he>>>3;return ae<=5?K[ce]|=(se&7)<<ae:(K[ce]|=se<<ae&255,K[ce+1]=(se&7)>>8-ae),he+3}function nt(K,he,se){var ae=he&7,ce=he>>>3;return se=(se&1)<<ae,K[ce]|=se,he+1}function ot(K,he,se){var ae=he&7,ce=he>>>3;return se<<=ae,K[ce]|=se&255,se>>>=8,K[ce+1]=se,he+8}function lt(K,he,se){var ae=he&7,ce=he>>>3;return se<<=ae,K[ce]|=se&255,se>>>=8,K[ce+1]=se&255,K[ce+2]=se>>>8,he+16}function _t(K,he){var se=K.length,ae=2*se>he?2*se:he+5,ce=0;if(se>=he)return K;if(hr){var fe=P3(ae);if(K.copy)K.copy(fe);else for(;ce<K.length;++ce)fe[ce]=K[ce];return fe}else if(ue){var ke=new Uint8Array(ae);if(ke.set)ke.set(K);else for(;ce<se;++ce)ke[ce]=K[ce];return ke}return K.length=ae,K}function St(K){for(var he=new Array(K),se=0;se<K;++se)he[se]=0;return he}function Rt(K,he,se){var ae=1,ce=0,fe=0,ke=0,Oe=0,Ce=K.length,Ie=ue?new Uint16Array(32):St(32);for(fe=0;fe<32;++fe)Ie[fe]=0;for(fe=Ce;fe<se;++fe)K[fe]=0;Ce=K.length;var De=ue?new Uint16Array(Ce):St(Ce);for(fe=0;fe<Ce;++fe)Ie[ce=K[fe]]++,ae<ce&&(ae=ce),De[fe]=0;for(Ie[0]=0,fe=1;fe<=ae;++fe)Ie[fe+16]=Oe=Oe+Ie[fe-1]<<1;for(fe=0;fe<Ce;++fe)Oe=K[fe],Oe!=0&&(De[fe]=Ie[Oe+16]++);var Qe=0;for(fe=0;fe<Ce;++fe)if(Qe=K[fe],Qe!=0)for(Oe=je(De[fe],ae)>>ae-Qe,ke=(1<<ae+4-Qe)-1;ke>=0;--ke)he[Oe|ke<<Qe]=Qe&15|fe<<4;return ae}var Tt=ue?new Uint16Array(512):St(512),kt=ue?new Uint16Array(32):St(32);if(!ue){for(var qt=0;qt<512;++qt)Tt[qt]=0;for(qt=0;qt<32;++qt)kt[qt]=0}(function(){for(var K=[],he=0;he<32;he++)K.push(5);Rt(K,kt,32);var se=[];for(he=0;he<=143;he++)se.push(8);for(;he<=255;he++)se.push(9);for(;he<=279;he++)se.push(7);for(;he<=287;he++)se.push(8);Rt(se,Tt,288)})();var Ct=function(){for(var he=ue?new Uint8Array(32768):[],se=0,ae=0;se<ge.length-1;++se)for(;ae<ge[se+1];++ae)he[ae]=se;for(;ae<32768;++ae)he[ae]=29;var ce=ue?new Uint8Array(259):[];for(se=0,ae=0;se<Q.length-1;++se)for(;ae<Q[se+1];++ae)ce[ae]=se;function fe(Oe,Ce){for(var Ie=0;Ie<Oe.length;){var De=Math.min(65535,Oe.length-Ie),Qe=Ie+De==Oe.length;for(Ce.write_shift(1,+Qe),Ce.write_shift(2,De),Ce.write_shift(2,~De&65535);De-- >0;)Ce[Ce.l++]=Oe[Ie++]}return Ce.l}function ke(Oe,Ce){for(var Ie=0,De=0,Qe=ue?new Uint16Array(32768):[];De<Oe.length;){var it=Math.min(65535,Oe.length-De);if(it<10){for(Ie=Ye(Ce,Ie,+(De+it==Oe.length)),Ie&7&&(Ie+=8-(Ie&7)),Ce.l=Ie/8|0,Ce.write_shift(2,it),Ce.write_shift(2,~it&65535);it-- >0;)Ce[Ce.l++]=Oe[De++];Ie=Ce.l*8;continue}Ie=Ye(Ce,Ie,+(De+it==Oe.length)+2);for(var pt=0;it-- >0;){var tt=Oe[De];pt=(pt<<5^tt)&32767;var ut=-1,It=0;if((ut=Qe[pt])&&(ut|=De&-32768,ut>De&&(ut-=32768),ut<De))for(;Oe[ut+It]==Oe[De+It]&&It<250;)++It;if(It>2){tt=ce[It],tt<=22?Ie=ot(Ce,Ie,ye[tt+1]>>1)-1:(ot(Ce,Ie,3),Ie+=5,ot(Ce,Ie,ye[tt-23]>>5),Ie+=3);var rr=tt<8?0:tt-4>>2;rr>0&&(lt(Ce,Ie,It-Q[tt]),Ie+=rr),tt=he[De-ut],Ie=ot(Ce,Ie,ye[tt]>>3),Ie-=3;var nr=tt<4?0:tt-2>>1;nr>0&&(lt(Ce,Ie,De-ut-ge[tt]),Ie+=nr);for(var Nr=0;Nr<It;++Nr)Qe[pt]=De&32767,pt=(pt<<5^Oe[De])&32767,++De;it-=It-1}else tt<=143?tt=tt+48:Ie=nt(Ce,Ie,1),Ie=ot(Ce,Ie,ye[tt]),Qe[pt]=De&32767,++De}Ie=ot(Ce,Ie,0)-1}return Ce.l=(Ie+7)/8|0,Ce.l}return function(Ce,Ie){return Ce.length<8?fe(Ce,Ie):ke(Ce,Ie)}}();function Ht(K){var he=Ve(50+Math.floor(K.length*1.1)),se=Ct(K,he);return he.slice(0,se)}var dt=ue?new Uint16Array(32768):St(32768),Or=ue?new Uint16Array(32768):St(32768),Gt=ue?new Uint16Array(128):St(128),Yn=1,tr=1;function Er(K,he){var se=oe(K,he)+257;he+=5;var ae=oe(K,he)+1;he+=5;var ce=Pe(K,he)+4;he+=4;for(var fe=0,ke=ue?new Uint8Array(19):St(19),Oe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ce=1,Ie=ue?new Uint8Array(8):St(8),De=ue?new Uint8Array(8):St(8),Qe=ke.length,it=0;it<ce;++it)ke[z[it]]=fe=ze(K,he),Ce<fe&&(Ce=fe),Ie[fe]++,he+=3;var pt=0;for(Ie[0]=0,it=1;it<=Ce;++it)De[it]=pt=pt+Ie[it-1]<<1;for(it=0;it<Qe;++it)(pt=ke[it])!=0&&(Oe[it]=De[pt]++);var tt=0;for(it=0;it<Qe;++it)if(tt=ke[it],tt!=0){pt=ye[Oe[it]]>>8-tt;for(var ut=(1<<7-tt)-1;ut>=0;--ut)Gt[pt|ut<<tt]=tt&7|it<<3}var It=[];for(Ce=1;It.length<se+ae;)switch(pt=Gt[He(K,he)],he+=pt&7,pt>>>=3){case 16:for(fe=3+Ue(K,he),he+=2,pt=It[It.length-1];fe-- >0;)It.push(pt);break;case 17:for(fe=3+ze(K,he),he+=3;fe-- >0;)It.push(0);break;case 18:for(fe=11+He(K,he),he+=7;fe-- >0;)It.push(0);break;default:It.push(pt),Ce<pt&&(Ce=pt);break}var rr=It.slice(0,se),nr=It.slice(se);for(it=se;it<286;++it)rr[it]=0;for(it=ae;it<30;++it)nr[it]=0;return Yn=Rt(rr,dt,286),tr=Rt(nr,Or,30),he}function Yi(K,he){if(K[0]==3&&!(K[1]&3))return[Vc(he),2];for(var se=0,ae=0,ce=P3(he||1<<18),fe=0,ke=ce.length>>>0,Oe=0,Ce=0;!(ae&1);){if(ae=ze(K,se),se+=3,ae>>>1)ae>>1==1?(Oe=9,Ce=5):(se=Er(K,se),Oe=Yn,Ce=tr);else{se&7&&(se+=8-(se&7));var Ie=K[se>>>3]|K[(se>>>3)+1]<<8;if(se+=32,Ie>0)for(!he&&ke<fe+Ie&&(ce=_t(ce,fe+Ie),ke=ce.length);Ie-- >0;)ce[fe++]=K[se>>>3],se+=8;continue}for(;;){!he&&ke<fe+32767&&(ce=_t(ce,fe+32767),ke=ce.length);var De=ht(K,se,Oe),Qe=ae>>>1==1?Tt[De]:dt[De];if(se+=Qe&15,Qe>>>=4,!(Qe>>>8&255))ce[fe++]=Qe;else{if(Qe==256)break;Qe-=257;var it=Qe<8?0:Qe-4>>2;it>5&&(it=0);var pt=fe+Q[Qe];it>0&&(pt+=ht(K,se,it),se+=it),De=ht(K,se,Ce),Qe=ae>>>1==1?kt[De]:Or[De],se+=Qe&15,Qe>>>=4;var tt=Qe<4?0:Qe-2>>1,ut=ge[Qe];for(tt>0&&(ut+=ht(K,se,tt),se+=tt),!he&&ke<pt&&(ce=_t(ce,pt+100),ke=ce.length);fe<pt;)ce[fe]=ce[fe-ut],++fe}}}return he?[ce,se+7>>>3]:[ce.slice(0,fe),se+7>>>3]}function Kt(K,he){var se=K.slice(K.l||0),ae=Yi(se,he);return K.l+=ae[1],ae[0]}function vs(K,he){if(K)typeof console<"u"&&console.error(he);else throw new Error(he)}function Ar(K,he){var se=K;Cs(se,0);var ae=[],ce=[],fe={FileIndex:ae,FullPaths:ce};A(fe,{root:he.root});for(var ke=se.length-4;(se[ke]!=80||se[ke+1]!=75||se[ke+2]!=5||se[ke+3]!=6)&&ke>=0;)--ke;se.l=ke+4,se.l+=4;var Oe=se.read_shift(2);se.l+=6;var Ce=se.read_shift(4);for(se.l=Ce,ke=0;ke<Oe;++ke){se.l+=20;var Ie=se.read_shift(4),De=se.read_shift(4),Qe=se.read_shift(2),it=se.read_shift(2),pt=se.read_shift(2);se.l+=8;var tt=se.read_shift(4),ut=o(se.slice(se.l+Qe,se.l+Qe+it));se.l+=Qe+it+pt;var It=se.l;se.l=tt+4,Cn(se,Ie,De,fe,ut),se.l=It}return fe}function Cn(K,he,se,ae,ce){K.l+=2;var fe=K.read_shift(2),ke=K.read_shift(2),Oe=a(K);if(fe&8257)throw new Error("Unsupported ZIP encryption");for(var Ce=K.read_shift(4),Ie=K.read_shift(4),De=K.read_shift(4),Qe=K.read_shift(2),it=K.read_shift(2),pt="",tt=0;tt<Qe;++tt)pt+=String.fromCharCode(K[K.l++]);if(it){var ut=o(K.slice(K.l,K.l+it));(ut[21589]||{}).mt&&(Oe=ut[21589].mt),((ce||{})[21589]||{}).mt&&(Oe=ce[21589].mt)}K.l+=it;var It=K.slice(K.l,K.l+Ie);switch(ke){case 8:It=V(K,De);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ke)}var rr=!1;fe&8&&(Ce=K.read_shift(4),Ce==134695760&&(Ce=K.read_shift(4),rr=!0),Ie=K.read_shift(4),De=K.read_shift(4)),Ie!=he&&vs(rr,"Bad compressed size: "+he+" != "+Ie),De!=se&&vs(rr,"Bad uncompressed size: "+se+" != "+De),xn(ae,pt,It,{unsafe:!0,mt:Oe})}function Fi(K,he){var se=he||{},ae=[],ce=[],fe=Ve(1),ke=se.compression?8:0,Oe=0,Ce=0,Ie=0,De=0,Qe=0,it=K.FullPaths[0],pt=it,tt=K.FileIndex[0],ut=[],It=0;for(Ce=1;Ce<K.FullPaths.length;++Ce)if(pt=K.FullPaths[Ce].slice(it.length),tt=K.FileIndex[Ce],!(!tt.size||!tt.content||pt=="Sh33tJ5")){var rr=De,nr=Ve(pt.length);for(Ie=0;Ie<pt.length;++Ie)nr.write_shift(1,pt.charCodeAt(Ie)&127);nr=nr.slice(0,nr.l),ut[Qe]=HY.buf(tt.content,0);var Nr=tt.content;ke==8&&(Nr=U(Nr)),fe=Ve(30),fe.write_shift(4,67324752),fe.write_shift(2,20),fe.write_shift(2,Oe),fe.write_shift(2,ke),tt.mt?s(fe,tt.mt):fe.write_shift(4,0),fe.write_shift(-4,ut[Qe]),fe.write_shift(4,Nr.length),fe.write_shift(4,tt.content.length),fe.write_shift(2,nr.length),fe.write_shift(2,0),De+=fe.length,ae.push(fe),De+=nr.length,ae.push(nr),De+=Nr.length,ae.push(Nr),fe=Ve(46),fe.write_shift(4,33639248),fe.write_shift(2,0),fe.write_shift(2,20),fe.write_shift(2,Oe),fe.write_shift(2,ke),fe.write_shift(4,0),fe.write_shift(-4,ut[Qe]),fe.write_shift(4,Nr.length),fe.write_shift(4,tt.content.length),fe.write_shift(2,nr.length),fe.write_shift(2,0),fe.write_shift(2,0),fe.write_shift(2,0),fe.write_shift(2,0),fe.write_shift(4,0),fe.write_shift(4,rr),It+=fe.l,ce.push(fe),It+=nr.length,ce.push(nr),++Qe}return fe=Ve(22),fe.write_shift(4,101010256),fe.write_shift(2,0),fe.write_shift(2,0),fe.write_shift(2,Qe),fe.write_shift(2,Qe),fe.write_shift(4,It),fe.write_shift(4,De),fe.write_shift(2,0),oi([oi(ae),oi(ce),fe])}var ur={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Et(K,he){if(K.ctype)return K.ctype;var se=K.name||"",ae=se.match(/\.([^\.]+)$/);return ae&&ur[ae[1]]||he&&(ae=(se=he).match(/[\.\\]([^\.\\])+$/),ae&&ur[ae[1]])?ur[ae[1]]:"application/octet-stream"}function Zt(K){for(var he=up(K),se=[],ae=0;ae<he.length;ae+=76)se.push(he.slice(ae,ae+76));return se.join(`\r
`)+`\r
`}function Xi(K){var he=K.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ie){var De=Ie.charCodeAt(0).toString(16).toUpperCase();return"="+(De.length==1?"0"+De:De)});he=he.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),he.charAt(0)==`
`&&(he="=0D"+he.slice(1)),he=he.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var se=[],ae=he.split(`\r
`),ce=0;ce<ae.length;++ce){var fe=ae[ce];if(fe.length==0){se.push("");continue}for(var ke=0;ke<fe.length;){var Oe=76,Ce=fe.slice(ke,ke+Oe);Ce.charAt(Oe-1)=="="?Oe--:Ce.charAt(Oe-2)=="="?Oe-=2:Ce.charAt(Oe-3)=="="&&(Oe-=3),Ce=fe.slice(ke,ke+Oe),ke+=Oe,ke<fe.length&&(Ce+="="),se.push(Ce)}}return se.join(`\r
`)}function en(K){for(var he=[],se=0;se<K.length;++se){for(var ae=K[se];se<=K.length&&ae.charAt(ae.length-1)=="=";)ae=ae.slice(0,ae.length-1)+K[++se];he.push(ae)}for(var ce=0;ce<he.length;++ce)he[ce]=he[ce].replace(/[=][0-9A-Fa-f]{2}/g,function(fe){return String.fromCharCode(parseInt(fe.slice(1),16))});return Ca(he.join(`\r
`))}function Bn(K,he,se){for(var ae="",ce="",fe="",ke,Oe=0;Oe<10;++Oe){var Ce=he[Oe];if(!Ce||Ce.match(/^\s*$/))break;var Ie=Ce.match(/^(.*?):\s*([^\s].*)$/);if(Ie)switch(Ie[1].toLowerCase()){case"content-location":ae=Ie[2].trim();break;case"content-type":fe=Ie[2].trim();break;case"content-transfer-encoding":ce=Ie[2].trim();break}}switch(++Oe,ce.toLowerCase()){case"base64":ke=Ca(tl(he.slice(Oe).join("")));break;case"quoted-printable":ke=en(he.slice(Oe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ce)}var De=xn(K,ae.slice(se.length),ke,{unsafe:!0});fe&&(De.ctype=fe)}function Di(K,he){if(re(K.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var se=he&&he.root||"",ae=(hr&&Buffer.isBuffer(K)?K.toString("binary"):re(K)).split(`\r
`),ce=0,fe="";for(ce=0;ce<ae.length;++ce)if(fe=ae[ce],!!/^Content-Location:/i.test(fe)&&(fe=fe.slice(fe.indexOf("file")),se||(se=fe.slice(0,fe.lastIndexOf("/")+1)),fe.slice(0,se.length)!=se))for(;se.length>0&&(se=se.slice(0,se.length-1),se=se.slice(0,se.lastIndexOf("/")+1),fe.slice(0,se.length)!=se););var ke=(ae[1]||"").match(/boundary="(.*?)"/);if(!ke)throw new Error("MAD cannot find boundary");var Oe="--"+(ke[1]||""),Ce=[],Ie=[],De={FileIndex:Ce,FullPaths:Ie};A(De);var Qe,it=0;for(ce=0;ce<ae.length;++ce){var pt=ae[ce];pt!==Oe&&pt!==Oe+"--"||(it++&&Bn(De,ae.slice(Qe,ce),se),Qe=ce)}return De}function vt(K,he){var se=he||{},ae=se.boundary||"SheetJS";ae="------="+ae;for(var ce=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ae.slice(2)+'"',"","",""],fe=K.FullPaths[0],ke=fe,Oe=K.FileIndex[0],Ce=1;Ce<K.FullPaths.length;++Ce)if(ke=K.FullPaths[Ce].slice(fe.length),Oe=K.FileIndex[Ce],!(!Oe.size||!Oe.content||ke=="Sh33tJ5")){ke=ke.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(It){return"_x"+It.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(It){return"_u"+It.charCodeAt(0).toString(16)+"_"});for(var Ie=Oe.content,De=hr&&Buffer.isBuffer(Ie)?Ie.toString("binary"):re(Ie),Qe=0,it=Math.min(1024,De.length),pt=0,tt=0;tt<=it;++tt)(pt=De.charCodeAt(tt))>=32&&pt<128&&++Qe;var ut=Qe>=it*4/5;ce.push(ae),ce.push("Content-Location: "+(se.root||"file:///C:/SheetJS/")+ke),ce.push("Content-Transfer-Encoding: "+(ut?"quoted-printable":"base64")),ce.push("Content-Type: "+Et(Oe,ke)),ce.push(""),ce.push(ut?Xi(De):Zt(De))}return ce.push(ae+`--\r
`),ce.join(`\r
`)}function mi(K){var he={};return A(he,K),he}function xn(K,he,se,ae){var ce=ae&&ae.unsafe;ce||A(K);var fe=!ce&&Cr.find(K,he);if(!fe){var ke=K.FullPaths[0];he.slice(0,ke.length)==ke?ke=he:(ke.slice(-1)!="/"&&(ke+="/"),ke=(ke+he).replace("//","/")),fe={name:i(he),type:2},K.FileIndex.push(fe),K.FullPaths.push(ke),ce||Cr.utils.cfb_gc(K)}return fe.content=se,fe.size=se?se.length:0,ae&&(ae.CLSID&&(fe.clsid=ae.CLSID),ae.mt&&(fe.mt=ae.mt),ae.ct&&(fe.ct=ae.ct)),fe}function tn(K,he){A(K);var se=Cr.find(K,he);if(se){for(var ae=0;ae<K.FileIndex.length;++ae)if(K.FileIndex[ae]==se)return K.FileIndex.splice(ae,1),K.FullPaths.splice(ae,1),!0}return!1}function Kr(K,he,se){A(K);var ae=Cr.find(K,he);if(ae){for(var ce=0;ce<K.FileIndex.length;++ce)if(K.FileIndex[ce]==ae)return K.FileIndex[ce].name=i(se),K.FullPaths[ce]=se,!0}return!1}function qr(K){C(K,!0)}return e.find=N,e.read=M,e.parse=c,e.write=de,e.writeFile=J,e.utils={cfb_new:mi,cfb_add:xn,cfb_del:tn,cfb_mov:Kr,cfb_gc:qr,ReadShift:v0,CheckField:K8,prep_blob:Cs,bconcat:oi,use_zlib:I,_deflateRaw:Ht,_inflateRaw:Kt,consts:ee},e}();function WY(t){return typeof t=="string"?Dv(t):Array.isArray(t)?gY(t):t}function Bp(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=Dv(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?hp(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var i=new Blob([WY(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:t,saveAs:!0});var a=document.createElement("a");if(a.download!=null)return a.download=t,a.href=s,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(t);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=Mp(e)),o.write(e),o.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+t)}function pi(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function M3(t,e){for(var r=[],n=pi(t),i=0;i!==n.length;++i)r[t[n[i]][e]]==null&&(r[t[n[i]][e]]=n[i]);return r}function yb(t){for(var e=[],r=pi(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function Mv(t){for(var e=[],r=pi(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function qY(t){for(var e=[],r=pi(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var P1=new Date(1899,11,30,0,0,0);function ps(t,e){var r=t.getTime(),n=P1.getTime()+(t.getTimezoneOffset()-P1.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var I8=new Date,$Y=P1.getTime()+(I8.getTimezoneOffset()-P1.getTimezoneOffset())*6e4,B3=I8.getTimezoneOffset();function R8(t){var e=new Date;return e.setTime(t*24*60*60*1e3+$Y),e.getTimezoneOffset()!==B3&&e.setTime(e.getTime()+(e.getTimezoneOffset()-B3)*6e4),e}var V3=new Date("2017-02-19T19:06:09.000Z"),L8=isNaN(V3.getFullYear())?new Date("2/19/17"):V3,GY=L8.getFullYear()==2017;function $i(t,e){var r=new Date(t);if(GY)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(L8.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function Bv(t,e){if(hr&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],i=0;i!=t.length;++i)n.push(String.fromCharCode(t[i]));return n.join("")}function ms(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=ms(t[r]));return e}function ln(t,e){for(var r="";r.length<e;)r+=t;return r}function zo(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,s){return r=-r,s}),!isNaN(e=Number(n)))?e/r:e}var KY=["january","february","march","april","may","june","july","august","september","october","november","december"];function cp(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return r;var a=t.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&KY.indexOf(a)==-1)return r}else if(a.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||s>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}function $t(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return hr?n=ll(r):n=vY(r),Cr.utils.cfb_add(t,e,n)}Cr.utils.cfb_add(t,e,r)}else t.file(e,r)}function xb(){return Cr.utils.cfb_new()}var kn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,YY={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},wb=yb(YY),_b=/[&<>'"]/g,XY=/[\u0000-\u0008\u000b-\u001f]/g;function _r(t){var e=t+"";return e.replace(_b,function(r){return wb[r]}).replace(XY,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function U3(t){return _r(t).replace(/ /g,"_x0020_")}var F8=/[\u0000-\u001f]/g;function QY(t){var e=t+"";return e.replace(_b,function(r){return wb[r]}).replace(/\n/g,"<br/>").replace(F8,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function JY(t){var e=t+"";return e.replace(_b,function(r){return wb[r]}).replace(F8,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function ZY(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function eX(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function vy(t){for(var e="",r=0,n=0,i=0,s=0,a=0,o=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(i=t.charCodeAt(r++),n>191&&n<224){a=(n&31)<<6,a|=i&63,e+=String.fromCharCode(a);continue}if(s=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|s&63);continue}a=t.charCodeAt(r++),o=((n&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function z3(t){var e=Vc(2*t.length),r,n,i=1,s=0,a=0,o;for(n=0;n<t.length;n+=i)i=1,(o=t.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(t.charCodeAt(n+1)&63),i=2):o<240?(r=(o&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),i=3):(i=4,r=(o&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,a=55296+(r>>>10&1023),r=56320+(r&1023)),a!==0&&(e[s++]=a&255,e[s++]=a>>>8,a=0),e[s++]=r%256,e[s++]=r>>>8;return e.slice(0,s).toString("ucs2")}function H3(t){return ll(t,"binary").toString("utf8")}var Ym="foo bar baz",g0=hr&&(H3(Ym)==vy(Ym)&&H3||z3(Ym)==vy(Ym)&&z3)||vy,hp=hr?function(t){return ll(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,i=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},tX=function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)n=n.replace(t[i][0],t[i][1]);return n}}(),D8=/(^\s|\s$|\n)/;function li(t,e){return"<"+t+(e.match(D8)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function fp(t){return pi(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function st(t,e,r){return"<"+t+(r!=null?fp(r):"")+(e!=null?(e.match(D8)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function Iw(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function rX(t,e){switch(typeof t){case"string":var r=st("vt:lpwstr",_r(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return st((t|0)==t?"vt:i4":"vt:r8",_r(String(t)));case"boolean":return st("vt:bool",t?"true":"false")}if(t instanceof Date)return st("vt:filetime",Iw(t));throw new Error("Unable to serialize "+t)}var qn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Qf=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Ps={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function nX(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function iX(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,a=n?-e:e;isFinite(a)?a==0?i=s=0:(i=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var o=0;o<=5;++o,s/=256)t[r+o]=s&255;t[r+6]=(i&15)<<4|s&15,t[r+7]=i>>4|n}var W3=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var i=0,s=t[0][n].length;i<s;i+=r)e.push.apply(e,t[0][n].slice(i,i+r));return e},q3=hr?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:ll(e)})):W3(t)}:W3,$3=function(t,e,r){for(var n=[],i=e;i<r;i+=2)n.push(String.fromCharCode(zd(t,i)));return n.join("").replace(m0,"")},bb=hr?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(m0,""):$3(t,e,r)}:$3,G3=function(t,e,r){for(var n=[],i=e;i<e+r;++i)n.push(("0"+t[i].toString(16)).slice(-2));return n.join("")},O8=hr?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):G3(t,e,r)}:G3,K3=function(t,e,r){for(var n=[],i=e;i<r;i++)n.push(String.fromCharCode(Fh(t,i)));return n.join("")},Vp=hr?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):K3(e,r,n)}:K3,j8=function(t,e){var r=Is(t,e);return r>0?Vp(t,e+4,e+4+r-1):""},M8=j8,B8=function(t,e){var r=Is(t,e);return r>0?Vp(t,e+4,e+4+r-1):""},V8=B8,U8=function(t,e){var r=2*Is(t,e);return r>0?Vp(t,e+4,e+4+r-1):""},z8=U8,H8=function(e,r){var n=Is(e,r);return n>0?bb(e,r+4,r+4+n):""},W8=H8,q8=function(t,e){var r=Is(t,e);return r>0?Vp(t,e+4,e+4+r):""},$8=q8,G8=function(t,e){return nX(t,e)},I1=G8,Sb=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};hr&&(M8=function(e,r){if(!Buffer.isBuffer(e))return j8(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},V8=function(e,r){if(!Buffer.isBuffer(e))return B8(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},z8=function(e,r){if(!Buffer.isBuffer(e))return U8(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},W8=function(e,r){if(!Buffer.isBuffer(e))return H8(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},$8=function(e,r){if(!Buffer.isBuffer(e))return q8(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},I1=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):G8(e,r)},Sb=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Fh=function(t,e){return t[e]},zd=function(t,e){return t[e+1]*256+t[e]},sX=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},Is=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},cc=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},aX=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function v0(t,e){var r="",n,i,s=[],a,o,l,u;switch(e){case"dbcs":if(u=this.l,hr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)r+=String.fromCharCode(zd(this,u)),u+=2;t*=2;break;case"utf8":r=Vp(this,this.l,this.l+t);break;case"utf16le":t*=2,r=bb(this,this.l,this.l+t);break;case"wstr":return v0.call(this,t,"dbcs");case"lpstr-ansi":r=M8(this,this.l),t=4+Is(this,this.l);break;case"lpstr-cp":r=V8(this,this.l),t=4+Is(this,this.l);break;case"lpwstr":r=z8(this,this.l),t=4+2*Is(this,this.l);break;case"lpp4":t=4+Is(this,this.l),r=W8(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Is(this,this.l),r=$8(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(a=Fh(this,this.l+t++))!==0;)s.push($m(a));r=s.join("");break;case"_wstr":for(t=0,r="";(a=zd(this,this.l+t))!==0;)s.push($m(a)),t+=2;t+=2,r=s.join("");break;case"dbcs-cont":for(r="",u=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return a=Fh(this,u),this.l=u+1,o=v0.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push($m(zd(this,u))),u+=2}r=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return a=Fh(this,u),this.l=u+1,o=v0.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push($m(Fh(this,u))),u+=1}r=s.join("");break;default:switch(t){case 1:return n=Fh(this,this.l),this.l++,n;case 2:return n=(e==="i"?sX:zd)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||!(this[this.l+3]&128)?(n=(t>0?cc:aX)(this,this.l),this.l+=4,n):(i=Is(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=I1(this,this.l):i=I1([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:r=O8(this,this.l,t);break}}return this.l+=t,r}var oX=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},lX=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},uX=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function cX(t,e,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=e.length;++i)uX(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(r==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var a=e.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,oX(this,e,this.l);break;case 8:if(n=8,r==="f"){iX(this,e,this.l);break}case 16:break;case-4:n=4,lX(this,e,this.l);break}return this.l+=n,this}function K8(t,e){var r=O8(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function Cs(t,e){t.l=e,t.read_shift=v0,t.chk=K8,t.write_shift=cX}function fo(t,e){t.l+=e}function Ve(t){var e=Vc(t);return Cs(e,0),e}function ds(){var t=[],e=hr?256:2048,r=function(u){var c=Ve(u);return Cs(c,0),c},n=r(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},s=function(u){return n&&u<n.length-n.l?n:(i(),n=r(Math.max(u+1,e)))},a=function(){return i(),oi(t)},o=function(u){i(),n=u,n.l==null&&(n.l=n.length),s(e)};return{next:s,push:o,end:a,_bufs:t}}function Ke(t,e,r,n){var i=+e,s;if(!isNaN(i)){n||(n=nre[i].p||(r||[]).length||0),s=1+(i>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var a=t.next(s);i<=127?a.write_shift(1,i):(a.write_shift(1,(i&127)+128),a.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(n>=128)a.write_shift(1,(n&127)+128),n>>=7;else{a.write_shift(1,n);break}n>0&&Sb(r)&&t.push(r)}}function y0(t,e,r){var n=ms(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function Y3(t,e,r){var n=ms(t);return n.s=y0(n.s,e.s,r),n.e=y0(n.e,e.s,r),n}function x0(t,e){if(t.cRel&&t.c<0)for(t=ms(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=ms(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=Tr(t);return!t.cRel&&t.cRel!=null&&(r=dX(r)),!t.rRel&&t.rRel!=null&&(r=hX(r)),r}function yy(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Pi(t.s.c)+":"+(t.e.cRel?"":"$")+Pi(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+hi(t.s.r)+":"+(t.e.rRel?"":"$")+hi(t.e.r):x0(t.s,e.biff)+":"+x0(t.e,e.biff)}function Tb(t){return parseInt(fX(t),10)-1}function hi(t){return""+(t+1)}function hX(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function fX(t){return t.replace(/\$(\d+)$/,"$1")}function Eb(t){for(var e=pX(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function Pi(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function dX(t){return t.replace(/^([A-Z])/,"$$$1")}function pX(t){return t.replace(/^\$([A-Z])/,"$1")}function mX(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function $n(t){for(var e=0,r=0,n=0;n<t.length;++n){var i=t.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:e-1}}function Tr(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function js(t){var e=t.indexOf(":");return e==-1?{s:$n(t),e:$n(t)}:{s:$n(t.slice(0,e)),e:$n(t.slice(e+1))}}function Nn(t,e){return typeof e>"u"||typeof e=="number"?Nn(t.s,t.e):(typeof t!="string"&&(t=Tr(t)),typeof e!="string"&&(e=Tr(e)),t==e?t:t+":"+e)}function Hr(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,s=t.length;for(r=0;n<s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.s.c=--r,r=0;n<s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(e.s.r=--r,n===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.e.c=--r,r=0;n!=s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return e.e.r=--r,e}function X3(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=ku(t.z,r?ps(e):e)}catch{}try{return t.w=ku((t.XF||{}).numFmtId||(r?14:0),r?ps(e):e)}catch{return""+e}}function rl(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?Up[t.v]||t.v:e==null?X3(t,t.v):X3(t,e))}function Yc(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function Y8(t,e,r){var n=r||{},i=t?Array.isArray(t):n.dense,s=t||(i?[]:{}),a=0,o=0;if(s&&n.origin!=null){if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?$n(n.origin):n.origin;a=l.r,o=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var c=Hr(s["!ref"]);u.s.c=c.s.c,u.s.r=c.s.r,u.e.c=Math.max(u.e.c,c.e.c),u.e.r=Math.max(u.e.r,c.e.r),a==-1&&(u.e.r=a=c.e.r+1)}for(var h=0;h!=e.length;++h)if(e[h]){if(!Array.isArray(e[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var d=0;d!=e[h].length;++d)if(!(typeof e[h][d]>"u")){var f={v:e[h][d]},y=a+h,v=o+d;if(u.s.r>y&&(u.s.r=y),u.s.c>v&&(u.s.c=v),u.e.r<y&&(u.e.r=y),u.e.c<v&&(u.e.c=v),e[h][d]&&typeof e[h][d]=="object"&&!Array.isArray(e[h][d])&&!(e[h][d]instanceof Date))f=e[h][d];else if(Array.isArray(f.v)&&(f.f=e[h][d][1],f.v=f.v[0]),f.v===null)if(f.f)f.t="n";else if(n.nullError)f.t="e",f.v=0;else if(n.sheetStubs)f.t="z";else continue;else typeof f.v=="number"?f.t="n":typeof f.v=="boolean"?f.t="b":f.v instanceof Date?(f.z=n.dateNF||un[14],n.cellDates?(f.t="d",f.w=ku(f.z,ps(f.v))):(f.t="n",f.v=ps(f.v),f.w=ku(f.z,f.v))):f.t="s";if(i)s[y]||(s[y]=[]),s[y][v]&&s[y][v].z&&(f.z=s[y][v].z),s[y][v]=f;else{var b=Tr({c:v,r:y});s[b]&&s[b].z&&(f.z=s[b].z),s[b]=f}}}return u.s.c<1e7&&(s["!ref"]=Nn(u)),s}function Jf(t,e){return Y8(null,t,e)}function gX(t){return t.read_shift(4,"i")}function La(t,e){return e||(e=Ve(4)),e.write_shift(4,t),e}function Ii(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Gn(t,e){var r=!1;return e==null&&(r=!0,e=Ve(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function vX(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function yX(t,e){return e||(e=Ve(4)),e.write_shift(2,0),e.write_shift(2,0),e}function Ab(t,e){var r=t.l,n=t.read_shift(1),i=Ii(t),s=[],a={t:i,h:i};if(n&1){for(var o=t.read_shift(4),l=0;l!=o;++l)s.push(vX(t));a.r=s}else a.r=[{ich:0,ifnt:0}];return t.l=r+e,a}function xX(t,e){var r=!1;return e==null&&(r=!0,e=Ve(15+4*t.t.length)),e.write_shift(1,0),Gn(t.t,e),r?e.slice(0,e.l):e}var wX=Ab;function _X(t,e){var r=!1;return e==null&&(r=!0,e=Ve(23+4*t.t.length)),e.write_shift(1,1),Gn(t.t,e),e.write_shift(4,1),yX({},e),r?e.slice(0,e.l):e}function aa(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function Xc(t,e){return e==null&&(e=Ve(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function Qc(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function Jc(t,e){return e==null&&(e=Ve(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var bX=Ii,X8=Gn;function Nb(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function R1(t,e){var r=!1;return e==null&&(r=!0,e=Ve(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var SX=Ii,Rw=Nb,kb=R1;function Q8(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var i=n===0?I1([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):cc(e,0)>>2;return r?i/100:i}function J8(t,e){e==null&&(e=Ve(4));var r=0,n=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?i:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function Z8(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function TX(t,e){return e||(e=Ve(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var Zc=Z8,Zf=TX;function ed(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function Uc(t,e){return(e||Ve(8)).write_shift(8,t,"f")}function EX(t){var e={},r=t.read_shift(1),n=r>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),a=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var u=FX[i];u&&(e.rgb=oA(u));break;case 2:e.rgb=oA([a,o,l]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function L1(t,e){if(e||(e=Ve(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function AX(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function NX(t,e){e||(e=Ve(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}var eR=2,Ns=3,Xm=11,F1=19,Qm=64,kX=65,CX=71,PX=4108,IX=4126,ii=80,Q3={1:{n:"CodePage",t:eR},2:{n:"Category",t:ii},3:{n:"PresentationFormat",t:ii},4:{n:"ByteCount",t:Ns},5:{n:"LineCount",t:Ns},6:{n:"ParagraphCount",t:Ns},7:{n:"SlideCount",t:Ns},8:{n:"NoteCount",t:Ns},9:{n:"HiddenCount",t:Ns},10:{n:"MultimediaClipCount",t:Ns},11:{n:"ScaleCrop",t:Xm},12:{n:"HeadingPairs",t:PX},13:{n:"TitlesOfParts",t:IX},14:{n:"Manager",t:ii},15:{n:"Company",t:ii},16:{n:"LinksUpToDate",t:Xm},17:{n:"CharacterCount",t:Ns},19:{n:"SharedDoc",t:Xm},22:{n:"HyperlinksChanged",t:Xm},23:{n:"AppVersion",t:Ns,p:"version"},24:{n:"DigSig",t:kX},26:{n:"ContentType",t:ii},27:{n:"ContentStatus",t:ii},28:{n:"Language",t:ii},29:{n:"Version",t:ii},255:{},2147483648:{n:"Locale",t:F1},2147483651:{n:"Behavior",t:F1},1919054434:{}},J3={1:{n:"CodePage",t:eR},2:{n:"Title",t:ii},3:{n:"Subject",t:ii},4:{n:"Author",t:ii},5:{n:"Keywords",t:ii},6:{n:"Comments",t:ii},7:{n:"Template",t:ii},8:{n:"LastAuthor",t:ii},9:{n:"RevNumber",t:ii},10:{n:"EditTime",t:Qm},11:{n:"LastPrinted",t:Qm},12:{n:"CreatedDate",t:Qm},13:{n:"ModifiedDate",t:Qm},14:{n:"PageCount",t:Ns},15:{n:"WordCount",t:Ns},16:{n:"CharCount",t:Ns},17:{n:"Thumbnail",t:CX},18:{n:"Application",t:ii},19:{n:"DocSecurity",t:Ns},255:{},2147483648:{n:"Locale",t:F1},2147483651:{n:"Behavior",t:F1},1919054434:{}};function RX(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var LX=RX([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),FX=ms(LX),Up={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},DX={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Jm={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function tR(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function rR(t,e){var r=qY(DX),n=[],i;n[n.length]=kn,n[n.length]=st("Types",null,{xmlns:qn.CT,"xmlns:xsd":qn.xsd,"xmlns:xsi":qn.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return st("Default",null,{Extension:l[0],ContentType:l[1]})}));var s=function(l){t[l]&&t[l].length>0&&(i=t[l][0],n[n.length]=st("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Jm[l][e.bookType]||Jm[l].xlsx}))},a=function(l){(t[l]||[]).forEach(function(u){n[n.length]=st("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:Jm[l][e.bookType]||Jm[l].xlsx})})},o=function(l){(t[l]||[]).forEach(function(u){n[n.length]=st("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[l][0]})})};return s("workbooks"),a("sheets"),a("charts"),o("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),a("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var or={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function nR(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function pf(t){var e=[kn,st("Relationships",null,{xmlns:qn.RELS})];return pi(t["!id"]).forEach(function(r){e[e.length]=st("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function yr(t,e,r,n,i,s){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=n,i.Target=r,[or.HLINK,or.XPATH,or.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}function OX(t){var e=[kn];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function Z3(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function jX(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function MX(t){var e=[kn];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(Z3(t[r][0],t[r][1])),e.push(jX("",t[r][0]));return e.push(Z3("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function iR(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+E1.version+"</meta:generator></office:meta></office:document-meta>"}var Nc=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function xy(t,e,r,n,i){i[t]!=null||e==null||e===""||(i[t]=e,e=_r(e),n[n.length]=r?st(t,e,r):li(t,e))}function sR(t,e){var r=e||{},n=[kn,st("cp:coreProperties",null,{"xmlns:cp":qn.CORE_PROPS,"xmlns:dc":qn.dc,"xmlns:dcterms":qn.dcterms,"xmlns:dcmitype":qn.dcmitype,"xmlns:xsi":qn.xsi})],i={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&xy("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:Iw(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),t.ModifiedDate!=null&&xy("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:Iw(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var s=0;s!=Nc.length;++s){var a=Nc[s],o=r.Props&&r.Props[a[1]]!=null?r.Props[a[1]]:t?t[a[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&xy(a[0],o,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var mf=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],aR=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function oR(t){var e=[],r=st;return t||(t={}),t.Application="SheetJS",e[e.length]=kn,e[e.length]=st("Properties",null,{xmlns:qn.EXT_PROPS,"xmlns:vt":qn.vt}),mf.forEach(function(n){if(t[n[1]]!==void 0){var i;switch(n[2]){case"string":i=_r(String(t[n[1]]));break;case"bool":i=t[n[1]]?"true":"false";break}i!==void 0&&(e[e.length]=r(n[0],i))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+_r(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function lR(t){var e=[kn,st("Properties",null,{xmlns:qn.CUST_PROPS,"xmlns:vt":qn.vt})];if(!t)return e.join("");var r=1;return pi(t).forEach(function(i){++r,e[e.length]=st("property",rX(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:_r(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var eA={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function BX(t,e){var r=[];return pi(eA).map(function(n){for(var i=0;i<Nc.length;++i)if(Nc[i][1]==n)return Nc[i];for(i=0;i<mf.length;++i)if(mf[i][1]==n)return mf[i];throw n}).forEach(function(n){if(t[n[1]]!=null){var i=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(li(eA[n[1]]||n[1],i))}}),st("DocumentProperties",r.join(""),{xmlns:Ps.o})}function VX(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return t&&pi(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)){for(var a=0;a<Nc.length;++a)if(s==Nc[a][1])return;for(a=0;a<mf.length;++a)if(s==mf[a][1])return;for(a=0;a<r.length;++a)if(s==r[a])return;var o=t[s],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),i.push(st(U3(s),o,{"dt:dt":l}))}}),e&&pi(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(t&&Object.prototype.hasOwnProperty.call(t,s))){var a=e[s],o="string";typeof a=="number"?(o="float",a=String(a)):a===!0||a===!1?(o="boolean",a=a?"1":"0"):a instanceof Date?(o="dateTime.tz",a=a.toISOString()):a=String(a),i.push(st(U3(s),a,{"dt:dt":o}))}}),"<"+n+' xmlns="'+Ps.o+'">'+i.join("")+"</"+n+">"}function UX(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),i=(r-n)/Math.pow(2,32);n*=1e7,i*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),i+=s);var a=Ve(8);return a.write_shift(4,n),a.write_shift(4,i),a}function tA(t,e){var r=Ve(4),n=Ve(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=Ve(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=UX(e);break;case 31:case 80:for(n=Ve(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return oi([r,n])}var uR=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function zX(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function rA(t,e,r){var n=Ve(8),i=[],s=[],a=8,o=0,l=Ve(8),u=Ve(8);if(l.write_shift(4,2),l.write_shift(4,1200),u.write_shift(4,1),s.push(l),i.push(u),a+=8+l.length,!e){u=Ve(8),u.write_shift(4,0),i.unshift(u);var c=[Ve(4)];for(c[0].write_shift(4,t.length),o=0;o<t.length;++o){var h=t[o][0];for(l=Ve(8+2*(h.length+1)+(h.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,h.length+1),l.write_shift(0,h,"dbcs");l.l!=l.length;)l.write_shift(1,0);c.push(l)}l=oi(c),s.unshift(l),a+=8+l.length}for(o=0;o<t.length;++o)if(!(e&&!e[t[o][0]])&&!(uR.indexOf(t[o][0])>-1||aR.indexOf(t[o][0])>-1)&&t[o][1]!=null){var d=t[o][1],f=0;if(e){f=+e[t[o][0]];var y=r[f];if(y.p=="version"&&typeof d=="string"){var v=d.split(".");d=(+v[0]<<16)+(+v[1]||0)}l=tA(y.t,d)}else{var b=zX(d);b==-1&&(b=31,d=String(d)),l=tA(b,d)}s.push(l),u=Ve(8),u.write_shift(4,e?f:2+o),i.push(u),a+=8+l.length}var w=8*(s.length+1);for(o=0;o<s.length;++o)i[o].write_shift(4,w),w+=s[o].length;return n.write_shift(4,a),n.write_shift(4,s.length),oi([n].concat(i).concat(s))}function nA(t,e,r,n,i,s){var a=Ve(i?68:48),o=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,Cr.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,i?2:1),a.write_shift(16,e,"hex"),a.write_shift(4,i?68:48);var l=rA(t,r,n);if(o.push(l),i){var u=rA(i,null,null);a.write_shift(16,s,"hex"),a.write_shift(4,68+l.length),o.push(u)}return oi(o)}function HX(t,e){e||(e=Ve(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function WX(t,e){return t.read_shift(e)===1}function Hi(t,e){return e||(e=Ve(2)),e.write_shift(2,+!!t),e}function cR(t){return t.read_shift(2,"u")}function Qs(t,e){return e||(e=Ve(2)),e.write_shift(2,t),e}function hR(t,e,r){return r||(r=Ve(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function fR(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=t.read_shift(1);s&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var a=n?t.read_shift(n,i):"";return a}function qX(t){var e=t.t||"",r=Ve(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=Ve(2*e.length);n.write_shift(2*e.length,e,"utf16le");var i=[r,n];return oi(i)}function $X(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function GX(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):$X(t,n,r)}function KX(t,e,r){if(r.biff>5)return GX(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function dR(t,e,r){return r||(r=Ve(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function iA(t,e){e||(e=Ve(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function YX(t){var e=Ve(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),s=i>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var a=[8,6815827,6619237,4849780,83];for(r=0;r<a.length;++r)e.write_shift(4,a[r]);if(s==28)n=n.slice(1),iA(n,e);else if(s&2){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<a.length;++r)e.write_shift(1,parseInt(a[r],16));var o=i>-1?n.slice(0,i):n;for(e.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)e.write_shift(2,o.charCodeAt(r));e.write_shift(2,0),s&8&&iA(i>-1?n.slice(i+1):"",e)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<a.length;++r)e.write_shift(1,parseInt(a[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)e.write_shift(1,n.charCodeAt(r+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function zc(t,e,r,n){return n||(n=Ve(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function XX(t,e,r){var n=r.biff>8?4:2,i=t.read_shift(n),s=t.read_shift(n,"i"),a=t.read_shift(n,"i");return[i,s,a]}function QX(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2);return{s:{c:n,r:e},e:{c:i,r}}}function pR(t,e){return e||(e=Ve(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function Cb(t,e,r){var n=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=Ve(i);return s.write_shift(2,n),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function JX(t,e){var r=!e||e.biff==8,n=Ve(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function ZX(t,e){var r=!e||e.biff>=8?2:1,n=Ve(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function eQ(t,e){var r=Ve(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],i=0;i<t.length;++i)n[i]=qX(t[i]);var s=oi([r].concat(n));return s.parts=[r.length].concat(n.map(function(a){return a.length})),s}function tQ(){var t=Ve(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function rQ(t){var e=Ve(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function nQ(t,e){var r=t.name||"Arial",n=e&&e.biff==5,i=n?15+r.length:16+2*r.length,s=Ve(i);return s.write_shift(2,t.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),s}function iQ(t,e,r,n){var i=Ve(10);return zc(t,e,n,i),i.write_shift(4,r),i}function sQ(t,e,r,n,i){var s=!i||i.biff==8,a=Ve(8+ +s+(1+s)*r.length);return zc(t,e,n,a),a.write_shift(2,r.length),s&&a.write_shift(1,1),a.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),a}function aQ(t,e,r,n){var i=r&&r.biff==5;n||(n=Ve(i?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(i?1:2,e.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}function oQ(t,e){var r=e.biff==8||!e.biff?4:2,n=Ve(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function sA(t,e,r,n){var i=r&&r.biff==5;n||(n=Ve(i?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var s=0;return t.numFmtId>0&&i&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function lQ(t){var e=Ve(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function uQ(t,e,r,n,i,s){var a=Ve(8);return zc(t,e,n,a),hR(r,s,a),a}function cQ(t,e,r,n){var i=Ve(14);return zc(t,e,n,i),Uc(r,i),i}function hQ(t,e,r){if(r.biff<8)return fQ(t,e,r);for(var n=[],i=t.l+e,s=t.read_shift(r.biff>8?4:2);s--!==0;)n.push(XX(t,r.biff>8?12:6,r));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return n}function fQ(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=fR(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function dQ(t){var e=Ve(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)pR(t[r],e);return e}function pQ(t){var e=Ve(24),r=$n(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(n[i],16));return oi([e,YX(t[1])])}function mQ(t){var e=t[1].Tooltip,r=Ve(10+2*(e.length+1));r.write_shift(2,2048);var n=$n(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var i=0;i<e.length;++i)r.write_shift(2,e.charCodeAt(i));return r.write_shift(2,0),r}function gQ(t){return t||(t=Ve(4)),t.write_shift(2,1),t.write_shift(2,1),t}function vQ(t,e,r){if(!r.cellStyles)return fo(t,e);var n=r&&r.biff>=12?4:2,i=t.read_shift(n),s=t.read_shift(n),a=t.read_shift(n),o=t.read_shift(n),l=t.read_shift(2);n==2&&(t.l+=2);var u={s:i,e:s,w:a,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(u.level=l>>8&7),u}function yQ(t,e){var r=Ve(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function xQ(t){for(var e=Ve(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}function wQ(t,e,r){var n=Ve(15);return Hp(n,t,e),n.write_shift(8,r,"f"),n}function _Q(t,e,r){var n=Ve(9);return Hp(n,t,e),n.write_shift(2,r),n}var bQ=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=yb({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var u=[],c=Vc(1);switch(l.type){case"base64":c=Ca(tl(o));break;case"binary":c=Ca(o);break;case"buffer":case"array":c=o;break}Cs(c,0);var h=c.read_shift(1),d=!!(h&136),f=!1,y=!1;switch(h){case 2:break;case 3:break;case 48:f=!0,d=!0;break;case 49:f=!0,d=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var v=0,b=521;h==2&&(v=c.read_shift(2)),c.l+=3,h!=2&&(v=c.read_shift(4)),v>1048576&&(v=1e6),h!=2&&(b=c.read_shift(2));var w=c.read_shift(2),S=l.codepage||1252;h!=2&&(c.l+=16,c.read_shift(1),c[c.l]!==0&&(S=t[c[c.l]]),c.l+=1,c.l+=2),y&&(c.l+=36);for(var T=[],F={},j=Math.min(c.length,h==2?521:b-10-(f?264:0)),M=y?32:11;c.l<j&&c[c.l]!=13;)switch(F={},F.name=A1.utils.decode(S,c.slice(c.l,c.l+M)).replace(/[\u0000\r\n].*$/g,""),c.l+=M,F.type=String.fromCharCode(c.read_shift(1)),h!=2&&!y&&(F.offset=c.read_shift(4)),F.len=c.read_shift(1),h==2&&(F.offset=c.read_shift(2)),F.dec=c.read_shift(1),F.name.length&&T.push(F),h!=2&&(c.l+=y?13:14),F.type){case"B":(!f||F.len!=8)&&l.WTF&&console.log("Skipping "+F.name+":"+F.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+F.name+":"+F.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+F.type)}if(c[c.l]!==13&&(c.l=b-1),c.read_shift(1)!==13)throw new Error("DBF Terminator not found "+c.l+" "+c[c.l]);c.l=b;var A=0,_=0;for(u[0]=[],_=0;_!=T.length;++_)u[0][_]=T[_].name;for(;v-- >0;){if(c[c.l]===42){c.l+=w;continue}for(++c.l,u[++A]=[],_=0,_=0;_!=T.length;++_){var C=c.slice(c.l,c.l+T[_].len);c.l+=T[_].len,Cs(C,0);var D=A1.utils.decode(S,C);switch(T[_].type){case"C":D.trim().length&&(u[A][_]=D.replace(/\s+$/,""));break;case"D":D.length===8?u[A][_]=new Date(+D.slice(0,4),+D.slice(4,6)-1,+D.slice(6,8)):u[A][_]=D;break;case"F":u[A][_]=parseFloat(D.trim());break;case"+":case"I":u[A][_]=y?C.read_shift(-4,"i")^2147483648:C.read_shift(4,"i");break;case"L":switch(D.trim().toUpperCase()){case"Y":case"T":u[A][_]=!0;break;case"N":case"F":u[A][_]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+D+"|")}break;case"M":if(!d)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));u[A][_]="##MEMO##"+(y?parseInt(D.trim(),10):C.read_shift(4));break;case"N":D=D.replace(/\u0000/g,"").trim(),D&&D!="."&&(u[A][_]=+D||0);break;case"@":u[A][_]=new Date(C.read_shift(-8,"f")-621356832e5);break;case"T":u[A][_]=new Date((C.read_shift(4)-2440588)*864e5+C.read_shift(4));break;case"Y":u[A][_]=C.read_shift(4,"i")/1e4+C.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[A][_]=-C.read_shift(-8,"f");break;case"B":if(f&&T[_].len==8){u[A][_]=C.read_shift(8,"f");break}case"G":case"P":C.l+=T[_].len;break;case"0":if(T[_].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+T[_].type)}}}if(h!=2&&c.l<c.length&&c[c.l++]!=26)throw new Error("DBF EOF Marker missing "+(c.l-1)+" of "+c.length+" "+c[c.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=T,u}function n(o,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var c=Jf(r(o,u),u);return c["!cols"]=u.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete u.DBF,c}function i(o,l){try{return Yc(n(o,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,l){var u=l||{};if(+u.codepage>=0&&lp(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var c=ds(),h=B1(o,{header:1,raw:!0,cellDates:!0}),d=h[0],f=h.slice(1),y=o["!cols"]||[],v=0,b=0,w=0,S=1;for(v=0;v<d.length;++v){if(((y[v]||{}).DBF||{}).name){d[v]=y[v].DBF.name,++w;continue}if(d[v]!=null){if(++w,typeof d[v]=="number"&&(d[v]=d[v].toString(10)),typeof d[v]!="string")throw new Error("DBF Invalid column name "+d[v]+" |"+typeof d[v]+"|");if(d.indexOf(d[v])!==v){for(b=0;b<1024;++b)if(d.indexOf(d[v]+"_"+b)==-1){d[v]+="_"+b;break}}}}var T=Hr(o["!ref"]),F=[],j=[],M=[];for(v=0;v<=T.e.c-T.s.c;++v){var A="",_="",C=0,D=[];for(b=0;b<f.length;++b)f[b][v]!=null&&D.push(f[b][v]);if(D.length==0||d[v]==null){F[v]="?";continue}for(b=0;b<D.length;++b){switch(typeof D[b]){case"number":_="B";break;case"string":_="C";break;case"boolean":_="L";break;case"object":_=D[b]instanceof Date?"D":"C";break;default:_="C"}C=Math.max(C,String(D[b]).length),A=A&&A!=_?"C":_}C>250&&(C=250),_=((y[v]||{}).DBF||{}).type,_=="C"&&y[v].DBF.len>C&&(C=y[v].DBF.len),A=="B"&&_=="N"&&(A="N",M[v]=y[v].DBF.dec,C=y[v].DBF.len),j[v]=A=="C"||_=="N"?C:s[A]||0,S+=j[v],F[v]=A}var N=c.next(32);for(N.write_shift(4,318902576),N.write_shift(4,f.length),N.write_shift(2,296+32*w),N.write_shift(2,S),v=0;v<4;++v)N.write_shift(4,0);for(N.write_shift(4,0|(+e[g8]||3)<<8),v=0,b=0;v<d.length;++v)if(d[v]!=null){var E=c.next(32),R=(d[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);E.write_shift(1,R,"sbcs"),E.write_shift(1,F[v]=="?"?"C":F[v],"sbcs"),E.write_shift(4,b),E.write_shift(1,j[v]||s[F[v]]||0),E.write_shift(1,M[v]||0),E.write_shift(1,2),E.write_shift(4,0),E.write_shift(1,0),E.write_shift(4,0),E.write_shift(4,0),b+=j[v]||s[F[v]]||0}var H=c.next(264);for(H.write_shift(4,13),v=0;v<65;++v)H.write_shift(4,0);for(v=0;v<f.length;++v){var me=c.next(S);for(me.write_shift(1,0),b=0;b<d.length;++b)if(d[b]!=null)switch(F[b]){case"L":me.write_shift(1,f[v][b]==null?63:f[v][b]?84:70);break;case"B":me.write_shift(8,f[v][b]||0,"f");break;case"N":var ie="0";for(typeof f[v][b]=="number"&&(ie=f[v][b].toFixed(M[b]||0)),w=0;w<j[b]-ie.length;++w)me.write_shift(1,32);me.write_shift(1,ie,"sbcs");break;case"D":f[v][b]?(me.write_shift(4,("0000"+f[v][b].getFullYear()).slice(-4),"sbcs"),me.write_shift(2,("00"+(f[v][b].getMonth()+1)).slice(-2),"sbcs"),me.write_shift(2,("00"+f[v][b].getDate()).slice(-2),"sbcs")):me.write_shift(8,"00000000","sbcs");break;case"C":var ee=String(f[v][b]!=null?f[v][b]:"").slice(0,j[b]);for(me.write_shift(1,ee,"sbcs"),w=0;w<j[b]-ee.length;++w)me.write_shift(1,32);break}}return c.next(1).write_shift(1,26),c.end()}return{to_workbook:i,to_sheet:n,from_sheet:a}}(),SQ=function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+pi(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(d,f){var y=t[f];return typeof y=="number"?C3(y):y},n=function(d,f,y){var v=f.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return v==59?d:C3(v)};t["|"]=254;function i(d,f){switch(f.type){case"base64":return s(tl(d),f);case"binary":return s(d,f);case"buffer":return s(hr&&Buffer.isBuffer(d)?d.toString("binary"):Mp(d),f);case"array":return s(Bv(d),f)}throw new Error("Unrecognized type "+f.type)}function s(d,f){var y=d.split(/[\n\r]+/),v=-1,b=-1,w=0,S=0,T=[],F=[],j=null,M={},A=[],_=[],C=[],D=0,N;for(+f.codepage>=0&&lp(+f.codepage);w!==y.length;++w){D=0;var E=y[w].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),R=E.replace(/;;/g,"\0").split(";").map(function(z){return z.replace(/\u0000/g,";")}),H=R[0],me;if(E.length>0)switch(H){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":R[1].charAt(0)=="P"&&F.push(E.slice(3).replace(/;;/g,";"));break;case"C":var ie=!1,ee=!1,J=!1,re=!1,de=-1,Se=-1;for(S=1;S<R.length;++S)switch(R[S].charAt(0)){case"A":break;case"X":b=parseInt(R[S].slice(1))-1,ee=!0;break;case"Y":for(v=parseInt(R[S].slice(1))-1,ee||(b=0),N=T.length;N<=v;++N)T[N]=[];break;case"K":me=R[S].slice(1),me.charAt(0)==='"'?me=me.slice(1,me.length-1):me==="TRUE"?me=!0:me==="FALSE"?me=!1:isNaN(zo(me))?isNaN(cp(me).getDate())||(me=$i(me)):(me=zo(me),j!==null&&k8(j)&&(me=R8(me))),ie=!0;break;case"E":re=!0;var I=_J(R[S].slice(1),{r:v,c:b});T[v][b]=[T[v][b],I];break;case"S":J=!0,T[v][b]=[T[v][b],"S5S"];break;case"G":break;case"R":de=parseInt(R[S].slice(1))-1;break;case"C":Se=parseInt(R[S].slice(1))-1;break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+E)}if(ie&&(T[v][b]&&T[v][b].length==2?T[v][b][0]=me:T[v][b]=me,j=null),J){if(re)throw new Error("SYLK shared formula cannot have own formula");var V=de>-1&&T[de][Se];if(!V||!V[1])throw new Error("SYLK shared formula cannot find base");T[v][b][1]=bJ(V[1],{r:v-de,c:b-Se})}break;case"F":var U=0;for(S=1;S<R.length;++S)switch(R[S].charAt(0)){case"X":b=parseInt(R[S].slice(1))-1,++U;break;case"Y":for(v=parseInt(R[S].slice(1))-1,N=T.length;N<=v;++N)T[N]=[];break;case"M":D=parseInt(R[S].slice(1))/20;break;case"F":break;case"G":break;case"P":j=F[parseInt(R[S].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(C=R[S].slice(1).split(" "),N=parseInt(C[0],10);N<=parseInt(C[1],10);++N)D=parseInt(C[2],10),_[N-1]=D===0?{hidden:!0}:{wch:D},Pb(_[N-1]);break;case"C":b=parseInt(R[S].slice(1))-1,_[b]||(_[b]={});break;case"R":v=parseInt(R[S].slice(1))-1,A[v]||(A[v]={}),D>0?(A[v].hpt=D,A[v].hpx=xR(D)):D===0&&(A[v].hidden=!0);break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+E)}U<1&&(j=null);break;default:if(f&&f.WTF)throw new Error("SYLK bad record "+E)}}return A.length>0&&(M["!rows"]=A),_.length>0&&(M["!cols"]=_),f&&f.sheetRows&&(T=T.slice(0,f.sheetRows)),[T,M]}function a(d,f){var y=i(d,f),v=y[0],b=y[1],w=Jf(v,f);return pi(b).forEach(function(S){w[S]=b[S]}),w}function o(d,f){return Yc(a(d,f),f)}function l(d,f,y,v){var b="C;Y"+(y+1)+";X"+(v+1)+";K";switch(d.t){case"n":b+=d.v||0,d.f&&!d.F&&(b+=";E"+Rb(d.f,{r:y,c:v}));break;case"b":b+=d.v?"TRUE":"FALSE";break;case"e":b+=d.w||d.v;break;case"d":b+='"'+(d.w||d.v)+'"';break;case"s":b+='"'+d.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return b}function u(d,f){f.forEach(function(y,v){var b="F;W"+(v+1)+" "+(v+1)+" ";y.hidden?b+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=D1(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=O1(y.wpx)),typeof y.wch=="number"&&(b+=Math.round(y.wch))),b.charAt(b.length-1)!=" "&&d.push(b)})}function c(d,f){f.forEach(function(y,v){var b="F;";y.hidden?b+="M0;":y.hpt?b+="M"+20*y.hpt+";":y.hpx&&(b+="M"+20*j1(y.hpx)+";"),b.length>2&&d.push(b+"R"+(v+1))})}function h(d,f){var y=["ID;PWXL;N;E"],v=[],b=Hr(d["!ref"]),w,S=Array.isArray(d),T=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),d["!cols"]&&u(y,d["!cols"]),d["!rows"]&&c(y,d["!rows"]),y.push("B;Y"+(b.e.r-b.s.r+1)+";X"+(b.e.c-b.s.c+1)+";D"+[b.s.c,b.s.r,b.e.c,b.e.r].join(" "));for(var F=b.s.r;F<=b.e.r;++F)for(var j=b.s.c;j<=b.e.c;++j){var M=Tr({r:F,c:j});w=S?(d[F]||[])[j]:d[M],!(!w||w.v==null&&(!w.f||w.F))&&v.push(l(w,d,F,j))}return y.join(T)+T+v.join(T)+T+"E"+T}return{to_workbook:o,to_sheet:a,from_sheet:h}}(),TQ=function(){function t(s,a){switch(a.type){case"base64":return e(tl(s),a);case"binary":return e(s,a);case"buffer":return e(hr&&Buffer.isBuffer(s)?s.toString("binary"):Mp(s),a);case"array":return e(Bv(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){for(var o=s.split(`
`),l=-1,u=-1,c=0,h=[];c!==o.length;++c){if(o[c].trim()==="BOT"){h[++l]=[],u=0;continue}if(!(l<0)){var d=o[c].trim().split(","),f=d[0],y=d[1];++c;for(var v=o[c]||"";(v.match(/["]/g)||[]).length&1&&c<o.length-1;)v+=`
`+o[++c];switch(v=v.trim(),+f){case-1:if(v==="BOT"){h[++l]=[],u=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?h[l][u]=!0:v==="FALSE"?h[l][u]=!1:isNaN(zo(y))?isNaN(cp(y).getDate())?h[l][u]=y:h[l][u]=$i(y):h[l][u]=zo(y),++u;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),h[l][u++]=v!==""?v:null;break}if(v==="EOD")break}}return a&&a.sheetRows&&(h=h.slice(0,a.sheetRows)),h}function r(s,a){return Jf(t(s,a),a)}function n(s,a){return Yc(r(s,a),a)}var i=function(){var s=function(l,u,c,h,d){l.push(u),l.push(c+","+h),l.push('"'+d.replace(/"/g,'""')+'"')},a=function(l,u,c,h){l.push(u+","+c),l.push(u==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(l){var u=[],c=Hr(l["!ref"]),h,d=Array.isArray(l);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,c.e.r-c.s.r+1,""),s(u,"TUPLES",0,c.e.c-c.s.c+1,""),s(u,"DATA",0,0,"");for(var f=c.s.r;f<=c.e.r;++f){a(u,-1,0,"BOT");for(var y=c.s.c;y<=c.e.c;++y){var v=Tr({r:f,c:y});if(h=d?(l[f]||[])[y]:l[v],!h){a(u,1,0,"");continue}switch(h.t){case"n":var b=h.w;!b&&h.v!=null&&(b=h.v),b==null?h.f&&!h.F?a(u,1,0,"="+h.f):a(u,1,0,""):a(u,0,b,"V");break;case"b":a(u,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":a(u,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=ku(h.z||un[14],ps($i(h.v)))),a(u,0,h.w,"V");break;default:a(u,1,0,"")}}}a(u,-1,0,"EOD");var w=`\r
`,S=u.join(w);return S}}();return{to_workbook:n,to_sheet:r,from_sheet:i}}(),mR=function(){function t(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(h,d){for(var f=h.split(`
`),y=-1,v=-1,b=0,w=[];b!==f.length;++b){var S=f[b].trim().split(":");if(S[0]==="cell"){var T=$n(S[1]);if(w.length<=T.r)for(y=w.length;y<=T.r;++y)w[y]||(w[y]=[]);switch(y=T.r,v=T.c,S[2]){case"t":w[y][v]=t(S[3]);break;case"v":w[y][v]=+S[3];break;case"vtf":var F=S[S.length-1];case"vtc":switch(S[3]){case"nl":w[y][v]=!!+S[4];break;default:w[y][v]=+S[4];break}S[2]=="vtf"&&(w[y][v]=[w[y][v],F])}}}return d&&d.sheetRows&&(w=w.slice(0,d.sheetRows)),w}function n(h,d){return Jf(r(h,d),d)}function i(h,d){return Yc(n(h,d),d)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(h){if(!h||!h["!ref"])return"";for(var d=[],f=[],y,v="",b=js(h["!ref"]),w=Array.isArray(h),S=b.s.r;S<=b.e.r;++S)for(var T=b.s.c;T<=b.e.c;++T)if(v=Tr({r:S,c:T}),y=w?(h[S]||[])[T]:h[v],!(!y||y.v==null||y.t==="z")){switch(f=["cell",v,"t"],y.t){case"s":case"str":f.push(e(y.v));break;case"n":y.f?(f[2]="vtf",f[3]="n",f[4]=y.v,f[5]=e(y.f)):(f[2]="v",f[3]=y.v);break;case"b":f[2]="vt"+(y.f?"f":"c"),f[3]="nl",f[4]=y.v?"1":"0",f[5]=e(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var F=ps($i(y.v));f[2]="vtc",f[3]="nd",f[4]=""+F,f[5]=y.w||ku(y.z||un[14],F);break;case"e":continue}d.push(f.join(":"))}return d.push("sheet:c:"+(b.e.c-b.s.c+1)+":r:"+(b.e.r-b.s.r+1)+":tvf:1"),d.push("valueformat:1:text-wiki"),d.join(`
`)}function c(h){return[s,a,o,a,u(h),l].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:c}}(),EQ=function(){function t(c,h,d,f,y){y.raw?h[d][f]=c:c===""||(c==="TRUE"?h[d][f]=!0:c==="FALSE"?h[d][f]=!1:isNaN(zo(c))?isNaN(cp(c).getDate())?h[d][f]=c:h[d][f]=$i(c):h[d][f]=zo(c))}function e(c,h){var d=h||{},f=[];if(!c||c.length===0)return f;for(var y=c.split(/[\r\n]/),v=y.length-1;v>=0&&y[v].length===0;)--v;for(var b=10,w=0,S=0;S<=v;++S)w=y[S].indexOf(" "),w==-1?w=y[S].length:w++,b=Math.max(b,w);for(S=0;S<=v;++S){f[S]=[];var T=0;for(t(y[S].slice(0,b).trim(),f,S,T,d),T=1;T<=(y[S].length-b)/10+1;++T)t(y[S].slice(b+(T-1)*10,b+T*10).trim(),f,S,T,d)}return d.sheetRows&&(f=f.slice(0,d.sheetRows)),f}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(c){for(var h={},d=!1,f=0,y=0;f<c.length;++f)(y=c.charCodeAt(f))==34?d=!d:!d&&y in r&&(h[y]=(h[y]||0)+1);y=[];for(f in h)Object.prototype.hasOwnProperty.call(h,f)&&y.push([h[f],f]);if(!y.length){h=n;for(f in h)Object.prototype.hasOwnProperty.call(h,f)&&y.push([h[f],f])}return y.sort(function(v,b){return v[0]-b[0]||n[v[1]]-n[b[1]]}),r[y.pop()[1]]||44}function s(c,h){var d=h||{},f="",y=d.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};c.slice(0,4)=="sep="?c.charCodeAt(5)==13&&c.charCodeAt(6)==10?(f=c.charAt(4),c=c.slice(7)):c.charCodeAt(5)==13||c.charCodeAt(5)==10?(f=c.charAt(4),c=c.slice(6)):f=i(c.slice(0,1024)):d&&d.FS?f=d.FS:f=i(c.slice(0,1024));var b=0,w=0,S=0,T=0,F=0,j=f.charCodeAt(0),M=!1,A=0,_=c.charCodeAt(0);c=c.replace(/\r\n/mg,`
`);var C=d.dateNF!=null?UY(d.dateNF):null;function D(){var N=c.slice(T,F),E={};if(N.charAt(0)=='"'&&N.charAt(N.length-1)=='"'&&(N=N.slice(1,-1).replace(/""/g,'"')),N.length===0)E.t="z";else if(d.raw)E.t="s",E.v=N;else if(N.trim().length===0)E.t="s",E.v=N;else if(N.charCodeAt(0)==61)N.charCodeAt(1)==34&&N.charCodeAt(N.length-1)==34?(E.t="s",E.v=N.slice(2,-1).replace(/""/g,'"')):SJ(N)?(E.t="n",E.f=N.slice(1)):(E.t="s",E.v=N);else if(N=="TRUE")E.t="b",E.v=!0;else if(N=="FALSE")E.t="b",E.v=!1;else if(!isNaN(S=zo(N)))E.t="n",d.cellText!==!1&&(E.w=N),E.v=S;else if(!isNaN(cp(N).getDate())||C&&N.match(C)){E.z=d.dateNF||un[14];var R=0;C&&N.match(C)&&(N=zY(N,d.dateNF,N.match(C)||[]),R=1),d.cellDates?(E.t="d",E.v=$i(N,R)):(E.t="n",E.v=ps($i(N,R))),d.cellText!==!1&&(E.w=ku(E.z,E.v instanceof Date?ps(E.v):E.v)),d.cellNF||delete E.z}else E.t="s",E.v=N;if(E.t=="z"||(d.dense?(y[b]||(y[b]=[]),y[b][w]=E):y[Tr({c:w,r:b})]=E),T=F+1,_=c.charCodeAt(T),v.e.c<w&&(v.e.c=w),v.e.r<b&&(v.e.r=b),A==j)++w;else if(w=0,++b,d.sheetRows&&d.sheetRows<=b)return!0}e:for(;F<c.length;++F)switch(A=c.charCodeAt(F)){case 34:_===34&&(M=!M);break;case j:case 10:case 13:if(!M&&D())break e;break}return F-T>0&&D(),y["!ref"]=Nn(v),y}function a(c,h){return!(h&&h.PRN)||h.FS||c.slice(0,4)=="sep="||c.indexOf("	")>=0||c.indexOf(",")>=0||c.indexOf(";")>=0?s(c,h):Jf(e(c,h),h)}function o(c,h){var d="",f=h.type=="string"?[0,0,0,0]:jre(c,h);switch(h.type){case"base64":d=tl(c);break;case"binary":d=c;break;case"buffer":h.codepage==65001?d=c.toString("utf8"):h.codepage&&typeof A1<"u"||(d=hr&&Buffer.isBuffer(c)?c.toString("binary"):Mp(c));break;case"array":d=Bv(c);break;case"string":d=c;break;default:throw new Error("Unrecognized type "+h.type)}return f[0]==239&&f[1]==187&&f[2]==191?d=g0(d.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?d=g0(d):h.type=="binary"&&typeof A1<"u",d.slice(0,19)=="socialcalc:version:"?mR.to_sheet(h.type=="string"?d:g0(d),h):a(d,h)}function l(c,h){return Yc(o(c,h),h)}function u(c){for(var h=[],d=Hr(c["!ref"]),f,y=Array.isArray(c),v=d.s.r;v<=d.e.r;++v){for(var b=[],w=d.s.c;w<=d.e.c;++w){var S=Tr({r:v,c:w});if(f=y?(c[v]||[])[w]:c[S],!f||f.v==null){b.push("          ");continue}for(var T=(f.w||(rl(f),f.w)||"").slice(0,10);T.length<10;)T+=" ";b.push(T+(w===0?" ":""))}h.push(b.join(""))}return h.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:u}}(),aA=function(){function t(I,V,U){if(I){Cs(I,I.l||0);for(var z=U.Enum||de;I.l<I.length;){var Q=I.read_shift(2),ge=z[Q]||z[65535],G=I.read_shift(2),ue=I.l+G,ye=ge.f&&ge.f(I,G,U);if(I.l=ue,V(ye,ge,Q))return}}}function e(I,V){switch(V.type){case"base64":return r(Ca(tl(I)),V);case"binary":return r(Ca(I),V);case"buffer":case"array":return r(I,V)}throw"Unsupported type "+V.type}function r(I,V){if(!I)return I;var U=V||{},z=U.dense?[]:{},Q="Sheet1",ge="",G=0,ue={},ye=[],Ne=[],je={s:{r:0,c:0},e:{r:0,c:0}},Ue=U.sheetRows||0;if(I[2]==0&&(I[3]==8||I[3]==9)&&I.length>=16&&I[14]==5&&I[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(I[2]==2)U.Enum=de,t(I,function(He,ht,Ye){switch(Ye){case 0:U.vers=He,He>=4096&&(U.qpro=!0);break;case 6:je=He;break;case 204:He&&(ge=He);break;case 222:ge=He;break;case 15:case 51:U.qpro||(He[1].v=He[1].v.slice(1));case 13:case 14:case 16:Ye==14&&(He[2]&112)==112&&(He[2]&15)>1&&(He[2]&15)<15&&(He[1].z=U.dateNF||un[14],U.cellDates&&(He[1].t="d",He[1].v=R8(He[1].v))),U.qpro&&He[3]>G&&(z["!ref"]=Nn(je),ue[Q]=z,ye.push(Q),z=U.dense?[]:{},je={s:{r:0,c:0},e:{r:0,c:0}},G=He[3],Q=ge||"Sheet"+(G+1),ge="");var nt=U.dense?(z[He[0].r]||[])[He[0].c]:z[Tr(He[0])];if(nt){nt.t=He[1].t,nt.v=He[1].v,He[1].z!=null&&(nt.z=He[1].z),He[1].f!=null&&(nt.f=He[1].f);break}U.dense?(z[He[0].r]||(z[He[0].r]=[]),z[He[0].r][He[0].c]=He[1]):z[Tr(He[0])]=He[1];break}},U);else if(I[2]==26||I[2]==14)U.Enum=Se,I[2]==14&&(U.qpro=!0,I.l=0),t(I,function(He,ht,Ye){switch(Ye){case 204:Q=He;break;case 22:He[1].v=He[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(He[3]>G&&(z["!ref"]=Nn(je),ue[Q]=z,ye.push(Q),z=U.dense?[]:{},je={s:{r:0,c:0},e:{r:0,c:0}},G=He[3],Q="Sheet"+(G+1)),Ue>0&&He[0].r>=Ue)break;U.dense?(z[He[0].r]||(z[He[0].r]=[]),z[He[0].r][He[0].c]=He[1]):z[Tr(He[0])]=He[1],je.e.c<He[0].c&&(je.e.c=He[0].c),je.e.r<He[0].r&&(je.e.r=He[0].r);break;case 27:He[14e3]&&(Ne[He[14e3][0]]=He[14e3][1]);break;case 1537:Ne[He[0]]=He[1],He[0]==G&&(Q=He[1]);break}},U);else throw new Error("Unrecognized LOTUS BOF "+I[2]);if(z["!ref"]=Nn(je),ue[ge||Q]=z,ye.push(ge||Q),!Ne.length)return{SheetNames:ye,Sheets:ue};for(var ze={},Pe=[],oe=0;oe<Ne.length;++oe)ue[ye[oe]]?(Pe.push(Ne[oe]||ye[oe]),ze[Ne[oe]]=ue[Ne[oe]]||ue[ye[oe]]):(Pe.push(Ne[oe]),ze[Ne[oe]]={"!ref":"A1"});return{SheetNames:Pe,Sheets:ze}}function n(I,V){var U=V||{};if(+U.codepage>=0&&lp(+U.codepage),U.type=="string")throw new Error("Cannot write WK1 to JS string");var z=ds(),Q=Hr(I["!ref"]),ge=Array.isArray(I),G=[];at(z,0,s(1030)),at(z,6,l(Q));for(var ue=Math.min(Q.e.r,8191),ye=Q.s.r;ye<=ue;++ye)for(var Ne=hi(ye),je=Q.s.c;je<=Q.e.c;++je){ye===Q.s.r&&(G[je]=Pi(je));var Ue=G[je]+Ne,ze=ge?(I[ye]||[])[je]:I[Ue];if(!(!ze||ze.t=="z"))if(ze.t=="n")(ze.v|0)==ze.v&&ze.v>=-32768&&ze.v<=32767?at(z,13,f(ye,je,ze.v)):at(z,14,v(ye,je,ze.v));else{var Pe=rl(ze);at(z,15,h(ye,je,Pe.slice(0,239)))}}return at(z,1),z.end()}function i(I,V){var U=V||{};if(+U.codepage>=0&&lp(+U.codepage),U.type=="string")throw new Error("Cannot write WK3 to JS string");var z=ds();at(z,0,a(I));for(var Q=0,ge=0;Q<I.SheetNames.length;++Q)(I.Sheets[I.SheetNames[Q]]||{})["!ref"]&&at(z,27,re(I.SheetNames[Q],ge++));var G=0;for(Q=0;Q<I.SheetNames.length;++Q){var ue=I.Sheets[I.SheetNames[Q]];if(!(!ue||!ue["!ref"])){for(var ye=Hr(ue["!ref"]),Ne=Array.isArray(ue),je=[],Ue=Math.min(ye.e.r,8191),ze=ye.s.r;ze<=Ue;++ze)for(var Pe=hi(ze),oe=ye.s.c;oe<=ye.e.c;++oe){ze===ye.s.r&&(je[oe]=Pi(oe));var He=je[oe]+Pe,ht=Ne?(ue[ze]||[])[oe]:ue[He];if(!(!ht||ht.t=="z"))if(ht.t=="n")at(z,23,D(ze,oe,G,ht.v));else{var Ye=rl(ht);at(z,22,A(ze,oe,G,Ye.slice(0,239)))}}++G}}return at(z,1),z.end()}function s(I){var V=Ve(2);return V.write_shift(2,I),V}function a(I){var V=Ve(26);V.write_shift(2,4096),V.write_shift(2,4),V.write_shift(4,0);for(var U=0,z=0,Q=0,ge=0;ge<I.SheetNames.length;++ge){var G=I.SheetNames[ge],ue=I.Sheets[G];if(!(!ue||!ue["!ref"])){++Q;var ye=js(ue["!ref"]);U<ye.e.r&&(U=ye.e.r),z<ye.e.c&&(z=ye.e.c)}}return U>8191&&(U=8191),V.write_shift(2,U),V.write_shift(1,Q),V.write_shift(1,z),V.write_shift(2,0),V.write_shift(2,0),V.write_shift(1,1),V.write_shift(1,2),V.write_shift(4,0),V.write_shift(4,0),V}function o(I,V,U){var z={s:{c:0,r:0},e:{c:0,r:0}};return V==8&&U.qpro?(z.s.c=I.read_shift(1),I.l++,z.s.r=I.read_shift(2),z.e.c=I.read_shift(1),I.l++,z.e.r=I.read_shift(2),z):(z.s.c=I.read_shift(2),z.s.r=I.read_shift(2),V==12&&U.qpro&&(I.l+=2),z.e.c=I.read_shift(2),z.e.r=I.read_shift(2),V==12&&U.qpro&&(I.l+=2),z.s.c==65535&&(z.s.c=z.e.c=z.s.r=z.e.r=0),z)}function l(I){var V=Ve(8);return V.write_shift(2,I.s.c),V.write_shift(2,I.s.r),V.write_shift(2,I.e.c),V.write_shift(2,I.e.r),V}function u(I,V,U){var z=[{c:0,r:0},{t:"n",v:0},0,0];return U.qpro&&U.vers!=20768?(z[0].c=I.read_shift(1),z[3]=I.read_shift(1),z[0].r=I.read_shift(2),I.l+=2):(z[2]=I.read_shift(1),z[0].c=I.read_shift(2),z[0].r=I.read_shift(2)),z}function c(I,V,U){var z=I.l+V,Q=u(I,V,U);if(Q[1].t="s",U.vers==20768){I.l++;var ge=I.read_shift(1);return Q[1].v=I.read_shift(ge,"utf8"),Q}return U.qpro&&I.l++,Q[1].v=I.read_shift(z-I.l,"cstr"),Q}function h(I,V,U){var z=Ve(7+U.length);z.write_shift(1,255),z.write_shift(2,V),z.write_shift(2,I),z.write_shift(1,39);for(var Q=0;Q<z.length;++Q){var ge=U.charCodeAt(Q);z.write_shift(1,ge>=128?95:ge)}return z.write_shift(1,0),z}function d(I,V,U){var z=u(I,V,U);return z[1].v=I.read_shift(2,"i"),z}function f(I,V,U){var z=Ve(7);return z.write_shift(1,255),z.write_shift(2,V),z.write_shift(2,I),z.write_shift(2,U,"i"),z}function y(I,V,U){var z=u(I,V,U);return z[1].v=I.read_shift(8,"f"),z}function v(I,V,U){var z=Ve(13);return z.write_shift(1,255),z.write_shift(2,V),z.write_shift(2,I),z.write_shift(8,U,"f"),z}function b(I,V,U){var z=I.l+V,Q=u(I,V,U);if(Q[1].v=I.read_shift(8,"f"),U.qpro)I.l=z;else{var ge=I.read_shift(2);F(I.slice(I.l,I.l+ge),Q),I.l+=ge}return Q}function w(I,V,U){var z=V&32768;return V&=-32769,V=(z?I:0)+(V>=8192?V-16384:V),(z?"":"$")+(U?Pi(V):hi(V))}var S={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},T=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function F(I,V){Cs(I,0);for(var U=[],z=0,Q="",ge="",G="",ue="";I.l<I.length;){var ye=I[I.l++];switch(ye){case 0:U.push(I.read_shift(8,"f"));break;case 1:ge=w(V[0].c,I.read_shift(2),!0),Q=w(V[0].r,I.read_shift(2),!1),U.push(ge+Q);break;case 2:{var Ne=w(V[0].c,I.read_shift(2),!0),je=w(V[0].r,I.read_shift(2),!1);ge=w(V[0].c,I.read_shift(2),!0),Q=w(V[0].r,I.read_shift(2),!1),U.push(Ne+je+":"+ge+Q)}break;case 3:if(I.l<I.length){console.error("WK1 premature formula end");return}break;case 4:U.push("("+U.pop()+")");break;case 5:U.push(I.read_shift(2));break;case 6:{for(var Ue="";ye=I[I.l++];)Ue+=String.fromCharCode(ye);U.push('"'+Ue.replace(/"/g,'""')+'"')}break;case 8:U.push("-"+U.pop());break;case 23:U.push("+"+U.pop());break;case 22:U.push("NOT("+U.pop()+")");break;case 20:case 21:ue=U.pop(),G=U.pop(),U.push(["AND","OR"][ye-20]+"("+G+","+ue+")");break;default:if(ye<32&&T[ye])ue=U.pop(),G=U.pop(),U.push(G+T[ye]+ue);else if(S[ye]){if(z=S[ye][1],z==69&&(z=I[I.l++]),z>U.length){console.error("WK1 bad formula parse 0x"+ye.toString(16)+":|"+U.join("|")+"|");return}var ze=U.slice(-z);U.length-=z,U.push(S[ye][0]+"("+ze.join(",")+")")}else return ye<=7?console.error("WK1 invalid opcode "+ye.toString(16)):ye<=24?console.error("WK1 unsupported op "+ye.toString(16)):ye<=30?console.error("WK1 invalid opcode "+ye.toString(16)):ye<=115?console.error("WK1 unsupported function opcode "+ye.toString(16)):console.error("WK1 unrecognized opcode "+ye.toString(16))}}U.length==1?V[1].f=""+U[0]:console.error("WK1 bad formula parse |"+U.join("|")+"|")}function j(I){var V=[{c:0,r:0},{t:"n",v:0},0];return V[0].r=I.read_shift(2),V[3]=I[I.l++],V[0].c=I[I.l++],V}function M(I,V){var U=j(I);return U[1].t="s",U[1].v=I.read_shift(V-4,"cstr"),U}function A(I,V,U,z){var Q=Ve(6+z.length);Q.write_shift(2,I),Q.write_shift(1,U),Q.write_shift(1,V),Q.write_shift(1,39);for(var ge=0;ge<z.length;++ge){var G=z.charCodeAt(ge);Q.write_shift(1,G>=128?95:G)}return Q.write_shift(1,0),Q}function _(I,V){var U=j(I);U[1].v=I.read_shift(2);var z=U[1].v>>1;if(U[1].v&1)switch(z&7){case 0:z=(z>>3)*5e3;break;case 1:z=(z>>3)*500;break;case 2:z=(z>>3)/20;break;case 3:z=(z>>3)/200;break;case 4:z=(z>>3)/2e3;break;case 5:z=(z>>3)/2e4;break;case 6:z=(z>>3)/16;break;case 7:z=(z>>3)/64;break}return U[1].v=z,U}function C(I,V){var U=j(I),z=I.read_shift(4),Q=I.read_shift(4),ge=I.read_shift(2);if(ge==65535)return z===0&&Q===3221225472?(U[1].t="e",U[1].v=15):z===0&&Q===3489660928?(U[1].t="e",U[1].v=42):U[1].v=0,U;var G=ge&32768;return ge=(ge&32767)-16446,U[1].v=(1-G*2)*(Q*Math.pow(2,ge+32)+z*Math.pow(2,ge)),U}function D(I,V,U,z){var Q=Ve(14);if(Q.write_shift(2,I),Q.write_shift(1,U),Q.write_shift(1,V),z==0)return Q.write_shift(4,0),Q.write_shift(4,0),Q.write_shift(2,65535),Q;var ge=0,G=0,ue=0,ye=0;return z<0&&(ge=1,z=-z),G=Math.log2(z)|0,z/=Math.pow(2,G-31),ye=z>>>0,ye&2147483648||(z/=2,++G,ye=z>>>0),z-=ye,ye|=2147483648,ye>>>=0,z*=Math.pow(2,32),ue=z>>>0,Q.write_shift(4,ue),Q.write_shift(4,ye),G+=16383+(ge?32768:0),Q.write_shift(2,G),Q}function N(I,V){var U=C(I);return I.l+=V-14,U}function E(I,V){var U=j(I),z=I.read_shift(4);return U[1].v=z>>6,U}function R(I,V){var U=j(I),z=I.read_shift(8,"f");return U[1].v=z,U}function H(I,V){var U=R(I);return I.l+=V-10,U}function me(I,V){return I[I.l+V-1]==0?I.read_shift(V,"cstr"):""}function ie(I,V){var U=I[I.l++];U>V-1&&(U=V-1);for(var z="";z.length<U;)z+=String.fromCharCode(I[I.l++]);return z}function ee(I,V,U){if(!(!U.qpro||V<21)){var z=I.read_shift(1);I.l+=17,I.l+=1,I.l+=2;var Q=I.read_shift(V-21,"cstr");return[z,Q]}}function J(I,V){for(var U={},z=I.l+V;I.l<z;){var Q=I.read_shift(2);if(Q==14e3){for(U[Q]=[0,""],U[Q][0]=I.read_shift(2);I[I.l];)U[Q][1]+=String.fromCharCode(I[I.l]),I.l++;I.l++}}return U}function re(I,V){var U=Ve(5+I.length);U.write_shift(2,14e3),U.write_shift(2,V);for(var z=0;z<I.length;++z){var Q=I.charCodeAt(z);U[U.l++]=Q>127?95:Q}return U[U.l++]=0,U}var de={0:{n:"BOF",f:cR},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:d},14:{n:"NUMBER",f:y},15:{n:"LABEL",f:c},16:{n:"FORMULA",f:b},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:c},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:me},222:{n:"SHEETNAMELP",f:ie},65535:{n:""}},Se={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:M},23:{n:"NUMBER17",f:C},24:{n:"NUMBER18",f:_},25:{n:"FORMULA19",f:N},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:J},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:E},38:{n:"??"},39:{n:"NUMBER27",f:R},40:{n:"FORMULA28",f:H},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:me},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ee},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}}(),AQ=/^\s|\s$|[\t\n\r]/;function gR(t,e){if(!e.bookSST)return"";var r=[kn];r[r.length]=st("sst",null,{xmlns:Qf[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var i=t[n],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(AQ)&&(s+=' xml:space="preserve"'),s+=">"+_r(i.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function NQ(t){return[t.read_shift(4),t.read_shift(4)]}function kQ(t,e){return e||(e=Ve(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var CQ=xX;function PQ(t){var e=ds();Ke(e,159,kQ(t));for(var r=0;r<t.length;++r)Ke(e,19,CQ(t[r]));return Ke(e,160),e.end()}function IQ(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function vR(t){var e=0,r,n=IQ(t),i=n.length+1,s,a,o,l,u;for(r=Vc(i),r[0]=n.length,s=1;s!=i;++s)r[s]=n[s-1];for(s=i-1;s>=0;--s)a=r[s],o=e&16384?1:0,l=e<<1&32767,u=o|l,e=u^a;return e^52811}var RQ=function(){function t(i,s){switch(s.type){case"base64":return e(tl(i),s);case"binary":return e(i,s);case"buffer":return e(hr&&Buffer.isBuffer(i)?i.toString("binary"):Mp(i),s);case"array":return e(Bv(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var a=s||{},o=a.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(c,h){Array.isArray(o)&&(o[h]=[]);for(var d=/\\\w+\b/g,f=0,y,v=-1;y=d.exec(c);){switch(y[0]){case"\\cell":var b=c.slice(f,d.lastIndex-y[0].length);if(b[0]==" "&&(b=b.slice(1)),++v,b.length){var w={v:b,t:"s"};Array.isArray(o)?o[h][v]=w:o[Tr({r:h,c:v})]=w}break}f=d.lastIndex}v>u.e.c&&(u.e.c=v)}),o["!ref"]=Nn(u),o}function r(i,s){return Yc(t(i,s),s)}function n(i){for(var s=["{\\rtf1\\ansi"],a=Hr(i["!ref"]),o,l=Array.isArray(i),u=a.s.r;u<=a.e.r;++u){s.push("\\trowd\\trautofit1");for(var c=a.s.c;c<=a.e.c;++c)s.push("\\cellx"+(c+1));for(s.push("\\pard\\intbl"),c=a.s.c;c<=a.e.c;++c){var h=Tr({r:u,c});o=l?(i[u]||[])[c]:i[h],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(rl(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}}();function oA(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}var LQ=6,Ho=LQ;function D1(t){return Math.floor((t+Math.round(128/Ho)/256)*Ho)}function O1(t){return Math.floor((t-5)/Ho*100+.5)/100}function Lw(t){return Math.round((t*Ho+5)/Ho*256)/256}function Pb(t){t.width?(t.wpx=D1(t.width),t.wch=O1(t.wpx),t.MDW=Ho):t.wpx?(t.wch=O1(t.wpx),t.width=Lw(t.wch),t.MDW=Ho):typeof t.wch=="number"&&(t.width=Lw(t.wch),t.wpx=D1(t.width),t.MDW=Ho),t.customWidth&&delete t.customWidth}var FQ=96,yR=FQ;function j1(t){return t*96/yR}function xR(t){return t*yR/96}function DQ(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=st("numFmt",null,{numFmtId:n,formatCode:_r(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=st("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function OQ(t){var e=[];return e[e.length]=st("cellXfs",null),t.forEach(function(r){e[e.length]=st("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=st("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function wR(t,e){var r=[kn,st("styleSheet",null,{xmlns:Qf[0],"xmlns:vt":qn.vt})],n;return t.SSF&&(n=DQ(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=OQ(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function jQ(t,e){var r=t.read_shift(2),n=Ii(t);return[r,n]}function MQ(t,e,r){r||(r=Ve(6+4*e.length)),r.write_shift(2,t),Gn(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function BQ(t,e,r){var n={};n.sz=t.read_shift(2)/20;var i=AX(t);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var s=t.read_shift(2);switch(s===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var a=t.read_shift(1);a!=0&&(n.underline=a);var o=t.read_shift(1);o>0&&(n.family=o);var l=t.read_shift(1);switch(l>0&&(n.charset=l),t.l++,n.color=EX(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Ii(t),n}function VQ(t,e){e||(e=Ve(25+4*32)),e.write_shift(2,t.sz*20),NX(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),L1(t.color,e);var n=0;return n=2,e.write_shift(1,n),Gn(t.name,e),e.length>e.l?e.slice(0,e.l):e}var UQ=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],wy,zQ=fo;function lA(t,e){e||(e=Ve(4*3+8*7+16*1)),wy||(wy=yb(UQ));var r=wy[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(L1({auto:1},e),L1({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function HQ(t,e){var r=t.l+e,n=t.read_shift(2),i=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:i}}function _R(t,e,r){r||(r=Ve(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Pd(t,e){return e||(e=Ve(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var WQ=fo;function qQ(t,e){return e||(e=Ve(51)),e.write_shift(1,0),Pd(null,e),Pd(null,e),Pd(null,e),Pd(null,e),Pd(null,e),e.length>e.l?e.slice(0,e.l):e}function $Q(t,e){return e||(e=Ve(12+4*10)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),R1(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function GQ(t,e,r){var n=Ve(2052);return n.write_shift(4,t),R1(e,n),R1(r,n),n.length>n.l?n.slice(0,n.l):n}function KQ(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&++r}),r!=0&&(Ke(t,615,La(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&Ke(t,44,MQ(i,e[i]))}),Ke(t,616))}}function YQ(t){var e=1;Ke(t,611,La(e)),Ke(t,43,VQ({sz:12,color:{theme:1},name:"Calibri",family:2})),Ke(t,612)}function XQ(t){var e=2;Ke(t,603,La(e)),Ke(t,45,lA({patternType:"none"})),Ke(t,45,lA({patternType:"gray125"})),Ke(t,604)}function QQ(t){var e=1;Ke(t,613,La(e)),Ke(t,46,qQ()),Ke(t,614)}function JQ(t){var e=1;Ke(t,626,La(e)),Ke(t,47,_R({numFmtId:0},65535)),Ke(t,627)}function ZQ(t,e){Ke(t,617,La(e.length)),e.forEach(function(r){Ke(t,47,_R(r,0))}),Ke(t,618)}function eJ(t){var e=1;Ke(t,619,La(e)),Ke(t,48,$Q({xfId:0,name:"Normal"})),Ke(t,620)}function tJ(t){var e=0;Ke(t,505,La(e)),Ke(t,506)}function rJ(t){var e=0;Ke(t,508,GQ(e,"TableStyleMedium9","PivotStyleMedium4")),Ke(t,509)}function nJ(t,e){var r=ds();return Ke(r,278),KQ(r,t.SSF),YQ(r),XQ(r),QQ(r),JQ(r),ZQ(r,e.cellXfs),eJ(r),tJ(r),rJ(r),Ke(r,279),r.end()}function bR(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[kn];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function iJ(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Ii(t)}}function sJ(t){var e=Ve(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Gn(t.name,e),e.slice(0,e.l)}function aJ(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function oJ(t){var e=Ve(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function lJ(t,e){var r=Ve(8+2*e.length);return r.write_shift(4,t),Gn(e,r),r.slice(0,r.l)}function uJ(t){return t.l+=4,t.read_shift(4)!=0}function cJ(t,e){var r=Ve(8);return r.write_shift(4,t),r.write_shift(4,1),r}function hJ(){var t=ds();return Ke(t,332),Ke(t,334,La(1)),Ke(t,335,sJ({name:"XLDAPR",version:12e4,flags:3496657072})),Ke(t,336),Ke(t,339,lJ(1,"XLDAPR")),Ke(t,52),Ke(t,35,La(514)),Ke(t,4096,La(0)),Ke(t,4097,Qs(1)),Ke(t,36),Ke(t,53),Ke(t,340),Ke(t,337,cJ(1)),Ke(t,51,oJ([[1,0]])),Ke(t,338),Ke(t,333),t.end()}function SR(){var t=[kn];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function fJ(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=Tr(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var Zh=1024;function TR(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[st("xml",null,{"xmlns:v":Ps.v,"xmlns:o":Ps.o,"xmlns:x":Ps.x,"xmlns:mv":Ps.mv}).replace(/\/>/,">"),st("o:shapelayout",st("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),st("v:shapetype",[st("v:stroke",null,{joinstyle:"miter"}),st("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Zh<t*1e3;)Zh+=1e3;return e.forEach(function(s){var a=$n(s[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?st("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=st("v:fill",l,o),c={on:"t",obscured:"t"};++Zh,i=i.concat(["<v:shape"+fp({id:"_x0000_s"+Zh,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,st("v:shadow",null,c),st("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",li("x:Anchor",[a.c+1,0,a.r+1,0,a.c+3,20,a.r+5,20].join(",")),li("x:AutoFill","False"),li("x:Row",String(a.r)),li("x:Column",String(a.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function ER(t){var e=[kn,st("comments",null,{xmlns:Qf[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(i){var s=_r(i.a);r.indexOf(s)==-1&&(r.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var i=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(i=r.indexOf(_r(l.a))),s.push(l.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(li("t",_r(s[0]||"")));else{for(var a=`Comment:
    `+s[0]+`
`,o=1;o<s.length;++o)a+=`Reply:
    `+s[o]+`
`;e.push(li("t",_r(a)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function dJ(t,e,r){var n=[kn,st("ThreadedComments",null,{xmlns:qn.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var s="";(i[1]||[]).forEach(function(a,o){if(!a.T){delete a.ID;return}a.a&&e.indexOf(a.a)==-1&&e.push(a.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?s=l.id:l.parentId=s,a.ID=l.id,a.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(a.a)).slice(-12)+"}"),n.push(st("threadedComment",li("text",a.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function pJ(t){var e=[kn,st("personList",null,{xmlns:qn.TCMNT,"xmlns:x":Qf[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(st("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function mJ(t){var e={};e.iauthor=t.read_shift(4);var r=Zc(t);return e.rfx=r.s,e.ref=Tr(r.s),t.l+=16,e}function gJ(t,e){return e==null&&(e=Ve(36)),e.write_shift(4,t[1].iauthor),Zf(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var vJ=Ii;function yJ(t){return Gn(t.slice(0,54))}function xJ(t){var e=ds(),r=[];return Ke(e,628),Ke(e,630),t.forEach(function(n){n[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),Ke(e,632,yJ(i.a)))})}),Ke(e,631),Ke(e,633),t.forEach(function(n){n[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var s={s:$n(n[0]),e:$n(n[0])};Ke(e,635,gJ([s,i])),i.t&&i.t.length>0&&Ke(e,637,_X(i)),Ke(e,636),delete i.iauthor})}),Ke(e,634),Ke(e,629),e.end()}function wJ(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Cr.utils.cfb_add(t,i,e.FileIndex[n].content)}})}var AR=["xlsb","xlsm","xlam","biff8","xla"],_J=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,i,s,a){var o=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,c=a.length>0?parseInt(a,10)|0:0;return o?c+=e.c:--c,l?u+=e.r:--u,i+(o?"":"$")+Pi(c)+(l?"":"$")+hi(u)}return function(i,s){return e=s,i.replace(t,r)}}(),Ib=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Rb=function(){return function(e,r){return e.replace(Ib,function(n,i,s,a,o,l){var u=Eb(a)-(s?0:r.c),c=Tb(l)-(o?0:r.r),h=c==0?"":o?c+1:"["+c+"]",d=u==0?"":s?u+1:"["+u+"]";return i+"R"+h+"C"+d})}}();function bJ(t,e){return t.replace(Ib,function(r,n,i,s,a,o){return n+(i=="$"?i+s:Pi(Eb(s)+e.c))+(a=="$"?a+o:hi(Tb(o)+e.r))})}function SJ(t){return t.length!=1}function bn(t){t.l+=1}function Cu(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function NR(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return kR(t);r.biff==12&&(n=4)}var i=t.read_shift(n),s=t.read_shift(n),a=Cu(t),o=Cu(t);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function kR(t){var e=Cu(t),r=Cu(t),n=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function TJ(t,e,r){if(r.biff<8)return kR(t);var n=t.read_shift(r.biff==12?4:2),i=t.read_shift(r.biff==12?4:2),s=Cu(t),a=Cu(t);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function CR(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return EJ(t);var n=t.read_shift(r&&r.biff==12?4:2),i=Cu(t);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function EJ(t){var e=Cu(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function AJ(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function NJ(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return kJ(t);var i=t.read_shift(n>=12?4:2),s=t.read_shift(2),a=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;i>524287;)i-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:a,rRel:o}}function kJ(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:i,rRel:n}}function CJ(t,e,r){var n=(t[t.l++]&96)>>5,i=NR(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function PJ(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var a=NR(t,s,r);return[n,i,a]}function IJ(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function RJ(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[n,i]}function LJ(t,e,r){var n=(t[t.l++]&96)>>5,i=TJ(t,e-1,r);return[n,i]}function FJ(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function uA(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function DJ(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),i=[],s=0;s<=n;++s)i.push(t.read_shift(r&&r.biff==2?1:2));return i}function OJ(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function jJ(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function MJ(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function BJ(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function PR(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function VJ(t){return t.read_shift(2),PR(t)}function UJ(t){return t.read_shift(2),PR(t)}function zJ(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=CR(t,0,r);return[n,i]}function HJ(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=NJ(t,0,r);return[n,i]}function WJ(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var s=CR(t,0,r);return[n,i,s]}function qJ(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(r&&r.biff<=3?1:2);return[qZ[i],LR[i],n]}function $J(t,e,r){var n=t[t.l++],i=t.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:GJ(t);return[i,(s[0]===0?LR:WZ)[s[1]]]}function GJ(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function KJ(t,e,r){t.l+=r&&r.biff==2?3:4}function YJ(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function XJ(t){return t.l++,Up[t.read_shift(1)]}function QJ(t){return t.l++,t.read_shift(2)}function JJ(t){return t.l++,t.read_shift(1)!==0}function ZJ(t){return t.l++,ed(t)}function eZ(t,e,r){return t.l++,fR(t,e-1,r)}function tZ(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=WX(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=Up[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=ed(t);break;case 2:r[1]=KX(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function rZ(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),i=[],s=0;s!=n;++s)i.push((r.biff==12?Zc:QX)(t));return i}function nZ(t,e,r){var n=0,i=0;r.biff==12?(n=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var s=0,a=[];s!=n&&(a[s]=[]);++s)for(var o=0;o!=i;++o)a[s][o]=tZ(t,r.biff);return a}function iZ(t,e,r){var n=t.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,s=t.read_shift(i);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,s]}function sZ(t,e,r){if(r.biff==5)return aZ(t);var n=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[n,i,s]}function aZ(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function oZ(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function lZ(t,e,r){var n=t.read_shift(1)>>>5&3,i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function uZ(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function cZ(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[n,i]}var hZ=fo,fZ=fo,dZ=fo;function zp(t,e,r){return t.l+=2,[AJ(t)]}function Lb(t){return t.l+=6,[]}var pZ=zp,mZ=Lb,gZ=Lb,vZ=zp;function IR(t){return t.l+=2,[cR(t),t.read_shift(2)&1]}var yZ=zp,xZ=IR,wZ=Lb,_Z=zp,bZ=zp,SZ=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function TZ(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),a=SZ[r>>2&31];return{ixti:e,coltype:r&3,rt:a,idx:n,c:i,C:s}}function EZ(t){return t.l+=2,[t.read_shift(4)]}function AZ(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function NZ(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function kZ(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function CZ(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function PZ(t){return t.l+=4,[0,0]}var cA={1:{n:"PtgExp",f:YJ},2:{n:"PtgTbl",f:dZ},3:{n:"PtgAdd",f:bn},4:{n:"PtgSub",f:bn},5:{n:"PtgMul",f:bn},6:{n:"PtgDiv",f:bn},7:{n:"PtgPower",f:bn},8:{n:"PtgConcat",f:bn},9:{n:"PtgLt",f:bn},10:{n:"PtgLe",f:bn},11:{n:"PtgEq",f:bn},12:{n:"PtgGe",f:bn},13:{n:"PtgGt",f:bn},14:{n:"PtgNe",f:bn},15:{n:"PtgIsect",f:bn},16:{n:"PtgUnion",f:bn},17:{n:"PtgRange",f:bn},18:{n:"PtgUplus",f:bn},19:{n:"PtgUminus",f:bn},20:{n:"PtgPercent",f:bn},21:{n:"PtgParen",f:bn},22:{n:"PtgMissArg",f:bn},23:{n:"PtgStr",f:eZ},26:{n:"PtgSheet",f:AZ},27:{n:"PtgEndSheet",f:NZ},28:{n:"PtgErr",f:XJ},29:{n:"PtgBool",f:JJ},30:{n:"PtgInt",f:QJ},31:{n:"PtgNum",f:ZJ},32:{n:"PtgArray",f:FJ},33:{n:"PtgFunc",f:qJ},34:{n:"PtgFuncVar",f:$J},35:{n:"PtgName",f:iZ},36:{n:"PtgRef",f:zJ},37:{n:"PtgArea",f:CJ},38:{n:"PtgMemArea",f:oZ},39:{n:"PtgMemErr",f:hZ},40:{n:"PtgMemNoMem",f:fZ},41:{n:"PtgMemFunc",f:lZ},42:{n:"PtgRefErr",f:uZ},43:{n:"PtgAreaErr",f:IJ},44:{n:"PtgRefN",f:HJ},45:{n:"PtgAreaN",f:LJ},46:{n:"PtgMemAreaN",f:kZ},47:{n:"PtgMemNoMemN",f:CZ},57:{n:"PtgNameX",f:sZ},58:{n:"PtgRef3d",f:WJ},59:{n:"PtgArea3d",f:PJ},60:{n:"PtgRefErr3d",f:cZ},61:{n:"PtgAreaErr3d",f:RJ},255:{}},IZ={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},RZ={1:{n:"PtgElfLel",f:IR},2:{n:"PtgElfRw",f:_Z},3:{n:"PtgElfCol",f:pZ},6:{n:"PtgElfRwV",f:bZ},7:{n:"PtgElfColV",f:vZ},10:{n:"PtgElfRadical",f:yZ},11:{n:"PtgElfRadicalS",f:wZ},13:{n:"PtgElfColS",f:mZ},15:{n:"PtgElfColSV",f:gZ},16:{n:"PtgElfRadicalLel",f:xZ},25:{n:"PtgList",f:TZ},29:{n:"PtgSxName",f:EZ},255:{}},LZ={0:{n:"PtgAttrNoop",f:PZ},1:{n:"PtgAttrSemi",f:BJ},2:{n:"PtgAttrIf",f:jJ},4:{n:"PtgAttrChoose",f:DJ},8:{n:"PtgAttrGoto",f:OJ},16:{n:"PtgAttrSum",f:KJ},32:{n:"PtgAttrBaxcel",f:uA},33:{n:"PtgAttrBaxcel",f:uA},64:{n:"PtgAttrSpace",f:VJ},65:{n:"PtgAttrSpaceSemi",f:UJ},128:{n:"PtgAttrIfError",f:MJ},255:{}};function FZ(t,e,r,n){if(n.biff<8)return fo(t,e);for(var i=t.l+e,s=[],a=0;a!==r.length;++a)switch(r[a][0]){case"PtgArray":r[a][1]=nZ(t,0,n),s.push(r[a][1]);break;case"PtgMemArea":r[a][2]=rZ(t,r[a][1],n),s.push(r[a][2]);break;case"PtgExp":n&&n.biff==12&&(r[a][1][1]=t.read_shift(4),s.push(r[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[a][0]}return e=i-t.l,e!==0&&s.push(fo(t,e)),s}function DZ(t,e,r){for(var n=t.l+e,i,s,a=[];n!=t.l;)e=n-t.l,s=t[t.l],i=cA[s]||cA[IZ[s]],(s===24||s===25)&&(i=(s===24?RZ:LZ)[t[t.l+1]]),!i||!i.f?fo(t,e):a.push([i.n,i.f(t,e,r)]);return a}function OZ(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],i=[],s=0;s<n.length;++s){var a=n[s];if(a)switch(a[0]){case 2:i.push('"'+a[1].replace(/"/g,'""')+'"');break;default:i.push(a[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var jZ={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function MZ(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function RR(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(t[n[0]][0]){case 357:return i=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[n[0]][0][3]?(i=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function hA(t,e,r){var n=RR(t,e,r);return n=="#REF"?n:MZ(n,r)}function Of(t,e,r,n,i){var s=i&&i.biff||8,a={s:{c:0,r:0}},o=[],l,u,c,h=0,d=0,f,y="";if(!t[0]||!t[0][0])return"";for(var v=-1,b="",w=0,S=t[0].length;w<S;++w){var T=t[0][w];switch(T[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),u=o.pop(),v>=0){switch(t[0][v][1][0]){case 0:b=ln(" ",t[0][v][1][1]);break;case 1:b=ln("\r",t[0][v][1][1]);break;default:if(b="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][v][1][0])}u=u+b,v=-1}o.push(u+jZ[T[0]]+l);break;case"PtgIsect":l=o.pop(),u=o.pop(),o.push(u+" "+l);break;case"PtgUnion":l=o.pop(),u=o.pop(),o.push(u+","+l);break;case"PtgRange":l=o.pop(),u=o.pop(),o.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":c=y0(T[1][1],a,i),o.push(x0(c,s));break;case"PtgRefN":c=r?y0(T[1][1],r,i):T[1][1],o.push(x0(c,s));break;case"PtgRef3d":h=T[1][1],c=y0(T[1][2],a,i),y=hA(n,h,i),o.push(y+"!"+x0(c,s));break;case"PtgFunc":case"PtgFuncVar":var F=T[1][0],j=T[1][1];F||(F=0),F&=127;var M=F==0?[]:o.slice(-F);o.length-=F,j==="User"&&(j=M.shift()),o.push(j+"("+M.join(",")+")");break;case"PtgBool":o.push(T[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(T[1]);break;case"PtgNum":o.push(String(T[1]));break;case"PtgStr":o.push('"'+T[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(T[1]);break;case"PtgAreaN":f=Y3(T[1][1],r?{s:r}:a,i),o.push(yy(f,i));break;case"PtgArea":f=Y3(T[1][1],a,i),o.push(yy(f,i));break;case"PtgArea3d":h=T[1][1],f=T[1][2],y=hA(n,h,i),o.push(y+"!"+yy(f,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":d=T[1][2];var A=(n.names||[])[d-1]||(n[0]||[])[d],_=A?A.Name:"SH33TJSNAME"+String(d);_&&_.slice(0,6)=="_xlfn."&&!i.xlfn&&(_=_.slice(6)),o.push(_);break;case"PtgNameX":var C=T[1][1];d=T[1][2];var D;if(i.biff<=5)C<0&&(C=-C),n[C]&&(D=n[C][d]);else{var N="";if(((n[C]||[])[0]||[])[0]==14849||(((n[C]||[])[0]||[])[0]==1025?n[C][d]&&n[C][d].itab>0&&(N=n.SheetNames[n[C][d].itab-1]+"!"):N=n.SheetNames[d-1]+"!"),n[C]&&n[C][d])N+=n[C][d].Name;else if(n[0]&&n[0][d])N+=n[0][d].Name;else{var E=(RR(n,C,i)||"").split(";;");E[d-1]?N=E[d-1]:N+="SH33TJSERRX"}o.push(N);break}D||(D={Name:"SH33TJSERRY"}),o.push(D.Name);break;case"PtgParen":var R="(",H=")";if(v>=0){switch(b="",t[0][v][1][0]){case 2:R=ln(" ",t[0][v][1][1])+R;break;case 3:R=ln("\r",t[0][v][1][1])+R;break;case 4:H=ln(" ",t[0][v][1][1])+H;break;case 5:H=ln("\r",t[0][v][1][1])+H;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][v][1][0])}v=-1}o.push(R+o.pop()+H);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":c={c:T[1][1],r:T[1][0]};var me={c:r.c,r:r.r};if(n.sharedf[Tr(c)]){var ie=n.sharedf[Tr(c)];o.push(Of(ie,a,me,n,i))}else{var ee=!1;for(l=0;l!=n.arrayf.length;++l)if(u=n.arrayf[l],!(c.c<u[0].s.c||c.c>u[0].e.c)&&!(c.r<u[0].s.r||c.r>u[0].e.r)){o.push(Of(u[1],a,me,n,i)),ee=!0;break}ee||o.push(T[1])}break;case"PtgArray":o.push("{"+OZ(T[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=w;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+T[1].idx+"[#"+T[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(T));default:throw new Error("Unrecognized Formula Token: "+String(T))}var J=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&v>=0&&J.indexOf(t[0][w][0])==-1){T=t[0][v];var re=!0;switch(T[1][0]){case 4:re=!1;case 0:b=ln(" ",T[1][1]);break;case 5:re=!1;case 1:b=ln("\r",T[1][1]);break;default:if(b="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+T[1][0])}o.push((re?b:"")+o.pop()+(re?"":b)),v=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function BZ(t){if(t==null){var e=Ve(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return Uc(t);return Uc(0)}function VZ(t,e,r,n,i){var s=zc(e,r,i),a=BZ(t.v),o=Ve(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var u=Ve(t.bf.length),c=0;c<t.bf.length;++c)u[c]=t.bf[c];var h=oi([s,a,o,u]);return h}function Vv(t,e,r){var n=t.read_shift(4),i=DZ(t,n,r),s=t.read_shift(4),a=s>0?FZ(t,s,i,r):null;return[i,a]}var UZ=Vv,Uv=Vv,zZ=Vv,HZ=Vv,WZ={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},LR={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},qZ={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function $Z(t){var e="of:="+t.replace(Ib,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function GZ(t){return t.replace(/\./,"!")}var w0=typeof Map<"u";function Fb(t,e,r){var n=0,i=t.length;if(r){if(w0?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var s=w0?r.get(e):r[e];n<s.length;++n)if(t[s[n]].t===e)return t.Count++,s[n]}}else for(;n<i;++n)if(t[n].t===e)return t.Count++,n;return t[i]={t:e},t.Count++,t.Unique++,r&&(w0?(r.has(e)||r.set(e,[]),r.get(e).push(i)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(i))),i}function zv(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(Ho=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=O1(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=Lw(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function FR(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function Bu(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],i=60,s=t.length;if(n==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){C8(e.z,i),r.ssf[i]=e.z,r.revssf[e.z]=n=i;break}}for(i=0;i!=s;++i)if(t[i].numFmtId===n)return i;return t[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function KZ(t,e,r){if(t&&t["!ref"]){var n=Hr(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function YZ(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+Nn(t[r])+'"/>';return e+"</mergeCells>"}function XZ(t,e,r,n,i){var s=!1,a={},o=null;if(n.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[r];try{e.Workbook&&(l=e.Workbook.Sheets[r].CodeName||l)}catch{}s=!0,a.codeName=hp(_r(l))}if(t&&t["!outline"]){var u={summaryBelow:1,summaryRight:1};t["!outline"].above&&(u.summaryBelow=0),t["!outline"].left&&(u.summaryRight=0),o=(o||"")+st("outlinePr",null,u)}!s&&!o||(i[i.length]=st("sheetPr",o,a))}var QZ=["objects","scenarios","selectLockedCells","selectUnlockedCells"],JZ=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function ZZ(t){var e={sheet:1};return QZ.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),JZ.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=vR(t.password).toString(16).toUpperCase()),st("sheetProtection",null,e)}function eee(t){return FR(t),st("pageMargins",null,t)}function tee(t,e){for(var r=["<cols>"],n,i=0;i!=e.length;++i)(n=e[i])&&(r[r.length]=st("col",null,zv(i,n)));return r[r.length]="</cols>",r.join("")}function ree(t,e,r,n){var i=typeof t.ref=="string"?t.ref:Nn(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,a=js(i);a.s.r==a.e.r&&(a.e.r=js(e["!ref"]).e.r,i=Nn(a));for(var o=0;o<s.length;++o){var l=s[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+i;break}}return o==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),st("autoFilter",null,{ref:i})}function nee(t,e,r,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),st("sheetViews",st("sheetView",null,i),{})}function iee(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",s=t.t,a=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=Up[t.v];break;case"d":n&&n.cellDates?i=$i(t.v,-1).toISOString():(t=ms(t),t.t="n",i=""+(t.v=ps($i(t.v)))),typeof t.z>"u"&&(t.z=un[14]);break;default:i=t.v;break}var o=li("v",_r(i)),l={r:e},u=Bu(n.cellXfs,t,n);switch(u!==0&&(l.s=u),t.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=li("v",""+Fb(n.Strings,t.v,n.revStrings)),l.t="s";break}l.t="str";break}if(t.t!=s&&(t.t=s,t.v=a),typeof t.f=="string"&&t.f){var c=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;o=st("f",_r(t.f),c)+(t.v!=null?o:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(l.cm=1),st("c",o,l)}function see(t,e,r,n){var i=[],s=[],a=Hr(t["!ref"]),o="",l,u="",c=[],h=0,d=0,f=t["!rows"],y=Array.isArray(t),v={r:u},b,w=-1;for(d=a.s.c;d<=a.e.c;++d)c[d]=Pi(d);for(h=a.s.r;h<=a.e.r;++h){for(s=[],u=hi(h),d=a.s.c;d<=a.e.c;++d){l=c[d]+u;var S=y?(t[h]||[])[d]:t[l];S!==void 0&&(o=iee(S,l,t,e))!=null&&s.push(o)}(s.length>0||f&&f[h])&&(v={r:u},f&&f[h]&&(b=f[h],b.hidden&&(v.hidden=1),w=-1,b.hpx?w=j1(b.hpx):b.hpt&&(w=b.hpt),w>-1&&(v.ht=w,v.customHeight=1),b.level&&(v.outlineLevel=b.level)),i[i.length]=st("row",s.join(""),v))}if(f)for(;h<f.length;++h)f&&f[h]&&(v={r:h+1},b=f[h],b.hidden&&(v.hidden=1),w=-1,b.hpx?w=j1(b.hpx):b.hpt&&(w=b.hpt),w>-1&&(v.ht=w,v.customHeight=1),b.level&&(v.outlineLevel=b.level),i[i.length]=st("row","",v));return i.join("")}function DR(t,e,r,n){var i=[kn,st("worksheet",null,{xmlns:Qf[0],"xmlns:r":qn.r})],s=r.SheetNames[t],a=0,o="",l=r.Sheets[s];l==null&&(l={});var u=l["!ref"]||"A1",c=Hr(u);if(c.e.c>16383||c.e.r>1048575){if(e.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575),u=Nn(c)}n||(n={}),l["!comments"]=[];var h=[];XZ(l,r,t,e,i),i[i.length]=st("dimension",null,{ref:u}),i[i.length]=nee(l,e,t,r),e.sheetFormat&&(i[i.length]=st("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=tee(l,l["!cols"])),i[a=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=see(l,e),o.length>0&&(i[i.length]=o)),i.length>a+1&&(i[i.length]="</sheetData>",i[a]=i[a].replace("/>",">")),l["!protect"]&&(i[i.length]=ZZ(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=ree(l["!autofilter"],l,r,t)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=YZ(l["!merges"]));var d=-1,f,y=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(v){v[1].Target&&(f={ref:v[0]},v[1].Target.charAt(0)!="#"&&(y=yr(n,-1,_r(v[1].Target).replace(/#.*$/,""),or.HLINK),f["r:id"]="rId"+y),(d=v[1].Target.indexOf("#"))>-1&&(f.location=_r(v[1].Target.slice(d+1))),v[1].Tooltip&&(f.tooltip=_r(v[1].Tooltip)),i[i.length]=st("hyperlink",null,f))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=eee(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=li("ignoredErrors",st("ignoredError",null,{numberStoredAsText:1,sqref:u}))),h.length>0&&(y=yr(n,-1,"../drawings/drawing"+(t+1)+".xml",or.DRAW),i[i.length]=st("drawing",null,{"r:id":"rId"+y}),l["!drawing"]=h),l["!comments"].length>0&&(y=yr(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",or.VML),i[i.length]=st("legacyDrawing",null,{"r:id":"rId"+y}),l["!legacy"]=y),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function aee(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=i/20),r}function oee(t,e,r){var n=Ve(145),i=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var s=320;i.hpx?s=j1(i.hpx)*20:i.hpt&&(s=i.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var a=0;i.level&&(a|=i.level),i.hidden&&(a|=16),(i.hpx||i.hpt)&&(a|=32),n.write_shift(1,a),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var u={r:t,c:0},c=0;c<16;++c)if(!(e.s.c>c+1<<10||e.e.c<c<<10)){for(var h=-1,d=-1,f=c<<10;f<c+1<<10;++f){u.c=f;var y=Array.isArray(r)?(r[u.r]||[])[u.c]:r[Tr(u)];y&&(h<0&&(h=f),d=f)}h<0||(++o,n.write_shift(4,h),n.write_shift(4,d))}var v=n.l;return n.l=l,n.write_shift(4,o),n.l=v,n.length>n.l?n.slice(0,n.l):n}function lee(t,e,r,n){var i=oee(n,r,e);(i.length>17||(e["!rows"]||[])[n])&&Ke(t,0,i)}var uee=Zc,cee=Zf;function hee(){}function fee(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=bX(t),r}function dee(t,e,r){r==null&&(r=Ve(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var i=1;i<3;++i)r.write_shift(1,0);return L1({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),X8(t,r),r.slice(0,r.l)}function pee(t){var e=aa(t);return[e]}function mee(t,e,r){return r==null&&(r=Ve(8)),Xc(e,r)}function gee(t){var e=Qc(t);return[e]}function vee(t,e,r){return r==null&&(r=Ve(4)),Jc(e,r)}function yee(t){var e=aa(t),r=t.read_shift(1);return[e,r,"b"]}function xee(t,e,r){return r==null&&(r=Ve(9)),Xc(e,r),r.write_shift(1,t.v?1:0),r}function wee(t){var e=Qc(t),r=t.read_shift(1);return[e,r,"b"]}function _ee(t,e,r){return r==null&&(r=Ve(5)),Jc(e,r),r.write_shift(1,t.v?1:0),r}function bee(t){var e=aa(t),r=t.read_shift(1);return[e,r,"e"]}function See(t,e,r){return r==null&&(r=Ve(9)),Xc(e,r),r.write_shift(1,t.v),r}function Tee(t){var e=Qc(t),r=t.read_shift(1);return[e,r,"e"]}function Eee(t,e,r){return r==null&&(r=Ve(8)),Jc(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function Aee(t){var e=aa(t),r=t.read_shift(4);return[e,r,"s"]}function Nee(t,e,r){return r==null&&(r=Ve(12)),Xc(e,r),r.write_shift(4,e.v),r}function kee(t){var e=Qc(t),r=t.read_shift(4);return[e,r,"s"]}function Cee(t,e,r){return r==null&&(r=Ve(8)),Jc(e,r),r.write_shift(4,e.v),r}function Pee(t){var e=aa(t),r=ed(t);return[e,r,"n"]}function Iee(t,e,r){return r==null&&(r=Ve(16)),Xc(e,r),Uc(t.v,r),r}function Ree(t){var e=Qc(t),r=ed(t);return[e,r,"n"]}function Lee(t,e,r){return r==null&&(r=Ve(12)),Jc(e,r),Uc(t.v,r),r}function Fee(t){var e=aa(t),r=Q8(t);return[e,r,"n"]}function Dee(t,e,r){return r==null&&(r=Ve(12)),Xc(e,r),J8(t.v,r),r}function Oee(t){var e=Qc(t),r=Q8(t);return[e,r,"n"]}function jee(t,e,r){return r==null&&(r=Ve(8)),Jc(e,r),J8(t.v,r),r}function Mee(t){var e=aa(t),r=Ab(t);return[e,r,"is"]}function Bee(t){var e=aa(t),r=Ii(t);return[e,r,"str"]}function Vee(t,e,r){return r==null&&(r=Ve(12+4*t.v.length)),Xc(e,r),Gn(t.v,r),r.length>r.l?r.slice(0,r.l):r}function Uee(t){var e=Qc(t),r=Ii(t);return[e,r,"str"]}function zee(t,e,r){return r==null&&(r=Ve(8+4*t.v.length)),Jc(e,r),Gn(t.v,r),r.length>r.l?r.slice(0,r.l):r}function Hee(t,e,r){var n=t.l+e,i=aa(t);i.r=r["!row"];var s=t.read_shift(1),a=[i,s,"b"];if(r.cellFormula){t.l+=2;var o=Uv(t,n-t.l,r);a[3]=Of(o,null,i,r.supbooks,r)}else t.l=n;return a}function Wee(t,e,r){var n=t.l+e,i=aa(t);i.r=r["!row"];var s=t.read_shift(1),a=[i,s,"e"];if(r.cellFormula){t.l+=2;var o=Uv(t,n-t.l,r);a[3]=Of(o,null,i,r.supbooks,r)}else t.l=n;return a}function qee(t,e,r){var n=t.l+e,i=aa(t);i.r=r["!row"];var s=ed(t),a=[i,s,"n"];if(r.cellFormula){t.l+=2;var o=Uv(t,n-t.l,r);a[3]=Of(o,null,i,r.supbooks,r)}else t.l=n;return a}function $ee(t,e,r){var n=t.l+e,i=aa(t);i.r=r["!row"];var s=Ii(t),a=[i,s,"str"];if(r.cellFormula){t.l+=2;var o=Uv(t,n-t.l,r);a[3]=Of(o,null,i,r.supbooks,r)}else t.l=n;return a}var Gee=Zc,Kee=Zf;function Yee(t,e){return e==null&&(e=Ve(4)),e.write_shift(4,t),e}function Xee(t,e){var r=t.l+e,n=Zc(t),i=Nb(t),s=Ii(t),a=Ii(t),o=Ii(t);t.l=r;var l={rfx:n,relId:i,loc:s,display:o};return a&&(l.Tooltip=a),l}function Qee(t,e){var r=Ve(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Zf({s:$n(t[0]),e:$n(t[0])},r),kb("rId"+e,r);var n=t[1].Target.indexOf("#"),i=n==-1?"":t[1].Target.slice(n+1);return Gn(i||"",r),Gn(t[1].Tooltip||"",r),Gn("",r),r.slice(0,r.l)}function Jee(){}function Zee(t,e,r){var n=t.l+e,i=Z8(t),s=t.read_shift(1),a=[i];if(a[2]=s,r.cellFormula){var o=UZ(t,n-t.l,r);a[1]=o}else t.l=n;return a}function ete(t,e,r){var n=t.l+e,i=Zc(t),s=[i];if(r.cellFormula){var a=HZ(t,n-t.l,r);s[1]=a,t.l=n}else t.l=n;return s}function tte(t,e,r){r==null&&(r=Ve(18));var n=zv(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),r.write_shift(2,i),r}var OR=["left","right","top","bottom","header","footer"];function rte(t){var e={};return OR.forEach(function(r){e[r]=ed(t)}),e}function nte(t,e){return e==null&&(e=Ve(6*8)),FR(t),OR.forEach(function(r){Uc(t[r],e)}),e}function ite(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function ste(t,e,r){r==null&&(r=Ve(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function ate(t){var e=Ve(24);return e.write_shift(4,4),e.write_shift(4,1),Zf(t,e),e}function ote(t,e){return e==null&&(e=Ve(16*4+2)),e.write_shift(2,t.password?vR(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function lte(){}function ute(){}function cte(t,e,r,n,i,s,a){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=ms(e),e.z=e.z||un[14],e.v=ps($i(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var l={r,c:n};switch(l.s=Bu(i.cellXfs,e,i),e.l&&s["!links"].push([Tr(l),e.l]),e.c&&s["!comments"].push([Tr(l),e.c]),e.t){case"s":case"str":return i.bookSST?(o=Fb(i.Strings,e.v,i.revStrings),l.t="s",l.v=o,a?Ke(t,18,Cee(e,l)):Ke(t,7,Nee(e,l))):(l.t="str",a?Ke(t,17,zee(e,l)):Ke(t,6,Vee(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?a?Ke(t,13,jee(e,l)):Ke(t,2,Dee(e,l)):a?Ke(t,16,Lee(e,l)):Ke(t,5,Iee(e,l)),!0;case"b":return l.t="b",a?Ke(t,15,_ee(e,l)):Ke(t,4,xee(e,l)),!0;case"e":return l.t="e",a?Ke(t,14,Eee(e,l)):Ke(t,3,See(e,l)),!0}return a?Ke(t,12,vee(e,l)):Ke(t,1,mee(e,l)),!0}function hte(t,e,r,n){var i=Hr(e["!ref"]||"A1"),s,a="",o=[];Ke(t,145);var l=Array.isArray(e),u=i.e.r;e["!rows"]&&(u=Math.max(i.e.r,e["!rows"].length-1));for(var c=i.s.r;c<=u;++c){a=hi(c),lee(t,e,i,c);var h=!1;if(c<=i.e.r)for(var d=i.s.c;d<=i.e.c;++d){c===i.s.r&&(o[d]=Pi(d)),s=o[d]+a;var f=l?(e[c]||[])[d]:e[s];if(!f){h=!1;continue}h=cte(t,f,c,d,n,e,h)}}Ke(t,146)}function fte(t,e){!e||!e["!merges"]||(Ke(t,177,Yee(e["!merges"].length)),e["!merges"].forEach(function(r){Ke(t,176,Kee(r))}),Ke(t,178))}function dte(t,e){!e||!e["!cols"]||(Ke(t,390),e["!cols"].forEach(function(r,n){r&&Ke(t,60,tte(n,r))}),Ke(t,391))}function pte(t,e){!e||!e["!ref"]||(Ke(t,648),Ke(t,649,ate(Hr(e["!ref"]))),Ke(t,650))}function mte(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var i=yr(r,-1,n[1].Target.replace(/#.*$/,""),or.HLINK);Ke(t,494,Qee(n,i))}}),delete e["!links"]}function gte(t,e,r,n){if(e["!comments"].length>0){var i=yr(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",or.VML);Ke(t,551,kb("rId"+i)),e["!legacy"]=i}}function vte(t,e,r,n){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:Nn(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,o=js(s);o.s.r==o.e.r&&(o.e.r=js(e["!ref"]).e.r,s=Nn(o));for(var l=0;l<a.length;++l){var u=a[l];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+s;break}}l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),Ke(t,161,Zf(Hr(s))),Ke(t,162)}}function yte(t,e,r){Ke(t,133),Ke(t,137,ste(e,r)),Ke(t,138),Ke(t,134)}function xte(t,e){e["!protect"]&&Ke(t,535,ote(e["!protect"]))}function wte(t,e,r,n){var i=ds(),s=r.SheetNames[t],a=r.Sheets[s]||{},o=s;try{r&&r.Workbook&&(o=r.Workbook.Sheets[t].CodeName||o)}catch{}var l=Hr(a["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],Ke(i,129),(r.vbaraw||a["!outline"])&&Ke(i,147,dee(o,a["!outline"])),Ke(i,148,cee(l)),yte(i,a,r.Workbook),dte(i,a),hte(i,a,t,e),xte(i,a),vte(i,a,r,t),fte(i,a),mte(i,a,n),a["!margins"]&&Ke(i,476,nte(a["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&pte(i,a),gte(i,a,t,n),Ke(i,130),i.end()}function _te(t,e){t.l+=10;var r=Ii(t);return{name:r}}var bte=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function Ste(t){return!t.Workbook||!t.Workbook.WBProps?"false":eX(t.Workbook.WBProps.date1904)?"true":"false"}var Tte="][*?/\\".split("");function jR(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Tte.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function Ete(t,e,r){t.forEach(function(n,i){jR(n);for(var s=0;s<i;++s)if(n==t[s])throw new Error("Duplicate Sheet Name: "+n);if(r){var a=e&&e[i]&&e[i].CodeName||n;if(a.charCodeAt(0)==95&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}function Ate(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];Ete(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)KZ(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}function MR(t){var e=[kn];e[e.length]=st("workbook",null,{xmlns:Qf[0],"xmlns:r":qn.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(bte.forEach(function(o){t.Workbook.WBProps[o[0]]!=null&&t.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=t.Workbook.WBProps[o[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=st("workbookPr",null,n);var i=t.Workbook&&t.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=t.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==t.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=t.SheetNames.length;++s){var a={name:_r(t.SheetNames[s].slice(0,31))};if(a.sheetId=""+(s+1),a["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden";break}e[e.length]=st("sheet",null,a)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(e[e.length]=st("definedName",_r(o.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function Nte(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=Rw(t),r.name=Ii(t),r}function kte(t,e){return e||(e=Ve(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),kb(t.strRelID,e),Gn(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function Cte(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var i=e>8?Ii(t):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Pte(t,e){e||(e=Ve(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),X8(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function Ite(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=SX(t),a=zZ(t,0,r),o=Nb(t);t.l=n;var l={Name:s,Ptg:a};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function Rte(t,e){Ke(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,i={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};Ke(t,156,kte(i))}Ke(t,144)}function Lte(t,e){e||(e=Ve(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return Gn("SheetJS",e),Gn(E1.version,e),Gn(E1.version,e),Gn("7262",e),e.length>e.l?e.slice(0,e.l):e}function Fte(t,e){e||(e=Ve(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function Dte(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,i=-1,s=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&i==-1?i=n:r[n].Hidden==1&&s==-1&&(s=n);s>i||(Ke(t,135),Ke(t,158,Fte(i)),Ke(t,136))}}function Ote(t,e){var r=ds();return Ke(r,131),Ke(r,128,Lte()),Ke(r,153,Pte(t.Workbook&&t.Workbook.WBProps||null)),Dte(r,t),Rte(r,t),Ke(r,132),r.end()}function jte(t,e,r){return(e.slice(-4)===".bin"?Ote:MR)(t)}function Mte(t,e,r,n,i){return(e.slice(-4)===".bin"?wte:DR)(t,r,n,i)}function Bte(t,e,r){return(e.slice(-4)===".bin"?nJ:wR)(t,r)}function Vte(t,e,r){return(e.slice(-4)===".bin"?PQ:gR)(t,r)}function Ute(t,e,r){return(e.slice(-4)===".bin"?xJ:ER)(t)}function zte(t){return(t.slice(-4)===".bin"?hJ:SR)()}function Hte(t,e){var r=[];return t.Props&&r.push(BX(t.Props,e)),t.Custprops&&r.push(VX(t.Props,t.Custprops)),r.join("")}function Wte(){return""}function qte(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,i){var s=[];s.push(st("NumberFormat",null,{"ss:Format":_r(un[n.numFmtId])}));var a={"ss:ID":"s"+(21+i)};r.push(st("Style",s.join(""),a))}),st("Styles",r.join(""))}function BR(t){return st("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+Rb(t.Ref,{r:0,c:0})})}function $te(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var i=e[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push(BR(i)))}return st("Names",r.join(""))}function Gte(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,s=[],a=0;a<i.length;++a){var o=i[a];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||s.push(BR(o)))}return s.join("")}function Kte(t,e,r,n){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(st("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(st("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(st("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)i.push(st("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==r&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(li("ProtectContents","True")),t["!protect"].objects&&i.push(li("ProtectObjects","True")),t["!protect"].scenarios&&i.push(li("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(li("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(li("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(a){t["!protect"][a[0]]&&i.push("<"+a[1]+"/>")})),i.length==0?"":st("WorksheetOptions",i.join(""),{xmlns:Ps.x})}function Yte(t){return t.map(function(e){var r=ZY(e.t||""),n=st("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return st("Comment",n,{"ss:Author":e.a})}).join("")}function Xte(t,e,r,n,i,s,a){if(!t||t.v==null&&t.f==null)return"";var o={};if(t.f&&(o["ss:Formula"]="="+_r(Rb(t.f,a))),t.F&&t.F.slice(0,e.length)==e){var l=$n(t.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==a.r?"":"["+(l.r-a.r)+"]")+"C"+(l.c==a.c?"":"["+(l.c-a.c)+"]")}if(t.l&&t.l.Target&&(o["ss:HRef"]=_r(t.l.Target),t.l.Tooltip&&(o["x:HRefScreenTip"]=_r(t.l.Tooltip))),r["!merges"])for(var u=r["!merges"],c=0;c!=u.length;++c)u[c].s.c!=a.c||u[c].s.r!=a.r||(u[c].e.c>u[c].s.c&&(o["ss:MergeAcross"]=u[c].e.c-u[c].s.c),u[c].e.r>u[c].s.r&&(o["ss:MergeDown"]=u[c].e.r-u[c].s.r));var h="",d="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":h="Number",d=String(t.v);break;case"b":h="Boolean",d=t.v?"1":"0";break;case"e":h="Error",d=Up[t.v];break;case"d":h="DateTime",d=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||un[14]);break;case"s":h="String",d=JY(t.v||"");break}var f=Bu(n.cellXfs,t,n);o["ss:StyleID"]="s"+(21+f),o["ss:Index"]=a.c+1;var y=t.v!=null?d:"",v=t.t=="z"?"":'<Data ss:Type="'+h+'">'+y+"</Data>";return(t.c||[]).length>0&&(v+=Yte(t.c)),st("Cell",v,o)}function Qte(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=xR(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function Jte(t,e,r,n){if(!t["!ref"])return"";var i=Hr(t["!ref"]),s=t["!merges"]||[],a=0,o=[];t["!cols"]&&t["!cols"].forEach(function(b,w){Pb(b);var S=!!b.width,T=zv(w,b),F={"ss:Index":w+1};S&&(F["ss:Width"]=D1(T.width)),b.hidden&&(F["ss:Hidden"]="1"),o.push(st("Column",null,F))});for(var l=Array.isArray(t),u=i.s.r;u<=i.e.r;++u){for(var c=[Qte(u,(t["!rows"]||[])[u])],h=i.s.c;h<=i.e.c;++h){var d=!1;for(a=0;a!=s.length;++a)if(!(s[a].s.c>h)&&!(s[a].s.r>u)&&!(s[a].e.c<h)&&!(s[a].e.r<u)){(s[a].s.c!=h||s[a].s.r!=u)&&(d=!0);break}if(!d){var f={r:u,c:h},y=Tr(f),v=l?(t[u]||[])[h]:t[y];c.push(Xte(v,y,t,e,r,n,f))}}c.push("</Row>"),c.length>2&&o.push(c.join(""))}return o.join("")}function Zte(t,e,r){var n=[],i=r.SheetNames[t],s=r.Sheets[i],a=s?Gte(s,e,t,r):"";return a.length>0&&n.push("<Names>"+a+"</Names>"),a=s?Jte(s,e,t,r):"",a.length>0&&n.push("<Table>"+a+"</Table>"),n.push(Kte(s,e,t,r)),n.join("")}function ere(t,e){e||(e={}),t.SSF||(t.SSF=ms(un)),t.SSF&&(jv(),Ov(t.SSF),e.revssf=Mv(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],Bu(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(Hte(t,e)),r.push(Wte()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(st("Worksheet",Zte(n,e,t),{"ss:Name":_r(t.SheetNames[n])}));return r[2]=qte(t,e),r[3]=$te(t),kn+st("Workbook",r.join(""),{xmlns:Ps.ss,"xmlns:o":Ps.o,"xmlns:x":Ps.x,"xmlns:ss":Ps.ss,"xmlns:dt":Ps.dt,"xmlns:html":Ps.html})}var _y={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function tre(t,e){var r=[],n=[],i=[],s=0,a,o=M3(Q3,"n"),l=M3(J3,"n");if(t.Props)for(a=pi(t.Props),s=0;s<a.length;++s)(Object.prototype.hasOwnProperty.call(o,a[s])?r:Object.prototype.hasOwnProperty.call(l,a[s])?n:i).push([a[s],t.Props[a[s]]]);if(t.Custprops)for(a=pi(t.Custprops),s=0;s<a.length;++s)Object.prototype.hasOwnProperty.call(t.Props||{},a[s])||(Object.prototype.hasOwnProperty.call(o,a[s])?r:Object.prototype.hasOwnProperty.call(l,a[s])?n:i).push([a[s],t.Custprops[a[s]]]);var u=[];for(s=0;s<i.length;++s)uR.indexOf(i[s][0])>-1||aR.indexOf(i[s][0])>-1||i[s][1]!=null&&u.push(i[s]);n.length&&Cr.utils.cfb_add(e,"/SummaryInformation",nA(n,_y.SI,l,J3)),(r.length||u.length)&&Cr.utils.cfb_add(e,"/DocumentSummaryInformation",nA(r,_y.DSI,o,Q3,u.length?u:null,_y.UDI))}function rre(t,e){var r=e||{},n=Cr.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Cr.utils.cfb_add(n,i,VR(t,r)),r.biff==8&&(t.Props||t.Custprops)&&tre(t,n),r.biff==8&&t.vbaraw&&wJ(n,Cr.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var nre={0:{f:aee},1:{f:pee},2:{f:Fee},3:{f:bee},4:{f:yee},5:{f:Pee},6:{f:Bee},7:{f:Aee},8:{f:$ee},9:{f:qee},10:{f:Hee},11:{f:Wee},12:{f:gee},13:{f:Oee},14:{f:Tee},15:{f:wee},16:{f:Ree},17:{f:Uee},18:{f:kee},19:{f:Ab},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Ite},40:{},42:{},43:{f:BQ},44:{f:jQ},45:{f:zQ},46:{f:WQ},47:{f:HQ},48:{},49:{f:gX},50:{},51:{f:aJ},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:vQ},62:{f:Mee},63:{f:fJ},64:{f:lte},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:fo,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:ite},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:fee},148:{f:uee,p:16},151:{f:Jee},152:{},153:{f:Cte},154:{},155:{},156:{f:Nte},157:{},158:{},159:{T:1,f:NQ},160:{T:-1},161:{T:1,f:Zc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Gee},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:iJ},336:{T:-1},337:{f:uJ,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Rw},357:{},358:{},359:{},360:{T:1},361:{},362:{f:hQ},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Zee},427:{f:ete},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:rte},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:hee},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Xee},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Rw},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:vJ},633:{T:1},634:{T:-1},635:{T:1,f:mJ},636:{T:-1},637:{f:wX},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:_te},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:ute},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function at(t,e,r,n){var i=e;if(!isNaN(i)){var s=n||(r||[]).length||0,a=t.next(4);a.write_shift(2,i),a.write_shift(2,s),s>0&&Sb(r)&&t.push(r)}}function ire(t,e,r,n){var i=(r||[]).length||0;if(i<=8224)return at(t,e,r,i);var s=e;if(!isNaN(s)){for(var a=r.parts||[],o=0,l=0,u=0;u+(a[o]||8224)<=8224;)u+=a[o]||8224,o++;var c=t.next(4);for(c.write_shift(2,s),c.write_shift(2,u),t.push(r.slice(l,l+u)),l+=u;l<i;){for(c=t.next(4),c.write_shift(2,60),u=0;u+(a[o]||8224)<=8224;)u+=a[o]||8224,o++;c.write_shift(2,u),t.push(r.slice(l,l+u)),l+=u}}}function Hp(t,e,r){return t||(t=Ve(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function sre(t,e,r,n){var i=Ve(9);return Hp(i,t,e),hR(r,n||"b",i),i}function are(t,e,r){var n=Ve(8+2*r.length);return Hp(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function ore(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?ps($i(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?at(t,2,_Q(r,n,i)):at(t,3,wQ(r,n,i));return;case"b":case"e":at(t,5,sre(r,n,e.v,e.t));return;case"s":case"str":at(t,4,are(r,n,(e.v||"").slice(0,255)));return}at(t,1,Hp(null,r,n))}function lre(t,e,r,n){var i=Array.isArray(e),s=Hr(e["!ref"]||"A1"),a,o="",l=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),a=Nn(s)}for(var u=s.s.r;u<=s.e.r;++u){o=hi(u);for(var c=s.s.c;c<=s.e.c;++c){u===s.s.r&&(l[c]=Pi(c)),a=l[c]+o;var h=i?(e[u]||[])[c]:e[a];h&&ore(t,h,u,c)}}}function ure(t,e){for(var r=e||{},n=ds(),i=0,s=0;s<t.SheetNames.length;++s)t.SheetNames[s]==r.sheet&&(i=s);if(i==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return at(n,r.biff==4?1033:r.biff==3?521:9,Cb(t,16,r)),lre(n,t.Sheets[t.SheetNames[i]],i,r),at(n,10),n.end()}function cre(t,e,r){at(t,49,nQ({sz:12,name:"Arial"},r))}function hre(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&at(t,1054,aQ(i,e[i],r))})}function fre(t,e){var r=Ve(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),at(t,2151,r),r=Ve(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),pR(Hr(e["!ref"]||"A1"),r),r.write_shift(4,4),at(t,2152,r)}function dre(t,e){for(var r=0;r<16;++r)at(t,224,sA({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){at(t,224,sA(n,0,e))})}function pre(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];at(t,440,pQ(n)),n[1].Tooltip&&at(t,2048,mQ(n))}delete e["!links"]}function mre(t,e){if(e){var r=0;e.forEach(function(n,i){++r<=256&&n&&at(t,125,yQ(zv(i,n),i))})}}function gre(t,e,r,n,i){var s=16+Bu(i.cellXfs,e,i);if(e.v==null&&!e.bf){at(t,513,zc(r,n,s));return}if(e.bf)at(t,6,VZ(e,r,n,i,s));else switch(e.t){case"d":case"n":var a=e.t=="d"?ps($i(e.v)):e.v;at(t,515,cQ(r,n,a,s));break;case"b":case"e":at(t,517,uQ(r,n,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var o=Fb(i.Strings,e.v,i.revStrings);at(t,253,iQ(r,n,o,s))}else at(t,516,sQ(r,n,(e.v||"").slice(0,255),s,i));break;default:at(t,513,zc(r,n,s))}}function vre(t,e,r){var n=ds(),i=r.SheetNames[t],s=r.Sheets[i]||{},a=(r||{}).Workbook||{},o=(a.Sheets||[])[t]||{},l=Array.isArray(s),u=e.biff==8,c,h="",d=[],f=Hr(s["!ref"]||"A1"),y=u?65536:16384;if(f.e.c>255||f.e.r>=y){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");f.e.c=Math.min(f.e.c,255),f.e.r=Math.min(f.e.c,y-1)}at(n,2057,Cb(r,16,e)),at(n,13,Qs(1)),at(n,12,Qs(100)),at(n,15,Hi(!0)),at(n,17,Hi(!1)),at(n,16,Uc(.001)),at(n,95,Hi(!0)),at(n,42,Hi(!1)),at(n,43,Hi(!1)),at(n,130,Qs(1)),at(n,128,lQ()),at(n,131,Hi(!1)),at(n,132,Hi(!1)),u&&mre(n,s["!cols"]),at(n,512,oQ(f,e)),u&&(s["!links"]=[]);for(var v=f.s.r;v<=f.e.r;++v){h=hi(v);for(var b=f.s.c;b<=f.e.c;++b){v===f.s.r&&(d[b]=Pi(b)),c=d[b]+h;var w=l?(s[v]||[])[b]:s[c];w&&(gre(n,w,v,b,e),u&&w.l&&s["!links"].push([c,w.l]))}}var S=o.CodeName||o.name||i;return u&&at(n,574,rQ((a.Views||[])[0])),u&&(s["!merges"]||[]).length&&at(n,229,dQ(s["!merges"])),u&&pre(n,s),at(n,442,dR(S)),u&&fre(n,s),at(n,10),n.end()}function yre(t,e,r){var n=ds(),i=(t||{}).Workbook||{},s=i.Sheets||[],a=i.WBProps||{},o=r.biff==8,l=r.biff==5;if(at(n,2057,Cb(t,5,r)),r.bookType=="xla"&&at(n,135),at(n,225,o?Qs(1200):null),at(n,193,HX(2)),l&&at(n,191),l&&at(n,192),at(n,226),at(n,92,JX("SheetJS",r)),at(n,66,Qs(o?1200:1252)),o&&at(n,353,Qs(0)),o&&at(n,448),at(n,317,xQ(t.SheetNames.length)),o&&t.vbaraw&&at(n,211),o&&t.vbaraw){var u=a.CodeName||"ThisWorkbook";at(n,442,dR(u))}at(n,156,Qs(17)),at(n,25,Hi(!1)),at(n,18,Hi(!1)),at(n,19,Qs(0)),o&&at(n,431,Hi(!1)),o&&at(n,444,Qs(0)),at(n,61,tQ()),at(n,64,Hi(!1)),at(n,141,Qs(0)),at(n,34,Hi(Ste(t)=="true")),at(n,14,Hi(!0)),o&&at(n,439,Hi(!1)),at(n,218,Qs(0)),cre(n,t,r),hre(n,t.SSF,r),dre(n,r),o&&at(n,352,Hi(!1));var c=n.end(),h=ds();o&&at(h,140,gQ()),o&&r.Strings&&ire(h,252,eQ(r.Strings)),at(h,10);var d=h.end(),f=ds(),y=0,v=0;for(v=0;v<t.SheetNames.length;++v)y+=(o?12:11)+(o?2:1)*t.SheetNames[v].length;var b=c.length+y+d.length;for(v=0;v<t.SheetNames.length;++v){var w=s[v]||{};at(f,133,ZX({pos:b,hs:w.Hidden||0,dt:0,name:t.SheetNames[v]},r)),b+=e[v].length}var S=f.end();if(y!=S.length)throw new Error("BS8 "+y+" != "+S.length);var T=[];return c.length&&T.push(c),S.length&&T.push(S),d.length&&T.push(d),oi(T)}function xre(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=ms(un)),t&&t.SSF&&(jv(),Ov(t.SSF),r.revssf=Mv(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Db(r),r.cellXfs=[],Bu(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)n[n.length]=vre(i,r,t);return n.unshift(yre(t,n,r)),oi(n)}function VR(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var i=js(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return xre(t,e);case 4:case 3:case 2:return ure(t,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function wre(t,e,r,n){for(var i=t["!merges"]||[],s=[],a=e.s.c;a<=e.e.c;++a){for(var o=0,l=0,u=0;u<i.length;++u)if(!(i[u].s.r>r||i[u].s.c>a)&&!(i[u].e.r<r||i[u].e.c<a)){if(i[u].s.r<r||i[u].s.c<a){o=-1;break}o=i[u].e.r-i[u].s.r+1,l=i[u].e.c-i[u].s.c+1;break}if(!(o<0)){var c=Tr({r,c:a}),h=n.dense?(t[r]||[])[a]:t[c],d=h&&h.v!=null&&(h.h||QY(h.w||(rl(h),h.w)||""))||"",f={};o>1&&(f.rowspan=o),l>1&&(f.colspan=l),n.editable?d='<span contenteditable="true">'+d+"</span>":h&&(f["data-t"]=h&&h.t||"z",h.v!=null&&(f["data-v"]=h.v),h.z!=null&&(f["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(d='<a href="'+h.l.Target+'">'+d+"</a>")),f.id=(n.id||"sjs")+"-"+c,s.push(st("td",d,f))}}var y="<tr>";return y+s.join("")+"</tr>"}var _re='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',bre="</body></html>";function Sre(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function UR(t,e){var r=e||{},n=r.header!=null?r.header:_re,i=r.footer!=null?r.footer:bre,s=[n],a=js(t["!ref"]);r.dense=Array.isArray(t),s.push(Sre(t,a,r));for(var o=a.s.r;o<=a.e.r;++o)s.push(wre(t,a,o,r));return s.push("</table>"+i),s.join("")}function zR(t,e,r){var n=r||{},i=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var a=typeof n.origin=="string"?$n(n.origin):n.origin;i=a.r,s=a.c}var o=e.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var c=js(t["!ref"]);u.s.r=Math.min(u.s.r,c.s.r),u.s.c=Math.min(u.s.c,c.s.c),u.e.r=Math.max(u.e.r,c.e.r),u.e.c=Math.max(u.e.c,c.e.c),i==-1&&(u.e.r=i=c.e.r+1)}var h=[],d=0,f=t["!rows"]||(t["!rows"]=[]),y=0,v=0,b=0,w=0,S=0,T=0;for(t["!cols"]||(t["!cols"]=[]);y<o.length&&v<l;++y){var F=o[y];if(fA(F)){if(n.display)continue;f[v]={hidden:!0}}var j=F.children;for(b=w=0;b<j.length;++b){var M=j[b];if(!(n.display&&fA(M))){var A=M.hasAttribute("data-v")?M.getAttribute("data-v"):M.hasAttribute("v")?M.getAttribute("v"):tX(M.innerHTML),_=M.getAttribute("data-z")||M.getAttribute("z");for(d=0;d<h.length;++d){var C=h[d];C.s.c==w+s&&C.s.r<v+i&&v+i<=C.e.r&&(w=C.e.c+1-s,d=-1)}T=+M.getAttribute("colspan")||1,((S=+M.getAttribute("rowspan")||1)>1||T>1)&&h.push({s:{r:v+i,c:w+s},e:{r:v+i+(S||1)-1,c:w+s+(T||1)-1}});var D={t:"s",v:A},N=M.getAttribute("data-t")||M.getAttribute("t")||"";A!=null&&(A.length==0?D.t=N||"z":n.raw||A.trim().length==0||N=="s"||(A==="TRUE"?D={t:"b",v:!0}:A==="FALSE"?D={t:"b",v:!1}:isNaN(zo(A))?isNaN(cp(A).getDate())||(D={t:"d",v:$i(A)},n.cellDates||(D={t:"n",v:ps(D.v)}),D.z=n.dateNF||un[14]):D={t:"n",v:zo(A)})),D.z===void 0&&_!=null&&(D.z=_);var E="",R=M.getElementsByTagName("A");if(R&&R.length)for(var H=0;H<R.length&&!(R[H].hasAttribute("href")&&(E=R[H].getAttribute("href"),E.charAt(0)!="#"));++H);E&&E.charAt(0)!="#"&&(D.l={Target:E}),n.dense?(t[v+i]||(t[v+i]=[]),t[v+i][w+s]=D):t[Tr({c:w+s,r:v+i})]=D,u.e.c<w+s&&(u.e.c=w+s),w+=T}}++v}return h.length&&(t["!merges"]=(t["!merges"]||[]).concat(h)),u.e.r=Math.max(u.e.r,v-1+i),t["!ref"]=Nn(u),v>=l&&(t["!fullref"]=Nn((u.e.r=o.length-y+v-1+i,u))),t}function HR(t,e){var r=e||{},n=r.dense?[]:{};return zR(n,t,e)}function Tre(t,e){return Yc(HR(t,e),e)}function fA(t){var e="",r=Ere(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function Ere(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var Are=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+fp({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return kn+e}}(),dA=function(){var t=function(s){return _r(s).replace(/  +/g,function(a){return'<text:s text:c="'+a.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(s,a,o){var l=[];l.push('      <table:table table:name="'+_r(a.SheetNames[o])+`" table:style-name="ta1">
`);var u=0,c=0,h=js(s["!ref"]||"A1"),d=s["!merges"]||[],f=0,y=Array.isArray(s);if(s["!cols"])for(c=0;c<=h.e.c;++c)l.push("        <table:table-column"+(s["!cols"][c]?' table:style-name="co'+s["!cols"][c].ods+'"':"")+`></table:table-column>
`);var v="",b=s["!rows"]||[];for(u=0;u<h.s.r;++u)v=b[u]?' table:style-name="ro'+b[u].ods+'"':"",l.push("        <table:table-row"+v+`></table:table-row>
`);for(;u<=h.e.r;++u){for(v=b[u]?' table:style-name="ro'+b[u].ods+'"':"",l.push("        <table:table-row"+v+`>
`),c=0;c<h.s.c;++c)l.push(e);for(;c<=h.e.c;++c){var w=!1,S={},T="";for(f=0;f!=d.length;++f)if(!(d[f].s.c>c)&&!(d[f].s.r>u)&&!(d[f].e.c<c)&&!(d[f].e.r<u)){(d[f].s.c!=c||d[f].s.r!=u)&&(w=!0),S["table:number-columns-spanned"]=d[f].e.c-d[f].s.c+1,S["table:number-rows-spanned"]=d[f].e.r-d[f].s.r+1;break}if(w){l.push(r);continue}var F=Tr({r:u,c}),j=y?(s[u]||[])[c]:s[F];if(j&&j.f&&(S["table:formula"]=_r($Z(j.f)),j.F&&j.F.slice(0,F.length)==F)){var M=js(j.F);S["table:number-matrix-columns-spanned"]=M.e.c-M.s.c+1,S["table:number-matrix-rows-spanned"]=M.e.r-M.s.r+1}if(!j){l.push(e);continue}switch(j.t){case"b":T=j.v?"TRUE":"FALSE",S["office:value-type"]="boolean",S["office:boolean-value"]=j.v?"true":"false";break;case"n":T=j.w||String(j.v||0),S["office:value-type"]="float",S["office:value"]=j.v||0;break;case"s":case"str":T=j.v==null?"":j.v,S["office:value-type"]="string";break;case"d":T=j.w||$i(j.v).toISOString(),S["office:value-type"]="date",S["office:date-value"]=$i(j.v).toISOString(),S["table:style-name"]="ce1";break;default:l.push(e);continue}var A=t(T);if(j.l&&j.l.Target){var _=j.l.Target;_=_.charAt(0)=="#"?"#"+GZ(_.slice(1)):_,_.charAt(0)!="#"&&!_.match(/^\w+:/)&&(_="../"+_),A=st("text:a",A,{"xlink:href":_.replace(/&/g,"&amp;")})}l.push("          "+st("table:table-cell",st("text:p",A,{}),S)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(s,a){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var o=0;a.SheetNames.map(function(u){return a.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var c=0;c<u["!cols"].length;++c)if(u["!cols"][c]){var h=u["!cols"][c];if(h.width==null&&h.wpx==null&&h.wch==null)continue;Pb(h),h.ods=o;var d=u["!cols"][c].wpx+"px";s.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+d+`"/>
`),s.push(`  </style:style>
`),++o}}});var l=0;a.SheetNames.map(function(u){return a.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var c=0;c<u["!rows"].length;++c)if(u["!rows"][c]){u["!rows"][c].ods=l;var h=u["!rows"][c].hpx+"px";s.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+h+`"/>
`),s.push(`  </style:style>
`),++l}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(a,o){var l=[kn],u=fp({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),c=fp({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+u+c+`>
`),l.push(iR().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+u+`>
`),i(l,a),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var h=0;h!=a.SheetNames.length;++h)l.push(n(a.Sheets[a.SheetNames[h]],a,h));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function WR(t,e){if(e.bookType=="fods")return dA(t,e);var r=xb(),n="",i=[],s=[];return n="mimetype",$t(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",$t(r,n,dA(t,e)),i.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",$t(r,n,Are(t,e)),i.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",$t(r,n,kn+iR()),i.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",$t(r,n,MX(s)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",$t(r,n,OX(i)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function M1(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Nre(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Ca(hp(t))}function kre(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function Pu(t){var e=t.reduce(function(i,s){return i+s.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(i){r.set(i,n),n+=i.length}),r}function Cre(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var s=0;i>=1;++s,i/=256)t[e+s]=i&255;t[e+15]|=r>=0?0:128}function dp(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function vr(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function gf(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function Rn(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],i=dp(t,r),s=i&7;i=Math.floor(i/8);var a=0,o;if(i==0)break;switch(s){case 0:{for(var l=r[0];t[r[0]++]>=128;);o=t.slice(l,r[0])}break;case 5:a=4,o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 1:a=8,o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 2:a=dp(t,r),o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(n))}var u={data:o,type:s};e[i]==null?e[i]=[u]:e[i].push(u)}return e}function ti(t){var e=[];return t.forEach(function(r,n){r.forEach(function(i){i.data&&(e.push(vr(n*8+i.type)),i.type==2&&e.push(vr(i.data.length)),e.push(i.data))})}),Pu(e)}function wa(t){for(var e,r=[],n=[0];n[0]<t.length;){var i=dp(t,n),s=Rn(t.slice(n[0],n[0]+i));n[0]+=i;var a={id:gf(s[1][0].data),messages:[]};s[2].forEach(function(o){var l=Rn(o.data),u=gf(l[3][0].data);a.messages.push({meta:l,data:t.slice(n[0],n[0]+u)}),n[0]+=u}),(e=s[3])!=null&&e[0]&&(a.merge=gf(s[3][0].data)>>>0>0),r.push(a)}return r}function Ah(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:vr(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:vr(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(a){i.push(a.data),a.meta[3]=[{type:0,data:vr(a.data.length)}],n[2].push({data:ti(a.meta),type:2})});var s=ti(n);e.push(vr(s.length)),e.push(s),i.forEach(function(a){return e.push(a)})}),Pu(e)}function Pre(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=dp(e,r),i=[];r[0]<e.length;){var s=e[r[0]]&3;if(s==0){var a=e[r[0]++]>>2;if(a<60)++a;else{var o=a-59;a=e[r[0]],o>1&&(a|=e[r[0]+1]<<8),o>2&&(a|=e[r[0]+2]<<16),o>3&&(a|=e[r[0]+3]<<24),a>>>=0,a++,r[0]+=o}i.push(e.slice(r[0],r[0]+a)),r[0]+=a;continue}else{var l=0,u=0;if(s==1?(u=(e[r[0]]>>2&7)+4,l=(e[r[0]++]&224)<<3,l|=e[r[0]++]):(u=(e[r[0]++]>>2)+1,s==2?(l=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(l=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),i=[Pu(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(i.push(i[0].slice(-l)),u-=l;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-l,-l+u))}}var c=Pu(i);if(c.length!=n)throw new Error("Unexpected length: ".concat(c.length," != ").concat(n));return c}function _a(t){for(var e=[],r=0;r<t.length;){var n=t[r++],i=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(Pre(n,t.slice(r,r+i))),r+=i}if(r!==t.length)throw new Error("data is not a valid framed stream!");return Pu(e)}function Nh(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),i=new Uint8Array(4);e.push(i);var s=vr(n),a=s.length;e.push(s),n<=60?(a++,e.push(new Uint8Array([n-1<<2]))):n<=256?(a+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(a+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(a+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(a+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),a+=n,i[0]=0,i[1]=a&255,i[2]=a>>8&255,i[3]=a>>16&255,r+=n}return Pu(e)}function by(t,e){var r=new Uint8Array(32),n=M1(r),i=12,s=0;switch(r[0]=5,t.t){case"n":r[1]=2,Cre(r,i,t.v),s|=1,i+=16;break;case"b":r[1]=6,n.setFloat64(i,t.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(i,e.indexOf(t.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,s,!0),r.slice(0,i)}function Sy(t,e){var r=new Uint8Array(32),n=M1(r),i=12,s=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(i,t.v,!0),s|=32,i+=8;break;case"b":r[2]=6,n.setFloat64(i,t.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(i,e.indexOf(t.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,s,!0),r.slice(0,i)}function Vl(t){var e=Rn(t);return dp(e[1][0].data)}function Ire(t,e,r){var n,i,s,a;if(!((n=t[6])!=null&&n[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((a=(s=t[8])==null?void 0:s[0])==null?void 0:a.data)&&gf(t[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,u=M1(t[7][0].data),c=0,h=[],d=M1(t[4][0].data),f=0,y=[],v=0;v<e.length;++v){if(e[v]==null){u.setUint16(v*2,65535,!0),d.setUint16(v*2,65535);continue}u.setUint16(v*2,c,!0),d.setUint16(v*2,f,!0);var b,w;switch(typeof e[v]){case"string":b=by({t:"s",v:e[v]},r),w=Sy({t:"s",v:e[v]},r);break;case"number":b=by({t:"n",v:e[v]},r),w=Sy({t:"n",v:e[v]},r);break;case"boolean":b=by({t:"b",v:e[v]},r),w=Sy({t:"b",v:e[v]},r);break;default:throw new Error("Unsupported value "+e[v])}h.push(b),c+=b.length,y.push(w),f+=w.length,++l}for(t[2][0].data=vr(l);v<t[7][0].data.length/2;++v)u.setUint16(v*2,65535,!0),d.setUint16(v*2,65535,!0);return t[6][0].data=Pu(h),t[3][0].data=Pu(y),l}function Rre(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=js(r["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Nn(n)));var s=B1(r,{range:n,header:1}),a=["~Sh33tJ5~"];s.forEach(function(V){return V.forEach(function(U){typeof U=="string"&&a.push(U)})});var o={},l=[],u=Cr.read(e.numbers,{type:"base64"});u.FileIndex.map(function(V,U){return[V,u.FullPaths[U]]}).forEach(function(V){var U=V[0],z=V[1];if(U.type==2&&U.name.match(/\.iwa/)){var Q=U.content,ge=_a(Q),G=wa(ge);G.forEach(function(ue){l.push(ue.id),o[ue.id]={deps:[],location:z,type:gf(ue.messages[0].meta[1][0].data)}})}}),l.sort(function(V,U){return V-U});var c=l.filter(function(V){return V>1}).map(function(V){return[V,vr(V)]});u.FileIndex.map(function(V,U){return[V,u.FullPaths[U]]}).forEach(function(V){var U=V[0];if(V[1],!!U.name.match(/\.iwa/)){var z=wa(_a(U.content));z.forEach(function(Q){Q.messages.forEach(function(ge){c.forEach(function(G){Q.messages.some(function(ue){return gf(ue.meta[1][0].data)!=11006&&kre(ue.data,G[1])})&&o[G[0]].deps.push(Q.id)})})})}});for(var h=Cr.find(u,o[1].location),d=wa(_a(h.content)),f,y=0;y<d.length;++y){var v=d[y];v.id==1&&(f=v)}var b=Vl(Rn(f.messages[0].data)[1][0].data);for(h=Cr.find(u,o[b].location),d=wa(_a(h.content)),y=0;y<d.length;++y)v=d[y],v.id==b&&(f=v);for(b=Vl(Rn(f.messages[0].data)[2][0].data),h=Cr.find(u,o[b].location),d=wa(_a(h.content)),y=0;y<d.length;++y)v=d[y],v.id==b&&(f=v);for(b=Vl(Rn(f.messages[0].data)[2][0].data),h=Cr.find(u,o[b].location),d=wa(_a(h.content)),y=0;y<d.length;++y)v=d[y],v.id==b&&(f=v);var w=Rn(f.messages[0].data);{w[6][0].data=vr(n.e.r+1),w[7][0].data=vr(n.e.c+1);var S=Vl(w[46][0].data),T=Cr.find(u,o[S].location),F=wa(_a(T.content));{for(var j=0;j<F.length&&F[j].id!=S;++j);if(F[j].id!=S)throw"Bad ColumnRowUIDMapArchive";var M=Rn(F[j].messages[0].data);M[1]=[],M[2]=[],M[3]=[];for(var A=0;A<=n.e.c;++A){var _=[];_[1]=_[2]=[{type:0,data:vr(A+420690)}],M[1].push({type:2,data:ti(_)}),M[2].push({type:0,data:vr(A)}),M[3].push({type:0,data:vr(A)})}M[4]=[],M[5]=[],M[6]=[];for(var C=0;C<=n.e.r;++C)_=[],_[1]=_[2]=[{type:0,data:vr(C+726270)}],M[4].push({type:2,data:ti(_)}),M[5].push({type:0,data:vr(C)}),M[6].push({type:0,data:vr(C)});F[j].messages[0].data=ti(M)}T.content=Nh(Ah(F)),T.size=T.content.length,delete w[46];var D=Rn(w[4][0].data);{D[7][0].data=vr(n.e.r+1);var N=Rn(D[1][0].data),E=Vl(N[2][0].data);T=Cr.find(u,o[E].location),F=wa(_a(T.content));{if(F[0].id!=E)throw"Bad HeaderStorageBucket";var R=Rn(F[0].messages[0].data);for(C=0;C<s.length;++C){var H=Rn(R[2][0].data);H[1][0].data=vr(C),H[4][0].data=vr(s[C].length),R[2][C]={type:R[2][0].type,data:ti(H)}}F[0].messages[0].data=ti(R)}T.content=Nh(Ah(F)),T.size=T.content.length;var me=Vl(D[2][0].data);T=Cr.find(u,o[me].location),F=wa(_a(T.content));{if(F[0].id!=me)throw"Bad HeaderStorageBucket";for(R=Rn(F[0].messages[0].data),A=0;A<=n.e.c;++A)H=Rn(R[2][0].data),H[1][0].data=vr(A),H[4][0].data=vr(n.e.r+1),R[2][A]={type:R[2][0].type,data:ti(H)};F[0].messages[0].data=ti(R)}T.content=Nh(Ah(F)),T.size=T.content.length;var ie=Vl(D[4][0].data);(function(){for(var V=Cr.find(u,o[ie].location),U=wa(_a(V.content)),z,Q=0;Q<U.length;++Q){var ge=U[Q];ge.id==ie&&(z=ge)}var G=Rn(z.messages[0].data);{G[3]=[];var ue=[];a.forEach(function(je,Ue){ue[1]=[{type:0,data:vr(Ue)}],ue[2]=[{type:0,data:vr(1)}],ue[3]=[{type:2,data:Nre(je)}],G[3].push({type:2,data:ti(ue)})})}z.messages[0].data=ti(G);var ye=Ah(U),Ne=Nh(ye);V.content=Ne,V.size=V.content.length})();var ee=Rn(D[3][0].data);{var J=ee[1][0];delete ee[2];var re=Rn(J.data);{var de=Vl(re[2][0].data);(function(){for(var V=Cr.find(u,o[de].location),U=wa(_a(V.content)),z,Q=0;Q<U.length;++Q){var ge=U[Q];ge.id==de&&(z=ge)}var G=Rn(z.messages[0].data);{delete G[6],delete ee[7];var ue=new Uint8Array(G[5][0].data);G[5]=[];for(var ye=0,Ne=0;Ne<=n.e.r;++Ne){var je=Rn(ue);ye+=Ire(je,s[Ne],a),je[1][0].data=vr(Ne),G[5].push({data:ti(je),type:2})}G[1]=[{type:0,data:vr(n.e.c+1)}],G[2]=[{type:0,data:vr(n.e.r+1)}],G[3]=[{type:0,data:vr(ye)}],G[4]=[{type:0,data:vr(n.e.r+1)}]}z.messages[0].data=ti(G);var Ue=Ah(U),ze=Nh(Ue);V.content=ze,V.size=V.content.length})()}J.data=ti(re)}D[3][0].data=ti(ee)}w[4][0].data=ti(D)}f.messages[0].data=ti(w);var Se=Ah(d),I=Nh(Se);return h.content=I,h.size=h.content.length,u}function Lre(t){return function(r){for(var n=0;n!=t.length;++n){var i=t[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function Db(t){Lre([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function Fre(t,e){return e.bookType=="ods"?WR(t,e):e.bookType=="numbers"?Rre(t,e):e.bookType=="xlsb"?Dre(t,e):Ore(t,e)}function Dre(t,e){Zh=1024,t&&!t.SSF&&(t.SSF=ms(un)),t&&t.SSF&&(jv(),Ov(t.SSF),e.revssf=Mv(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,w0?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=AR.indexOf(e.bookType)>-1,i=tR();Db(e=e||{});var s=xb(),a="",o=0;if(e.cellXfs=[],Bu(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",$t(s,a,sR(t.Props,e)),i.coreprops.push(a),yr(e.rels,2,a,or.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],u=0;u<t.SheetNames.length;++u)(t.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(t.SheetNames[u]);t.Props.SheetNames=l}for(t.Props.Worksheets=t.Props.SheetNames.length,$t(s,a,oR(t.Props)),i.extprops.push(a),yr(e.rels,3,a,or.EXT_PROPS),t.Custprops!==t.Props&&pi(t.Custprops||{}).length>0&&(a="docProps/custom.xml",$t(s,a,lR(t.Custprops)),i.custprops.push(a),yr(e.rels,4,a,or.CUST_PROPS)),o=1;o<=t.SheetNames.length;++o){var c={"!id":{}},h=t.Sheets[t.SheetNames[o-1]],d=(h||{})["!type"]||"sheet";switch(d){case"chart":default:a="xl/worksheets/sheet"+o+"."+r,$t(s,a,Mte(o-1,a,e,t,c)),i.sheets.push(a),yr(e.wbrels,-1,"worksheets/sheet"+o+"."+r,or.WS[0])}if(h){var f=h["!comments"],y=!1,v="";f&&f.length>0&&(v="xl/comments"+o+"."+r,$t(s,v,Ute(f,v)),i.comments.push(v),yr(c,-1,"../comments"+o+"."+r,or.CMNT),y=!0),h["!legacy"]&&y&&$t(s,"xl/drawings/vmlDrawing"+o+".vml",TR(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}c["!id"].rId1&&$t(s,nR(a),pf(c))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+r,$t(s,a,Vte(e.Strings,a,e)),i.strs.push(a),yr(e.wbrels,-1,"sharedStrings."+r,or.SST)),a="xl/workbook."+r,$t(s,a,jte(t,a)),i.workbooks.push(a),yr(e.rels,1,a,or.WB),a="xl/theme/theme1.xml",$t(s,a,bR(t.Themes,e)),i.themes.push(a),yr(e.wbrels,-1,"theme/theme1.xml",or.THEME),a="xl/styles."+r,$t(s,a,Bte(t,a,e)),i.styles.push(a),yr(e.wbrels,-1,"styles."+r,or.STY),t.vbaraw&&n&&(a="xl/vbaProject.bin",$t(s,a,t.vbaraw),i.vba.push(a),yr(e.wbrels,-1,"vbaProject.bin",or.VBA)),a="xl/metadata."+r,$t(s,a,zte(a)),i.metadata.push(a),yr(e.wbrels,-1,"metadata."+r,or.XLMETA),$t(s,"[Content_Types].xml",rR(i,e)),$t(s,"_rels/.rels",pf(e.rels)),$t(s,"xl/_rels/workbook."+r+".rels",pf(e.wbrels)),delete e.revssf,delete e.ssf,s}function Ore(t,e){Zh=1024,t&&!t.SSF&&(t.SSF=ms(un)),t&&t.SSF&&(jv(),Ov(t.SSF),e.revssf=Mv(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,w0?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=AR.indexOf(e.bookType)>-1,i=tR();Db(e=e||{});var s=xb(),a="",o=0;if(e.cellXfs=[],Bu(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",$t(s,a,sR(t.Props,e)),i.coreprops.push(a),yr(e.rels,2,a,or.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],u=0;u<t.SheetNames.length;++u)(t.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(t.SheetNames[u]);t.Props.SheetNames=l}t.Props.Worksheets=t.Props.SheetNames.length,$t(s,a,oR(t.Props)),i.extprops.push(a),yr(e.rels,3,a,or.EXT_PROPS),t.Custprops!==t.Props&&pi(t.Custprops||{}).length>0&&(a="docProps/custom.xml",$t(s,a,lR(t.Custprops)),i.custprops.push(a),yr(e.rels,4,a,or.CUST_PROPS));var c=["SheetJ5"];for(e.tcid=0,o=1;o<=t.SheetNames.length;++o){var h={"!id":{}},d=t.Sheets[t.SheetNames[o-1]],f=(d||{})["!type"]||"sheet";switch(f){case"chart":default:a="xl/worksheets/sheet"+o+"."+r,$t(s,a,DR(o-1,e,t,h)),i.sheets.push(a),yr(e.wbrels,-1,"worksheets/sheet"+o+"."+r,or.WS[0])}if(d){var y=d["!comments"],v=!1,b="";if(y&&y.length>0){var w=!1;y.forEach(function(S){S[1].forEach(function(T){T.T==!0&&(w=!0)})}),w&&(b="xl/threadedComments/threadedComment"+o+"."+r,$t(s,b,dJ(y,c,e)),i.threadedcomments.push(b),yr(h,-1,"../threadedComments/threadedComment"+o+"."+r,or.TCMNT)),b="xl/comments"+o+"."+r,$t(s,b,ER(y)),i.comments.push(b),yr(h,-1,"../comments"+o+"."+r,or.CMNT),v=!0}d["!legacy"]&&v&&$t(s,"xl/drawings/vmlDrawing"+o+".vml",TR(o,d["!comments"])),delete d["!comments"],delete d["!legacy"]}h["!id"].rId1&&$t(s,nR(a),pf(h))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+r,$t(s,a,gR(e.Strings,e)),i.strs.push(a),yr(e.wbrels,-1,"sharedStrings."+r,or.SST)),a="xl/workbook."+r,$t(s,a,MR(t)),i.workbooks.push(a),yr(e.rels,1,a,or.WB),a="xl/theme/theme1.xml",$t(s,a,bR(t.Themes,e)),i.themes.push(a),yr(e.wbrels,-1,"theme/theme1.xml",or.THEME),a="xl/styles."+r,$t(s,a,wR(t,e)),i.styles.push(a),yr(e.wbrels,-1,"styles."+r,or.STY),t.vbaraw&&n&&(a="xl/vbaProject.bin",$t(s,a,t.vbaraw),i.vba.push(a),yr(e.wbrels,-1,"vbaProject.bin",or.VBA)),a="xl/metadata."+r,$t(s,a,SR()),i.metadata.push(a),yr(e.wbrels,-1,"metadata."+r,or.XLMETA),c.length>1&&(a="xl/persons/person.xml",$t(s,a,pJ(c)),i.people.push(a),yr(e.wbrels,-1,"persons/person.xml",or.PEOPLE)),$t(s,"[Content_Types].xml",rR(i,e)),$t(s,"_rels/.rels",pf(e.rels)),$t(s,"xl/_rels/workbook."+r+".rels",pf(e.wbrels)),delete e.revssf,delete e.ssf,s}function jre(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=tl(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function qR(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Bp(e.file,Cr.write(t,{type:hr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Cr.write(t,e)}function Mre(t,e){var r=ms(e||{}),n=Fre(t,r);return Bre(n,r)}function Bre(t,e){var r={},n=hr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?Cr.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(Dv(i))}return e.password&&typeof encrypt_agile<"u"?qR(encrypt_agile(i,e.password),e):e.type==="file"?Bp(e.file,i):e.type=="string"?g0(i):i}function Vre(t,e){var r=e||{},n=rre(t,r);return qR(n,r)}function Xa(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return up(hp(n));case"binary":return hp(n);case"string":return t;case"file":return Bp(e.file,n,"utf8");case"buffer":return hr?ll(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Xa(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Ure(t,e){switch(e.type){case"base64":return up(t);case"binary":return t;case"string":return t;case"file":return Bp(e.file,t,"binary");case"buffer":return hr?ll(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Zm(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?up(r):e.type=="string"?g0(r):r;case"file":return Bp(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function $R(t,e){mY(),Ate(t);var r=ms(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=$R(t,r);return r.type="array",Dv(n)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=t.SheetNames.indexOf(r.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Xa(ere(t,r),r);case"slk":case"sylk":return Xa(SQ.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"htm":case"html":return Xa(UR(t.Sheets[t.SheetNames[i]],r),r);case"txt":return Ure(KR(t.Sheets[t.SheetNames[i]],r),r);case"csv":return Xa(Ob(t.Sheets[t.SheetNames[i]],r),r,"\uFEFF");case"dif":return Xa(TQ.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"dbf":return Zm(bQ.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"prn":return Xa(EQ.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"rtf":return Xa(RQ.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"eth":return Xa(mR.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"fods":return Xa(WR(t,r),r);case"wk1":return Zm(aA.sheet_to_wk1(t.Sheets[t.SheetNames[i]],r),r);case"wk3":return Zm(aA.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Zm(VR(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),Vre(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Mre(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function zre(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function GR(t,e,r){var n={};return n.type="file",n.file=e,zre(n),$R(t,n)}function Hre(t,e,r,n,i,s,a,o){var l=hi(r),u=o.defval,c=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),h=!0,d=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(d,"__rowNum__",{value:r,enumerable:!1})}catch{d.__rowNum__=r}else d.__rowNum__=r;if(!a||t[r])for(var f=e.s.c;f<=e.e.c;++f){var y=a?t[r][f]:t[n[f]+l];if(y===void 0||y.t===void 0){if(u===void 0)continue;s[f]!=null&&(d[s[f]]=u);continue}var v=y.v;switch(y.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(s[f]!=null){if(v==null)if(y.t=="e"&&v===null)d[s[f]]=null;else if(u!==void 0)d[s[f]]=u;else if(c&&v===null)d[s[f]]=null;else continue;else d[s[f]]=c&&(y.t!=="n"||y.t==="n"&&o.rawNumbers!==!1)?v:rl(y,v,o);v!=null&&(h=!1)}}return{row:d,isempty:h}}function B1(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,s=[],a=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},u=e||{},c=u.range!=null?u.range:t["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof c){case"string":l=Hr(c);break;case"number":l=Hr(t["!ref"]),l.s.r=c;break;default:l=c}n>0&&(i=0);var h=hi(l.s.r),d=[],f=[],y=0,v=0,b=Array.isArray(t),w=l.s.r,S=0,T={};b&&!t[w]&&(t[w]=[]);var F=u.skipHidden&&t["!cols"]||[],j=u.skipHidden&&t["!rows"]||[];for(S=l.s.c;S<=l.e.c;++S)if(!(F[S]||{}).hidden)switch(d[S]=Pi(S),r=b?t[w][S]:t[d[S]+h],n){case 1:s[S]=S-l.s.c;break;case 2:s[S]=d[S];break;case 3:s[S]=u.header[S-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=a=rl(r,null,u),v=T[a]||0,!v)T[a]=1;else{do o=a+"_"+v++;while(T[o]);T[a]=v,T[o]=1}s[S]=o}for(w=l.s.r+i;w<=l.e.r;++w)if(!(j[w]||{}).hidden){var M=Hre(t,l,w,d,n,s,b,u);(M.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(f[y++]=M.row)}return f.length=y,f}var pA=/"/g;function Wre(t,e,r,n,i,s,a,o){for(var l=!0,u=[],c="",h=hi(r),d=e.s.c;d<=e.e.c;++d)if(n[d]){var f=o.dense?(t[r]||[])[d]:t[n[d]+h];if(f==null)c="";else if(f.v!=null){l=!1,c=""+(o.rawNumbers&&f.t=="n"?f.v:rl(f,null,o));for(var y=0,v=0;y!==c.length;++y)if((v=c.charCodeAt(y))===i||v===s||v===34||o.forceQuotes){c='"'+c.replace(pA,'""')+'"';break}c=="ID"&&(c='"ID"')}else f.f!=null&&!f.F?(l=!1,c="="+f.f,c.indexOf(",")>=0&&(c='"'+c.replace(pA,'""')+'"')):c="";u.push(c)}return o.blankrows===!1&&l?null:u.join(a)}function Ob(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var i=Hr(t["!ref"]),s=n.FS!==void 0?n.FS:",",a=s.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),c="",h=[];n.dense=Array.isArray(t);for(var d=n.skipHidden&&t["!cols"]||[],f=n.skipHidden&&t["!rows"]||[],y=i.s.c;y<=i.e.c;++y)(d[y]||{}).hidden||(h[y]=Pi(y));for(var v=0,b=i.s.r;b<=i.e.r;++b)(f[b]||{}).hidden||(c=Wre(t,i,b,h,a,l,s,n),c!=null&&(n.strip&&(c=c.replace(u,"")),(c||n.blankrows!==!1)&&r.push((v++?o:"")+c)));return delete n.dense,r.join("")}function KR(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=Ob(t,e);return r}function qre(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var i=Hr(t["!ref"]),s="",a=[],o,l=[],u=Array.isArray(t);for(o=i.s.c;o<=i.e.c;++o)a[o]=Pi(o);for(var c=i.s.r;c<=i.e.r;++c)for(s=hi(c),o=i.s.c;o<=i.e.c;++o)if(e=a[o]+s,r=u?(t[c]||[])[o]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=e+"="+n}return l}function YR(t,e,r){var n=r||{},i=+!n.skipHeader,s=t||{},a=0,o=0;if(s&&n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?$n(n.origin):n.origin;a=l.r,o=l.c}var u,c={s:{c:0,r:0},e:{c:o,r:a+e.length-1+i}};if(s["!ref"]){var h=Hr(s["!ref"]);c.e.c=Math.max(c.e.c,h.e.c),c.e.r=Math.max(c.e.r,h.e.r),a==-1&&(a=h.e.r+1,c.e.r=a+e.length-1+i)}else a==-1&&(a=0,c.e.r=e.length-1+i);var d=n.header||[],f=0;e.forEach(function(v,b){pi(v).forEach(function(w){(f=d.indexOf(w))==-1&&(d[f=d.length]=w);var S=v[w],T="z",F="",j=Tr({c:o+f,r:a+b+i});u=pp(s,j),S&&typeof S=="object"&&!(S instanceof Date)?s[j]=S:(typeof S=="number"?T="n":typeof S=="boolean"?T="b":typeof S=="string"?T="s":S instanceof Date?(T="d",n.cellDates||(T="n",S=ps(S)),F=n.dateNF||un[14]):S===null&&n.nullError&&(T="e",S=0),u?(u.t=T,u.v=S,delete u.w,delete u.R,F&&(u.z=F)):s[j]=u={t:T,v:S},F&&(u.z=F))})}),c.e.c=Math.max(c.e.c,o+d.length-1);var y=hi(a);if(i)for(f=0;f<d.length;++f)s[Pi(f+o)+y]={t:"s",v:d[f]};return s["!ref"]=Nn(c),s}function $re(t,e){return YR(null,t,e)}function pp(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=$n(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?pp(t,Tr(e)):pp(t,Tr({r:e,c:r||0}))}function Gre(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function Kre(){return{SheetNames:[],Sheets:{}}}function Yre(t,e,r,n){var i=1;if(!r)for(;i<=65535&&t.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var a=s&&s[1]||r;for(++i;i<=65535&&t.SheetNames.indexOf(r=a+i)!=-1;++i);}if(jR(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function Xre(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=Gre(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function Qre(t,e){return t.z=e,t}function XR(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function Jre(t,e,r){return XR(t,"#"+e,r)}function Zre(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function ene(t,e,r,n){for(var i=typeof e!="string"?e:Hr(e),s=typeof e=="string"?e:Nn(e),a=i.s.r;a<=i.e.r;++a)for(var o=i.s.c;o<=i.e.c;++o){var l=pp(t,a,o);l.t="n",l.F=s,delete l.v,a==i.s.r&&o==i.s.c&&(l.f=r,n&&(l.D=!0))}return t}var vf={encode_col:Pi,encode_row:hi,encode_cell:Tr,encode_range:Nn,decode_col:Eb,decode_row:Tb,split_cell:mX,decode_cell:$n,decode_range:js,format_cell:rl,sheet_add_aoa:Y8,sheet_add_json:YR,sheet_add_dom:zR,aoa_to_sheet:Jf,json_to_sheet:$re,table_to_sheet:HR,table_to_book:Tre,sheet_to_csv:Ob,sheet_to_txt:KR,sheet_to_json:B1,sheet_to_html:UR,sheet_to_formulae:qre,sheet_to_row_object_array:B1,sheet_get_cell:pp,book_new:Kre,book_append_sheet:Yre,book_set_sheet_visibility:Xre,cell_set_number_format:Qre,cell_set_hyperlink:XR,cell_set_internal_link:Jre,cell_add_comment:Zre,sheet_set_array_formula:ene,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function tne(){return p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 backdrop-blur-sm",children:p.jsx("div",{className:"w-16 h-16 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin"})})}function _0({status:t}){const e=r=>({Pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",Approved:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",Rejected:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400",Scheduled:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400","Pre-Op Preparation":"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400","Surgery In Progress":"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400","Post-Op Recovery":"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-400",Completed:"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-400"})[r]||"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400";return p.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium inline-flex items-center gap-1 ${e(t)}`,children:t||"Unknown"})}function rne({match:t,onClose:e}){return t?p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{background:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(8px)"},children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[p.jsx("div",{className:"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-6 rounded-t-3xl z-10",children:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[p.jsx("span",{children:""}),p.jsx("span",{children:"Match Details"})]}),p.jsx("button",{onClick:e,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-all",children:p.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),p.jsxs("div",{className:"p-6 space-y-6",children:[p.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-gray-700 dark:to-gray-700 rounded-2xl p-6",children:[p.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Basic Information"}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Recipient Name"}),p.jsx("p",{className:"font-bold text-lg",children:t.recipientName})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Organ Type"}),p.jsx("p",{className:"font-bold text-lg",children:t.organType})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Blood Group"}),p.jsx("p",{className:"font-bold text-lg",children:t.bloodGroup})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Match Score"}),p.jsxs("p",{className:"font-bold text-lg",children:[t.score,"%"]})]})]})]}),p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-2xl p-6",children:[p.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Status Information"}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Match Status:"}),p.jsx(_0,{status:t.status})]}),t.trackingStatus&&p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Surgery Status:"}),p.jsx(_0,{status:t.trackingStatus})]})]})]}),t.hospital&&p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-2xl p-6",children:[p.jsxs("h3",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[p.jsx("span",{children:""}),p.jsx("span",{children:"Hospital Information"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Hospital Name"}),p.jsx("p",{className:"font-medium",children:t.hospital})]}),t.hospitalAddress&&p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Address"}),p.jsx("p",{className:"font-medium",children:t.hospitalAddress})]}),t.scheduledDate&&p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Scheduled Date"}),p.jsx("p",{className:"font-medium",children:new Date(t.scheduledDate).toLocaleString()})]}),t.surgeon&&p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Surgeon"}),p.jsx("p",{className:"font-medium",children:t.surgeon})]})]})]}),t.timeline&&t.timeline.length>0&&p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-2xl p-6",children:[p.jsxs("h3",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[p.jsx("span",{children:""}),p.jsx("span",{children:"Timeline"})]}),p.jsx("div",{className:"space-y-3",children:t.timeline.map((r,n)=>p.jsxs("div",{className:`flex gap-3 ${n!==t.timeline.length-1?"border-b border-gray-200 dark:border-gray-600 pb-3":""}`,children:[p.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white text-xs font-bold flex-shrink-0",children:n+1}),p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"font-semibold",children:r.status}),p.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:new Date(r.timestamp).toLocaleString()}),r.description&&p.jsx("p",{className:"text-sm mt-1",children:r.description})]})]},n))})]}),t.notes&&p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-2xl p-6",children:[p.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Notes"}),p.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:t.notes})]}),p.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200 dark:border-gray-700",children:p.jsx("button",{onClick:e,className:"px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl hover:shadow-lg transition-all font-medium",children:"Close"})})]})]})}):null}function nne(){var F,j;const[t,e]=ve.useState(null),[r,n]=ve.useState([]),[i,s]=ve.useState(!1),[a,o]=ve.useState(null),[l,u]=ve.useState("overview"),[c,h]=ve.useState(""),[d,f]=ve.useState(""),[y,v]=ve.useState("");ve.useEffect(()=>{async function M(){if(as.currentUser)try{const A=jn(xr,"users",as.currentUser.uid),_=await Su(A);if(_.exists()){const C=_.data();let D="",N="";if(C.hospitalId)try{const E=jn(xr,"hospitals",C.hospitalId),R=await Su(E);if(R.exists()){const H=R.data();D=H.name||"",N=H.city||""}}catch(E){console.error("Error loading hospital:",E)}e({...C,hospitalName:D,hospitalCity:N})}}catch(A){console.error("Error fetching user data:",A)}}M()},[]),ve.useEffect(()=>{if(!as.currentUser)return;s(!0);const M=Lf(ss(xr,"matches"),m1("donorId","==",as.currentUser.uid)),A=Bc(M,_=>{const C=_.docs.map(D=>({id:D.id,...D.data()}));n(C),s(!1)},_=>{console.error("Error fetching matches:",_),s(!1)});return()=>A()},[]);function b(M){const A=vf.json_to_sheet(M.map(C=>({Recipient:C.recipientName,Organ:C.organType,Blood:C.bloodGroup,Score:C.score,Status:C.status,TrackingStatus:C.trackingStatus||"Not Started",Hospital:C.hospital||""}))),_=vf.book_new();vf.book_append_sheet(_,A,"Matches"),GR(_,"donor_matches.xlsx")}function w(M){var C;const A=new At;A.text("Donor Matches Report",14,20);const _=M.map(D=>[D.recipientName,D.organType,D.bloodGroup,D.score,D.status]);if((C=A.autoTable)==null||C.call(A,{head:[["Recipient","Organ","Blood","Score","Status"]],body:_,startY:28}),!A.autoTable){let D=30;_.forEach(N=>{A.text(N.join(" | "),14,D),D+=8})}A.save("donor_matches.pdf")}const T=r.filter(M=>{var E,R;const A=((E=M.bloodGroup)==null?void 0:E.toLowerCase())||"",_=((R=M.organType)==null?void 0:R.toLowerCase())||"",C=M.status||"",D=c.toLowerCase(),N=d.toLowerCase();return!(D&&A!==D||N&&_!==N||y&&C!==y)}).filter((M,A,_)=>A===_.findIndex(C=>C.recipientName===M.recipientName&&C.organType===M.organType&&C.bloodGroup===M.bloodGroup));return p.jsxs("div",{className:"min-h-screen p-4 lg:p-8 bg-gradient-to-br from-purple-100 via-pink-100 to-blue-100 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800 transition-all",children:[i&&p.jsx(tne,{}),a&&p.jsx(rne,{match:a,onClose:()=>o(null)}),p.jsxs("div",{className:"max-w-7xl mx-auto",children:[p.jsx("header",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 mb-6 shadow-xl border border-white/20",children:p.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"Donor Dashboard"}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Track your organ donation journey"})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{onClick:()=>b(T),className:"px-4 py-3 bg-green-600 text-white rounded-xl hover:shadow-lg transition-all hover:scale-105",children:p.jsxs("span",{className:"flex items-center gap-2",children:[p.jsx("span",{children:""}),p.jsx("span",{className:"hidden sm:inline",children:"Excel"})]})}),p.jsx("button",{onClick:()=>w(T),className:"px-4 py-3 bg-red-600 text-white rounded-xl hover:shadow-lg transition-all hover:scale-105",children:p.jsxs("span",{className:"flex items-center gap-2",children:[p.jsx("span",{children:""}),p.jsx("span",{className:"hidden sm:inline",children:"PDF"})]})})]})]})}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[{label:"Total Matches",value:T.length,icon:"",gradient:"from-blue-500 to-blue-600"},{label:"Pending",value:T.filter(M=>M.status==="Pending").length,icon:"",gradient:"from-yellow-500 to-yellow-600"},{label:"Approved",value:T.filter(M=>M.status==="Approved").length,icon:"",gradient:"from-green-500 to-green-600"},{label:"Completed",value:T.filter(M=>M.trackingStatus==="Completed").length,icon:"",gradient:"from-emerald-500 to-emerald-600"}].map((M,A)=>p.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 shadow-lg border border-white/20 hover:scale-105 transition-transform",style:{animationDelay:`${A*.1}s`},children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("div",{className:`w-14 h-14 bg-gradient-to-br ${M.gradient} rounded-xl flex items-center justify-center text-2xl shadow-lg`,children:M.icon}),p.jsx("div",{className:"text-right",children:p.jsx("p",{className:`text-3xl font-bold bg-gradient-to-r ${M.gradient} bg-clip-text text-transparent`,children:M.value})})]}),p.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:M.label})]},M.label))}),t&&p.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 mb-6 shadow-lg border border-white/20",children:[p.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[p.jsx("span",{children:""}),p.jsx("span",{children:"Your Profile"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsx("div",{className:"space-y-3",children:p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-xl flex items-center justify-center text-white text-2xl font-bold",children:((F=t.fullName)==null?void 0:F.split(" ").map(M=>M[0]).join(""))||"D"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-bold text-lg",children:t.fullName||""}),p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:((j=as.currentUser)==null?void 0:j.email)||""})]})]})}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4",children:[p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Blood Group"}),p.jsx("p",{className:"text-xl font-bold text-red-600 dark:text-red-400",children:t.bloodGroup||""})]}),p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4",children:[p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Organ to Donate"}),p.jsx("p",{className:"text-xl font-bold text-indigo-600 dark:text-indigo-400",children:t.organType||""})]}),p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4",children:[p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Hospital"}),p.jsx("p",{className:"text-xl font-bold",children:t.hospitalName||""}),p.jsx("p",{className:"text-sm text-gray-500",children:t.hospitalCity||""})]})]})]})]}),p.jsx("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 mb-6 shadow-lg border border-white/20",children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[p.jsxs("select",{value:c,onChange:M=>h(M.target.value),className:"px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-700 dark:bg-gray-800 focus:border-indigo-500 outline-none transition-all",children:[p.jsx("option",{value:"",children:"All Blood Groups"}),["A+","A-","B+","B-","AB+","AB-","O+","O-"].map(M=>p.jsx("option",{value:M,children:M},M))]}),p.jsxs("select",{value:d,onChange:M=>f(M.target.value),className:"px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-700 dark:bg-gray-800 focus:border-indigo-500 outline-none transition-all",children:[p.jsx("option",{value:"",children:"All Organs"}),["Kidney","Heart","Liver","Lung","Eye","Pancreas"].map(M=>p.jsx("option",{value:M.toLowerCase(),children:M},M))]}),p.jsxs("select",{value:y,onChange:M=>v(M.target.value),className:"px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-700 dark:bg-gray-800 focus:border-indigo-500 outline-none transition-all",children:[p.jsx("option",{value:"",children:"All Statuses"}),p.jsx("option",{value:"Pending",children:"Pending"}),p.jsx("option",{value:"Approved",children:"Approved"}),p.jsx("option",{value:"Rejected",children:"Rejected"})]}),p.jsx("button",{onClick:()=>{h(""),f(""),v("")},className:"px-4 py-3 bg-gray-200 dark:bg-gray-700 rounded-xl hover:bg-gray-300 dark:hover:bg-gray-600 transition-all font-medium",children:"Reset Filters"})]})}),p.jsx("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-2 mb-6 inline-flex gap-2 shadow-lg border border-white/20",children:[{id:"overview",label:"Overview",icon:""},{id:"matches",label:"My Matches",icon:""}].map(M=>p.jsx("button",{onClick:()=>u(M.id),className:`px-6 py-3 rounded-xl transition-all font-medium ${l===M.id?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:p.jsxs("span",{className:"flex items-center gap-2",children:[p.jsx("span",{children:M.icon}),p.jsx("span",{children:M.label})]})},M.id))}),p.jsxs("div",{className:"mt-6",children:[l==="overview"&&p.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[p.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 shadow-lg border border-white/20",children:[p.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[p.jsx("span",{children:""}),p.jsx("span",{children:"Recent Matches"})]}),p.jsxs("div",{className:"space-y-3",children:[T.slice(0,5).map((M,A)=>p.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700/50 transition-all cursor-pointer",onClick:()=>o(M),children:[p.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-500 rounded-lg flex items-center justify-center text-white font-bold",children:A+1}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("p",{className:"font-medium",children:["Match with ",M.recipientName]}),p.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[M.organType," - ",M.bloodGroup]})]}),p.jsxs("div",{className:"flex flex-col items-end gap-2",children:[p.jsx(_0,{status:M.status}),p.jsxs("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:["Score: ",M.score]})]})]},M.id)),T.length===0&&p.jsx("p",{className:"text-gray-500 text-center py-8",children:"No matches yet. Your matches will appear here once found."})]})]}),p.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 shadow-lg border border-white/20",children:[p.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[p.jsx("span",{children:""}),p.jsx("span",{children:"Match Statistics"})]}),p.jsx("div",{className:"space-y-4",children:[{label:"Pending Review",value:T.filter(M=>M.status==="Pending").length,color:"bg-yellow-500"},{label:"Approved",value:T.filter(M=>M.status==="Approved").length,color:"bg-green-500"},{label:"In Progress",value:T.filter(M=>M.trackingStatus==="Surgery In Progress").length,color:"bg-orange-500"},{label:"Completed",value:T.filter(M=>M.trackingStatus==="Completed").length,color:"bg-emerald-500"}].map(M=>p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:M.label}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-32 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:p.jsx("div",{className:`${M.color} h-full transition-all duration-1000`,style:{width:`${M.value/(T.length||1)*100}%`}})}),p.jsx("span",{className:"font-bold text-lg w-8 text-right",children:M.value})]})]},M.label))})]})]}),l==="matches"&&p.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 shadow-lg border border-white/20",children:[p.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[p.jsx("span",{children:""}),p.jsx("span",{children:"Your Matches"})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"border-b-2 border-gray-200 dark:border-gray-700",children:[p.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Recipient"}),p.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Organ"}),p.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Blood"}),p.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Score"}),p.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Status"}),p.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Tracking"}),p.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Actions"})]})}),p.jsx("tbody",{children:T.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:"7",className:"text-center py-8 text-gray-500",children:"No matches found. Please wait for the doctor to create matches."})}):T.map(M=>p.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-all",children:[p.jsx("td",{className:"py-4 px-4 font-medium",children:M.recipientName}),p.jsx("td",{className:"py-4 px-4",children:M.organType}),p.jsx("td",{className:"py-4 px-4",children:p.jsx("span",{className:"px-3 py-1 bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-400 rounded-full text-sm font-medium",children:M.bloodGroup})}),p.jsx("td",{className:"py-4 px-4",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-12 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:p.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-emerald-500 transition-all duration-1000",style:{width:`${M.score}%`}})}),p.jsx("span",{className:"font-semibold",children:M.score})]})}),p.jsx("td",{className:"py-4 px-4",children:p.jsx(_0,{status:M.status})}),p.jsx("td",{className:"py-4 px-4",children:p.jsx(_0,{status:M.trackingStatus})}),p.jsx("td",{className:"py-4 px-4",children:p.jsx("button",{onClick:()=>o(M),className:"px-3 py-1.5 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-all text-sm",children:"View Details"})})]},M.id))})]})})]})]})]})]})}function ine(){return p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 backdrop-blur-sm",children:p.jsx("div",{className:"w-16 h-16 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin"})})}function b0({status:t}){const e=r=>({Pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",Approved:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",Rejected:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400",Scheduled:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400","Pre-Op Preparation":"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400","Surgery In Progress":"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400","Post-Op Recovery":"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-400",Completed:"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-400"})[r]||"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400";return p.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium inline-flex items-center gap-1 ${e(t)}`,children:t||"Unknown"})}function sne({match:t,onClose:e}){return t?p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{background:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(8px)"},children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[p.jsx("div",{className:"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-6 rounded-t-3xl z-10",children:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[p.jsx("span",{children:""}),p.jsx("span",{children:"Match Details"})]}),p.jsx("button",{onClick:e,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-all",children:p.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),p.jsxs("div",{className:"p-6 space-y-6",children:[p.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-gray-700 dark:to-gray-700 rounded-2xl p-6",children:[p.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Basic Information"}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Donor Name"}),p.jsx("p",{className:"font-bold text-lg",children:t.donorName})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Organ Type"}),p.jsx("p",{className:"font-bold text-lg",children:t.organType})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Blood Group"}),p.jsx("p",{className:"font-bold text-lg",children:t.bloodGroup})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Match Score"}),p.jsxs("p",{className:"font-bold text-lg",children:[t.score,"%"]})]})]})]}),p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-2xl p-6",children:[p.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Status Information"}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Match Status:"}),p.jsx(b0,{status:t.status})]}),t.trackingStatus&&p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Surgery Status:"}),p.jsx(b0,{status:t.trackingStatus})]})]})]}),t.hospital&&p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-2xl p-6",children:[p.jsxs("h3",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[p.jsx("span",{children:""}),p.jsx("span",{children:"Hospital Information"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Hospital Name"}),p.jsx("p",{className:"font-medium",children:t.hospital})]}),t.hospitalAddress&&p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Address"}),p.jsx("p",{className:"font-medium",children:t.hospitalAddress})]}),t.scheduledDate&&p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Scheduled Date"}),p.jsx("p",{className:"font-medium",children:new Date(t.scheduledDate).toLocaleString()})]}),t.surgeon&&p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Surgeon"}),p.jsx("p",{className:"font-medium",children:t.surgeon})]}),t.estimatedDuration&&p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Estimated Duration"}),p.jsx("p",{className:"font-medium",children:t.estimatedDuration})]})]})]}),t.timeline&&t.timeline.length>0&&p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-2xl p-6",children:[p.jsxs("h3",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[p.jsx("span",{children:""}),p.jsx("span",{children:"Timeline"})]}),p.jsx("div",{className:"space-y-3",children:t.timeline.map((r,n)=>p.jsxs("div",{className:`flex gap-3 ${n!==t.timeline.length-1?"border-b border-gray-200 dark:border-gray-600 pb-3":""}`,children:[p.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white text-xs font-bold flex-shrink-0",children:n+1}),p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"font-semibold",children:r.status}),p.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:new Date(r.timestamp).toLocaleString()}),r.description&&p.jsx("p",{className:"text-sm mt-1",children:r.description})]})]},n))})]}),t.notes&&p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-2xl p-6",children:[p.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Notes"}),p.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:t.notes})]}),p.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200 dark:border-gray-700",children:p.jsx("button",{onClick:e,className:"px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl hover:shadow-lg transition-all font-medium",children:"Close"})})]})]})}):null}function ane(){var M,A;const[t,e]=ve.useState(null),[r,n]=ve.useState([]),[i,s]=ve.useState(!1),[a,o]=ve.useState(null),[l,u]=ve.useState("overview"),[c,h]=ve.useState(!1),[d,f]=ve.useState(""),[y,v]=ve.useState(""),[b,w]=ve.useState("");ve.useEffect(()=>{async function _(){if(as.currentUser)try{const C=jn(xr,"users",as.currentUser.uid),D=await Su(C);if(D.exists()){const N=D.data();let E="",R="";if(N.hospitalId)try{const H=jn(xr,"hospitals",N.hospitalId),me=await Su(H);if(me.exists()){const ie=me.data();E=ie.name||"",R=ie.city||""}}catch(H){console.error("Error loading hospital:",H)}e({...N,hospitalName:E,hospitalCity:R})}}catch(C){console.error("Error fetching user data:",C)}}_()},[]),ve.useEffect(()=>{"Notification"in window&&Notification.requestPermission()},[]),ve.useEffect(()=>{if(!as.currentUser)return;s(!0);const _=Lf(ss(xr,"matches"),m1("recipientId","==",as.currentUser.uid)),C=Bc(_,D=>{const N=D.docs.map(H=>({id:H.id,...H.data()})),E=r.map(H=>H.id);N.some(H=>!E.includes(H.id))&&r.length>0&&(h(!0),Notification.permission==="granted"&&new Notification("New Organ Match!",{body:"A new donor match has been found for you!",icon:"/favicon.ico"})),n(N),s(!1)});return()=>C()},[]);const S=_=>{const C=vf.json_to_sheet(_.map(N=>({Donor:N.donorName,Organ:N.organType,Blood:N.bloodGroup,Score:N.score,Status:N.status,TrackingStatus:N.trackingStatus||"Not Started",Hospital:N.hospital||""}))),D=vf.book_new();vf.book_append_sheet(D,C,"Matches"),GR(D,"recipient_matches.xlsx")},T=_=>{var N;const C=new At;C.text("Recipient Matches Report",14,20);const D=_.map(E=>[E.donorName,E.organType,E.bloodGroup,E.score,E.status]);if((N=C.autoTable)==null||N.call(C,{head:[["Donor","Organ","Blood","Score","Status"]],body:D,startY:28}),!C.autoTable){let E=30;D.forEach(R=>{C.text(R.join(" | "),14,E),E+=8})}C.save("recipient_matches.pdf")},j=r.filter(_=>{var H,me;const C=((H=_.bloodGroup)==null?void 0:H.toLowerCase())||"",D=((me=_.organType)==null?void 0:me.toLowerCase())||"",N=_.status||"",E=d.toLowerCase(),R=y.toLowerCase();return!(E&&C!==E||R&&D!==R||b&&N!==b)}).filter((_,C,D)=>C===D.findIndex(N=>N.donorName===_.donorName&&N.organType===_.organType&&N.bloodGroup===_.bloodGroup));return p.jsxs("div",{className:"min-h-screen p-4 lg:p-8 bg-gradient-to-br from-purple-100 via-pink-100 to-blue-100 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800 transition-all",children:[i&&p.jsx(ine,{}),a&&p.jsx(sne,{match:a,onClose:()=>o(null)}),p.jsxs("div",{className:"max-w-7xl mx-auto",children:[c&&p.jsxs("div",{className:"bg-green-500 text-white rounded-2xl p-4 mb-6 shadow-lg flex items-center justify-between animate-pulse",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("span",{className:"text-3xl",children:""}),p.jsxs("div",{children:[p.jsx("p",{className:"font-bold text-lg",children:"New Match Available!"}),p.jsx("p",{className:"text-sm",children:"A potential donor has been found for you."})]})]}),p.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg transition-all font-medium",children:"Dismiss"})]}),p.jsx("header",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 mb-6 shadow-xl border border-white/20",children:p.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[p.jsxs("div",{children:[p.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:["Welcome, ",(t==null?void 0:t.fullName)||"Recipient"]}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Track your organ transplant journey"})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{onClick:()=>S(j),className:"px-4 py-3 bg-green-600 text-white rounded-xl hover:shadow-lg transition-all hover:scale-105",children:p.jsxs("span",{className:"flex items-center gap-2",children:[p.jsx("span",{children:""}),p.jsx("span",{className:"hidden sm:inline",children:"Excel"})]})}),p.jsx("button",{onClick:()=>T(j),className:"px-4 py-3 bg-red-600 text-white rounded-xl hover:shadow-lg transition-all hover:scale-105",children:p.jsxs("span",{className:"flex items-center gap-2",children:[p.jsx("span",{children:""}),p.jsx("span",{className:"hidden sm:inline",children:"PDF"})]})})]})]})}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[{label:"Total Matches",value:j.length,icon:"",gradient:"from-blue-500 to-blue-600"},{label:"Pending",value:j.filter(_=>_.status==="Pending").length,icon:"",gradient:"from-yellow-500 to-yellow-600"},{label:"Approved",value:j.filter(_=>_.status==="Approved").length,icon:"",gradient:"from-green-500 to-green-600"},{label:"Completed",value:j.filter(_=>_.trackingStatus==="Completed").length,icon:"",gradient:"from-emerald-500 to-emerald-600"}].map((_,C)=>p.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 shadow-lg border border-white/20 hover:scale-105 transition-transform",style:{animationDelay:`${C*.1}s`},children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("div",{className:`w-14 h-14 bg-gradient-to-br ${_.gradient} rounded-xl flex items-center justify-center text-2xl shadow-lg`,children:_.icon}),p.jsx("div",{className:"text-right",children:p.jsx("p",{className:`text-3xl font-bold bg-gradient-to-r ${_.gradient} bg-clip-text text-transparent`,children:_.value})})]}),p.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:_.label})]},_.label))}),t&&p.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 mb-6 shadow-lg border border-white/20",children:[p.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[p.jsx("span",{children:""}),p.jsx("span",{children:"Your Profile"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsx("div",{className:"space-y-3",children:p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-xl flex items-center justify-center text-white text-2xl font-bold",children:((M=t.fullName)==null?void 0:M.split(" ").map(_=>_[0]).join(""))||"R"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-bold text-lg",children:t.fullName||""}),p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:((A=as.currentUser)==null?void 0:A.email)||""})]})]})}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4",children:[p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Blood Group"}),p.jsx("p",{className:"text-xl font-bold text-red-600 dark:text-red-400",children:t.bloodGroup||""})]}),p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4",children:[p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Organ Needed"}),p.jsx("p",{className:"text-xl font-bold text-indigo-600 dark:text-indigo-400",children:t.organType||""})]}),p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4",children:[p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Hospital"}),p.jsx("p",{className:"text-xl font-bold",children:t.hospitalName||""}),p.jsx("p",{className:"text-sm text-gray-500",children:t.hospitalCity||""})]})]})]})]}),p.jsx("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 mb-6 shadow-lg border border-white/20",children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[p.jsxs("select",{value:d,onChange:_=>f(_.target.value),className:"px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-700 dark:bg-gray-800 focus:border-indigo-500 outline-none transition-all",children:[p.jsx("option",{value:"",children:"All Blood Groups"}),["A+","A-","B+","B-","AB+","AB-","O+","O-"].map(_=>p.jsx("option",{value:_,children:_},_))]}),p.jsxs("select",{value:y,onChange:_=>v(_.target.value),className:"px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-700 dark:bg-gray-800 focus:border-indigo-500 outline-none transition-all",children:[p.jsx("option",{value:"",children:"All Organs"}),["Kidney","Heart","Liver","Lung","Eye","Pancreas"].map(_=>p.jsx("option",{value:_.toLowerCase(),children:_},_))]}),p.jsxs("select",{value:b,onChange:_=>w(_.target.value),className:"px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-700 dark:bg-gray-800 focus:border-indigo-500 outline-none transition-all",children:[p.jsx("option",{value:"",children:"All Statuses"}),p.jsx("option",{value:"Pending",children:"Pending"}),p.jsx("option",{value:"Approved",children:"Approved"}),p.jsx("option",{value:"Rejected",children:"Rejected"})]}),p.jsx("button",{onClick:()=>{f(""),v(""),w("")},className:"px-4 py-3 bg-gray-200 dark:bg-gray-700 rounded-xl hover:bg-gray-300 dark:hover:bg-gray-600 transition-all font-medium",children:"Reset Filters"})]})}),p.jsx("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-2 mb-6 inline-flex gap-2 shadow-lg border border-white/20",children:[{id:"overview",label:"Overview",icon:""},{id:"matches",label:"My Matches",icon:""}].map(_=>p.jsx("button",{onClick:()=>u(_.id),className:`px-6 py-3 rounded-xl transition-all font-medium ${l===_.id?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:p.jsxs("span",{className:"flex items-center gap-2",children:[p.jsx("span",{children:_.icon}),p.jsx("span",{children:_.label})]})},_.id))}),p.jsxs("div",{className:"mt-6",children:[l==="overview"&&p.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[p.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 shadow-lg border border-white/20",children:[p.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[p.jsx("span",{children:""}),p.jsx("span",{children:"Recent Matches"})]}),p.jsxs("div",{className:"space-y-3",children:[j.slice(0,5).map((_,C)=>p.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700/50 transition-all cursor-pointer",onClick:()=>o(_),children:[p.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-500 rounded-lg flex items-center justify-center text-white font-bold",children:C+1}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("p",{className:"font-medium",children:["Match with ",_.donorName]}),p.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[_.organType," - ",_.bloodGroup]})]}),p.jsxs("div",{className:"flex flex-col items-end gap-2",children:[p.jsx(b0,{status:_.status}),p.jsxs("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:["Score: ",_.score]})]})]},_.id)),j.length===0&&p.jsx("p",{className:"text-gray-500 text-center py-8",children:"No matches yet. You'll be notified when a match is found."})]})]}),p.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 shadow-lg border border-white/20",children:[p.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[p.jsx("span",{children:""}),p.jsx("span",{children:"Match Statistics"})]}),p.jsx("div",{className:"space-y-4",children:[{label:"Pending Review",value:j.filter(_=>_.status==="Pending").length,color:"bg-yellow-500"},{label:"Approved",value:j.filter(_=>_.status==="Approved").length,color:"bg-green-500"},{label:"Surgery Scheduled",value:j.filter(_=>_.trackingStatus==="Scheduled").length,color:"bg-blue-500"},{label:"In Progress",value:j.filter(_=>_.trackingStatus==="Surgery In Progress").length,color:"bg-orange-500"},{label:"Completed",value:j.filter(_=>_.trackingStatus==="Completed").length,color:"bg-emerald-500"}].map(_=>p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:_.label}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-32 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:p.jsx("div",{className:`${_.color} h-full transition-all duration-1000`,style:{width:`${_.value/(j.length||1)*100}%`}})}),p.jsx("span",{className:"font-bold text-lg w-8 text-right",children:_.value})]})]},_.label))})]})]}),l==="matches"&&p.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 shadow-lg border border-white/20",children:[p.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[p.jsx("span",{children:""}),p.jsx("span",{children:"Your Matches"})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"border-b-2 border-gray-200 dark:border-gray-700",children:[p.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Donor"}),p.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Organ"}),p.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Blood"}),p.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Score"}),p.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Status"}),p.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Tracking"}),p.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Actions"})]})}),p.jsx("tbody",{children:j.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:"7",className:"text-center py-8 text-gray-500",children:"No matches found. Please wait for the doctor to create matches."})}):j.map(_=>p.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-all",children:[p.jsx("td",{className:"py-4 px-4 font-medium",children:_.donorName}),p.jsx("td",{className:"py-4 px-4",children:_.organType}),p.jsx("td",{className:"py-4 px-4",children:p.jsx("span",{className:"px-3 py-1 bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-400 rounded-full text-sm font-medium",children:_.bloodGroup})}),p.jsx("td",{className:"py-4 px-4",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-12 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:p.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-emerald-500 transition-all duration-1000",style:{width:`${_.score}%`}})}),p.jsx("span",{className:"font-semibold",children:_.score})]})}),p.jsx("td",{className:"py-4 px-4",children:p.jsx(b0,{status:_.status})}),p.jsx("td",{className:"py-4 px-4",children:p.jsx(b0,{status:_.trackingStatus})}),p.jsx("td",{className:"py-4 px-4",children:p.jsx("button",{onClick:()=>o(_),className:"px-3 py-1.5 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-all text-sm",children:"View Details"})})]},_.id))})]})})]})]})]})]})}function one(){return p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 backdrop-blur-sm",children:p.jsx("div",{className:"w-16 h-16 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin"})})}function eg({text:t="",highlight:e=""}){if(!e)return p.jsx(p.Fragment,{children:t});const r=t.split(new RegExp(`(${e})`,"gi"));return p.jsx(p.Fragment,{children:r.map((n,i)=>n.toLowerCase()===e.toLowerCase()?p.jsx("span",{className:"bg-yellow-300 dark:bg-yellow-600",children:n},i):n)})}function Ty({status:t}){const e=r=>({Pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400",Approved:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",Rejected:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400",Scheduled:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400","Pre-Op Preparation":"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400","Surgery In Progress":"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400","Post-Op Recovery":"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-400",Completed:"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-400",Cancelled:"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"})[r]||"bg-gray-100 text-gray-800";return p.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium inline-flex items-center gap-1 ${e(t)}`,children:t||"Not Started"})}function lne({match:t,onClose:e,onSave:r,hospitals:n,doctors:i}){const[s,a]=ve.useState({trackingStatus:t.trackingStatus||"",scheduledDate:t.scheduledDate||"",hospitalId:t.hospitalId||"",hospital:t.hospital||"",hospitalAddress:t.hospitalAddress||"",surgeon:t.surgeon||"",surgeonId:t.surgeonId||"",department:t.department||"",estimatedDuration:t.estimatedDuration||"",notes:t.notes||"",timeline:t.timeline||[]}),o=["Scheduled","Pre-Op Preparation","Surgery In Progress","Post-Op Recovery","Completed","Cancelled"],l=n.find(v=>v.id===s.hospitalId),u=i.filter(v=>v.hospitalId===s.hospitalId),c=l&&l.departments||[],h=()=>{s.trackingStatus&&a(v=>({...v,timeline:[...v.timeline||[],{timestamp:new Date().toISOString(),status:v.trackingStatus,description:`Status updated to ${v.trackingStatus}`}]}))},d=v=>{const b=n.find(w=>w.id===v);if(b){const w=`${b.addressLine1||""}${b.addressLine2?", "+b.addressLine2:""}, ${b.city||""}, ${b.state||""}${b.pincode?" - "+b.pincode:""}`;a(S=>({...S,hospitalId:b.id,hospital:b.name,hospitalAddress:w,surgeon:"",surgeonId:"",department:""}))}else a(w=>({...w,hospitalId:"",hospital:"",hospitalAddress:"",surgeon:"",surgeonId:"",department:""}))},f=v=>{const b=u.find(w=>w.id===v);a(b?w=>({...w,surgeonId:b.id,surgeon:b.fullName||""}):w=>({...w,surgeonId:"",surgeon:""}))},y=()=>{r(s),e()};return p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{background:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(8px)"},children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto animate-fadeIn",children:[p.jsx("div",{className:"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-6 rounded-t-3xl z-10",children:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[p.jsx("span",{children:""}),p.jsx("span",{children:"Transplant Tracking"})]}),p.jsx("button",{onClick:e,className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-all",children:p.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),p.jsxs("div",{className:"p-6",children:[p.jsx("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-gray-700 dark:to-gray-700 rounded-2xl p-4 mb-6",children:p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Donor"}),p.jsx("p",{className:"font-bold text-lg",children:t.donorName})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Recipient"}),p.jsx("p",{className:"font-bold text-lg",children:t.recipientName})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Organ Type"}),p.jsx("p",{className:"font-bold",children:t.organType})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Blood Group"}),p.jsx("p",{className:"font-bold",children:t.bloodGroup})]})]})}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Tracking Status"}),p.jsxs("select",{value:s.trackingStatus,onChange:v=>a(b=>({...b,trackingStatus:v.target.value})),className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-700 dark:bg-gray-800 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition-all",children:[p.jsx("option",{value:"",children:"Select Status"}),o.map(v=>p.jsx("option",{value:v,children:v},v))]}),p.jsx("button",{onClick:h,className:"mt-2 text-sm text-indigo-600 hover:text-indigo-700 font-medium",children:"+ Add to Timeline"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Scheduled Date & Time"}),p.jsx("input",{type:"datetime-local",value:s.scheduledDate,onChange:v=>a(b=>({...b,scheduledDate:v.target.value})),className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-700 dark:bg-gray-800 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition-all"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Department"}),p.jsxs("select",{value:s.department,onChange:v=>a(b=>({...b,department:v.target.value})),className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-700 dark:bg-gray-800 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition-all",children:[p.jsx("option",{value:"",children:"Select Department"}),c.map((v,b)=>p.jsx("option",{value:v,children:v},b))]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Surgeon / Team Lead"}),p.jsxs("select",{value:s.surgeonId,onChange:v=>f(v.target.value),className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-700 dark:bg-gray-800 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition-all mb-2",children:[p.jsx("option",{value:"",children:"Select Surgeon"}),u.map(v=>p.jsxs("option",{value:v.id,children:[v.fullName," ",v.specialization?`(${v.specialization})`:""]},v.id))]}),p.jsx("input",{type:"text",value:s.surgeon,onChange:v=>a(b=>({...b,surgeon:v.target.value,surgeonId:""})),placeholder:"Or type surgeon name manually",className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-700 dark:bg-gray-800 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition-all"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Estimated Duration"}),p.jsx("input",{type:"text",value:s.estimatedDuration,onChange:v=>a(b=>({...b,estimatedDuration:v.target.value})),placeholder:"4-6 hours",className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-700 dark:bg-gray-800 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition-all"})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsxs("label",{className:"block text-sm font-semibold mb-2 flex items-center gap-2",children:[p.jsx("span",{children:""}),p.jsx("span",{children:"Select Hospital"})]}),p.jsxs("select",{value:s.hospitalId,onChange:v=>d(v.target.value),className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-700 dark:bg-gray-800 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition-all",children:[p.jsx("option",{value:"",children:"Select Hospital"}),n.filter(v=>!v.status||v.status==="Active").map(v=>p.jsxs("option",{value:v.id,children:[v.name," - ",v.city]},v.id))]}),l&&p.jsxs("div",{className:"mt-3 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl space-y-2",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Address"}),p.jsxs("p",{className:"text-sm font-medium",children:[l.addressLine1,l.addressLine2?`, ${l.addressLine2}`:"",", ",l.city,", ",l.state," ",l.pincode?`- ${l.pincode}`:""]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Phone"}),p.jsx("p",{className:"text-sm font-medium",children:l.contactNumber||""})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Emergency"}),p.jsx("p",{className:"text-sm font-medium text-red-600 dark:text-red-400",children:l.emergencyNumber||""})]})]}),(l.availableOrgans||[]).length>0&&p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Available Organs"}),p.jsx("div",{className:"flex flex-wrap gap-1",children:l.availableOrgans.map((v,b)=>p.jsx("span",{className:"text-xs px-2 py-0.5 bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400 rounded",children:v},b))})]}),c.length>0&&p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Departments"}),p.jsx("div",{className:"flex flex-wrap gap-1",children:c.map((v,b)=>p.jsx("span",{className:"text-xs px-2 py-0.5 bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300 rounded",children:v},b))})]}),p.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs mt-2",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Total Beds"}),p.jsx("p",{className:"font-semibold",children:l.totalBeds??""})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"ICU Beds"}),p.jsx("p",{className:"font-semibold",children:l.icuBeds??""})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Ventilators"}),p.jsx("p",{className:"font-semibold",children:l.ventilators??""})]})]})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Notes"}),p.jsx("textarea",{value:s.notes,onChange:v=>a(b=>({...b,notes:v.target.value})),placeholder:"Additional notes or special considerations...",rows:"8",className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-700 dark:bg-gray-800 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition-all resize-none"})]})]})]}),p.jsxs("div",{className:"mt-6",children:[p.jsxs("label",{className:"block text-sm font-semibold mb-3 flex items-center gap-2",children:[p.jsx("span",{children:""}),p.jsx("span",{children:"Timeline"})]}),p.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-2xl p-4 max-h-64 overflow-y-auto",children:!s.timeline||s.timeline.length===0?p.jsx("p",{className:"text-gray-500 text-center py-4",children:"No timeline events yet"}):p.jsx("div",{className:"space-y-3",children:s.timeline.map((v,b)=>p.jsxs("div",{className:`flex gap-3 ${b!==s.timeline.length-1?"border-b border-gray-200 dark:border-gray-600 pb-3":""}`,children:[p.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white text-xs font-bold flex-shrink-0",children:b+1}),p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"font-semibold",children:v.status}),p.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:new Date(v.timestamp).toLocaleString()}),v.description&&p.jsx("p",{className:"text-sm mt-1",children:v.description})]})]},b))})})]}),p.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[p.jsx("button",{onClick:e,className:"px-6 py-3 bg-gray-200 dark:bg-gray-700 rounded-xl hover:bg-gray-300 dark:hover:bg-gray-600 transition-all font-medium",children:"Cancel"}),p.jsx("button",{onClick:y,className:"px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl hover:shadow-lg transition-all font-medium",children:"Save Tracking Info"})]})]})]})})}function une(){var Q,ge;const[t,e]=ve.useState([]),[r,n]=ve.useState([]),[i,s]=ve.useState([]),[a,o]=ve.useState([]),[l,u]=ve.useState([]),[c,h]=ve.useState(!1),[d,f]=ve.useState({}),[y,v]=ve.useState(""),[b,w]=ve.useState(""),[S,T]=ve.useState(""),[F,j]=ve.useState(""),[M,A]=ve.useState(""),[_,C]=ve.useState(null),[D,N]=ve.useState("overview"),[E,R]=ve.useState(localStorage.getItem("darkMode")==="true"||window.matchMedia("(prefers-color-scheme: dark)").matches),[H,me]=ve.useState(null);ve.useEffect(()=>{E?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode",E)},[E]),ve.useEffect(()=>{async function G(){try{const ue=ss(xr,"users"),Ne=(await q2(ue)).docs.map(oe=>({id:oe.id,...oe.data()}));e(Ne.filter(oe=>oe.role==="donor")),n(Ne.filter(oe=>oe.role==="recipient"));const je=Ne.filter(oe=>oe.role==="doctor");u(je);const Ue=je.find(oe=>{var He;return oe.id===((He=as.currentUser)==null?void 0:He.uid)})||null;me(Ue);const ze=ss(xr,"hospitals"),Pe=await q2(ze);o(Pe.docs.map(oe=>({id:oe.id,...oe.data()})))}catch(ue){console.error("Failed to load data:",ue)}}G()},[]),ve.useEffect(()=>{const G=Lf(ss(xr,"matches"),$x("createdAt","desc")),ue=Bc(G,ye=>{const Ne=ye.docs.map(je=>({id:je.id,...je.data()}));s(Ne)},ye=>{console.error("Failed to load matches:",ye)});return()=>ue()},[]);async function ie(){if(!t.length||!r.length){alert("Donors or recipients not loaded yet.");return}h(!0);const G={};try{await ee(G)}catch(ue){console.warn("Matching failed:",ue),alert("AI matching failed: "+ue.message)}finally{f(G),h(!1),setTimeout(()=>f({}),2e3)}}async function ee(G){for(const ue of r){const ye=t.find(ze=>{var Pe,oe,He,ht;return((Pe=ze.bloodGroup)==null?void 0:Pe.toLowerCase())===((oe=ue.bloodGroup)==null?void 0:oe.toLowerCase())&&((He=ze.organType)==null?void 0:He.toLowerCase())===((ht=ue.organType)==null?void 0:ht.toLowerCase())});if(!ye)continue;const Ne=Lf(ss(xr,"matches"),m1("donorId","==",ye.id),m1("recipientId","==",ue.id)),je=await q2(Ne),Ue=Math.round(70+Math.random()*30);if(je.empty){const ze=await k_(ss(xr,"matches"),{donorId:ye.id,donorName:ye.fullName||"",recipientId:ue.id,recipientName:ue.fullName||"",bloodGroup:ue.bloodGroup||"",organType:ue.organType||"",score:Ue,status:"Pending",createdAt:new Date});G[ze.id]=!0}else{const ze=je.docs[0].ref;await hf(ze,{score:Ue,status:"Pending",updatedAt:new Date}),G[je.docs[0].id]=!0}}}async function J(G,ue){try{const ye=jn(xr,"matches",G);await hf(ye,{status:ue})}catch(ye){console.error(ye),alert("Failed to update status: "+ye.message)}}async function re(G,ue){try{const ye=jn(xr,"matches",G);await hf(ye,{...ue,updatedAt:new Date})}catch(ye){console.error(ye),alert("Failed to update tracking info: "+ye.message)}}const de=i.filter((G,ue,ye)=>ue===ye.findIndex(Ne=>Ne.donorId===G.donorId&&Ne.recipientId===G.recipientId&&Ne.organType===G.organType)),Se=t.filter(G=>{var ue,ye,Ne;return(!y||((ue=G.bloodGroup)==null?void 0:ue.toLowerCase())===y.toLowerCase())&&(!b||((ye=G.organType)==null?void 0:ye.toLowerCase())===b.toLowerCase())&&(!F||G.hospitalId===F)&&(!M||((Ne=G.fullName)==null?void 0:Ne.toLowerCase().includes(M.toLowerCase())))}),I=r.filter(G=>{var ue,ye,Ne;return(!y||((ue=G.bloodGroup)==null?void 0:ue.toLowerCase())===y.toLowerCase())&&(!b||((ye=G.organType)==null?void 0:ye.toLowerCase())===b.toLowerCase())&&(!F||G.hospitalId===F)&&(!M||((Ne=G.fullName)==null?void 0:Ne.toLowerCase().includes(M.toLowerCase())))}),V=de.filter(G=>{var ue,ye,Ne,je;return(!y||((ue=G.bloodGroup)==null?void 0:ue.toLowerCase())===y.toLowerCase())&&(!b||((ye=G.organType)==null?void 0:ye.toLowerCase())===b.toLowerCase())&&(!S||G.status===S)&&(!F||G.hospitalId===F)&&(!M||((Ne=G.donorName)==null?void 0:Ne.toLowerCase().includes(M.toLowerCase()))||((je=G.recipientName)==null?void 0:je.toLowerCase().includes(M.toLowerCase())))}),U=(H==null?void 0:H.hospitalId)||null,z=U?l.filter(G=>G.hospitalId===U&&G.id!==H.id):[];return p.jsxs("div",{className:"min-h-screen p-4 lg:p-8 bg-gradient-to-br from-purple-100 via-pink-100 to-blue-100 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800 transition-all",children:[c&&p.jsx(one,{}),_&&p.jsx(lne,{match:_,hospitals:a,doctors:l,onClose:()=>C(null),onSave:G=>re(_.id,G)}),p.jsxs("div",{className:"max-w-7xl mx-auto",children:[p.jsx("header",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 mb-6 shadow-xl border border-white/20",children:p.jsxs("div",{className:"flex justify-between items-center flex-wrap gap-4",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"Doctor Dashboard"}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Real-time organ transplant management system"})]}),p.jsx("div",{className:"flex gap-3",children:p.jsx("button",{onClick:ie,disabled:c,className:"px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl hover:shadow-lg transition-all hover:scale-105 disabled:opacity-50",children:p.jsxs("span",{className:"flex items-center gap-2",children:[p.jsx("span",{children:""}),p.jsx("span",{children:c?"Matching...":"AI Match"})]})})})]})}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-6 mb-6",children:[{label:"Total Donors",value:t.length,icon:"",gradient:"from-blue-500 to-blue-600"},{label:"Recipients",value:r.length,icon:"",gradient:"from-purple-500 to-purple-600"},{label:"Active Matches",value:de.length,icon:"",gradient:"from-green-500 to-green-600"},{label:"Completed",value:de.filter(G=>G.trackingStatus==="Completed").length,icon:"",gradient:"from-emerald-500 to-emerald-600"},{label:"Hospitals",value:a.filter(G=>!G.status||G.status==="Active").length,icon:"",gradient:"from-orange-500 to-red-600"}].map((G,ue)=>p.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 shadow-lg border border-white/20 hover:scale-105 transition-transform",style:{animationDelay:`${ue*.1}s`},children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("div",{className:`w-14 h-14 bg-gradient-to-br ${G.gradient} rounded-xl flex items-center justify-center text-2xl shadow-lg`,children:G.icon}),p.jsx("div",{className:"text-right",children:p.jsx("p",{className:`text-3xl font-bold bg-gradient-to-r ${G.gradient} bg-clip-text text-transparent`,children:G.value})})]}),p.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:G.label})]},G.label))}),p.jsx("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 mb-6 shadow-lg border border-white/20",children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[p.jsx("input",{type:"text",placeholder:" Search by name...",value:M,onChange:G=>A(G.target.value),className:"px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-700 dark:bg-gray-800 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 outline-none transition-all"}),p.jsxs("select",{value:y,onChange:G=>v(G.target.value),className:"px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-700 dark:bg-gray-800 focus:border-indigo-500 outline-none transition-all",children:[p.jsx("option",{value:"",children:"All Blood Groups"}),["A+","A-","B+","B-","AB+","AB-","O+","O-"].map(G=>p.jsx("option",{value:G,children:G},G))]}),p.jsxs("select",{value:b,onChange:G=>w(G.target.value),className:"px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-700 dark:bg-gray-800 focus:border-indigo-500 outline-none transition-all",children:[p.jsx("option",{value:"",children:"All Organs"}),["Kidney","Heart","Liver","Lung","Eye","Pancreas"].map(G=>p.jsx("option",{value:G,children:G},G))]}),p.jsxs("select",{value:S,onChange:G=>T(G.target.value),className:"px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-700 dark:bg-gray-800 focus:border-indigo-500 outline-none transition-all",children:[p.jsx("option",{value:"",children:"All Statuses"}),p.jsx("option",{value:"Pending",children:"Pending"}),p.jsx("option",{value:"Approved",children:"Approved"}),p.jsx("option",{value:"Rejected",children:"Rejected"})]}),p.jsxs("select",{value:F,onChange:G=>j(G.target.value),className:"px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-700 dark:bg-gray-800 focus:border-indigo-500 outline-none transition-all",children:[p.jsx("option",{value:"",children:"All Hospitals"}),a.map(G=>p.jsx("option",{value:G.id,children:G.name},G.id))]}),p.jsx("button",{onClick:()=>{A(""),v(""),w(""),T(""),j("")},className:"px-4 py-3 bg-gray-200 dark:bg-gray-700 rounded-xl hover:bg-gray-300 dark:hover:bg-gray-600 transition-all font-medium",children:"Reset"})]})}),p.jsx("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-2 mb-6 inline-flex gap-2 shadow-lg border border-white/20",children:[{id:"overview",label:"Overview",icon:""},{id:"donors",label:"Donors",icon:""},{id:"recipients",label:"Recipients",icon:""},{id:"matches",label:"Matches",icon:""}].map(G=>p.jsx("button",{onClick:()=>N(G.id),className:`px-6 py-3 rounded-xl transition-all font-medium ${D===G.id?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:p.jsxs("span",{className:"flex items-center gap-2",children:[p.jsx("span",{children:G.icon}),p.jsx("span",{children:G.label})]})},G.id))}),p.jsxs("div",{className:"mt-6",children:[D==="overview"&&p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 shadow-lg border border-white/20",children:[p.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[p.jsx("span",{children:""}),p.jsx("span",{children:"Match Statistics"})]}),p.jsx("div",{className:"space-y-4",children:[{label:"Pending Approvals",value:de.filter(G=>G.status==="Pending").length,color:"bg-yellow-500"},{label:"Approved Matches",value:de.filter(G=>G.status==="Approved").length,color:"bg-green-500"},{label:"Scheduled Surgeries",value:de.filter(G=>G.trackingStatus==="Scheduled").length,color:"bg-blue-500"},{label:"In Progress",value:de.filter(G=>G.trackingStatus==="Surgery In Progress").length,color:"bg-orange-500"}].map(G=>p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:G.label}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-32 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:p.jsx("div",{className:`${G.color} h-full transition-all duration-1000`,style:{width:`${G.value/(de.length||1)*100}%`}})}),p.jsx("span",{className:"font-bold text-lg w-8 text-right",children:G.value})]})]},G.label))})]}),H&&p.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 shadow-lg border border-white/20",children:[p.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[p.jsx("span",{children:""}),p.jsx("span",{children:"Doctor Profile"})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-xl flex items-center justify-center text-white text-2xl font-bold",children:((Q=H.fullName)==null?void 0:Q.split(" ").map(G=>G[0]).join(""))||"DR"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-bold text-lg",children:H.fullName}),p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:H.specialization||"Specialist"}),U&&p.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:(ge=a.find(G=>G.id===U))==null?void 0:ge.name})]})]}),p.jsxs("div",{className:"space-y-2 pt-4 border-t border-gray-200 dark:border-gray-700",children:[p.jsxs("p",{className:"flex items-center gap-2 text-sm",children:[p.jsx("span",{children:""}),p.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:H.email})]}),p.jsxs("p",{className:"flex items-center gap-2 text-sm",children:[p.jsx("span",{children:""}),p.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:H.mobile||"Not provided"})]})]}),z.length>0&&p.jsxs("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700 mt-2",children:[p.jsxs("h4",{className:"text-sm font-semibold mb-2 flex items-center gap-2",children:[p.jsx("span",{children:""}),p.jsx("span",{children:"Team at Your Hospital"})]}),p.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto text-sm",children:z.slice(0,6).map(G=>p.jsxs("div",{className:"flex justify-between text-gray-600 dark:text-gray-300",children:[p.jsx("span",{children:G.fullName}),p.jsx("span",{className:"text-xs text-gray-500",children:G.specialization||"Doctor"})]},G.id))})]})]})]}),p.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 shadow-lg border border-white/20 lg:col-span-2",children:[p.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[p.jsx("span",{children:""}),p.jsx("span",{children:"Hospital Distribution"})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.slice(0,6).map(G=>{const ue=de.filter(Ne=>Ne.hospitalId===G.id).length,ye=l.filter(Ne=>Ne.hospitalId===G.id).length;return p.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl",children:[p.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-red-500 rounded-lg flex items-center justify-center text-white text-xl",children:""}),p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"font-medium",children:G.name}),p.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:G.city}),p.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Doctors:"," ",p.jsx("span",{className:"font-semibold",children:ye})]})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("p",{className:"text-lg font-bold text-orange-600 dark:text-orange-400",children:ue}),p.jsx("p",{className:"text-xs text-gray-500",children:"matches"})]})]},G.id)})})]}),p.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 shadow-lg border border-white/20 lg:col-span-2",children:[p.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[p.jsx("span",{children:""}),p.jsx("span",{children:"Recent Activity"})]}),p.jsxs("div",{className:"space-y-3",children:[de.slice(0,5).map((G,ue)=>p.jsxs("div",{className:"flex items-center gap-4 p-3 bg-gray-50 dark:bg-gray-800/50 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700/50 transition-all",children:[p.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-500 rounded-lg flex items-center justify-center text-white font-bold",children:ue+1}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("p",{className:"font-medium",children:[G.donorName,"  ",G.recipientName]}),p.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[G.organType," transplant - ",G.bloodGroup,G.hospital&&` - ${G.hospital}`]})]}),p.jsx(Ty,{status:G.status})]},G.id)),de.length===0&&p.jsx("p",{className:"text-gray-500 text-center py-4",children:"No recent activity"})]})]})]}),D==="donors"&&p.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 shadow-lg border border-white/20",children:[p.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[p.jsx("span",{children:""}),p.jsx("span",{children:"Available Donors"})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"border-b-2 border-gray-200 dark:border-gray-700",children:[p.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Name"}),p.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Blood Group"}),p.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Organ"}),p.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Age"}),p.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Hospital"})]})}),p.jsx("tbody",{children:Se.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:"5",className:"text-center py-8 text-gray-500",children:"No donors found"})}):Se.map(G=>{var ue,ye;return p.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-all",children:[p.jsx("td",{className:"py-4 px-4 font-medium",children:p.jsx(eg,{text:G.fullName||"",highlight:M})}),p.jsx("td",{className:"py-4 px-4",children:p.jsx("span",{className:"px-3 py-1 bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-400 rounded-full text-sm font-medium",children:G.bloodGroup})}),p.jsx("td",{className:"py-4 px-4",children:G.organType}),p.jsx("td",{className:"py-4 px-4",children:G.age||""}),p.jsx("td",{className:"py-4 px-4",children:p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium",children:((ue=a.find(Ne=>Ne.id===G.hospitalId))==null?void 0:ue.name)||""}),G.hospitalId&&p.jsx("p",{className:"text-xs text-gray-500",children:(ye=a.find(Ne=>Ne.id===G.hospitalId))==null?void 0:ye.city})]})})]},G.id)})})]})})]}),D==="recipients"&&p.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 shadow-lg border border-white/20",children:[p.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[p.jsx("span",{children:""}),p.jsx("span",{children:"Waiting Recipients"})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"border-b-2 border-gray-200 dark:border-gray-700",children:[p.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Name"}),p.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Blood Group"}),p.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Organ Needed"}),p.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Age"}),p.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Hospital"})]})}),p.jsx("tbody",{children:I.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:"5",className:"text-center py-8 text-gray-500",children:"No recipients found"})}):I.map(G=>{var ue,ye;return p.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-all",children:[p.jsx("td",{className:"py-4 px-4 font-medium",children:p.jsx(eg,{text:G.fullName||"",highlight:M})}),p.jsx("td",{className:"py-4 px-4",children:p.jsx("span",{className:"px-3 py-1 bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-400 rounded-full text-sm font-medium",children:G.bloodGroup})}),p.jsx("td",{className:"py-4 px-4",children:G.organType}),p.jsx("td",{className:"py-4 px-4",children:G.age||""}),p.jsx("td",{className:"py-4 px-4",children:p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium",children:((ue=a.find(Ne=>Ne.id===G.hospitalId))==null?void 0:ue.name)||""}),G.hospitalId&&p.jsx("p",{className:"text-xs text-gray-500",children:(ye=a.find(Ne=>Ne.id===G.hospitalId))==null?void 0:ye.city})]})})]},G.id)})})]})})]}),D==="matches"&&p.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-2xl p-6 shadow-lg border border-white/20",children:[p.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[p.jsx("span",{children:""}),p.jsx("span",{children:"Transplant Matches"})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"border-b-2 border-gray-200 dark:border-gray-700",children:[p.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Donor"}),p.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Recipient"}),p.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Organ"}),p.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Blood"}),p.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Score"}),p.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Status"}),p.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Tracking"}),p.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Hospital"}),p.jsx("th",{className:"text-left py-4 px-4 font-semibold",children:"Actions"})]})}),p.jsx("tbody",{children:V.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:"9",className:"text-center py-8 text-gray-500",children:de.length===0?'No matches yet. Click "AI Match" to generate matches.':"No matches found with current filters."})}):V.map(G=>{var ue;return p.jsxs("tr",{className:`border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-all ${d[G.id]?"bg-green-100 dark:bg-green-900/30":""}`,children:[p.jsx("td",{className:"py-4 px-4 font-medium",children:p.jsx(eg,{text:G.donorName,highlight:M})}),p.jsx("td",{className:"py-4 px-4 font-medium",children:p.jsx(eg,{text:G.recipientName,highlight:M})}),p.jsx("td",{className:"py-4 px-4",children:G.organType}),p.jsx("td",{className:"py-4 px-4",children:p.jsx("span",{className:"px-3 py-1 bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-400 rounded-full text-sm font-medium",children:G.bloodGroup})}),p.jsx("td",{className:"py-4 px-4",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-12 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:p.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-emerald-500 transition-all duration-1000",style:{width:`${G.score}%`}})}),p.jsx("span",{className:"font-semibold",children:G.score})]})}),p.jsx("td",{className:"py-4 px-4",children:p.jsx(Ty,{status:G.status})}),p.jsx("td",{className:"py-4 px-4",children:p.jsx(Ty,{status:G.trackingStatus})}),p.jsx("td",{className:"py-4 px-4",children:p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium",children:G.hospital||"Not Assigned"}),G.hospitalId&&p.jsx("p",{className:"text-xs text-gray-500",children:(ue=a.find(ye=>ye.id===G.hospitalId))==null?void 0:ue.city})]})}),p.jsx("td",{className:"py-4 px-4",children:p.jsxs("div",{className:"flex gap-2 flex-wrap",children:[G.status==="Pending"&&p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>J(G.id,"Approved"),className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-all text-sm",children:"Approve"}),p.jsx("button",{onClick:()=>J(G.id,"Rejected"),className:"px-3 py-1.5 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all text-sm",children:"Reject"})]}),p.jsx("button",{onClick:()=>C(G),className:"px-3 py-1.5 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-all text-sm",children:"Track"})]})})]},G.id)})})]})})]})]})]})]})}function cne({editData:t,onClose:e,onSave:r}){const[n,i]=ve.useState(t||{name:"",addressLine1:"",city:"",state:"",pincode:"",type:"Government",contactNumber:"",emergencyNumber:"",totalBeds:"",facilities:[],status:"Active"}),s=["ICU","NICU","Blood Bank","Dialysis","Ambulance Service","Operation Theater","Transplant Unit"],a=l=>{i(u=>({...u,facilities:u.facilities.includes(l)?u.facilities.filter(c=>c!==l):[...u.facilities,l]}))},o=l=>{l.preventDefault(),r(n),e()};return p.jsx("div",{className:"fixed inset-0 bg-black/60 flex justify-center items-center z-50",children:p.jsxs("div",{className:"bg-white dark:bg-gray-900 p-6 rounded-2xl w-full max-w-2xl shadow-xl",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h2",{className:"text-xl font-bold",children:t?"Edit Hospital":"Add Hospital"}),p.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-200 rounded-full",children:p.jsx(fb,{})})]}),p.jsxs("form",{onSubmit:o,className:"space-y-4",children:[p.jsx("input",{type:"text",required:!0,placeholder:"Hospital Name",value:n.name,onChange:l=>i({...n,name:l.target.value}),className:"w-full bg-gray-100 dark:bg-gray-800 p-3 rounded-lg"}),p.jsx("input",{type:"text",required:!0,placeholder:"Address",value:n.addressLine1,onChange:l=>i({...n,addressLine1:l.target.value}),className:"w-full bg-gray-100 dark:bg-gray-800 p-3 rounded-lg"}),p.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[p.jsx("input",{required:!0,placeholder:"City",value:n.city,onChange:l=>i({...n,city:l.target.value}),className:"bg-gray-100 dark:bg-gray-800 p-3 rounded-lg"}),p.jsx("input",{required:!0,placeholder:"State",value:n.state,onChange:l=>i({...n,state:l.target.value}),className:"bg-gray-100 dark:bg-gray-800 p-3 rounded-lg"}),p.jsx("input",{required:!0,placeholder:"Pincode",value:n.pincode,onChange:l=>i({...n,pincode:l.target.value}),className:"bg-gray-100 dark:bg-gray-800 p-3 rounded-lg"})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[p.jsx("input",{required:!0,placeholder:"Phone",value:n.contactNumber,onChange:l=>i({...n,contactNumber:l.target.value}),className:"bg-gray-100 dark:bg-gray-800 p-3 rounded-lg"}),p.jsx("input",{required:!0,placeholder:"Emergency Number",value:n.emergencyNumber,onChange:l=>i({...n,emergencyNumber:l.target.value}),className:"bg-gray-100 dark:bg-gray-800 p-3 rounded-lg"})]}),p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold mb-2",children:"Facilities (Organs)"}),p.jsx("div",{className:"grid grid-cols-2 gap-2",children:s.map(l=>p.jsxs("label",{className:"flex items-center gap-2 bg-gray-100 dark:bg-gray-800 p-2 rounded-lg cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:n.facilities.includes(l),onChange:()=>a(l)}),l]},l))})]}),p.jsx("input",{type:"number",placeholder:"Total Beds",value:n.totalBeds,onChange:l=>i({...n,totalBeds:l.target.value}),className:"w-full bg-gray-100 dark:bg-gray-800 p-3 rounded-lg"}),p.jsxs("select",{value:n.status,onChange:l=>i({...n,status:l.target.value}),className:"w-full bg-gray-100 dark:bg-gray-800 p-3 rounded-lg",children:[p.jsx("option",{children:"Active"}),p.jsx("option",{children:"Inactive"})]}),p.jsx("button",{className:"w-full bg-green-600 hover:bg-green-700 text-white p-3 rounded-lg font-semibold mt-4",children:t?"Update Hospital":"Add Hospital"})]})]})})}function hne(){const[t,e]=ve.useState([]),[r,n]=ve.useState(!1),[i,s]=ve.useState(null),[a,o]=ve.useState(""),[l,u]=ve.useState("");ve.useEffect(()=>{const y=ss(xr,"hospitals"),v=Bc(y,b=>{const w=b.docs.map(S=>({id:S.id,...S.data()}));e(w)});return()=>v()},[]);const c=()=>{s(null),n(!0)},h=async y=>{i?(await hf(jn(xr,"hospitals",i.id),y),u("Hospital updated successfully ")):(await k_(ss(xr,"hospitals"),y),u("Hospital added successfully ")),setTimeout(()=>u(""),3500)},d=async y=>{window.confirm("Delete hospital?")&&await N_(jn(xr,"hospitals",y))},f=t.filter(y=>{var v;return y.name.toLowerCase().includes(a.toLowerCase())||((v=y.city)==null?void 0:v.toLowerCase().includes(a.toLowerCase()))});return p.jsxs("div",{className:"min-h-screen px-6 py-10 text-white bg-gray-900",children:[p.jsx("h1",{className:"text-4xl font-bold mb-3",children:"Hospital Management"}),p.jsx("p",{className:"text-gray-400 mb-6",children:"Add and manage all partner hospitals with detailed information."}),l&&p.jsxs("div",{className:"bg-green-700 p-3 mb-4 rounded-lg flex items-center gap-2",children:[p.jsx(TG,{})," ",l]}),p.jsx("div",{className:"bg-gray-800 p-6 rounded-xl mb-6",children:p.jsx("button",{onClick:c,className:"bg-teal-600 px-6 py-3 rounded-lg font-semibold hover:bg-teal-700",children:"Add Hospital"})}),p.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[p.jsx(qI,{}),p.jsx("input",{placeholder:"Search by name or city...",value:a,onChange:y=>o(y.target.value),className:"bg-gray-800 p-3 rounded-lg flex-1"})]}),p.jsx("div",{className:"bg-gray-800 rounded-xl overflow-hidden",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-gray-700",children:p.jsxs("tr",{children:[p.jsx("th",{className:"p-3",children:"Name"}),p.jsx("th",{className:"p-3",children:"City"}),p.jsx("th",{className:"p-3",children:"Type"}),p.jsx("th",{className:"p-3",children:"Organs"}),p.jsx("th",{className:"p-3",children:"Beds"}),p.jsx("th",{className:"p-3",children:"Actions"})]})}),p.jsxs("tbody",{children:[f.map(y=>{var v;return p.jsxs("tr",{className:"border-t border-gray-700",children:[p.jsx("td",{className:"p-3",children:y.name}),p.jsx("td",{className:"p-3",children:y.city}),p.jsx("td",{className:"p-3",children:y.type}),p.jsx("td",{className:"p-3",children:((v=y.facilities)==null?void 0:v.length)>0?y.facilities.slice(0,3).join(", ")+(y.facilities.length>3?` +${y.facilities.length-3} more`:""):"-"}),p.jsx("td",{className:"p-3",children:y.totalBeds||"-"}),p.jsxs("td",{className:"p-3 flex gap-2",children:[p.jsx("button",{onClick:()=>{s(y),n(!0)},className:"bg-blue-600 px-3 py-2 rounded-lg hover:bg-blue-700",children:p.jsx(cb,{size:16})}),p.jsx("button",{onClick:()=>d(y.id),className:"bg-red-600 px-3 py-2 rounded-lg hover:bg-red-700",children:p.jsx(hb,{size:16})})]})]},y.id)}),f.length===0&&p.jsx("tr",{children:p.jsx("td",{colSpan:6,className:"text-center p-6 text-gray-400",children:"No hospitals found"})})]})]})}),r&&p.jsx(cne,{editData:i,onSave:h,onClose:()=>n(!1)})]})}function mA(){return p.jsx("div",{className:"flex justify-center py-6",children:p.jsx("div",{className:"w-10 h-10 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})})}function Ey({icon:t,label:e,value:r}){return p.jsxs("div",{className:"bg-gradient-to-br from-blue-600/80 via-indigo-600/80 to-purple-600/80 rounded-2xl p-5 shadow-lg flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-white/80 mb-1",children:e}),p.jsx("p",{className:"text-3xl font-bold text-white",children:r})]}),p.jsx("div",{className:"bg-white/20 rounded-xl p-4",children:p.jsx(t,{className:"w-8 h-8 text-white"})})]})}function gA({children:t}){return p.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 mr-2 mb-2",children:t})}function fne({open:t,onClose:e,onSave:r,initial:n}){const[i,s]=ve.useState(n||{fullName:"",speciality:"",email:"",phone:"",experienceYears:"",onCall:!0});if(ve.useEffect(()=>{s(n?{fullName:n.fullName||"",speciality:n.speciality||"",email:n.email||"",phone:n.phone||"",experienceYears:n.experienceYears||"",onCall:n.onCall??!0}:{fullName:"",speciality:"",email:"",phone:"",experienceYears:"",onCall:!0})},[n,t]),!t)return null;const a=(l,u)=>s(c=>({...c,[l]:u})),o=l=>{l.preventDefault(),r(i)};return p.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:p.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-3xl shadow-2xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[p.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[p.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[p.jsx($I,{className:"w-5 h-5 text-purple-500"}),n?"Edit Doctor":"Add Doctor"]}),p.jsx("button",{onClick:e,className:"w-9 h-9 rounded-full flex items-center justify-center hover:bg-gray-100 dark:hover:bg-gray-800",children:p.jsx(fb,{className:"w-5 h-5"})})]}),p.jsxs("form",{onSubmit:o,className:"px-6 py-4 space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm mb-1",children:"Full Name *"}),p.jsx("input",{type:"text",required:!0,value:i.fullName,onChange:l=>a("fullName",l.target.value),className:"w-full px-4 py-2.5 rounded-xl border border-gray-300 dark:border-gray-700 dark:bg-gray-800 outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Dr. Hathi"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm mb-1",children:"Speciality *"}),p.jsx("input",{type:"text",required:!0,value:i.speciality,onChange:l=>a("speciality",l.target.value),className:"w-full px-4 py-2.5 rounded-xl border border-gray-300 dark:border-gray-700 dark:bg-gray-800 outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Nephrologist"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm mb-1",children:"Email"}),p.jsx("input",{type:"email",value:i.email,onChange:l=>a("email",l.target.value),className:"w-full px-4 py-2.5 rounded-xl border border-gray-300 dark:border-gray-700 dark:bg-gray-800 outline-none focus:ring-2 focus:ring-purple-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm mb-1",children:"Phone"}),p.jsx("input",{type:"tel",value:i.phone,onChange:l=>a("phone",l.target.value),className:"w-full px-4 py-2.5 rounded-xl border border-gray-300 dark:border-gray-700 dark:bg-gray-800 outline-none focus:ring-2 focus:ring-purple-500"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm mb-1",children:"Experience (years)"}),p.jsx("input",{type:"number",min:"0",value:i.experienceYears,onChange:l=>a("experienceYears",l.target.value),className:"w-full px-4 py-2.5 rounded-xl border border-gray-300 dark:border-gray-700 dark:bg-gray-800 outline-none focus:ring-2 focus:ring-purple-500"})]}),p.jsxs("div",{className:"flex items-center gap-3 mt-6",children:[p.jsx("input",{id:"onCall",type:"checkbox",checked:i.onCall,onChange:l=>a("onCall",l.target.checked),className:"w-4 h-4 rounded text-purple-600"}),p.jsx("label",{htmlFor:"onCall",className:"text-sm",children:"Available for emergency / on-call"})]})]}),p.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700 mt-2",children:[p.jsx("button",{type:"button",onClick:e,className:"px-5 py-2.5 rounded-xl bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-sm font-medium",children:"Cancel"}),p.jsx("button",{type:"submit",className:"px-6 py-2.5 rounded-xl bg-gradient-to-r from-purple-600 to-blue-600 text-white text-sm font-semibold shadow-lg hover:shadow-xl",children:n?"Save Changes":"Add Doctor"})]})]})]})})}function dne(){const{hospitalId:t}=B7(),e=qc(),[r,n]=ve.useState(null),[i,s]=ve.useState(!0),[a,o]=ve.useState([]),[l,u]=ve.useState(!0),[c,h]=ve.useState(!1),[d,f]=ve.useState(null),[y,v]=ve.useState("");ve.useEffect(()=>{async function A(){try{const _=jn(xr,"hospitals",t),C=await Su(_);C.exists()?n({id:C.id,...C.data()}):v("Hospital not found.")}catch(_){console.error(_),v("Failed to load hospital.")}finally{s(!1)}}A()},[t]),ve.useEffect(()=>{if(!t)return;const A=ss(xr,"hospitals",t,"doctors"),_=Bc(A,C=>{const D=C.docs.map(N=>({id:N.id,...N.data()}));o(D),u(!1)},C=>{console.error(C),u(!1)});return()=>_()},[t]);const b=()=>{f(null),h(!0)},w=A=>{f(A),h(!0)},S=async A=>{try{if(u(!0),d){const _=jn(xr,"hospitals",t,"doctors",d.id);await hf(_,{...A,updatedAt:i0()})}else{const _=ss(xr,"hospitals",t,"doctors");await k_(_,{...A,createdAt:i0(),updatedAt:i0()})}h(!1),f(null)}catch(_){console.error(_),alert("Failed to save doctor: "+_.message)}finally{u(!1)}},T=async A=>{if(window.confirm("Delete this doctor from hospital?"))try{u(!0);const _=jn(xr,"hospitals",t,"doctors",A);await N_(_)}catch(_){console.error(_),alert("Failed to delete doctor: "+_.message)}finally{u(!1)}},F=(r==null?void 0:r.departments)||[],j=(r==null?void 0:r.facilities)||[],M=(r==null?void 0:r.totalBeds)||(r==null?void 0:r.beds)||"-";return i?p.jsx("div",{className:"min-h-screen bg-gray-950 text-white flex items-center justify-center",children:p.jsx(mA,{})}):y||!r?p.jsx("div",{className:"min-h-screen bg-gray-950 text-gray-100 flex items-center justify-center",children:p.jsxs("div",{className:"max-w-md text-center",children:[p.jsx("p",{className:"text-red-400 mb-2",children:y||"Hospital not found."}),p.jsxs("button",{onClick:()=>e("/hospitals"),className:"mt-2 inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white",children:[p.jsx(s3,{className:"w-4 h-4"}),"Back to Hospitals"]})]})}):p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-950 via-gray-900 to-slate-900 text-gray-100",children:[p.jsx(fne,{open:c,onClose:()=>{h(!1),f(null)},onSave:S,initial:d}),p.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6 md:py-10",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsxs("button",{onClick:()=>e("/hospitals"),className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-gray-800 hover:bg-gray-700 text-sm",children:[p.jsx(s3,{className:"w-4 h-4"}),"Back to Hospitals"]}),p.jsx(ka,{to:"/doctor",className:"hidden md:inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-purple-600 hover:bg-purple-700 text-sm",children:"Go to Doctor Dashboard"})]}),p.jsx("div",{className:"bg-gradient-to-r from-blue-600/80 via-indigo-600/80 to-purple-600/80 rounded-3xl p-6 md:p-8 shadow-2xl mb-8",children:p.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[p.jsxs("div",{className:"flex items-start gap-4",children:[p.jsx("div",{className:"w-14 h-14 rounded-2xl bg-white/15 flex items-center justify-center",children:p.jsx(Ag,{className:"w-8 h-8 text-white"})}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white mb-1",children:r.name}),p.jsxs("p",{className:"flex items-center text-blue-50 text-sm md:text-base",children:[p.jsx(WI,{className:"w-4 h-4 mr-1 opacity-80"}),r.city,", ",r.state," ",r.pincode?`- ${r.pincode}`:""]}),p.jsx("p",{className:"mt-2 inline-flex px-3 py-1 rounded-full bg-white/15 text-xs font-semibold uppercase tracking-wide",children:r.type||"Multi-Specialty"})]})]}),p.jsxs("div",{className:"space-y-1 text-sm text-blue-50",children:[r.phone&&p.jsxs("p",{className:"flex items-center",children:[p.jsx(UG,{className:"w-4 h-4 mr-2"}),r.phone]}),r.emergencyNumber&&p.jsxs("p",{className:"flex items-center",children:[p.jsx(sp,{className:"w-4 h-4 mr-2"}),"Emergency: ",r.emergencyNumber]}),r.email&&p.jsxs("p",{className:"flex items-center",children:[p.jsx(jG,{className:"w-4 h-4 mr-2"}),r.email]}),r.website&&p.jsxs("a",{href:r.website.startsWith("http")?r.website:`https://${r.website}`,target:"_blank",rel:"noreferrer",className:"flex items-center hover:underline",children:[p.jsx(FG,{className:"w-4 h-4 mr-2"}),r.website]})]})]})}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5 mb-8",children:[p.jsx(Ey,{icon:GI,label:"Doctors",value:a.length}),p.jsx(Ey,{icon:sp,label:"Total Beds",value:M}),p.jsx(Ey,{icon:Ag,label:"Departments",value:F.length})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[p.jsxs("div",{className:"bg-gray-900/70 border border-gray-800 rounded-2xl p-5 shadow-lg",children:[p.jsxs("h2",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:[p.jsx(Ag,{className:"w-5 h-5 text-blue-400"}),"Overview"]}),p.jsx("p",{className:"text-sm text-gray-300 mb-3",children:r.addressLine1||r.address}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-300",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-gray-400 text-xs uppercase mb-1",children:"Established"}),p.jsx("p",{children:r.established||""})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-gray-400 text-xs uppercase mb-1",children:"Accreditation"}),p.jsx("p",{children:r.accreditation||""})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-gray-400 text-xs uppercase mb-1",children:"Status"}),p.jsx("p",{children:p.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${r.status==="Inactive"?"bg-red-500/15 text-red-300":"bg-emerald-500/15 text-emerald-300"}`,children:r.status||"Active"})})]})]})]}),p.jsxs("div",{className:"bg-gray-900/70 border border-gray-800 rounded-2xl p-5 shadow-lg",children:[p.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Departments"}),F.length===0?p.jsx("p",{className:"text-sm text-gray-400",children:"No departments listed for this hospital."}):p.jsx("div",{className:"flex flex-wrap",children:F.map(A=>p.jsx(gA,{children:A},A))})]}),p.jsxs("div",{className:"bg-gray-900/70 border border-gray-800 rounded-2xl p-5 shadow-lg",children:[p.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Facilities"}),j.length===0?p.jsx("p",{className:"text-sm text-gray-400",children:"No facilities listed for this hospital."}):p.jsx("div",{className:"flex flex-wrap",children:j.map(A=>p.jsx(gA,{children:A},A))})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"bg-gray-900/70 border border-gray-800 rounded-2xl p-5 shadow-lg",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("div",{children:[p.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[p.jsx($I,{className:"w-5 h-5 text-purple-400"}),"Doctors"]}),p.jsx("p",{className:"text-xs text-gray-400",children:"Doctors associated with this hospital."})]}),p.jsxs("button",{onClick:b,className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-lg bg-purple-600 hover:bg-purple-700 text-xs font-medium",children:[p.jsx(HG,{className:"w-4 h-4"}),"Add Doctor"]})]}),l?p.jsx(mA,{}):a.length===0?p.jsxs("p",{className:"text-sm text-gray-400",children:["No doctors added yet. Click"," ",p.jsx("span",{className:"font-semibold",children:"Add Doctor"})," to create one."]}):p.jsx("div",{className:"space-y-3 max-h-[420px] overflow-y-auto pr-1",children:a.map(A=>{var _,C;return p.jsxs("div",{className:"bg-gray-800/80 rounded-xl p-3 flex items-start justify-between gap-3",children:[p.jsxs("div",{className:"flex gap-3",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-sm font-semibold",children:((C=(_=A.fullName)==null?void 0:_[0])==null?void 0:C.toUpperCase())||"D"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold text-sm",children:A.fullName}),p.jsx("p",{className:"text-xs text-purple-300",children:A.speciality}),p.jsxs("div",{className:"mt-1 text-xs text-gray-300 space-y-0.5",children:[A.phone&&p.jsxs("p",{children:[" ",A.phone]}),A.email&&p.jsxs("p",{children:[" ",A.email]}),A.experienceYears&&p.jsxs("p",{children:[" ",A.experienceYears," years experience"]}),p.jsxs("p",{children:["Status:"," ",p.jsx("span",{className:`px-2 py-0.5 rounded-full text-[11px] font-semibold ${A.onCall?"bg-emerald-500/15 text-emerald-300":"bg-gray-500/15 text-gray-300"}`,children:A.onCall?"On-call":"Regular"})]})]})]})]}),p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsx("button",{onClick:()=>w(A),className:"p-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white",title:"Edit doctor",children:p.jsx(cb,{className:"w-4 h-4"})}),p.jsx("button",{onClick:()=>T(A.id),className:"p-2 rounded-lg bg-red-600 hover:bg-red-700 text-white",title:"Remove doctor",children:p.jsx(hb,{className:"w-4 h-4"})})]})]},A.id)})})]}),p.jsx("div",{className:"bg-gray-900/70 border border-gray-800 rounded-2xl p-4 text-xs text-gray-400",children:p.jsxs("p",{children:["Tip: You can link these doctors logically with your"," ",p.jsx("span",{className:"font-semibold text-purple-300",children:"Doctor Dashboard"})," ","by storing the ",p.jsx("code",{children:"hospitalId"})," inside your main"," ",p.jsx("code",{children:"users"})," collection as well, and using it for filtering."]})})]})]})]})]})}function pne(){const[t,e]=ve.useState(!1),{darkMode:r,toggleDarkMode:n}=ve.useContext(Lp);return ve.useEffect(()=>{B$.init({duration:800,easing:"ease-in-out",once:!0})},[]),p.jsx(nz,{children:p.jsx(lO,{children:p.jsx(mne,{menuOpen:t,setMenuOpen:e,darkMode:r,toggleDarkMode:n})})})}function mne({menuOpen:t,setMenuOpen:e,toggleDarkMode:r,darkMode:n}){const{user:i,role:s}=Nv(),a=qc(),o=po();return ve.useEffect(()=>{if(!(!i||!s)&&!(o.pathname!=="/"&&o.pathname!=="/auth"))switch(s){case"admin":a("/admin",{replace:!0});break;case"doctor":a("/doctor",{replace:!0});break;case"donor":a("/donor",{replace:!0});break;case"recipient":a("/recipient",{replace:!0});break;default:a("/",{replace:!0})}},[i,s,o.pathname,a]),p.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 transition-all",children:[p.jsx(gne,{menuOpen:t,setMenuOpen:e,toggleDarkMode:r,darkMode:n}),p.jsx(vne,{}),p.jsx(j$,{})]})}function gne({menuOpen:t,setMenuOpen:e,toggleDarkMode:r,darkMode:n}){const i=po(),{user:s,logout:a}=Nv(),o=qc(),l=i.pathname.startsWith("/auth")||!!s,u={hidden:{x:-20,opacity:0},visible:h=>({x:0,opacity:1,transition:{delay:h*.05}})},c=async()=>{await a(),e(!1),o("/")};return p.jsxs("header",{className:"bg-white dark:bg-gray-800 shadow",children:[p.jsxs("div",{className:"max-w-6xl mx-auto flex items-center justify-between p-4",children:[p.jsx(ka,{to:"/",children:p.jsx("img",{src:zI,alt:"Logo",className:"h-16"})}),p.jsx("nav",{className:"hidden md:flex space-x-6",children:[{name:"Home",path:"/"},{name:"Why Donate",path:"/why-donate"},{name:"How It Works",path:"/how-it-works"},{name:"Eligibility",path:"/eligibility"},{name:"Hospitals",path:"/hospitals"}].map(h=>p.jsx(ka,{to:h.path,className:"hover:text-green-600 dark:hover:text-green-400 font-medium",children:h.name},h.path))}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("button",{onClick:r,className:"p-2 rounded-full bg-gray-200 dark:bg-gray-700",children:n?"":""}),!l&&p.jsx(ka,{to:"/auth",className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Login"}),s&&p.jsx("button",{onClick:c,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Logout"})]}),p.jsx("div",{className:"md:hidden",children:p.jsx("button",{onClick:()=>e(!t),className:"text-gray-700 dark:text-gray-100",children:t?"":""})})]}),p.jsx(JP,{children:t&&p.jsxs(b1.div,{className:"md:hidden bg-white dark:bg-gray-800 p-4 space-y-2",initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},children:[[{name:"Home",path:"/"},{name:"Why Donate",path:"/why-donate"},{name:"How It Works",path:"/how-it-works"},{name:"Eligibility",path:"/eligibility"},{name:"Hospitals",path:"/hospitals"}].map((h,d)=>p.jsx(b1.div,{custom:d,initial:"hidden",animate:"visible",exit:"hidden",variants:u,children:p.jsx(ka,{to:h.path,onClick:()=>e(!1),className:"block font-medium hover:text-green-600",children:h.name})},h.path)),!l&&p.jsx(ka,{to:"/auth",onClick:()=>e(!1),className:"block bg-green-600 text-white px-4 py-2 rounded-lg",children:"Login"}),s&&p.jsx("button",{onClick:c,className:"w-full bg-red-600 text-white px-4 py-2 rounded-lg",children:"Logout"})]})})]})}function vne(){const t=po();return p.jsx(JP,{mode:"wait",initial:!1,children:p.jsxs(tO,{location:t,children:[p.jsx(As,{path:"/",element:p.jsx(kh,{children:p.jsx(fG,{})})}),p.jsx(As,{path:"/auth",element:p.jsx(kh,{children:p.jsx(tK,{showLogo:!1})})}),p.jsx(As,{path:"/why-donate",element:p.jsx(kh,{children:p.jsx(rK,{})})}),p.jsx(As,{path:"/how-it-works",element:p.jsx(kh,{children:p.jsx(nK,{})})}),p.jsx(As,{path:"/eligibility",element:p.jsx(kh,{children:p.jsx(iK,{})})}),p.jsx(As,{path:"/admin",element:p.jsx(bh,{allowedRoles:["admin"],children:p.jsx(fY,{})})}),p.jsx(As,{path:"/doctor",element:p.jsx(bh,{allowedRoles:["doctor"],children:p.jsx(une,{})})}),p.jsx(As,{path:"/donor",element:p.jsx(bh,{allowedRoles:["donor"],children:p.jsx(nne,{})})}),p.jsx(As,{path:"/recipient",element:p.jsx(bh,{allowedRoles:["recipient"],children:p.jsx(ane,{})})}),p.jsx(As,{path:"/hospitals",element:p.jsx(bh,{allowedRoles:["admin","doctor"],children:p.jsx(hne,{})})}),p.jsx(As,{path:"/hospitals/:hospitalId",element:p.jsx(bh,{allowedRoles:["admin","doctor"],children:p.jsx(kh,{children:p.jsx(dne,{})})})}),p.jsx(As,{path:"*",element:p.jsx(Vk,{to:"/",replace:!0})})]},t.pathname)})}function kh({children:t}){return p.jsx(b1.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.35},children:t})}Ay.createRoot(document.getElementById("root")).render(p.jsx(iz,{children:p.jsx(pne,{})}));export{wr as _,Hd as c,vA as g};
